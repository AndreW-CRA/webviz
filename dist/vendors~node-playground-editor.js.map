{"version":3,"sources":["/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/codicons.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/referencesModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/peekView.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/browser/widget/embeddedCodeEditorWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/idGenerator.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/labels.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenViewer.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDefaults.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDnd.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeViewModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeImpl.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOpenEditorWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/history.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/edcore.main.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.css?b38c","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codiconLabel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineTree.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/node_modules/prop-types/index.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/lib/utils.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesTree.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesController.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-vim/lib/index.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-vim/lib/cm/keymap_vim.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-vim/lib/cm_adapter.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/editor.main.js?5f63","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/editor.main.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/language/css/monaco.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/language/json/monaco.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/language/html/monaco.contribution.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.css?04b3","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.css?a68a","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.css?8a87","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.css?9282","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.css?17aa","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.css?09ce","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.css?44e9","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.css?2868","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.css?dc03","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.css?e84b","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/media/peekViewWidget.css?d84f","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/media/peekViewWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.css?bfba","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.css?3fbf","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconlabel.css?791a","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconlabel.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.css?1a04","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.css?e4f1","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.css?de46","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/media/gotoErrorWidget.css?82bc","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/media/gotoErrorWidget.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.css?8be1","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPicker.css?577c","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPicker.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/links/links.css?aa3f","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/links/links.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.css?c5f5","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.css?0df9","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.css?4099","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggest.css?e830","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggest.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggestStatusBar.css?89d0","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggestStatusBar.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon.css?eb39","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon.ttf","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon-animations.css?739a","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon-animations.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/outlineTree.css?5c87","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/outlineTree.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/symbol-icons.css?2214","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/symbol-icons.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.css?16af","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css?842c","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.css?2c89","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.css?f13b","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.css?4c3a","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.css?e971","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickopen.css?421e","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickopen.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.css?708e","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.css","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.css?a60b","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand.js","webpack:///./packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.css?069c","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.css","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-vim/lib/statusbar.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/lib/index.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/lib/editor.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/node_modules/prop-types/factoryWithThrowingShims.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/node_modules/prop-types/lib/ReactPropTypesSecret.js","/home/circleci/project/packages/webviz-core/node_modules/react-monaco-editor/lib/diff.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/moveCaretCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/transpose.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/lazy.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/types.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeAction.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionMenu.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionCommands.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionContributions.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelens.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codeLensCache.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensController.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/color.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorDetector.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/comment/blockCommentCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/comment/lineCommentCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/comment/comment.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/contextmenu.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dragAndDropCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findDecorations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/replaceAllCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/search.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/replacePattern.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findOptionsWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findState.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/platform/browser/contextScopedHistoryWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findController.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingRanges.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingDecorations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/hiddenRangeModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/indentRangeProvider.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/syntaxRangeProvider.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/intializingRangeProvider.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/fontZoom/fontZoom.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/format/formattingEdit.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/format/format.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/format/formatActions.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToSymbol.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/symbolNavigation.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToCommands.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/htmlContent.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/clickLinkGesture.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/platform/severityIcon/common/severityIcon.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoErrorWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoError.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/getHover.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverOperation.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/marked/marked.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverWidgets.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/common/insane/insane.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/markdown/markdownRenderer.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesContentHover.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesGlyphHover.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplace.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/common/commands/trimTrailingWhitespaceCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/copyLinesCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/indentation/indentUtils.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/moveLinesCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/sortLinesCommand.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/linesOperations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/links/getLinks.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/links/links.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/multicursor.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/provideSignatureHelp.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHintsModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHintsWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/wordSelections.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/bracketSelections.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/smartSelect.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggest.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetParser.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/platform/workspaces/common/workspaces.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetVariables.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetController2.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestMemory.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestAlternatives.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/platform/files/common/files.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/completionModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/wordDistance.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestWidget.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/wordContextKey.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestCommitCharacters.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestRangeHighlighter.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestController.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/tokenization.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/wordPartOperations.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/_.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/abap/abap.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/apex/apex.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/azcli/azcli.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/bat/bat.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/cameligo/cameligo.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/clojure/clojure.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/coffee/coffee.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/cpp/cpp.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/csharp/csharp.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/csp/csp.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/css/css.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/dockerfile/dockerfile.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/fsharp/fsharp.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/go/go.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/graphql/graphql.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/handlebars/handlebars.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/html/html.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/ini/ini.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/java/java.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/javascript/javascript.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/kotlin/kotlin.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/less/less.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/lua/lua.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/markdown/markdown.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/mips/mips.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/msdax/msdax.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/mysql/mysql.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/objective-c/objective-c.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/pascal/pascal.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/pascaligo/pascaligo.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/perl/perl.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/pgsql/pgsql.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/php/php.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/postiats/postiats.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/powerquery/powerquery.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/powershell/powershell.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/pug/pug.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/python/python.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/r/r.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/razor/razor.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/redis/redis.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/redshift/redshift.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/restructuredtext/restructuredtext.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/ruby/ruby.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/rust/rust.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/sb/sb.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/scheme/scheme.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/scss/scss.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/shell/shell.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/solidity/solidity.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/sophia/sophia.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/sql/sql.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/st/st.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/swift/swift.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/tcl/tcl.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/twig/twig.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/typescript/typescript.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/vb/vb.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/xml/xml.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/basic-languages/yaml/yaml.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/quickOpen/quickOpen.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/language/typescript/monaco.contribution.js","/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/language/typescript/lib/typescriptServicesMetadata.js"],"names":["escapeCodiconsRegex","escapeCodicons","text","replace","match","escaped","markdownEscapedCodiconsRegex","markdownEscapeEscapedCodicons","renderCodiconsRegex","renderCodicons","_","codicon","name","animation","OneReference","isProviderFirst","parent","_range","_rangeCallback","this","id","nextId","Object","defineProperty","prototype","get","uri","enumerable","configurable","set","value","range","startLineNumber","startColumn","FilePreview","_modelReference","dispose","preview","n","model","object","textEditorModel","endLineNumber","endColumn","word","getWordUntilPosition","lineNumber","column","beforeRange","afterRange","before","getValueInRange","inside","highlight","start","length","end","FileReferences","children","_preview","undefined","_loadFailure","len","fsPath","resolve","textModelResolverService","_this","_resolved","Promise","createModelReference","then","modelReference","Error","err","ReferencesModel","links","title","_disposables","groups","references","_onDidChangeReferenceRange","onDidChangeReferenceRange","event","_links","_title","current","providersFirst","sort","_compareReferences","_i","links_1","link","toString","push","equalsRange","oneRef","targetSelectionRange","ref","fire","clone","isEmpty","nextOrPreviousReference","reference","next","idx","indexOf","childCount","groupCount","nearestReference","resource","position","nearest","map","prefixLen","offsetDist","Math","abs","a","b","referenceAt","_a","containsPosition","firstReference","compareRangesUsingStarts","extendStatics","PeekContext","defaultColor","defaultOptions","showArrow","showFrame","className","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","getPosition","Arrow","_editor","_ruleName","_IdGenerator","_decorations","_color","_height","hide","dom","_updateStyle","show","where","deltaDecorations","fromPositions","options","stickiness","ZoneWidget","editor","_arrow","_overlayWidget","_resizeSash","_positionMarkerId","_viewZone","container","_isShowing","objects","document","createElement","isAccessible","setAttribute","add","onDidLayoutChange","info","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","accessor","removeZone","create","appendChild","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","color","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","getModel","getDecorationRange","getStartPosition","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","getOption","result","round","viewZoneDomNode","overflow","maxHeightInLines","arrowHeight","frameThickness","addZone","addOverlayWidget","width_1","frameWidth","borderTopWidth","borderBottomWidth","setSelection","revealLine","getLineCount","isLastLine","revealLineInCenter","setCssClass","classToReplace","classList","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","data","orientation","isResizeable","state","onDidStart","e","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth","__extends","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","__param","paramIndex","decorator","IPeekViewService","class_1","_widgets","Map","addExclusiveWidget","widget","existing","listener","onDidClose","delete","inPeekEditor","notInPeekEditor","toNegated","PeekContextController","contextKeyService","bindTo","ID","getOuterEditor","getFocusedCodeEditor","getParentEditor","headerBackgroundColor","white","primaryHeadingColor","fromHex","secondaryHeadingColor","_super","PeekViewWidget","call","_onDidClose","_headElement","backgroundColor","_primaryHeading","_secondaryHeading","_bodyElement","borderColor","_fillHead","_fillBody","titleElement","_onTitleClick","_fillTitleIcon","_metaHeading","actionsContainer","actionBarOptions","_getActionBarOptions","_actionbarWidget","nls","label","icon","setTitle","primaryHeading","secondaryHeading","innerHTML","strings","setMetaTitle","headHeight","bodyHeight","_doLayoutHead","_doLayoutBody","peekViewTitleBackground","dark","light","hc","peekViewTitleForeground","peekViewTitleInfoForeground","peekViewBorder","peekViewResultsBackground","black","peekViewResultsMatchForeground","peekViewResultsFileForeground","peekViewResultsSelectionBackground","peekViewResultsSelectionForeground","peekViewEditorBackground","peekViewEditorGutterBackground","peekViewResultsMatchHighlight","peekViewEditorMatchHighlight","peekViewEditorMatchHighlightBorder","renderText","element","textContent","renderFormattedText","formattedText","_renderFormattedText","treeNode","actionHandler","child","type","createTextNode","content","href","disposeables","callback","String","index","isArray","forEach","nodeChild","root","actionViewItemIndex","stack","stream","StringStream","eos","isEscapedFormatType","formatTagType","peek","pop","textCurrent","advance","newCurrent","parseFormattedText","tagName","inline","source","char","EmbeddedCodeEditorWidget","domElement","parentEditor","instantiationService","codeEditorService","commandService","themeService","notificationService","accessibilityService","getRawOptions","_parentEditor","_overwriteOptions","updateOptions","_register","onDidChangeConfiguration","_onParentConfigurationChanged","newOptions","IdGenerator","prefix","_prefix","_lastId","defaultGenerator","FastLabelNode","_element","disposed","_textContent","_className","removeAttribute","empty","_empty","marginLeft","IconLabel","labelContainer","nameContainer","descriptionContainer","supportHighlights","nameNode","LabelWithHighlights","supportCodicons","Label","supportDescriptionHighlights","descriptionNodeFactory","setLabel","description","classes","extraClasses","apply","italic","join","descriptionNode","descriptionMatches","descriptionTitle","singleLabel","domId","l","separator","matches","labelEscapeNewLines","labels","labelStart","labelRange","intersect","filter","splitMatches","m","name_1","HighlightedLabel","highlights","didEverRender","escapeNewLines","render","htmlContent","pos","substring_1","substring","total","extra","offset","highlights_1","getPathLabel","userHomeProvider","rootProvider","file","baseResource","getWorkspaceFolder","hasMultipleRoots","getWorkspace","folders","pathLabel","rootName","scheme","untitled","with","query","fragment","hasDriveLetter","normalizeDriveLetter","res","path","userHome","normalizedUserHome","normalizedUserHomeCached","original","normalized","sep","substr","tildify","getBaseLabel","base","charAt","toUpperCase","slice","DataSource","arg","modelProvider","tree","dataSource","hasChildren","entries","getChildren","getParent","AccessibilityProvider","getAriaLabel","accessibilityProvider","getPosInSet","entry","isVisible","getSetSize","Filter","Renderer","updateStyles","getHeight","renderer","getTemplateId","renderTemplate","templateId","renderElement","templateData","disposeTemplate","KeybindingDispatcher","_arr","keybinding","platform","dispatch","item","toChord","equals","DefaultController","clickBehavior","keyboardSupport","openMode","downKeyBindingDispatcher","upKeyBindingDispatcher","t","onUp","onDown","onLeft","onRight","onPageUp","onPageDown","onHome","onEnd","onSpace","onEscape","onEnter","bind","onMouseDown","origin","leftButton","middleButton","toLowerCase","onLeftClick","onClick","ctrlKey","preventDefault","stopPropagation","eventish","payload","originalEvent","didClickOnTwistie","isClickOnTwistie","getInput","clearFocus","clearSelection","browserEvent","detail","domFocus","setFocus","shouldToggleExpansion","isExpanded","collapse","errors","expand","isDoubleClick","openOnSingleClick","twistieStyle","window","getComputedStyle","backgroundImage","display","twistieWidth","paddingRight","offsetX","onContextMenu","onTap","initialTarget","onKeyDown","onKey","onKeyUp","bindings","handler","toKeybinding","getHighlight","clearHighlight","focusPrevious","reveal","getFocus","focusPreviousPage","focusNext","focusNextPage","focusFirst","focusLast","focus_1","didCollapse","focusParent","focus_2","didExpand","focusFirstChild","focus","toggleExpansion","getSelection","DefaultDragAndDrop","getDragURI","onDragStart","onDragOver","targetElement","drop","DefaultFilter","DefaultAccessibilityProvider","DefaultTreestyler","styleElement","selectorSuffix","suffix","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","listDropBackground","listFocusOutline","newStyles","LockData","_onDispose","onDispose","_item","Lock","locks","isLocked","run","fn","lock","getLock","once","isDisposed","intersects","ItemRegistry","_isDisposed","_onDidRevealItem","onDidRevealItem","_onExpandItem","onExpandItem","_onDidExpandItem","onDidExpandItem","_onCollapseItem","onCollapseItem","_onDidCollapseItem","onDidCollapseItem","_onDidAddTraitItem","onDidAddTraitItem","_onDidRemoveTraitItem","onDidRemoveTraitItem","_onDidRefreshItem","onDidRefreshItem","_onRefreshItemChildren","onRefreshItemChildren","_onDidRefreshItemChildren","onDidRefreshItemChildren","_onDidDisposeItem","onDidDisposeItem","items","register","isRegistered","disposable","onDidReveal","onExpand","onDidExpand","onCollapse","onDidCollapse","onDidAddTrait","onDidRemoveTrait","onDidRefresh","onRefreshChildren","onDidRefreshChildren","onDidDispose","deregister","getItem","Item","registry","context","_onDidCreate","_onDidReveal","_onExpand","_onDidExpand","_onCollapse","_onDidCollapse","_onDidAddTrait","_onDidRemoveTrait","_onDidRefresh","_onRefreshChildren","_onDidRefreshChildren","_onDidDispose","doesHaveChildren","needsChildrenRefresh","previous","firstChild","lastChild","traits","depth","expanded","shouldAutoexpand","visible","_isVisible","_getHeight","getElement","getDepth","setVisible","_setExpanded","relativeTop","eventData","refreshChildren","autoExpandSingleChildren","recursive","collapseChildrenPromise_1","forEachChild","addTrait","trait","removeTrait","hasTrait","getAllTraits","safe","force","setNeedsChildrenRefresh_1","doRefresh","isNested","elements","reject","staleItems","removeChild","addChild","staleItemId","all","mapEachChild","updateVisibility","refresh","getNavigator","TreeNavigator","other","isAncestorOf","startItem","afterItem","atHead","atTail","isFirstChild","isLastChild","NaN","sorter","otherElement","compare","RootItem","subTreeOnly","lastDescendantOf","parent_1","first","last","TreeModel","registryDisposable","None","_onSetInput","onSetInput","_onDidSetInput","onDidSetInput","_onRefresh","onRefresh","_onDidHighlight","onDidHighlight","_onDidSelect","onDidSelect","_onDidFocus","onDidFocus","input","traitsToItems","setInput","setHighlight","resolveUnknownParentChain","chain","eventPayload","setTraits","includeHidden","getElementsWithTrait","selection","count","nextItem","nav","previousItem","from","focusNth","navItem","fromItem","removeTraits","traitItems","itemsToRemoveTrait","ElementsDragAndDropData","update","dataTransfer","getData","ExternalElementsDragAndDropData","DesktopDragAndDropData","types","files","f","size","HeightMap","heightMap","indexes","getContentHeight","onInsertItems","iterator","afterItemId","viewItem","j","totalSize","sizeDiff","console","error","boundSplice","splice","itemsToInsert","createViewItem","onInsertItem","onRefreshItem","onRemoveItems","itemId","startIndex","onRemoveItem","onRefreshItemSet","sortedItems","onRefreshItems","newHeight","cummDiff","needsRender","indexAt","center","right","indexAfter","min","itemAtIndex","itemAfter","ContextMenuEvent","posx","posy","_posx","_posy","_target","MouseContextMenuEvent","KeyboardContextMenuEvent","RowCache","_cache","alloc","cache","row","release","parentElement","removeFromParent","garbageCollect","keys","cachedRow","ViewItem","unbindDragStart","_draggable","_styles","addClass","removeClass","_templateId","skipUserRender","draggable","accessibility","ariaLabel","base64Id","paddingOnRow","paddingLeft","twistiePixels","indentPixels","firstElementChild","dnd","horizontalScrolling","parseFloat","insertInDOM","afterElement","BINDING","insertBefore","warn","removeFromDOM","RootViewItem","wrapper","TreeView","lastPointerType","lastClickTimeStamp","contentWidthUpdateDelayer","isRefreshing","refreshingPreviousChildrenIds","currentDragAndDropData","currentDropTarget","currentDropTargets","currentDropDisposable","gestureDisposable","dragAndDropScrollInterval","dragAndDropScrollTimeout","dragAndDropMouseY","highlightedItemWasDraggable","onHiddenScrollTop","_onDOMFocus","onDOMFocus","_onDOMBlur","_onDidScroll","counter","instance","horizontalScrollMode","controller","modelListeners","viewListeners","tabIndex","preventRootFocus","treeStyler","styler","alwaysFocused","scrollableElement","alwaysConsumeMouseWheel","horizontal","vertical","verticalScrollMode","useShadows","onScroll","scrollTop","scrollLeft","scrollWidth","msTouchAction","msContentZooming","addTarget","rowsContainer","showTwistie","focusTracker","onFocus","onDidBlur","onBlur","onMouseUp","button","onMouseMiddleClick","Tap","Change","onTouchChange","onMsPointerDown","onMsGestureTap","onThrottledMsGestureChange","lastEvent","translationY","translationX","onDrop","onDragEnd","lastRenderTop","lastRenderHeight","didJustPressContextMenuKey","shouldInvalidateDropReaction","onRowsChanged","setupMSGesture","applyStyles","getHTMLElement","isFocused","activeElement","blur","MSGesture","msGesture","setTimeout","isTreeVisible","viewHeight","scrollHeight","viewWidth","stop","renderTop","renderBottom","thisRenderBottom","max","insertItemInDOM","removeItemFromDOM","topItem","setModel","newModel","releaseModel","onRefreshing","onRefreshed","onClearingInput","onModelFocusChange","onItemChildrenRefreshing","onItemChildrenRefreshed","onItemRefresh","onItemExpanding","onItemExpanded","onItemCollapsing","onItemReveal","onItemAddTrait","onItemRemoveTrait","updateScrollWidth","trigger","keys_1","lastPageIndex","lastPageElement","previousScrollTop","firstPageIndex","firstPageElement","getScrollDimensions","setScrollDimensions","getScrollPosition","setScrollPosition","inputItem","showLoading","loadingTimer","loading","LOADING_DECORATION_DELAY","childrenIds","navigator_1","childItem","clearTimeout","previousChildrenIds_1","afterModelItems_1","navigator_2","skipDiff","diff","doToInsertItemsAlreadyExist","getElements","ComputeDiff","changes","some","modifiedLength","modifiedStart","diff_1","diffChange","originalLength","originalStart","beforeItem","onItemsRefresh","viewItemBottom","wrapperBottom","refreshViewItem","shouldBeRendered","getItemAround","Date","now","resultEvent","KeyboardEvent","keyboardEvent","mouseEvent","keyCode","shiftKey","effectAllowed","setData","RESOURCES","JSON","stringify","setDragImage","getDragLabel","dragImage_1","body","CurrentDragAndDropData","setupDragAndDropScrollInterval","viewTop","setInterval","scrollDiff","upperLimit","cancelDragAndDropScrollTimeout","cancelDragAndDropScrollInterval","clearInterval","DRAG_LEAVE","dropTarget","currentDropElement","reaction","bubble","canDrop","accept","dropEffect","effect","one","currentDropElementReaction","autoExpand","timeoutPromise_1","cancel","event_1","pointerType","MSPOINTER_TYPE_MOUSE","MSPOINTER_TYPE_TOUCH","addPointer","pointerId","elementFromPoint","clientX","clientY","elementAfter","candidate","el","parentNode","configuration","defaultStyles","Tree","_onDidChangeFocus","onDidChangeFocus","_onDidChangeSelection","onDidChangeSelection","_onHighlightChange","view","isDOMFocused","domBlur","defaultOpts","progressBarBackground","ProgressBar","workedVal","showDelayedScheduler","bit","off","opacity","totalWork","doDone","delayed","background","QuickOpenController","foreground","pickerGroupForeground","pickerGroupBorder","widgetShadow","DEFAULT_INPUT_ARIA_LABEL","QuickOpenWidget","callbacks","CONTEXT_MENU","FOCUS","gainingFocus","BLUR","loosingFocus","KEY_DOWN","altKey","metaKey","stops","currentTarget","querySelectorAll","progressBar","inputContainer","inputBox","placeholder","inputPlaceHolder","inputBackground","inputForeground","inputBorder","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationInfoBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationWarningBorder","inputValidationErrorBackground","inputValidationErrorForeground","inputValidationErrorBorder","inputElement","INPUT","onType","shouldOpenInBackground","navigateInTree","selectionStart","selectionEnd","elementSelected","resultCount","treeContainer","createTree","treeCreator","config","opts","treeElement","elementFocused","quickNavigateConfiguration","KEY_UP","keybindings","k","getParts","firstPart","focus_3","layoutDimensions","borderWidth","borderStyle","boxShadow","helpText","isShift","oldFocus","newFocus","arivaActiveDescendant","getAttribute","keymods","extractKeyMods","runner","preferredMode","mode","ctrlCmd","alt","param","isLoosingFocus","doShowWithPrefix","restoreLastInput","doShowWithInput","autoFocus","inputSelection","select","onShow","lastInput","setInputAndLayout","isElementVisible","updateResultCount","autoFocusPrefixMatch","caseSensitiveMatch","caseInsensitiveMatch","lowerCasePrefix","entries_1","getLabel","entryToFocus","autoFocusFirstEntry","autoFocusIndex","autoFocusSecondEntry","autoFocusLastEntry","itemHeight","minItemsToShow","preferredItemsHeight","MAX_ITEMS_HEIGHT","maxEntries","maxItemsToShow","entryHeight","comment","reason","hasFocus","onOk","onCancel","onHide","onInputChanging","setAriaLabel","inputChangingTimeoutHandle","dimension","quickOpenWidth","MAX_WIDTH","relatedTarget","onFocusLost","QuickOpenEditorWidget","codeEditor","quickOpenWidget","inputAriaLabel","destroy","editorLayout","layoutOverlayWidget","preference","rangeHighlightDecorationId","lastKnownEditorSelection","getContribution","onClose","canceled","clearDecorations","revealRangeInCenterIfOutsideViewport","getAutoFocus","decorateLine","oldDecorations","newDecorations","_RANGE_HIGHLIGHT_DECORATION","decorations","isWholeLine","BaseEditorQuickOpenAction","_inputAriaLabel","getController","_show","searchValue","HistoryNavigator","history","limit","_initialize","_limit","_onChange","_history","_navigator","has","_reduceToLimit","_elements","Set","history_1","$","InputBox","contextViewProvider","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","message","validationOptions","validation","flexibleHeight","onfocus","onblur","flexibleMaxHeight","mirror","flexibleWidth","whiteSpace","wordWrap","onSelectionChange","anchorNode","updateScrollDimensions","setPlaceHolder","oninput","onValueChange","onclick","ignoreGesture","updateMirror","actions","actionbar","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","setSelectionRange","enable","disable","disabled","horizontalPadding","cachedContentHeight","showMessage","classForType","alertText","stylesForType","border","aria","hideMessage","validate","errorMsg","hasAttribute","div","showContextView","getAnchor","anchorAlignment","renderOptions","spanElement","formatContent","hideContextView","charCodeAt","previousHeight","insertAtCursor","HistoryInputBox","addToHistory","getCurrentValue","showNextValue","getNextValue","showPreviousValue","getPreviousValue","currentValue","KeybindingLabel","os","areSame","chordPart","renderPart","renderUnboundKeybindings","renderUnbound","part","modifierLabels","renderKey","Boolean","keyLabel","IDS","QuickOpenEntry","labelHighlights","descriptionHighlights","getLabelOptions","getDescription","getDetail","getIcon","getTooltip","getDescriptionTooltip","getKeybinding","isHidden","hidden","setHighlights","detailHighlights","getHighlights","QuickOpenEntryGroup","groupLabel","withBorder","getGroupLabel","setGroupLabel","showBorder","setShowBorder","NoActionProvider","hasActions","getActions","actionProvider","actionRunner","entryContainer","row1","row2","keybindingContainer","detailContainer","group","actionBarContainer","actionBar","clear","groupData","iconClass","QuickOpenModel","_entries","_dataSource","_renderer","_filter","_runner","_accessibilityProvider","module","transform","locals","exports","SYMBOL_ICON_ARRAY_FOREGROUND","SYMBOL_ICON_BOOLEAN_FOREGROUND","SYMBOL_ICON_CLASS_FOREGROUND","SYMBOL_ICON_COLOR_FOREGROUND","SYMBOL_ICON_CONSTANT_FOREGROUND","SYMBOL_ICON_CONSTRUCTOR_FOREGROUND","SYMBOL_ICON_ENUMERATOR_FOREGROUND","SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND","SYMBOL_ICON_EVENT_FOREGROUND","SYMBOL_ICON_FIELD_FOREGROUND","SYMBOL_ICON_FILE_FOREGROUND","SYMBOL_ICON_FOLDER_FOREGROUND","SYMBOL_ICON_FUNCTION_FOREGROUND","SYMBOL_ICON_INTERFACE_FOREGROUND","SYMBOL_ICON_KEY_FOREGROUND","SYMBOL_ICON_KEYWORD_FOREGROUND","SYMBOL_ICON_METHOD_FOREGROUND","SYMBOL_ICON_MODULE_FOREGROUND","SYMBOL_ICON_NAMESPACE_FOREGROUND","SYMBOL_ICON_NULL_FOREGROUND","SYMBOL_ICON_NUMBER_FOREGROUND","SYMBOL_ICON_OBJECT_FOREGROUND","SYMBOL_ICON_OPERATOR_FOREGROUND","SYMBOL_ICON_PACKAGE_FOREGROUND","SYMBOL_ICON_PROPERTY_FOREGROUND","SYMBOL_ICON_REFERENCE_FOREGROUND","SYMBOL_ICON_SNIPPET_FOREGROUND","SYMBOL_ICON_STRING_FOREGROUND","SYMBOL_ICON_STRUCT_FOREGROUND","SYMBOL_ICON_TEXT_FOREGROUND","SYMBOL_ICON_TYPEPARAMETER_FOREGROUND","SYMBOL_ICON_UNIT_FOREGROUND","SYMBOL_ICON_VARIABLE_FOREGROUND","theme","collector","symbolIconArrayColor","getColor","addRule","symbolIconBooleanColor","symbolIconClassColor","symbolIconMethodColor","symbolIconColorColor","symbolIconConstantColor","symbolIconConstructorColor","symbolIconEnumeratorColor","symbolIconEnumeratorMemberColor","symbolIconEventColor","symbolIconFieldColor","symbolIconFileColor","symbolIconFolderColor","symbolIconFunctionColor","symbolIconInterfaceColor","symbolIconKeyColor","symbolIconKeywordColor","symbolIconModuleColor","outlineNamespaceColor","symbolIconNullColor","symbolIconNumberColor","symbolIconObjectColor","symbolIconOperatorColor","symbolIconPackageColor","symbolIconPropertyColor","symbolIconReferenceColor","symbolIconSnippetColor","symbolIconStringColor","symbolIconStructColor","symbolIconTextColor","symbolIconTypeParameterColor","symbolIconUnitColor","symbolIconVariableColor","ToggleTabFocusModeAction","alias","precondition","kbOpts","kbExpr","primary","mac","weight","getTabFocusMode","setTabFocusMode","processSize","test","concat","noop","State","Sizing","badgeBackground","badgeForeground","CountBadge","badgeBorder","countFormat","titleFormat","setCount","setTitleFormat","_resolverService","failure","val","Delegate","OneReferenceRenderer","StringRepresentationProvider","_keybindingService","getKeyboardNavigationLabel","parts","IdentityProvider","FileReferencesTemplate","_uriLabel","badge","getUriLabel","relative","FileReferencesRenderer","_instantiationService","createInstance","node","template","filterData","OneReferenceTemplate","score","filePreview","isDefault","AriaProvider","ariaMessage","__spreadArrays","s","il","jl","separatorBorder","transparent","_cachedVisibleSize","_size","cachedVisibleSize","viewMinimumSize","viewMaximumSize","minimumSize","maximumSize","priority","snap","enabled","pointerEvents","layoutContext","layoutContainer","VerticalViewItem","HorizontalViewItem","Distribute","Split","Invisible","SplitView","contentSize","proportions","viewItems","sashItems","Idle","_onDidSashChange","onDidSashChange","_onDidSashReset","_startSnappingEnabled","_endSnappingEnabled","inverseAltBehavior","proportionalLayout","sashContainer","viewContainer","descriptor","views","viewDescriptor","sizing","doAddView","reduce","saveProportions","_orthogonalStartSash","sash","orthogonalStartSash","_orthogonalEndSash","orthogonalEndSash","startSnappingEnabled","updateSashEnablement","endSnappingEnabled","isTransparent","removeProperty","setProperty","addView","previousSize","lowPriorityIndexes","highPriorityIndexes","resize","distributeEmptySpace","layoutViews","onSashStart","_b","resetSashDragState","sashDragState","snapBefore","snapAfter","sizes","minDelta","NEGATIVE_INFINITY","maxDelta","upIndexes","downIndexes","minDeltaUp","maxDeltaUp","maxDeltaDown","minDeltaDown","minDelta_1","maxDelta_1","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","halfSize","limitDelta","onSashChange","delta","newDelta","isLastSash","newSizes","viewItemIndex","newMinDelta","newMaxDelta","resizeIndex","onSashEnd","onViewChange","relayout","resizeView","Busy","distributeViewSizes","flexibleViewItems","flexibleSize","flexibleViewItems_1","getViewSize","skipLayout","viewSize","onChangeDisposable","containerDisposable","orientation_1","layoutProvider","getSashPosition","getVerticalSashLeft","sash_1","sashEventMapper","startX","currentX","onStartDisposable","onStart","onChangeDisposable_1","onChange","onEndDisposable","onDidResetDisposable","onDidReset","disposable_1","sashItem","overloadMinDelta","overloadMaxDelta","highPriorityIndexes_1","index_1","lowPriorityIndexes_1","index_2","upItems","upSizes","downItems","downSizes","snapped","snapView","deltaUp","deltaDown","lowPriorityIndex","emptyDelta","highPriorityIndexes_2","lowPriorityIndexes_2","collapsesDown","expandsDown","reverseViews","reverse","collapsesUp","expandsUp","snappedBefore","snappedAfter","indexes_1","indexes_2","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","y","g","sent","trys","ops","verb","Symbol","v","op","TypeError","DecorationsManager","_model","_decorationIgnoreSet","_callOnDispose","_callOnModelChange","onDidChangeModel","_onModelChanged","removeDecorations","_addDecorations","hasModel","onDidChangeDecorations","_onDecorationChanged","newDecorationsActualIndex","oneReference","DecorationOptions","toRemove","decorationId","newRange","ignore","spansMultipleLines","LayoutData","ratio","fromJSON","raw","parse","ReferenceWidget","_defaultTreeKeyboardSupport","layoutData","_textModelResolverService","_peekViewService","_disposeOnNewModel","_onDidSelectReference","onDidSelectReference","_dim","_applyTheme","getTheme","onThemeChange","_previewNotAvailableMessage","_tree","_previewModelReference","_splitView","peekView","focusOnReferenceTree","focusOnPreviewEditor","isPreviewEditorFocused","hasTextFocus","_getFocusedReference","kind","containerElement","_messageContainer","_previewContainer","scrollBeyondLastLine","scrollbar","verticalScrollbarSize","verticalHasArrows","horizontalHasArrows","overviewRulerLanes","fixedOverflowWidgets","minimap","createFromString","_treeContainer","treeOptions","keyboardNavigationLabelProvider","identityProvider","overrideStyles","listBackground","MAX_VALUE","onEvent","_revealReference","onDidOpen","MouseEvent","tapCount","_onNewModel","_decorationsManager","rerender","revealParent","promise","scrollType","sel","_revealedReference","inMemory","collapseToStart","revealRangeInCenter","findMatchHighlightColor","referenceHighlightColor","referenceHighlightBorder","hcOutline","resultsBackground","resultsMatchForeground","resultsFileForeground","resultsSelectedBackground","resultsSelectedForeground","editorBackground","editorGutterBackground","ctxReferenceSearchVisible","ReferencesController","_editorService","_notificationService","_storageService","_configurationService","_requestIdPool","_ignoreModelChangeEvent","_referenceSearchVisible","reset","_widget","toggleWidget","modelPromise","peekMode","widgetPosition","closeWidget","_peekMode","onDidChangeModelLanguage","store","getValue","openReference","_gotoReference","requestId","changeFocusBetweenPreviewAndReferences","goToNextOrPreviousReference","fwd","currentPosition","editorFocus","previewEditorFocus","focusEditor","openCodeEditor","openedEditor","model_1","sideBySide","withController","outerEditor","registerCommandAndKeybindingRule","when","or","secondary","registerCommandAlias","registerCommand","registerKeybindingRule","and","not","lastFocusedList","initVimMode","statusbarNode","StatusBarClass","_statusbar","sanitizer","vimAdapter","_keymap_vim","attach","statusBar","keyBuffer","on","setMode","setKeyBuffer","toggleVisibility","closeInput","setStatusBar","_interopRequireDefault","obj","__esModule","Vim","_cm_adapter","_typeof","defaultKeymap","toKeys","action","motion","motionArgs","linewise","toJumplist","forward","wordEnd","bigWord","inclusive","explicitRepeat","toFirstChar","repeatOffset","isEdit","actionArgs","after","matchIndent","sameLine","operator","operatorArgs","indentRight","toLower","operatorMotionArgs","visualLine","shouldMoveCursor","insertAt","interlaceInsertRepeat","blockwise","increase","backtrack","textObjectInner","searchArgs","querySrc","wholeWordOnly","defaultExCommandMap","shortName","possiblyAsync","excludeFromCommandHistory","Pos","detachVimMap","cm","attached","keyMap","vim","rmClass","getWrapperElement","attachVimMap","setOption","onCursorActivity","leaveVimMode","prev","signal","maybeInitVimState","enterVimMode","cmKey","vimKey","pieces","split","lastPiece","hasCharacter","piece","modifiers","specialKeys","isUpperCase","cmKeyToVimKey","cmd","findKey","defineOption","Init","Enter","Backspace","Delete","Insert","numberRegex","wordCharTest","isWordChar","ch","bigWordCharTest","makeKeyRange","fromCharCode","upperCaseAlphabet","lowerCaseAlphabet","numbers","validMarks","validRegisters","isLine","line","firstLine","lastLine","isLowerCase","isWhiteSpaceString","isEndOfSentenceSymbol","inArray","arr","defaultValue","aliases","cfg","option","scope","local","vimGlobalState","lastInsertModeKeyTimer","createInsertModeChanges","expectCursorActivityForChange","MacroModeState","latestRegister","isPlaying","isRecording","replaySearchQueries","onRecordingDone","lastInsertModeChanges","inputState","InputState","lastEditInputState","lastEditActionCommand","lastHPos","lastHSPos","lastMotion","marks","fakeCursor","insertMode","insertModeRepeat","visualMode","visualBlock","lastSelection","lastPastedText","resetVimGlobalState","pointer","head","tail","buffer","optionName","searchQuery","searchIsReversed","lastSubstituteReplacePart","jumpList","cachedCursor","oldCur","newCur","curMark","useNextSlot","cursor","trashMark","setBookmark","markPos","find","cursorEqual","move","mark","inc","getCursor","macroModeState","lastCharacterSearch","increment","selectedCharacter","registerController","RegisterController","searchHistoryController","HistoryController","exCommandHistoryController","exitMacroRecordMode","enterMacroRecordMode","registerName","getRegister","openDialog","bottom","vimApi","buildKeyMap","getRegisterController","resetVimGlobalState_","getVimGlobalState_","maybeInitVimState_","suppressErrorLogging","InsertModeKey","lhs","rhs","ctx","exCommandDispatcher","unmap","defineEx","func","exCommands","commandMap_","handleKey","command","handleMacroRecording","clearInputState","pushText","logKey","handleEsc","exitVisualMode","exitInsertMode","keysAreChars","commandDispatcher","matchCommand","thisMatch","selections","listSelections","here","replaceRange","offsetCursor","handleKeyInsertMode","keysMatcher","exec","pushRepeatDigit","handleKeyNonInsertMode","operation","curOp","isVimOp","doKeyToKey","processCommand","handleEx","defineMotion","motions","defineAction","defineOperator","operators","mapCommand","args","_mapCommand","defineRegister","registers","prefixRepeat","motionRepeat","Register","insertModeChanges","searchQueries","unnamedRegister","historyBuffer","initialPrefix","getRepeat","repeat","setText","pushInsertModeChanges","pushSearchQuery","isValidRegister","shiftNumericRegisters_","nextMatch","up","dir","pushInput","bestMatch","partial","full","commandMatch","commandMatches","character","lastChar","repeatOverride","processMotion","processOperator","processOperatorMotion","processAction","processSearch","processEx","copyArgs","evalInput","repeatIsExplicit","recordLastEdit","getSearchCursor","getSearchState","setReversed","promptPrefix","originalQuery","getQuery","originalScrollPos","getScrollInfo","handleQuery","shift","showPrompt","scrollTo","logSearchQuery","searchPromptDesc","close","parsedQuery","keyName","updateSearchQuery","scrollIntoView","_findNext","clearSearchHighlight","e_stop","expandWordUnderCursor","isKeyword","getLine","setCursor","ignoreCase","smartCase","showConfirm","onPromptClose","onPromptKeyDown","exArgs","selectValueOnOpen","newHead","newAnchor","origHead","copyCursor","clipCursorToContent","origAnchor","anchor","oldHead","oldAnchor","noRepeat","motionResult","recordJumpPosition","Infinity","updateCmSelection","updateMark","cursorIsBefore","lastSel","lineOffset","chOffset","curStart","curEnd","cmSel","cursorMin","cursorMax","makeCmSelection","ranges","lineLength","tmp","_cm","expandSelectionToLine","getRange","lines","clipToLine","setSelections","operatorMoveTo","actionCommand","moveToTopLine","_head","getUserVisibleLines","findFirstNonWhiteSpaceCharacter","moveToMiddleLine","moveToBottomLine","expandToLine","findNext","isReversed","highlightSearchMatches","goToMark","getMarkPos","moveToOtherHighlightedEnd","jumpToMark","best","equal","between","cursorIsBetween","moveByCharacters","cur","moveByLines","endCh","moveByDisplayLines","moveByScroll","moveToColumn","moveToEol","moveToStartOfLine","charCoords","findPosV","hitSide","goalCoords","coordsChar","resCoords","moveByPage","moveByParagraph","findParagraph","moveBySentence","nextChar","ln","curr","last_valid","skip_empty_lines","curr_index","findSentence","scrollbox","clientHeight","defaultTextHeight","orig","dest","moveByWords","words","emptyLineIsWord","findWord","eodCh","to","shortCircuit","firstWord","lastWord","moveToWord","moveTillCharacter","_moveToCharacter","recordLastCharacterSearch","moveToCharacter","moveToSymbol","symb","endLine","lineCount","curCh","lineText","nextCh","lastCh","reverseSymb","curMoveThrough","symbolToMode","init","findSymbolModes","isComplete","lineLen","findSymbol","_moveToColumn","retval","clipPos","moveToFirstNonWhiteSpaceCharacter","moveToMatchedSymbol","findMatchingBracket","moveToLineOrEdgeOfDocument","lineNum","textObjectManipulation","bracketRegexp","openSym","scanForBracket","selectCompanionObject","'","chars","firstIndex","findBeginningAndEnd","expandSelection","repeatLastCharacterSearch","lastSearch","moveH","fillArray","times","change","finalHead","inVisualBlock","replacement","replaceSelections","lastState","prevLineEnd","wasLastLine","commands","newlineAndIndent","enterInsertMode","pushUndoStop","indent","startLine","indentLine","changeCase","getSelections","swapped","toSwap","yank","endPos","jumpListWalk","scroll","newPos","cursorCoords","newBottom","scrollToCursor","moveCurrentLineTo","replayMacro","executeMacroRegister","toggleOverwrite","replaceMode","getInputField","onKeyEventTargetKeyDown","selectForInsert","toggleVisualMode","subMode","reselectLastSelection","_actionArgs","updateLastSelection","anchorMark","headMark","joinLines","finalCh","curFinalPos","newLineAndEnterInsertMode","newlineAndIndentContinueComment","paste","tabSize","whitespaceLength","str","tabs","spaces","currentLine","chompedText","wasChomped","firstIndent","wspace","newIndent","quotient","curPosFinal","lastSelectionCurEnd","selectedArea","getCurrentSelectedAreaRange","block","getLastSelectedAreaRange","getSelectedAreaRange","selectedText","emptyStrings","selectBlock","posFromIndex","indexFromPos","extendLineToColumn","undo","repeatFn","redo","setRegister","setMark","replaceTo","replaceWith","replaceWithStr","incrementNumberToken","numberStr","lineStr","re","baseStr","digits","zeroPadding","repeatLastEdit","_repeatLastEdit","includeLineBreak","maxCh","ret","prop","offsetLine","offsetCh","pressed","mapped","pressedPrefix","mappedPrefix","cur1","cur2","cur3","cur1before2","cur2before3","trim","isClipped","primIndex","atAnchor","getIndex","wasClipped","baseCh","headCh","newDir","lineHead","updateFakeCursor","exclusive","headOffset","anchorOffset","moveHead","_forward","noSymbol","getHead","wordStart","bracket","section","found","method","preprocess","token","charTests","foundWord","charIdxInLine","markName","includeChar","lastIndexOf","isBoundary","any","startState","SearchState","searchState_","dialog","shortText","prompt","splitBySeparator","argString","slashes","findUnescapedSeparators","tokens","escapeNextChar","setQuery","getOverlay","searchOverlay","setOverlay","overlay","reversed","getScrollbarAnnotate","annotate","setScrollbarAnnotate","charUnescapes","unescapes","parseQuery","RegExp","regexPart","forceIgnoreCase","out","specialComesNext","translateRegex","openNotification","duration","alert","rawQuery","r1","r2","props","regexEqual","searchState","removeOverlay","matchSol","sol","backUp","eol","skipToEnd","addOverlay","showMatchesOnScrollbar","isInRange","doc","lastModTime","changeHistory","ExCommandDispatcher","buildCommandMap_","opt_params","that","_processCommand","commandHistoryRegister","previousCommand","inputStream","commandName","params","parseInput_","matchCommand_","parseCommandArgs_","toInput","eatWhile","eat","lineEnd","parseLineSpec_","numberMatch","parseLineSpecOffset_","offsetMatch","delim","argDelimiter","user","mapping","unshift","colorscheme","mapArgs","imap","nmap","vmap","setArgs","setCfg","expr","forceGet","optionIsBoolean","oldValue","setOptionReturn","setlocal","setglobal","regArgs","regInfo","unique","number","pattern","eatSpace","decimal","hex","octal","parseArgs","lineStart","radix","numPart","textPart","matchPart","compareFn","textOld","anum","bnum","global","splitBySlash","matchedLines","nextCommand","substitute","trailing","flagsPart","replacePart","confirm","output","matched","matcher","unescapeRegexReplace","translateRegexReplace","startPos","searchCursor","exMode","lastPos","replaceAll","getMatches","matchesLength","replaceAllNext","newText","hasNext","jumpTo","_value","savedCallback","doReplace","write","save","nohlsearch","delmarks","sym","startMark","finishMark","finish","insertModeChangeRegister","lastChange","selLength","logInsertModeChange","imc","repeatInsertModeChanges","changeObj","maybeReset","overwrite","somethingSelected","handleExternalSelection","markText","lookupKey","repeatForInsert","isAction","cachedInputState","repeatCommand","repeatInsert","changeObject","keyHandler","binding","getOffset","detach","fallthrough","_default","_monacoEditor","_cursorTypeOperations","_slicedToArray","_arrayWithHoles","_n","_d","_e","_s","_iterableToArrayLimit","_nonIterableRest","_classCallCheck","Constructor","_defineProperties","writable","_createClass","protoProps","staticProps","VerticalRevealType","EditorOptConstants","readOnly","cursorWidth","fontInfo","_window$navigator","navigator","userAgent","nonASCIISingleCaseWordChar","normalize","string","lastColumnPos","lastColumnValue","toCmPos","toMonacoPos","Position","ok","skipTo","indentation","consume","caseInsensitive","cased","hideFirstChars","inner","Marker","monacoToCmKey","skip","addQuotes","monaco","KeyCode","skipOnlyShiftCheck","Shift","Meta","Alt","Ctrl","Escape","startsWith","endsWith","CMAdapter","_initialiseProps","$uid","disposables","listeners","addLocalListeners","ctxInsert","createContextKey","onDidChangeCursorPosition","handleCursorChange","onDidChangeModelContent","handleChange","handleKeyDown","fromReplace","_char","Range","lastItem","replaceStack","executeEdits","forceMoveMarkers","setPosition","setTheme","getConfiguration","EditorOption","viewInfo","getOptions","insertSpaces","getRawConfiguration","_len","_key","maxLines","getLineContent","getDirection","SelectionDirection","LTR","getEndPosition","getAnchorForSelection","getHeadForSelection","p1","p2","monacoPos","validatePosition","revealPosition","inVirtualSelectionMode","hasSel","sels","Selection","posToReveal","frm","texts","toggle","bm","insertLeft","$insertRight","getVisibleRanges","initialCursorWidth","typicalFullwidthCharacterWidth","cursorBlinking","acc","amount","unit","finalAmount","editorHeight","mPos","matchBracket","getLineFirstNonWhitespaceColumn","x","setScrollTop","getTopForLineNumber","viewPosition","revealRangeAtTop","_revealRange","caseFold","matchCase","isRegex","findMatches","findPrevious","highlightRanges","back","_pos","findPreviousMatch","isBeforeOrEqual","_pos2","findNextMatch","setEndPosition","decorationKey","TrackedRangeStickiness","NeverGrowsWhenTypingAtEdges","zIndex","showIfCollapsed","_ref","hasBoundary","_this2","units","dd","bracketRange","findMatchingBracketUp","getOffsetAt","getPositionAt","cursors","_getCursors","executeCommands","TypeOperations","html","setSec","showNotification","cancelBubble","e_preventDefault","returnValue","triggerEditorAction","handle","defineExtension","_this3","defaultPrevented","handleReplaceMode","maxCol","getLineMaxColumn","changeHandlers","virtualSelectionMode","_default2","paths","self","getWorkerUrl","moduleId","pathPrefix","currentUrl","location","currentOrigin","hash","search","pathname","encodeURIComponent","Emitter","LanguageServiceDefaultsImpl","languageId","diagnosticsOptions","modeConfiguration","_languageId","setDiagnosticsOptions","setModeConfiguration","_modeConfiguration","_diagnosticsOptions","diagnosticDefault","lint","compatibleVendorPrefixes","vendorPrefix","duplicateProperties","emptyRules","importStatement","boxModel","universalSelector","zeroUnits","fontFaceProperties","hexColorLength","argumentsInColorFunction","unknownProperties","ieHack","unknownVendorSpecificProperties","propertyIgnoredDueToDisplay","important","float","idSelector","modeConfigurationDefault","completionItems","hovers","documentSymbols","definitions","documentHighlights","rename","colors","foldingRanges","diagnostics","selectionRanges","cssDefaults","scssDefaults","lessDefaults","getMode","languages","css","onLanguage","setupMode","jsonDefaults","allowComments","schemas","enableSchemaRequest","documentFormattingEdits","documentRangeFormattingEdits","json","extensions","mimetypes","setOptions","_options","formatDefaults","wrapLineLength","unformatted","contentUnformatted","indentInnerHtml","preserveNewLines","maxPreserveNewLines","indentHandlebars","endWithNewline","extraLiners","wrapAttributes","handlebarOptionsDefault","format","suggest","html5","razorOptionsDefault","razor","getConfigurationDefault","htmlLanguageId","htmlDefaults","angular1","ionic","handlebarDefaults","razorDefaults","escape","CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE","AccessibilityHelpController","AccessibilityHelpWidget","_contextKeyService","_openerService","_isVisibleKey","setClassName","setDisplay","_contentDomNode","_layout","emergencyConfOn","accessibilitySupport","_buildContent","openingDocs","url","accessibilityHelpUrl","open","_descriptionForCommand","commandId","msg","noKbMsg","kb","lookupKeybinding","charactersSelected","getValueLengthInRange","singleSelectionRange","positionLineNumber","positionColumn","singleSelection","multiSelectionRange","multiSelection","noSelection","getSelectionLabel","readonlyDiffEditor","editableDiffEditor","readonlyEditor","editableEditor","turnOnMessage","changeConfigToOnMac","changeConfigToOnWinLinux","auto_on","auto_off","tabFocusModeOnMsg","tabFocusModeOnMsgNoKb","tabFocusModeOffMsg","tabFocusModeOffMsgNoKb","openDocMac","openDocWinLinux","outroMsg","w","WIDTH","h","HEIGHT","setWidth","setHeight","setTop","setLeft","ShowAccessibilityHelpAction","showAccessibilityHelpAction","AccessibilityHelpCommand","bindToContribution","widgetBackground","widgetForeground","widgetShadowColor","hcBorder","IPadShowKeyboard","shouldHaveWidget","ShowKeyboardWidget","InspectTokensController","standaloneColorService","modeService","_modeService","launch","InspectTokensWidget","InspectTokens","inspectTokensAction","languageIdentifier","allowEditorOverflow","_tokenizationSupport","getLanguageIdentifier","language","getInitialState","tokenize","deltaOffset","tokenize2","_compute","addContentWidget","removeContentWidget","_ID","_getTokensAtLine","token1Index","tokens1","token2Index","tokens2","lineContent","tokenText","tokenStartIndex","tokenEndIndex","charIndex","charCode","renderTokenText","metadata","_decodeMetadata","_tokenTypeToString","tokenType","_fontStyleToString","fontStyle","Format","CSS","formatHex","layoutContentWidget","colorMap","getColorMap","getLanguageId","getTokenType","getFontStyle","getForeground","getBackground","stateBeforeLine","_getStateBeforeLine","tokenizationResult1","tokenizationResult2","endState","GotoLineEntry","parseResult","parseInput","isNaN","diffModel","modified","isValid","gotoLineLabelValidLineAndColumn","gotoLineLabelValidLine","gotoLineLabelEmptyWithLineLimit","gotoLineLabelEmptyWithLineAndColumnLimit","gotoLineAriaLabel","_context","runOpen","runPreview","toSelection","GotoLineAction","gotoLineActionInput","gotoLineActionLabel","EditorActionCommandEntry","keyAriaLabel","ariaLabelEntryWithKey","ariaLabelEntry","QuickCommandAction","quickCommandActionInput","quickCommandActionLabel","contextMenuOpts","order","keybindingService","_editorActionsToEntries","_sort","elementA","elementB","elementAName","elementBName","localeCompare","actions_1","getSupportedActions","StandaloneReferencesController","editorService","storageService","configurationService","ToggleHighContrast","toggleHighContrast","_originalThemeName","standaloneThemeService","themeName","VimStatusBar","removeInputListeners","setInnerHtml_","inputKeyUp","inputBlur","closeOnBlur","inputKeyDown","_this$input","closeOnEnter","modeInfoNode","secInfoNode","notifNode","keyInfoNode","ev","querySelector","addInputListeners","notifTimeout","addEventListener","inputKeyInput","removeEventListener","sp","htmlContents","_diff","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","_propTypes","_react","_utils","WeakMap","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","_setPrototypeOf","o","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_isNativeReflectConstruct","construct","sham","Proxy","_getPrototypeOf","getPrototypeOf","_defineProperty","MonacoEditor","_React$Component","subClass","superClass","_inherits","Derived","Super","NewTarget","component","initMonaco","prevProps","_this$props","__prevent_trigger_change_event","pushEditOperations","getFullModelRange","setModelLanguage","destroyMonaco","_subscription","_this$props2","overrideServices","assign","editorWillMount","getOwnPropertyDescriptors","defineProperties","_objectSpread","editorDidMount","_this$props3","assignRef","Component","propTypes","oneOfType","defaultProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","array","bool","symbol","arrayOf","elementType","instanceOf","objectOf","oneOf","shape","exact","checkPropTypes","PropTypes","MonacoDiffEditor","_this$editor$getModel","setValue","modifiedEditor","onDidChangeContent","originalModel","createModel","modifiedModel","createDiffEditor","initModels","_this$editor$getModel2","overviewRulerBracketMatchForeground","JumpToBracketAction","editorTextFocus","jumpToBracket","SelectToBracketAction","schema","properties","default","selectBrackets","selectToBracket","BracketsData","brackets","BracketMatchingController","_lastBracketsData","_lastVersionId","_updateBracketsSoon","_updateBrackets","_matchBrackets","schedule","onDidChangeModelLanguageConfiguration","hasChanged","newSelections","newCursorPosition","enclosingBrackets","findEnclosingBrackets","nextBracket","findNextBracket","revealRange","selectFrom","selectTo","open_1","close_1","_recomputeBrackets","newDecorationsLen","bracketData","versionId","getVersionId","previousData","positions","positionsLen","newData","newDataLen","previousIndex","previousLen","isBefore","_DECORATION_OPTIONS_WITH_OVERVIEW_RULER","_DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER","overviewRuler","Center","bracketMatchBackground","bracketMatchBorder","appendMenuItem","MoveCaretCommand","isMovingLeft","_selection","_isMovingLeft","_cutStartIndex","_cutEndIndex","_moved","_selectionId","getEditOperations","builder","trackSelection","middle","selectionStartLineNumber","newLineContent","addEditOperation","computeCursorState","helper","getTrackedSelection","setStartPosition","MoveCaretAction","selections_1","MoveCaretLeftAction","MoveCaretRightAction","TransposeLettersAction","textInputFocus","lastColumn","endPosition","rightPosition","middlePosition","leftPosition","beginPosition","leftChar","rightChar","supportsCut","queryCommandSupported","supportsCopy","supportsCopyWithSyntaxHighlighting","browser","supportsPaste","ExecCommandAction","browserCommand","runCommand","focusedEditor","execCommand","ExecCommandCutAction","win","menuOpts","menuId","ExecCommandCopyAction","ExecCommandPasteAction","ExecCommandCopyWithSyntaxHighlightingAction","forceCopyWithSyntaxHighlighting","Lazy","executor","_didRun","_error","CodeActionKind","contains","append","Empty","QuickFix","Refactor","Source","SourceOrganizeImports","SourceFixAll","excludesAction","providedKind","exclude","include","CodeActionCommandArgs","preferred","fromUser","defaults","getKindFromUser","getApplyFromUser","getPreferredUser","defaultAutoApply","defaultKind","ManagedCodeActionSet","allActions","codeActionsComparator","validActions","fix","isPreferred","getCodeActions","rangeOrSelection","codeActionContext","only","cts","providers","modes","provider","providedCodeActionKinds","excludes","includeSourceActions","mayIncludeActionsOfKind","getCodeActionProviders","promises","providedCodeActions","err_1","provideCodeActions","isCancellationRequested","actionKind","onlyIncludePreferredActions","filtersAction","newProviders","finally","validatedRangeOrSelection","codeActionSet","isISelection","liftSelection","validateRange","MessageController","closeTimeout","_messageWidget","_messageListeners","_visible","MESSAGE_VISIBLE","onDidAttemptReadOnlyEdit","_onDidAttemptReadOnlyEdit","bounds","onDidBlurEditorText","closeMessage","onMouseMove","fadeOut","MessageCommand","MessageWidget","suppressMouseDown","revealLinesInCenterIfOutsideViewport","_position","messageWidget","LightBulbState","__assign","CodeActionAction","CodeActionMenu","_delegate","_contextMenuService","_showingActions","_keybindingResolver","getKeybindings","codeActions","at","actionsToShow","menuActions","resolver","includeDisabledActions","getMenuActions","isIPosition","_toCoords","getResolver","showContextMenu","autoSelectFirstItem","getKeyBinding","toCodeActionAction","onSelectCodeAction","_c","_getAdditionalMenuItems","getScrolledVisiblePosition","editorCoords","CodeActionKeybindingResolver","_keybindingProvider","allCodeActionBindings","codeActionCommands","resolvedKeybinding","commandArgs","bestKeybindingForCodeAction","candidates","reduceRight","currentBest","Hidden","Showing","editorPosition","LightBulbWidget","_quickFixActionId","_preferredFixActionId","_onClick","_state","editorModel","ignoreTarget","pad","buttons","monitor","startMonitoring","_updateLightBulbTitle","onDidUpdateKeybindings","atPosition","computeIndentLevel","isFolded","effectiveLineNumber","spaceWidth","_posPref","hasAutoFix","preferredKb","editorLightBulbForegroundColor","editorLightBulbAutoFixForegroundColor","CodeActionsState","CodeActionUi","quickFixActionId","preferredFixActionId","delegate","_activeCodeActions","_codeActionWidget","applyCodeAction","_lightBulbWidget","showCodeActionList","newState","e_1","validActionToApply","invalidAction","rawValue","tryGetValidActionToApply","getInvalidActionThatWouldHaveBeenApplied","notAvailableMessage","autoApply","SUPPORTED_CODE_ACTIONS","CodeActionOracle","_markerService","_signalChange","_delay","_autoTriggerTimer","onMarkerChanged","_onMarkerChanges","_onCursorChange","_getRangeOfSelectionUnlessWhitespaceEnclosed","_createEventAndSignalChange","resources","cancelAndSet","_getRangeOfMarker","read","marker","markerRange","intersectRanges","Triggered","CodeActionModel","_progressService","_codeActionOracle","_onDidChangeState","onDidChangeState","_supportedCodeActions","_update","setState","supportedActions","showWhile","skipNotify","contextKeyForSupportedActions","regex","argsSchema","required","defaultSnippets","enum","enumDescriptions","QuickFixController","markerService","progressService","_ui","Id","retrigger","_applyCodeAction","_trigger","showCodeActions","manualTriggerAtCurrentPosition","triggerPosition","invokeFunction","bulkEditService","telemetryService","publicLog2","codeActionTitle","codeActionKind","codeActionIsPreferred","edit","executeCommand","triggerCodeActionsForEditorSelection","QuickFixAction","hasCodeActionsProvider","_accessor","CodeActionCommand","runEditorCommand","userArgs","RefactorAction","SourceAction","OrganizeImportsAction","FixAllAction","AutoFixAction","CodeLensModel","lenses","list","getCodeLensData","ordered","providerRanks","provideCodeLenses","catch","itemResolveCount","_loop_1","resolveCodeLens","CodeLensViewZone","onHeight","_onHeight","_lastHeight","CodeLensContentWidget","_commands","_isEmpty","_idPool","updatePosition","withCommands","animate","innerHtml","hasSymbol","lens","getCommand","_widgetPosition","CodeLensHelper","_removeDecorations","_addDecorationsCallbacks","addDecoration","decoration","removeDecoration","commit","changeAccessor","resultingDecorations","CodeLensWidget","viewZoneChangeAccessor","updateCallback","_data","_decorationIds","codeLensData","plusRange","_viewZoneId","_createContentWidgetIfNecessary","_contentWidget","updateCodeLensSymbols","computeIfNecessary","updateCommands","resolved","getLineNumber","codeLensForeground","activeLinkForeground","ICodeLensCache","CacheItem","CodeLensCache","_fakeProvider","_deserialize","onWillSaveState","SHUTDOWN","_serialize","put","copyItems","copyModel","CodeLensContribution","_commandService","_codeLensCache","_globalToDispose","_localToDispose","_lenses","_oldCodeLensModels","_modelChangeCounter","_isEnabled","_onModelChange","prevIsEnabled","_updateLensStyle","_styleClassName","_styleElement","getContainerDomNode","_localDispose","_currentCodeLensModel","fontSize","newStyle","_currentFindCodeLensSymbolsPromise","_currentResolveCodeLensSymbolsPromise","cachedLenses","_renderCodeLensSymbols","registration","scheduler","detectVisibleLenses","_detectVisibleLenses","_onViewportChanged","counterValue","changeDecorations","decorationsAccessor","viewZonesAccessor","toDispose","lastLensLineNumber","onDidScrollChange","scrollTopChanged","scrollState","capture","_disposeAllLenses","restore","cachedLensesNow","decChangeAccessor","lastGroup","maxLineNumber","viewZoneAccessor","codeLensIndex","groupsIndex","symbolsLineNumber","codeLensLineNumber","toResolve","request","resolvePromise","resolvedSymbols","getColorPresentations","colorInfo","provideColorPresentations","rawCIs","provideDocumentColors","result_2","ci","red","green","blue","alpha","presentations","ColorDetector","_codeEditorService","_decorationsIds","_colorDatas","_colorDecoratorIds","_decorationsTypes","isEnabled","onModelChanged","removeAllDecorations","_timeoutTimer","_computePromise","deprecatedConfig","colorDecorators","beginCompute","RECOMPUTE_TIME","result_1","getColors","colorInfos","updateDecorations","updateColorDecorators","colorDatas","colorData","newDecorationsTypes","rgba","subKey","registerDecorationType","contentText","margin","resolveDecorationOptions","subType","removeDecorationType","getColorData","getDecorationsInRange","BlockCommentCommand","insertSpace","_insertSpace","_usedEndToken","_haystackHasNeedleAtOffset","haystack","needle","needleLength","codeA","codeB","_createOperationsForBlockComment","startToken","endToken","startLineText","endLineText","startTokenIndex","endTokenIndex","startLineAfterStartToken","endLineBeforeEndToken","_createRemoveBlockCommentOperations","_createAddBlockCommentOperations","ops_1","addTrackedEditOperation","insert","tokenizeIfCheap","getLanguageIdAtPosition","getComments","blockCommentStartToken","blockCommentEndToken","inverseEditOperations","getInverseEditOperations","startTokenEditOperation","endTokenEditOperation","srcRange","deltaColumn","LineCommentCommand","_tabSize","_type","_deltaColumn","_moveEndPositionDown","_gatherPreflightCommentStrings","commentStr","lineCommentToken","commentStrOffset","commentStrLength","_analyzeLines","shouldRemoveComments","onlyWhitespaceLines","lineData","lineContentStartOffset","commentStrEndOffset","supported","_gatherPreflightData","_executeLineComments","_createRemoveLineCommentsOperations","_normalizeInsertionPoint","_createAddLineCommentsOperations","cursorPosition","_attemptRemoveBlockComment","startTokenAllowedBeforeColumn","_executeBlockComment","firstNonWhitespaceIndex","selectionStartColumn","afterCommentStr","nextVisibleColumn","currentVisibleColumn","isTab","columnSize","lenJ","minVisibleColumn","j_1","lenJ_1","CommentLineAction","modelOptions","commentsOptions","ToggleCommentLineAction","AddLineCommentAction","RemoveLineCommentAction","BlockCommentAction","linux","selections_2","ContextSubMenu","ContextMenuController","_contextViewService","_menuService","_toDispose","_contextMenuIsBeingShownCount","_onContextMenu","onMouseWheel","hasSelectionAtPosition","_getMenuActions","_doShowContextMenu","menu","createMenu","groups_1","addedItems","subActions","submenu","oldHoverSetting","hover","getActionViewItem","_keybindingFor","isMenu","customActionViewItem","wasCancelled","ShowContextMenu","CursorState","thisLen","equalsSelection","StackElement","cursorState","CursorUndoRedoController","_isCursorUndoRedo","_undoStack","_redoStack","onDidChangeCursorSelection","oldSelections","oldModelVersionId","modelVersionId","prevState","getScrollTop","getScrollLeft","cursorUndo","_applyState","cursorRedo","stackElement","CursorUndo","CursorRedo","DragAndDropCommand","targetPosition","copy","targetSelection","hasTriggerModifier","DragAndDropController","_onEditorMouseDown","_onEditorMouseUp","onMouseDrag","_onEditorMouseDrag","onMouseDrop","_onEditorMouseDrop","onEditorKeyDown","onEditorKeyUp","onDidBlurEditorWidget","onEditorBlur","_dndDecorationIds","_mouseDown","_modifierPressed","_dragSelection","_removeDecoration","mouseStyle","TRIGGER_KEY_VALUE","possibleSelections","showAt","_hitContent","_hitMargin","newCursorPosition_1","primarySelection","_DECORATION_OPTIONS","FindDecorations","_overviewRulerApproximateDecorations","_findScopeDecorationId","_rangeHighlightDecorationId","_highlightedDecorationId","_startPosition","_allDecorations","getCount","getFindScope","newStartPosition","setCurrentFindMatch","_getDecorationIndex","getCurrentMatchesPosition","desiredRange","candidates_1","candidateOpts","_FIND_MATCH_DECORATION","_CURRENT_FIND_MATCH_DECORATION","newCurrentDecorationId","matchPosition","changeDecorationOptions","rng","lineBeforeEnd","lineBeforeEndMaxColumn","findScope","findMatchesOptions","newOverviewRulerApproximateDecorations","_FIND_MATCH_NO_OVERVIEW_DECORATION","approxPixelsPerLine","mergeLinesDelta","prevStartLineNumber","prevEndLineNumber","_FIND_MATCH_ONLY_OVERVIEW_DECORATION","newFindMatchesDecorations","_FIND_SCOPE_DECORATION","matchBeforePosition","matchAfterPosition","Inline","ReplaceAllCommand","editorSelection","replaceStrings","_editorSelection","_ranges","_replaceStrings","_trackedEditorSelectionId","o1","o2","resultOps","previousOp","resultOps_1","buildReplaceStringWithCasePreserved","containsHyphens","validateSpecificSpecialCharacter","containsUnderscores","buildReplaceStringForSpecificSpecialCharacter","specialCharacter","splitPatternAtSpecialCharacter","splitMatchAtSpecialCharacter","replaceString","splitValue","StaticValueReplacePattern","staticValue","DynamicPiecesReplacePattern","ReplacePattern","fromStaticValue","ReplacePiece","buildReplaceString","preserveCase","_substitute","matchIndex","remainder","ReplacePieceBuilder","_source","_lastCharIndex","_result","_resultLen","_currentStaticPiece","emitUnchanged","toCharIndex","_emitStatic","emitStatic","emitMatchIndex","finalize","CONTEXT_FIND_WIDGET_VISIBLE","CONTEXT_FIND_INPUT_FOCUSED","CONTEXT_REPLACE_INPUT_FOCUSED","ToggleCaseSensitiveKeybinding","ToggleWholeWordKeybinding","ToggleRegexKeybinding","ToggleSearchScopeKeybinding","FIND_IDS","FindModelBoundToEditorModel","_startSearchingTimer","_updateDecorationsScheduler","research","_ignoreModelContentChanged","isFlush","onFindReplaceStateChange","_onStateChanged","searchScope","searchString","isReplaceRevealed","wholeWord","isTooLargeForSyncing","setIfNotSet","moveCursor","_getSearchRange","newFindScope","_findMatches","changeMatchInfo","_moveToNextMatch","_hasMatches","matchesCount","_cannotFind","_setCurrentFindMatch","matchesPosition","_prevSearchPosition","isUsingLineStops","_moveToPrevMatch","isRecursed","prevMatchRange","searchRange","prevMatch","containsRange","moveToPrevMatch","_nextSearchPosition","nextMatchRange","_getNextMatch","captureMatches","forceMove","moveToNextMatch","_getReplacePattern","chCode","nextChCode","nextNextChCode","parseReplaceString","replacePattern","_executeEditorCommand","limitResultCount","_largeReplaceAll","_regularReplaceAll","searchData","parseSearchRequest","searchRegex","multiline","mod","resultText","modelText","fullModelRange","hasReplacementPatterns","selectAllMatches","inputActiveOptionBorder","inputActiveOptionBackground","Checkbox","_onKeyDown","_opts","_checked","isChecked","actionClassName","checked","onkeydown","newIsChecked","NLS_CASE_SENSITIVE_CHECKBOX_LABEL","NLS_WHOLE_WORD_CHECKBOX_LABEL","NLS_REGEX_CHECKBOX_LABEL","CaseSensitiveCheckbox","appendTitle","WholeWordsCheckbox","RegexCheckbox","FindOptionsWidget","_hideSoon","_hide","inputActiveOptionBorderColor","inputActiveOptionBackgroundColor","caseSensitive","_keybindingLabelFor","wholeWords","somethingChanged","isRevealed","_revealTemporarily","_onMouseOut","_onMouseOver","actionId","highlightFindOptions","inputStyles","effectiveOptionValue","override","FindReplaceState","_onFindReplaceStateChange","_searchString","_replaceString","_isRevealed","_isReplaceRevealed","_isRegex","_isRegexOverride","_wholeWord","_wholeWordOverride","_matchCase","_matchCaseOverride","_preserveCase","_preserveCaseOverride","_searchScope","_matchesPosition","_matchesCount","_currentMatch","currentMatch","changeEvent","updateHistory","oldEffectiveIsRegex","oldEffectiveWholeWords","oldEffectiveMatchCase","oldEffectivePreserveCase","isRegexOverride","wholeWordOverride","matchCaseOverride","preserveCaseOverride","NLS_DEFAULT_LABEL","FindInput","_showOptionButtons","fixFocusOnOptionClickEnabled","_onDidOptionChange","onDidOptionChange","_onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","viaKeyboard","newIndex","controls","onkeyup","onmousedown","setFocusInputOnOptionClick","setEnabled","checkBoxStyles","inputBoxStyles","getCaseSensitive","setCaseSensitive","getWholeWords","setWholeWords","getRegex","setRegex","focusOnCaseSensitive","clearMessage","NLS_PRESERVE_CASE_LABEL","PreserveCaseCheckbox","ReplaceInput","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","getPreserveCase","setPreserveCase","focusOnPreserve","newWidth","getContextScopedWidget","contextKey","getContext","createAndBindHistoryNavigationWidgetScopedContextKeyService","scopedContextKeyService","createScoped","createWidgetScopedContextKeyService","bindContextScopedWidget","historyNavigationEnablement","ContextScopedFindInput","showFindOptions","historyNavigator","ContextScopedReplaceInput","showReplaceOptions","arg2","NLS_FIND_INPUT_LABEL","NLS_FIND_INPUT_PLACEHOLDER","NLS_PREVIOUS_MATCH_BTN_LABEL","NLS_NEXT_MATCH_BTN_LABEL","NLS_TOGGLE_SELECTION_FIND_TITLE","NLS_CLOSE_BTN_LABEL","NLS_REPLACE_INPUT_LABEL","NLS_REPLACE_INPUT_PLACEHOLDER","NLS_REPLACE_BTN_LABEL","NLS_REPLACE_ALL_BTN_LABEL","NLS_TOGGLE_REPLACE_MODE_BTN_LABEL","NLS_MATCHES_COUNT_LIMIT_TITLE","NLS_MATCHES_LOCATION","NLS_NO_RESULTS","MAX_MATCHES_COUNT_WIDTH","ctrlKeyMod","FindWidgetViewZone","heightInPx","stopPropagationForMultiLineUpwards","textarea","isMultiline","stopPropagationForMultiLineDownwards","FindWidget","_cachedHeight","_codeEditor","_controller","_contextViewProvider","_ctrlEnterReplaceAllWarningPrompted","getBoolean","_isReplaceVisible","_ignoreChangeEvent","_updateHistoryDelayer","_buildDomNode","_updateButtons","_tryUpdateWidgetWidth","_findInput","updateAccessibilitySupport","addExtraSpaceOnTop","_showViewZone","_removeViewZone","_updateToggleSelectionFindButton","onDidFocusEditorWidget","globalBufferTerm","getGlobalBufferTerm","_findInputFocused","_findFocusTracker","_updateSearchScope","_replaceInputFocused","_replaceFocusTracker","_replaceInput","_layoutViewZone","_reveal","_tryUpdateHeight","_toggleSelectionFind","showRedOutline","_updateMatchesCount","_delayedUpdateHistory","_updateHistory","minWidth","_getAriaLabel","clientWidth","isSelection","_closeBtn","findInputIsNonEmpty","_prevBtn","_nextBtn","_replaceBtn","_replaceAllBtn","_toggleReplaceBtn","toggleClass","setExpanded","canReplace","autoFindInSelection","isSelectionMultipleLine","adjustEditorScrollTop","seedSearchStringFromSelection","startCoords","startLeft","startTop","leftOfFindWidget","endCoords","focusTheEditor","viewZone","adjustScroll","scrollAdjustment","contentWidth","editorWidth","collapsedFindWidget","reducedFindWidget","narrowFindWidget","_resized","maxWidth","FIND_WIDGET_INITIAL_WIDTH","findInputWidth","totalheight","totalHeight","focusFindInput","focusReplaceInput","_onFindInputMouseDown","_onFindInputKeyDown","_onReplaceInputKeyDown","_sash","PART_WIDTH","onTrigger","getAction","findPart","replaceActionsContainer","originalWidth","currentWidth","SimpleButton","shouldHaveIt","addBackgroundColorRule","selector","findMatchHighlightBorder","findMatchBorder","findRangeHighlightBorder","resizeBorderBackground","focusOutline","getSelectionSearchString","wordAtPosition","getWordAtPosition","CommonFindController","clipboardService","_findWidgetVisible","_clipboardService","loadQueryState","shouldRestartFind","disposeModel","_start","forceRevealReplace","seedSearchStringFromGlobalClipboard","shouldFocus","shouldAnimate","updateSearchScope","saveQueryState","setGlobalBufferTerm","actualIsRegex","actualWholeWord","actualMatchCase","actualPreserveCase","isFindInputFocused","getState","closeFindWidget","toggleCaseSensitive","toggleWholeWords","toggleRegex","toggleSearchScope","setSearchString","selectionSearchString","stateChanges","currentSelection","globalFindClipboard","readFindText","writeFindText","FindController","_themeService","_findOptionsWidget","_createFindWidget","StartFindAction","StartFindWithSelectionAction","MatchFindAction","_run","NextMatchFindAction","NextMatchFindAction2","PreviousMatchFindAction","PreviousMatchFindAction2","SelectionMatchFindAction","NextSelectionMatchFindAction","PreviousSelectionMatchFindAction","StartFindReplaceAction","findInputFocused","FindCommand","FoldingRegions","startIndexes","endIndexes","_startIndexes","_endIndexes","_collapseStates","Uint32Array","_types","_parentsComputed","ensureParentIndices","parentIndexes_1","isInsideLast","getStartLineNumber","getEndLineNumber","parentIndex","getType","hasTypes","isCollapsed","arrayIndex","setCollapsed","toRegion","FoldingRegion","getParentIndex","findIndex","low","high","mid","findRange","containedBy","containsLine","FoldingModel","textModel","decorationProvider","_updateEventEmitter","_textModel","_decorationProvider","_regions","_editorDecorationIds","_isInitialized","toggleCollapseState","regions","processed","regions_1","regionIndex","editorDecorationId","newCollapseState","getDecorationOption","collapseStateChanged","newRegions","blockedLineNumers","newEditorDecorations","initRange","blockedLineNumers_1","blockedLineNumber","isBlocked","maxColumn","decorationRange","nextCollapsed","collapsedIndex","decRange","collapsedStartLineNumber","getMemento","collapsedRanges","applyMemento","toToogle","state_1","region","getRegionAtLine","getAllRegionsAtLine","level","getRegionsInside","levelStack","setCollapseStateLevelsDown","foldingModel","doCollapse","levels","lineNumbers","toToggle","lineNumbers_2","regionsInside","setCollapseStateLevelsUp","lineNumbers_3","setCollapseStateForMatchingLines","regExp","setCollapseStateForType","FoldingDecorationProvider","autoHideFoldingControls","showFoldingHighlights","COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION","COLLAPSED_VISUAL_DECORATION","EXPANDED_AUTO_HIDE_VISUAL_DECORATION","EXPANDED_VISUAL_DECORATION","afterContentClassName","linesDecorationsClassName","HiddenRangeModel","_foldingModel","_foldingModelListener","updateHiddenRanges","_hiddenRanges","updateHiddenAreas","newHiddenAreas","lastCollapsedStart","lastCollapsedEnd","applyHiddenRanges","hiddenRanges","hasRanges","adjustSelections","hasChanges","lastRange","adjustLine","isInside","adjustedStartLine","adjustedEndLine","IndentRangeProvider","compute","cancelationToken","foldingRules","getFoldingRules","offSide","markers","foldingRangesLimit","previousRegions","endAbove","line_1","insertFirst","toIndentRanges","computeRanges","RangesCollector","_indentOccurrences","_length","_foldingRangesLimit","maxIndent","foldingContext","SyntaxRangeProvider","cancellationToken","rangeData","provideFoldingRanges","nLines","ranges_1","rank","collectSyntaxRanges","sanitizeRanges","_nestingLevels","_nestingLevelCounts","nestingLevel","maxLevel","sorted","d1","d2","sorted_1","InitializingRangeProvider","initialRanges","onTimeout","timeoutTime","decorationIds","getLineLength","timeout","foldingRangeData","CONTEXT_FOLDING_ENABLED","FoldingController","localToDispose","_useFoldingProviders","hiddenRangeModel","rangeProvider","foldingRegionPromise","foldingStateMemento","foldingModelPromise","updateScheduler","cursorChangedScheduler","mouseDownInfo","foldingDecorationProvider","foldingEnabled","options_1","options_2","onModelContentChanged","options_3","onFoldingStrategyChanged","saveViewState","isTooLargeForTokenization","collapsedRegions","isInitialized","restoreViewState","getFoldingModel","hr","onHiddenRangesChanges","revealCursor","onCursorPositionChanged","onEditorMouseDown","onEditorMouseUp","getRangeProvider","foldingProviders","selectionLineNumbers","setHiddenAreas","iconClicked","offsetLeftInGutter","offsetLeft","revealPositionInCenterIfOutsideViewport","FoldingAction","foldingController","reportTelemetry","invoke","getSelectedLines","getLineNumbers","selectionLines","foldingArgumentsConstraint","foldingArgs","direction","every","UnfoldAction","constraint","_foldingController","UnFoldRecursivelyAction","_args","FoldAction","lineNumbers_4","setCollapseStateUp","ToggleFoldAction","doCollapse_1","lineNumbers_1","FoldRecursivelyAction","selectedLines","FoldAllBlockCommentsAction","Comment","comments","FoldAllRegionsAction","Region","UnfoldAllRegionsAction","FoldAllAction","UnfoldAllAction","FoldLevelAction","getFoldingLevel","ID_PREFIX","foldLevel","blockedLineNumbers","setCollapseStateAtLevel","foldBackgroundBackground","foldBackground","EditorFontZoomIn","setZoomLevel","getZoomLevel","EditorFontZoomOut","EditorFontZoomReset","FormattingEdit","_handleEolEdits","edits","newEol","singleEdits","edits_1","pushEOL","_isFullModelReplaceEdit","editRange","execute","_edits","replaceMove","ExtensionIdentifier","_lower","toKey","alertFormattingEdits","getRealAndSyntheticDocumentFormattersOrdered","seen","docFormatter_1","formatter","extensionId","displayName","provideDocumentFormattingEdits","provideDocumentRangeFormattingEdits","rangeFormatter_1","FormattingConflicts","_selectors","formatDocumentRangeWithSelectedProvider","editorOrModel","instaService","selected","formatDocumentRangeWithProvider","workerService","rawEdits","range_1","initialSelection_1","getFormattingOptions","computeMoreMinimalEdits","undoEdits","undoEdits_1","range_2","areIntersectingOrTouching","formatDocumentWithSelectedProvider","formatDocumentWithProvider","initialSelection_2","undoEdits_2","range_3","getDocumentRangeFormattingEditsUntilResult","providers_1","getDocumentFormattingEditsUntilResult","providers_2","getOnTypeFormattingEdits","autoFormatTriggerCharacters","provideOnTypeFormattingEdits","isUri","FormatOnType","_workerService","_callOnModel","support","triggerChars","onDidType","lastCharCode","unbind","FormatOnPaste","onDidPaste","FormatDocumentAction","hasDocumentFormattingProvider","FormatSelectionAction","hasDocumentSelectionFormattingProvider","hasNonEmptySelection","getLocationLinks","provide","getDefinitionsAtPosition","provideDefinition","getDeclarationsAtPosition","provideDeclaration","getImplementationsAtPosition","provideImplementation","getTypeDefinitionsAtPosition","provideTypeDefinition","getReferencesAtPosition","compact","resultWithoutDeclaration","provideReferences","includeDeclaration","ctxHasSymbols","ISymbolNavigationService","SymbolNavigationService","_currentModel","_currentIdx","_ignoreEditorChange","_ctxHasSymbols","_currentState","_currentMessage","refModel","editorState","getActiveCodeEditor","seenUri","seenPosition","revealNext","revealInCenterIfOutsideViewport","status","_f","_g","_h","EditorState","_listener","onCodeEditorRemove","_onDidRemoveEditor","onCodeEditorAdd","_onDidAddEditor","listCodeEditors","SymbolNavigationAction","_configuration","symbolNavService","_getLocationModel","altAction","altActionId","referenceCount","_getAlternativeCommand","muteMessage","_getNoResultFoundMessage","_onResult","gotoLocation","targetEditor","_getGoToPreference","openInPeek","_openInPeek","_openReference","openToSide","modelNow_1","ids_1","DefinitionAction","alternativeDefinitionCommand","multipleDefinitions","goToDefinitionKb","GoToDefinitionAction","hasDefinitionProvider","isInEmbeddedEditor","OpenDefinitionToSideAction","PeekDefinitionAction","DeclarationAction","alternativeDeclarationCommand","multipleDeclarations","GoToDeclarationAction","hasDeclarationProvider","PeekDeclarationAction","TypeDefinitionAction","alternativeTypeDefinitionCommand","multipleTypeDefinitions","GoToTypeDefinitionAction","hasTypeDefinitionProvider","PeekTypeDefinitionAction","ImplementationAction","alternativeImplementationCommand","multipleImplementations","GoToImplementationAction","hasImplementationProvider","PeekImplementationAction","ReferencesAction","alternativeReferenceCommand","multipleReferences","GoToReferencesAction","hasReferenceProvider","PeekReferencesAction","GenericGoToLocationAction","_references","_gotoMultipleBehaviour","_token","multiple","invokeWithinContext","control","MarkdownString","isTrustedOrOptions","_isTrusted","_supportThemeIcons","isTrusted","supportThemeIcons","appendText","appendMarkdown","appendCodeblock","langId","code","isEmptyMarkdownString","oneOrMany","isMarkdownString","thing","markdownStringEqual","removeMarkdownEscapes","hasModifier","modifier","triggerModifier","hasSideBySideModifier","triggerSideBySideModifier","isNoneOrSingleMouseDown","ClickLinkKeyboardEvent","keyCodeIsTriggerKey","triggerKey","keyCodeIsSideBySideKey","triggerSideBySideKey","ClickLinkOptions","createOptions","multiCursorModifier","ClickLinkGesture","_onMouseMoveOrRelevantKeyDown","onMouseMoveOrRelevantKeyDown","_onExecute","onExecute","_onCancel","lastMouseMoveEvent","hasTriggerKeyOnMouseDown","newOpts","onEditorMouseMove","resetHandler","scrollLeftChanged","GotoDefinitionAtPositionEditorContribution","toUnhook","toUnhookForKeyboard","linkDecorations","currentWordAtPosition","previousPromise","linkGesture","startFindDefinitionFromMouse","gotoDefinition","removeLinkDecorations","startFindDefinitionFromCursor","startFindDefinition","withKey","findDefinition","results","wordRange","previewValue","getPreviewValue","originSelectionRange","modeId","getModeIdByFilepathOrFirstLine","rangeToUse","getPreviewRangeBasedOnBrackets","MAX_SOURCE_PREVIEW_LINES","getPreviewRangeBasedOnIndentation","stripIndentationFromPreviewRange","previewRange","minIndent","endIndent","startIndent","ignoreFirstEmpty","currentBracket","lastBracket","isOpen","nextLineNumber","nextColumn","hoverMessage","inlineClassName","severity","Ignore","Info","Warning","errorIconForeground","warningIconForeground","infoIconForeground","onRelatedInformation","_lines","_longestLineLength","_relatedDiagnostics","_messageBlock","_relatedBlock","related","_scrollable","horizontalScrollbarSize","relatedInformation","sourceAndCodeLength","lines_1","applyFontInfo","lastLineElement","lines_2","innerText","codeElement","detailsElement","sourceElement","_codeLink","relatedInformationNode","paddingTop","relatedInformation_1","relatedResource","relatedMessage","getHeightInLines","MarkerNavigationWidget","_onDidSelectRelatedInformation","onDidSelectRelatedInformation","_severity","_backgroundColor","editorMarkerNavigationBackground","colorId","editorMarkerNavigationError","editorMarkerNavigationWarning","editorMarkerNavigationInfo","_parentContainer","_icon","_container","_message","showAtMarker","markerIdx","markerCount","computeRequiredHeight","toSeverity","revealPositionInCenter","updateMarker","showStale","_heightInPixel","errorDefault","warningDefault","infoDefault","linkFg","MarkerModel","_toUnbind","_markers","_nextIdx","_ignoreSelectionChange","_onCurrentMarkerChanged","_onMarkerSetChanged","setMarkers","currentMarker","oldMarker","compareMarker","withoutWatchingEditorPosition","_initIdx","canNavigate","inCircles","oldIdx","atEdge","findMarkerAtPosition","MarkerController","_disposeOnClose","_widgetVisible","CONTEXT_MARKERS_NAVIGATION_VISIBLE","_cleanUp","getOrCreateModel","_getMarkers","_onMarkerChanged","prevMarkerKeybinding","nextMarkerKeybinding","LABEL","closeMarkersNavigation","pinned","revealIfOpened","onCurrentMarkerChanged","onMarkerSetChanged","changedResources","severities","MarkerNavigationAction","multiFile","_isNext","_multiFile","newMarker","NextMarkerAction","PrevMarkerAction","NextMarkerInFilesAction","PrevMarkerInFilesAction","MarkerCommand","ColorPickerModel","availableColorPresentations","presentationIndex","_onColorFlushed","onColorFlushed","_onDidChangeColor","onDidChangeColor","_onDidChangePresentation","onDidChangePresentation","originalColor","_colorPresentations","colorPresentations","presentation","selectNextColorPresentation","flushColor","guessColorPresentation","originalText","ColorPickerHeader","pickedColorNode","colorBox","CLICK","isLighter","ColorPickerBody","pixelRatio","saturationBox","onDidSaturationValueChange","opacityStrip","onDidOpacityChange","hueStrip","onDidHueChange","hsva","SaturationBox","canvas","onDidChangePosition","offsetY","mouseUpListener","stopMonitoring","paintSelection","offsetWidth","offsetHeight","paint","saturatedColor","whiteGradient","createLinearGradient","addColorStop","blackGradient","rect","fillStyle","fill","isMonitoring","Strip","slider","updateSliderPosition","onDidChangeTop","OpacityStrip","opaque","HueStrip","ColorPickerWidget","header","getHover","provideHover","hasRange","hasHtmlContent","contents","__marked_exports","HoverOperation","computer","success","progress","hoverTime","_computer","_hoverTime","_firstWaitScheduler","_triggerAsyncComputation","_secondWaitScheduler","_triggerSyncComputation","_loadingMessageScheduler","_showLoadingMessage","_asyncComputationPromise","_asyncComputationPromiseDone","_completeCallback","_errorCallback","_progressCallback","setHoverTime","_firstWaitTime","_secondWaitTime","_loadingMessageTime","computeAsync","asyncResult","_withAsyncResult","_onError","computeSync","onResult","_onComplete","getResult","_onProgress","getResultWithLoadingMessage","ContentHoverWidget","_stoleFocus","_containerDomNode","updateFont","_showAtPosition","_showAtRange","getElementsByClassName","updateContents","onContentsChange","scanDomNode","GlyphHoverWidget","_showAtLineNumber","topForLineNumber","editorScrollTop","glyphMarginLeft","glyphMarginWidth","codeTags","getElementsByTagName","codeClasses","newline","fences","heading","nptable","blockquote","def","table","lheading","paragraph","Lexer","marked","rules","normal","pedantic","gfm","tables","_label","bullet","_tag","_comment","merge","lex","src","loose","cap","bull","listStart","listItems","space","tag","isordered","istask","ischecked","rtrim","lang","splitCells","align","cells","smartLists","task","sanitize","pre","autolink","reflink","nolink","strong","em","br","del","InlineLexer","breaks","TextRenderer","Parser","slugger","Slugger","encode","escapeTest","escapeReplace","replacements","escapeTestNoEncode","escapeReplaceNoEncode","unescape","opt","cleanUrl","prot","decodeURIComponent","originIndependentUrl","baseUrls","resolveUrl","encodeURI","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","prevCapZero","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","escapes","codespan","mangle","smartypants","image","random","infostring","langPrefix","quote","headerIds","headerPrefix","slug","xhtml","listitem","checkbox","tablerow","tablecell","flags","baseUrl","inlineText","tok","parseText","cell","errMsg","silent","log","originalSlug","tableRow","invert","suffLen","currChar","pending","getDefaults","parser","lexer","inlineLexer","__insane_func","u","1","require","toMap","uris","2","allowedAttributes","iframe","img","allowedClasses","allowedSchemes","allowedTags","3","voids","4","insane","strict","5","6","assignment","7","he","lowercase","rstart","rend","rattrs","rtag","rtagend","createStack","parsePart","parseEdge","parseEndTag","parseStartTag","parseTagDecode","parseTag","same","rest","unary","attrs","doubleQuotedValue","singleQuotedValue","unquotedValue","decode","8","attributes","ignoring","classesOk","attrsOk","lkey","colon","questionmark","testUrl","unignore","transformText","9","rescaped","runescaped","escapeHtmlChar","unescapeHtmlChar","escapeHtml","unescapeHtml","version","10","asKey","accumulator","renderMarkdown","markdown","signalInnerHTML","_uriMassage","revive","isDomUri","withInnerHTML","dimensions","splitted","parameters","heightFromParams","widthFromParams","widthIsFinite","isFinite","heightIsFinite","parseHrefAndDimensions","codeBlockRenderer","values","strValue","span","codeBlockRenderCallback","dataset","markedOptions","http","https","mailto","vscodeRemote","vscodeRemoteResource","renderedMarkdown","MarkdownRenderer","_onDidRenderCodeBlock","onDidRenderCodeBlock","languageAlias","getModeIdForLanguageName","triggerMode","getPromise","fontFamily","fromUserGesture","ColorHover","MarkerHover","ModesContentComputer","_markerDecorationsService","setRange","clearResult","colorDetector","lineDecorations","getLineDecorations","didFindColor","hoverRange","getMarker","isFromSynchronousComputation","_getLoadingMessage","markerCodeActionTrigger","ModesContentHoverWidget","markerDecorationsService","renderDisposable","_messages","_lastRange","_highlightDecorations","_isChangingDecorations","_shouldFocus","_colorPicker","_hoverOperation","_withResult","delay","_renderMessages","onModelDecorationsChanged","startShowingAt","filteredMessages","second","firstElement","secondElement","makeKey","hoverContentsEquals","isColorPickerVisible","complete","renderRange","messages","renderColumn","highlightRange","createDocumentFragment","isEmptyHoverContent","containColorPicker","markdownDisposeables","markerMessages","color_1","editorModel_1","widget_1","updateEditorModel","textEdits","textEdit","identifier","additionalTextEdits","updateColorPresentations","colorListener","colorChangeListener","markdownHoverElement","hoverContentsElement","renderedContents","renderMarkerHover","markerHoverForStatusbar","renderMarkerStatusbar","markerHover","hoverElement","markerElement","messageElement","sourceAndCodeElement","message_1","relatedInfoContainer","marginTop","messageElement_1","this_1","actionsElement","renderAction","quickfixPlaceholderElement","transition","codeActionsPromise","showing","elementPosition","actionOptions","actionContainer","MarginComputer","_lineNumber","setLineNumber","toHoverMessage","lineDecorations_1","glyphMarginClassName","glyphMarginHoverMessage","ModesGlyphHoverWidget","openerService","_renderDisposeables","_lastLineNumber","_markdownRenderer","messages_1","ModesHoverController","_toUnhook","_glyphWidget","_isMouseDown","_hoverClicked","_hookEvents","_didChangeConfigurationHandler","_hideWidgets","_unhookEvents","_createHoverWidgets","hideWidgetsEventHandler","hoverOpts","_isHoverEnabled","_isHoverSticky","sticky","_onEditorMouseMove","onDidChangeModelDecorations","_onModelDecorationsChanged","onMouseLeave","_onEditorScrollChanged","contentWidget","glyphWidget","targetType","epsilon","typicalHalfwidthCharacterWidth","isAfterLines","horizontalDistanceToText","showContentHover","ShowHoverAction","ShowDefinitionPreviewHoverAction","editorHoverHighlightColor","hoverBackground","hoverBorder","hoverForeground","actionsBackground","codeBackground","InPlaceReplaceCommand","originalSelection","_editRange","_originalSelection","_text","InPlaceReplaceController","editorWorkerService","currentRequest","modelURI","canNavigateValueSet","navigateValueSet","DECORATION","decorationRemover","InPlaceReplaceUp","InPlaceReplaceDown","TrimTrailingWhitespaceCommand","_cursors","rLen","cursorIndex","cursorLen","maxLineColumn","minEditColumn","lastNonWhitespaceIndex","fromColumn","trimTrailingWhitespace","CopyLinesCommand","isCopyingDown","_isCopyingDown","_selectionDirection","_startLineNumberDelta","_endLineNumberDelta","sourceLines","sourceText","createWithDirection","getSpaceCnt","spacesCnt","generateIndent","tabsCnt","MoveLinesCommand","isMovingDown","autoIndent","_isMovingDown","_autoIndent","_moveEndLineSelectionShrink","modelLineCount","indentSize","indentConverter","buildIndentConverter","virtualModel","getLineTokens","otherLineNumber","movingLineNumber_1","movingLineText","insertingText_1","shouldAutoIndent","movingLineMatchResult","matchEnterRule","newIndentation","newSpaceCnt","oldIndentation","trimLeft","indentOfMovingLine","getGoodIndentForLine","oldSpaceCnt","getIndentEditsOfMovingBlock","newIndentatOfMovingBlock","spaceCntOffset","indentOfFirstLine","oldIndent","shiftIndent","unshiftIndent","oneLineAbove","oneLineAboveText","validPrecedingLine","enter","getEnterAction","enterPrefix","indentAction","Indent","IndentOutdent","Outdent","indentMetadataOfMovelingLine","getIndentMetadata","isCheapToTokenize","languageAtSelectionStart","getIndentRulesSupport","originalIndent","SortLinesCommand","descending","selectionId","getCollator","_COLLATOR","Intl","Collator","getSortData","sortLines","canRun","linesToSort","AbstractCopyLinesAction","down","CopyLinesUpAction","CopyLinesDownAction","DuplicateSelectionAction","insertSelection","AbstractMoveLinesAction","selections_3","MoveLinesUpAction","MoveLinesDownAction","AbstractSortLinesAction","selections_4","SortLinesAscendingAction","SortLinesDescendingAction","TrimTrailingWhitespaceAction","DeleteLinesAction","_getLinesToRemove","linesDeleted","operations","mergedOperations","previousOperation","IndentLinesAction","OutdentLinesAction","InsertLineBeforeAction","lineInsertBefore","InsertLineAfterAction","lineInsertAfter","AbstractDeleteAllToBoundaryAction","primaryCursor","rangesToDelete","_getRangesToDelete","effectiveRanges","nextRange","endCursorState","_getEndCursorState","DeleteAllLeftAction","endPrimaryCursor","deletedLines","endCursor","newStartLine","deleteFromLine","deleteFromColumn","DeleteAllRightAction","JoinLinesAction","reducedSelections","previousValue","columnDeltaOffset","selectionEndPositionOffset","trimmedLinesContent","i_1","firstNonWhitespaceIdx","lineTextWithoutIndent","deleteSelection","resultSelection","TransposeAction","AbstractCaseAction","wordSeparators","_modifyText","UpperCaseAction","toLocaleUpperCase","LowerCaseAction","toLocaleLowerCase","TitleCaseAction","excludedChars","startUpperCase","currentChar","Link","_link","_provider","toJSON","tooltip","resolveLink","LinksList","tuples","newLinks","_union","tuples_1","oldLinks","oldIndex","oldLen","newLen","oldLink","newLink","getLinks","lists","provideLinks","general","collapseOnReplaceEdit","active","LinkOccurrence","useMetaKey","_getOptions","isActive","executeCmd","getHoverMessage","activate","deactivate","LinkDetector","listenersToRemove","clickLinkGesture","cleanUpActiveLinkDecoration","onModelModeChanged","computePromise","activeLinksList","currentOccurrences","activeLinkDecorationId","occurance","occurrence_1","getLinkOccurrence","occurrence_2","occurrence","openLinkOccurrence","messageOrError","decorations_1","decoration_1","currentOccurrence","OpenLinkAction","linkDetector","InsertCursorAbove","useLogicalLine","logicalLine","pushStackElement","setStates","addCursorUp","getAll","InsertCursorBelow","addCursorDown","InsertCursorAtEndOfEachLineSelected","getCursorsForSelection","currentLineMaxColumn","InsertCursorAtEndOfLineSelected","InsertCursorAtTopOfLineSelected","MultiCursorSessionResult","revealScrollType","MultiCursorSession","findController","isDisconnectedFromFindController","searchText","findState","addSelectionToNextFindMatch","allSelections","moveSelectionToNextFindMatch","lastAddedSelection","addSelectionToPreviousFindMatch","previousMatch","_getPreviousMatch","moveSelectionToPreviousFindMatch","selectAll","MultiCursorSelectionController","_sessionDispose","_session","_endSession","_beginSessionIfNeeded","session","_setSelections","_expandEmptyToWord","_applySessionResult","getSession","modelRangesContainSameText","resultingSelections","inSelection","MultiCursorSelectionControllerAction","multiCursorController","AddSelectionToNextFindMatchAction","AddSelectionToPreviousFindMatchAction","MoveSelectionToNextFindMatchAction","MoveSelectionToPreviousFindMatchAction","SelectHighlightsAction","CompatChangeAll","SelectionHighlighterState","softEquals","SelectionHighlighter","updateSoon","_setState","_createState","findStateSearchString","mySearchString","hasFindOccurrences","allMatches","cmp","areIntersecting","_SELECTION_HIGHLIGHT","_SELECTION_HIGHLIGHT_OVERVIEW","Context","Visible","MultipleSignatures","provideSignatureHelp","supports","triggerKind","Invoke","isRetrigger","triggerCharacter","ParameterHintState","Default","Pending","Active","hints","ParameterHintsModel","DEFAULT_DELAY","_onChangedHints","onChangedHints","triggerOnType","_pendingTriggers","_lastSignatureHelpResult","retriggerChars","triggerId","throttledDelayer","onEditorConfigurationChange","onCursorChange","onModelContentChange","doTrigger","signatures","activeSignature","cycle","updateActiveSignature","activeSignatureHelp","triggerContext","error_1","mergeTriggerContexts","isTriggered","signatureHelpTriggerCharacters","signatureHelpRetriggerCharacters","lastCharIndex","triggerCharCode","TriggerCharacter","ContentChange","ParameterHintsWidget","renderDisposeables","announcedLabel","markdownRenderer","keyVisible","keyMultipleSignatures","newParameterHints","createParamaterHintDOMNodes","overloads","onPreviousClick","onNextClick","signature","docs","userSelect","domNodes","updateMaxHeight","hasParameters","renderParameters","activeParameter","documentation","hasDocs","labelToAnnounce","getParameterLabel","currentParameter","getParameterLabelOffsets","beforeSpan","paramSpan","afterSpan","paramIdx","ParameterHintsController","TriggerParameterHintsAction","hasSignatureHelpProvider","ParameterHintsCommand","CONTEXT_RENAME_INPUT_VISIBLE","RenameInputField","_acceptKeybindings","_visibleContextKey","_updateFont","_updateStyles","_input","updateLabel","fontWeight","acceptInput","wantsPreview","_currentAcceptInput","cancelInput","_currentCancelInput","supportPreview","disposeOnDone","newName","revealLineInCenterIfOutsideViewport","RenameSkeleton","_providers","hasProvider","resolveRenameLocation","firstProvider","provideRenameEdits","rejects","rejectReason","RenameController","_instaService","_bulkEditService","_logService","_configService","_dispoableStore","_cts","_renameInputField","skeleton","loc","resolveLocationOperation","inputFieldResult","renameOperation","hasPreviewHandler","renameResult","showPreview","ariaSummary","acceptRenameInput","cancelRenameInput","RenameAction","hasRenameProvider","RenameCommand","as","Configuration","registerConfiguration","WordSelectionRangeProvider","provideSelectionRanges","positions_1","bucket","_addInWordRanges","_addWordRanges","_addWhitespaceLine","getLineLastNonWhitespaceColumn","BracketSelectionRangeProvider","_bracketsRightYield","_bracketsLeftYield","counts","t1","_maxRounds","_maxDuration","findPrevBracket","closing","innerBracket","outerBracket","_addBracketLeading","aboveLine","column_1","SelectionRanges","mov","SmartSelectController","_ignoreSelection","_selectionListener","arrays","AbstractSmartSelect","GrowSelectionAction","ShrinkSelectionAction","work","allRawRanges","allProviderRanges","oneProviderRanges","oneRawRanges","oneRanges","oneRawRanges_1","oneRangesWithTrivia","rangeNoWhitespace","rangeFull","MultipleSuggestions","MakesTextEdit","AcceptSuggestionsOnEnter","completion","isResolved","distance","textLabel","labelLow","sortTextLow","sortText","filterTextLow","filterText","editStart","editInsertEnd","editReplaceEnd","cached_1","resolveCompletionItem","onCancellationRequested","CompletionOptions","snippetSortOrder","kindFilter","providerFilter","provideSuggestionItems","defaultReplaceRange","defaultInsertRange","orderedGroups","allSuggestions","hasResult","factory","provideCompletionItems","suggestions","suggestion","_snippetSuggestSupport","getSuggestionComparator","defaultComparator","_snippetComparators","snippetConfig","resolving","maxItemsToResolve","items_1","incomplete","onlyOnceSuggestions","Scanner","isDigitCharacter","isVariableCharacter","_table","_children","Text","others","newChildren","_fixParent","children_1","child_1","TextmateSnippet","_this_1","TransformableMarker","Placeholder","compareByIndex","isFinalTabstop","Choice","Transform","regexp","didMatch","_replace","FormatString","elseValue","shorthandName","ifValue","_toPascalCase","Variable","walk","visitor","marker_1","_placeholders","last_1","all_1","placeholderInfo","fullLen","enclosingPlaceholders","resolveVariables","SnippetParser","_scanner","insertFinalTabstop","enforceFinalTabstop","snippet","_parse","placeholderDefaultValues","incompletePlaceholders","placeholderCount","incompletePlaceholders_1","defaultValues","defaultValues_1","_accept","_backTo","_until","nextToken","_parseEscaped","_parseTabstopOrVariableName","_parseComplexPlaceholder","_parseComplexVariable","_parseAnything","_parseTransform","choice","_parseChoiceElement","variable","regexValue","regexOptions","_parseFormatString","complex","shorthand","isSingleFolderWorkspaceIdentifier","CompositeSnippetVariableResolver","_delegates","SelectionBasedVariableResolver","lineLeadingWhitespace","varLeadingWhitespace_1","whitespaceCommonLength_1","ModelBasedVariableResolver","_labelService","ClipboardBasedVariableResolver","_readClipboardText","_selectionIdx","_selectionCount","_spread","clipboardText","CommentBasedVariableResolver","TimeBasedVariableResolver","getFullYear","getMonth","valueOf","getDate","getHours","getMinutes","getSeconds","dayNames","getDay","dayNamesShort","monthNames","monthNamesShort","WorkspaceBasedVariableResolver","_workspaceService","workspaceIdentifier","workspace","configPath","toWorkspaceIdentifier","_resolveWorkspaceName","_resoveWorkspacePath","filename","folderpath","RandomBasedVariableResolver","getColorGraceful","OneSnippet","_nestingLevel","_snippet","_offset","_placeholderGroups","placeholders","_placeholderGroupsIdx","_placeholderDecorations","toRemove_1","_initDecorations","placeholderOffset","placeholderLen","_decor","inactiveFinal","inactive","couldSkipThisPlaceholder","activePlaceholders","_hasPlaceholderBeenCollapsed","activeFinal","enclosingPlaceholder","id_1","computePossibleSelections","placeholdersWithEqualIndex_1","nested","assert","indexLastPlaceholder","nestedPlaceholder","placeholder_1","_defaultOptions","overwriteBefore","overwriteAfter","adjustWhitespace","SnippetSession","_templateMerges","_snippets","_template","adjustIndentation","adjustNewlines","templateLeadingWhitespace","normalizeIndentation","getEOL","adjustSelection","positionColumnBefore","positionColumnAfter","createEditsAndSnippets","snippets","workspaceService","modelBasedVariableResolver","readClipboardText","readTextSync","firstBeforeText","firstAfterText","firstLineFirstNonWhitespace","indexedSelections","indexedSelections_1","extensionBefore","extensionAfter","snippetSelection","_logInfo","hasPlaceholder","_move","oneSelection","isAtFirstPlaceholder","isAtLastPlaceholder","isSelectionWithinPlaceholders","allPossibleSelections","undoStopBefore","undoStopAfter","SnippetController2","_snippetListener","_modelVersionId","_inSnippet","InSnippetMode","_hasNextTabstop","HasNextTabstop","_hasPrevTabstop","HasPrevTabstop","_doInsert","getAlternativeVersionId","_updateState","_handleChoice","_currentChoice","first_1","insertText","triggerSuggest","resetSelection","isInSnippet","CommandCtor","ctrl","Memory","topScore","preselect","NoMemory","memorize","LRUMemory","_seq","touch","lineSuffix","indexPreselect","indexRecency","seq","data_1","PrefixMemory","_trie","forStrings","findSubstr","data_2","SuggestMemoryService","_storagePrefix","share","_persistSoon","_saveState","affectsConfiguration","onDidChangeStorage","_mode","_shareMem","shareMem","_strategy","ISuggestMemoryService","FileKind","SuggestAlternatives","_index","_ckOtherSuggestions","OtherSuggestions","_acceptNext","_ignore","acceptNext","_moveIndex","CompletionModel","lineContext","wordDistance","snippetSuggestions","_snippetCompareFn","_compareCompletionItems","_items","_column","_wordDistance","_refilterKind","_lineContext","_compareCompletionItemsSnippetsUp","_compareCompletionItemsSnippetsDown","leadingLineContent","characterCountDelta","_filteredItems","_ensureCachedState","_isIncomplete","adopt","except","_stats","_createCachedState","suggestionCount","snippetCount","textCount","wordLow","scoreFn","filterGraceful","wordLen","wordPos","WordDistance","service","wordRanges","localityBonus","canComputeWordRanges","computeWordRanges","wordLines","bestWordRange","blockDistance","class_2","LineContext","auto","shy","leadingWord","shouldAutoTrigger","SuggestModel","_editorWorker","_quickSuggestDelay","_triggerCharacterListener","_triggerQuickSuggest","_completionDisposables","_onDidCancel","_onDidTrigger","_onDidSuggest","onDidCancel","onDidTrigger","onDidSuggest","_currentSelection","_updateTriggerCharacters","_updateQuickSuggest","_updateActiveSuggestSession","editorIsComposing","onDidCompositionStart","onDidCompositionEnd","_refilterCompletionItems","supportsByTriggerCharacter","triggerCharacters","getSnippetSuggestSupport","checkTriggerCharacter","_completionModel","_requestToken","prevSelection","snippetsPreventQuickSuggestions","quickSuggestions","lineTokens","getStandardTokenType","findTokenIndexAtOffset","_onNewContext","onlyFrom","existingItems","suggestCtx","itemKindFilter","_createItemKindFilter","cmpFn","suggestOptions","showMethods","showFunctions","showConstructors","showFields","showVariables","showClasses","showStructs","showInterfaces","showModules","showProperties","showEvents","showOperators","showUnits","showValues","showConstants","showEnums","showEnumMembers","showKeywords","showWords","showColors","showFiles","showReferences","showFolders","showTypeParameters","showSnippets","adopted","oldLineContext","isFrozen","completionModel","getIconClasses","modelService","fileKind","ROOT_FOLDER","FOLDER","parseMetaData","META_DATA_LABEL","cssEscape","dotSegments","detectedModeId","mime","META_DATA_MIME","getModeId","detectModeId","editorSuggestWidgetBackground","editorSuggestWidgetBorder","editorSuggestWidgetForeground","editorSuggestWidgetSelectedBackground","editorSuggestWidgetHighlightForeground","colorRegExp","canExpandCompletionItem","getAriaId","ItemRenderer","triggerKeybindingLabel","_modelService","colorspan","main","iconContainer","iconLabel","signatureLabel","qualifierLabel","detailsLabel","readMore","configureFont","fontFeatureSettings","fontSizePx","lineHeightPx","labelOptions","getIconTheme","hasFileIcons","labelClasses","FILE","detailClasses","hasFolderIcons","tags","qualifier","toggleDetails","SuggestionDetails","kbToggleDetails","renderLoading","renderItem","explainMode","renderDisposeable","md","_debugDisplayName","scrollDown","much","scrollUp","scrollBottom","pageDown","pageUp","setBorderWidth","SuggestWidget","isAuto","loadingTimeout","currentSuggestionDetails","ignoreFocusEvents","showTimeout","onDidSelectEmitter","onDidFocusEmitter","onDidHideEmitter","onDidShowEmitter","onDidHide","onDidShow","maxWidgetWidth","listWidth","firstFocusInCurrentList","preferDocPositionTop","docsPositionPreviousWidgetY","_onDetailsKeydown","onDetailsKeyDown","msgDetailsLess","msgDetailMore","focusedItem","hideWidget","listElement","applyStatusBarStyle","hideStatusBar","statusBarElement","statusBarLeftSpan","statusBarRightSpan","setStatusBarLeftText","setStatusBarRightText","details","applyIconStyle","showIcons","openController","shouldOpen","mouseSupport","expandDocsSettingFromStorage","listInactiveFocusBackground","listInactiveFocusOutline","onEditorLayoutChange","onListMouseDownOrTap","onListSelection","onFocusChange","onListFocus","onCursorSelectionChanged","suggestWidgetVisible","suggestWidgetMultipleSuggestions","expandSideOrBelow","detailsBorderColor","focusBorderColor","detailsFocusBorderColor","setAriaOptions","activeDescendant","wantsInsert","kbAccept","kbAcceptAlt","showDetails","stateChanged","listHeight","LOADING_MESSAGE","NO_SUGGESTIONS_MESSAGE","showTriggered","showSuggestions","selectionIndex","visibleCount","stats","publicLog","selectNextPage","selectNext","selectLast","selectPreviousPage","selectPrevious","selectFirst","getFocusedItem","getFocusedElements","toggleDetailsFocus","updateExpandDocsSetting","maxWidgetHeight","adjustDocsPosition","toggleExplainMode","updateListHeight","unfocusedHeight","contentHeight","maxVisibleSuggestions","cursorX","cursorY","widgetCoords","widgetX","widgetY","matchHighlight","WordContextKey","_enabled","_ckAtEnd","AtEnd","checkForWordEnd","CommitCharacterController","_onItem","onWillType","_active","acceptCharacters","commitCharacters","SuggestRangeHighlighter","focused","_highlight","_widgetListener","_reset","_shiftKeyListener","_currentItem","newDeco","insertHighlight","getOverwriteInfo","isPressed","wordInfo","ShiftKey","_subscriptions","_isPressed","LineSuffix","_marker","SuggestController","editorWorker","_memoryService","_lineSuffix","_insertSuggestion","commitCharacterController","makesTextEdit","insertTextRules","isModifierKey","_alternatives","acceptSuggestionsOnEnter","updateFromConfig","acceptSuggestionOnEnter","modelVersionNow","canUndo","_alertCompletionItem","toggleMode","triggerSuggestAndAcceptBest","positionNow","fallback","acceptSelectedSuggestion","keepAlternativeSuggestions","alternativeOverwriteConfig","acceptNextSuggestion","acceptPrevSuggestion","cancelSuggestWidget","selectNextSuggestion","selectNextPageSuggestion","selectLastSuggestion","selectPrevSuggestion","selectPrevPageSuggestion","selectFirstSuggestion","toggleSuggestionDetails","toggleSuggestionFocus","TriggerSuggestAction","hasCompletionItemProvider","SuggestCommand","ForceRetokenizeAction","resetTokenization","sw","forceTokenization","elapsed","editorWordHighlight","editorWordHighlightStrong","editorWordHighlightBorder","editorWordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","ctxHasWordHighlights","getOccurrencesAtPosition","orderedByScore","provideDocumentHighlights","OccurenceAtPositionRequest","_wordRange","_getCurrentWordRange","currentWordRange","requestIsValid","SemanticOccurenceAtPositionRequest","TextualOccurenceAtPositionRequest","_selectionIsEmpty","currentSelectionIsEmpty","WordHighlighter","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","_ignorePositionChangeEvent","occurrencesHighlight","_onPositionChanged","_stopAll","workerRequest","hasDecorations","_getSortedHighlights","moveNext","moveBack","workerRequestIsValid","getTime","_beginRenderDecorations","myRequestId_1","currentTime","minimumRenderTime","renderDecorations","_getDecorationOptions","Write","_WRITE_OPTIONS","_TEXT_OPTIONS","_REGULAR_OPTIONS","WordHighlighterContribution","wordHighligher","createWordHighlighterIfPossible","WordHighlightNavigationAction","NextWordHighlightAction","PrevWordHighlightAction","TriggerWordHighlightAction","selectionHighlight","wordHighlight","wordHighlightStrong","selectionHighlightBorder","wordHighlightBorder","wordHighlightStrongBorder","MoveWordCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","inPosition","outPosition","_moveTo","fromModelSelection","WordLeftCommand","moveWordLeft","WordRightCommand","moveWordRight","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","deleteRange","_delete","DeleteWordLeftCommand","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","DeleteWordStartLeft","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight","DeleteWordPartLeft","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","WordPartLeftCommand","moveWordPartLeft","CursorWordPartLeft","CursorWordPartLeftSelect","WordPartRightCommand","moveWordPartRight","CursorWordPartRight","CursorWordPartRightSelect","_monaco","languageDefinitions","lazyLanguageLoaders","LazyLanguageLoader","_loadingTriggered","_lazyLoadPromise","_lazyLoadPromiseResolve","_lazyLoadPromiseReject","getOrCreate","whenLoaded","load","loader","registerLanguage","lazyLanguageLoader","setMonarchTokensProvider","setLanguageConfiguration","conf","filenames","TreeElement","findId","candidateId","OutlineElement","OutlineGroup","providerIndex","MovingAverage","_val","OutlineModel","_groups","_keys","for","_requests","promiseCnt","_create","now_1","avg","_requestDurations","provideDocumentSymbols","_makeOutlineElement","newProvider","_compact","childInfo","_counter","_hash","getDocumentSymbols","flat","roots","flatEntries","flatten","overrideContainerLabel","containerName","selectionRange","compareEntriesUsingStart","SymbolEntry","entryAriaLabel","QuickOutlineAction","quickOutlineActionInput","quickOutlineActionLabel","hasDocumentSymbolProvider","toQuickOpenEntries","symbolEntry","flattened","normalizedSearchValue","flattened_1","toCssClassName","sortScoped","sortNormal","currentType","currentResult","typeCounter","typeToLabel","_symbols_","_modules_","_class_","_interface_","_method_","_function_","_property_","_variable_","_variable2_","_constructor_","_call_","elementARange","elementBRange","elementAType","elementBType","r_1","ModuleKind","JsxEmit","NewLineKind","ScriptTarget","ModuleResolutionKind","compilerOptions","_onDidExtraLibsChange","_extraLibs","_eagerModelSync","setCompilerOptions","_onDidExtraLibsChangeTimeout","getExtraLibs","addExtraLib","_filePath","filePath","myVersion","_fireOnDidExtraLibsChangeSoon","extraLib","setExtraLibs","libs","libs_1","lib","getCompilerOptions","_compilerOptions","getDiagnosticsOptions","setMaximumWorkerIdleTime","setEagerModelSync","getEagerModelSync","typescriptDefaults","allowNonTsExtensions","Latest","noSemanticValidation","noSyntaxValidation","javascriptDefaults","allowJs","getTypeScriptWorker","getJavaScriptWorker","typescript","typescriptVersion","setupTypeScript","setupJavaScript"],"mappings":"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","file":"vendors~node-playground-editor.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar escapeCodiconsRegex = /(\\\\)?\\$\\([a-z0-9\\-]+?(?:~[a-z0-9\\-]*?)?\\)/gi;\r\nexport function escapeCodicons(text) {\r\n    return text.replace(escapeCodiconsRegex, function (match, escaped) { return escaped ? match : \"\\\\\" + match; });\r\n}\r\nvar markdownEscapedCodiconsRegex = /\\\\\\$\\([a-z0-9\\-]+?(?:~[a-z0-9\\-]*?)?\\)/gi;\r\nexport function markdownEscapeEscapedCodicons(text) {\r\n    // Need to add an extra \\ for escaping in markdown\r\n    return text.replace(markdownEscapedCodiconsRegex, function (match) { return \"\\\\\" + match; });\r\n}\r\nvar renderCodiconsRegex = /(\\\\)?\\$\\((([a-z0-9\\-]+?)(?:~([a-z0-9\\-]*?))?)\\)/gi;\r\nexport function renderCodicons(text) {\r\n    return text.replace(renderCodiconsRegex, function (_, escaped, codicon, name, animation) {\r\n        return escaped\r\n            ? \"$(\" + codicon + \")\"\r\n            : \"<span class=\\\"codicon codicon-\" + name + (animation ? \" codicon-animation-\" + animation : '') + \"\\\"></span>\";\r\n    });\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { localize } from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar OneReference = /** @class */ (function () {\r\n    function OneReference(isProviderFirst, parent, _range, _rangeCallback) {\r\n        this.isProviderFirst = isProviderFirst;\r\n        this.parent = parent;\r\n        this._range = _range;\r\n        this._rangeCallback = _rangeCallback;\r\n        this.id = defaultGenerator.nextId();\r\n    }\r\n    Object.defineProperty(OneReference.prototype, \"uri\", {\r\n        get: function () {\r\n            return this.parent.uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"range\", {\r\n        get: function () {\r\n            return this._range;\r\n        },\r\n        set: function (value) {\r\n            this._range = value;\r\n            this._rangeCallback(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return OneReference;\r\n}());\r\nexport { OneReference };\r\nvar FilePreview = /** @class */ (function () {\r\n    function FilePreview(_modelReference) {\r\n        this._modelReference = _modelReference;\r\n    }\r\n    FilePreview.prototype.dispose = function () {\r\n        this._modelReference.dispose();\r\n    };\r\n    FilePreview.prototype.preview = function (range, n) {\r\n        if (n === void 0) { n = 8; }\r\n        var model = this._modelReference.object.textEditorModel;\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        var startLineNumber = range.startLineNumber, startColumn = range.startColumn, endLineNumber = range.endLineNumber, endColumn = range.endColumn;\r\n        var word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\r\n        var beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\r\n        var afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\r\n        var inside = model.getValueInRange(range);\r\n        var after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\r\n        return {\r\n            value: before + inside + after,\r\n            highlight: { start: before.length, end: before.length + inside.length }\r\n        };\r\n    };\r\n    return FilePreview;\r\n}());\r\nexport { FilePreview };\r\nvar FileReferences = /** @class */ (function () {\r\n    function FileReferences(parent, uri) {\r\n        this.parent = parent;\r\n        this.uri = uri;\r\n        this.children = [];\r\n    }\r\n    FileReferences.prototype.dispose = function () {\r\n        dispose(this._preview);\r\n        this._preview = undefined;\r\n    };\r\n    Object.defineProperty(FileReferences.prototype, \"preview\", {\r\n        get: function () {\r\n            return this._preview;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"failure\", {\r\n        get: function () {\r\n            return this._loadFailure;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            var len = this.children.length;\r\n            if (len === 1) {\r\n                return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FileReferences.prototype.resolve = function (textModelResolverService) {\r\n        var _this = this;\r\n        if (this._resolved) {\r\n            return Promise.resolve(this);\r\n        }\r\n        return Promise.resolve(textModelResolverService.createModelReference(this.uri).then(function (modelReference) {\r\n            var model = modelReference.object;\r\n            if (!model) {\r\n                modelReference.dispose();\r\n                throw new Error();\r\n            }\r\n            _this._preview = new FilePreview(modelReference);\r\n            _this._resolved = true;\r\n            return _this;\r\n        }, function (err) {\r\n            // something wrong here\r\n            _this.children.length = 0;\r\n            _this._resolved = true;\r\n            _this._loadFailure = err;\r\n            return _this;\r\n        }));\r\n    };\r\n    return FileReferences;\r\n}());\r\nexport { FileReferences };\r\nvar ReferencesModel = /** @class */ (function () {\r\n    function ReferencesModel(links, title) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this.groups = [];\r\n        this.references = [];\r\n        this._onDidChangeReferenceRange = new Emitter();\r\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\r\n        this._links = links;\r\n        this._title = title;\r\n        // grouping and sorting\r\n        var providersFirst = links[0];\r\n        links.sort(ReferencesModel._compareReferences);\r\n        var current;\r\n        for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\r\n            var link = links_1[_i];\r\n            if (!current || current.uri.toString() !== link.uri.toString()) {\r\n                // new group\r\n                current = new FileReferences(this, link.uri);\r\n                this.groups.push(current);\r\n            }\r\n            // append, check for equality first!\r\n            if (current.children.length === 0 || !Range.equalsRange(link.range, current.children[current.children.length - 1].range)) {\r\n                var oneRef = new OneReference(providersFirst === link, current, link.targetSelectionRange || link.range, function (ref) { return _this._onDidChangeReferenceRange.fire(ref); });\r\n                this.references.push(oneRef);\r\n                current.children.push(oneRef);\r\n            }\r\n        }\r\n    }\r\n    ReferencesModel.prototype.dispose = function () {\r\n        dispose(this.groups);\r\n        this._disposables.dispose();\r\n        this._onDidChangeReferenceRange.dispose();\r\n        this.groups.length = 0;\r\n    };\r\n    ReferencesModel.prototype.clone = function () {\r\n        return new ReferencesModel(this._links, this._title);\r\n    };\r\n    Object.defineProperty(ReferencesModel.prototype, \"title\", {\r\n        get: function () {\r\n            return this._title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"isEmpty\", {\r\n        get: function () {\r\n            return this.groups.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            if (this.isEmpty) {\r\n                return localize('aria.result.0', \"No results found\");\r\n            }\r\n            else if (this.references.length === 1) {\r\n                return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\r\n            }\r\n            else if (this.groups.length === 1) {\r\n                return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReferencesModel.prototype.nextOrPreviousReference = function (reference, next) {\r\n        var parent = reference.parent;\r\n        var idx = parent.children.indexOf(reference);\r\n        var childCount = parent.children.length;\r\n        var groupCount = parent.parent.groups.length;\r\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\r\n            // cycling within one file\r\n            if (next) {\r\n                idx = (idx + 1) % childCount;\r\n            }\r\n            else {\r\n                idx = (idx + childCount - 1) % childCount;\r\n            }\r\n            return parent.children[idx];\r\n        }\r\n        idx = parent.parent.groups.indexOf(parent);\r\n        if (next) {\r\n            idx = (idx + 1) % groupCount;\r\n            return parent.parent.groups[idx].children[0];\r\n        }\r\n        else {\r\n            idx = (idx + groupCount - 1) % groupCount;\r\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\r\n        }\r\n    };\r\n    ReferencesModel.prototype.nearestReference = function (resource, position) {\r\n        var nearest = this.references.map(function (ref, idx) {\r\n            return {\r\n                idx: idx,\r\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\r\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\r\n            };\r\n        }).sort(function (a, b) {\r\n            if (a.prefixLen > b.prefixLen) {\r\n                return -1;\r\n            }\r\n            else if (a.prefixLen < b.prefixLen) {\r\n                return 1;\r\n            }\r\n            else if (a.offsetDist < b.offsetDist) {\r\n                return -1;\r\n            }\r\n            else if (a.offsetDist > b.offsetDist) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        })[0];\r\n        if (nearest) {\r\n            return this.references[nearest.idx];\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.referenceAt = function (resource, position) {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.uri.toString() === resource.toString()) {\r\n                if (Range.containsPosition(ref.range, position)) {\r\n                    return ref;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.firstReference = function () {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.isProviderFirst) {\r\n                return ref;\r\n            }\r\n        }\r\n        return this.references[0];\r\n    };\r\n    ReferencesModel._compareReferences = function (a, b) {\r\n        return strings.compare(a.uri.toString(), b.uri.toString()) || Range.compareRangesUsingStarts(a.range, b.range);\r\n    };\r\n    return ReferencesModel;\r\n}());\r\nexport { ReferencesModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './media/peekViewWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { Color } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\r\nimport { ZoneWidget } from '../zoneWidget/zoneWidget.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { registerColor, contrastBorder, activeContrastBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nexport var IPeekViewService = createDecorator('IPeekViewService');\r\nregisterSingleton(IPeekViewService, /** @class */ (function () {\r\n    function class_1() {\r\n        this._widgets = new Map();\r\n    }\r\n    class_1.prototype.addExclusiveWidget = function (editor, widget) {\r\n        var _this = this;\r\n        var existing = this._widgets.get(editor);\r\n        if (existing) {\r\n            existing.listener.dispose();\r\n            existing.widget.dispose();\r\n        }\r\n        var remove = function () {\r\n            var data = _this._widgets.get(editor);\r\n            if (data && data.widget === widget) {\r\n                data.listener.dispose();\r\n                _this._widgets.delete(editor);\r\n            }\r\n        };\r\n        this._widgets.set(editor, { widget: widget, listener: widget.onDidClose(remove) });\r\n    };\r\n    return class_1;\r\n}()));\r\nexport var PeekContext;\r\n(function (PeekContext) {\r\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true);\r\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\r\n})(PeekContext || (PeekContext = {}));\r\nvar PeekContextController = /** @class */ (function () {\r\n    function PeekContextController(editor, contextKeyService) {\r\n        if (editor instanceof EmbeddedCodeEditorWidget) {\r\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\r\n        }\r\n    }\r\n    PeekContextController.prototype.dispose = function () { };\r\n    PeekContextController.ID = 'editor.contrib.referenceController';\r\n    PeekContextController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], PeekContextController);\r\n    return PeekContextController;\r\n}());\r\nregisterEditorContribution(PeekContextController.ID, PeekContextController);\r\nexport function getOuterEditor(accessor) {\r\n    var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n    if (editor instanceof EmbeddedCodeEditorWidget) {\r\n        return editor.getParentEditor();\r\n    }\r\n    return editor;\r\n}\r\nvar defaultOptions = {\r\n    headerBackgroundColor: Color.white,\r\n    primaryHeadingColor: Color.fromHex('#333333'),\r\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\r\n};\r\nvar PeekViewWidget = /** @class */ (function (_super) {\r\n    __extends(PeekViewWidget, _super);\r\n    function PeekViewWidget(editor, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, editor, options) || this;\r\n        _this._onDidClose = new Emitter();\r\n        _this.onDidClose = _this._onDidClose.event;\r\n        objects.mixin(_this.options, defaultOptions, false);\r\n        return _this;\r\n    }\r\n    PeekViewWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._onDidClose.fire(this);\r\n    };\r\n    PeekViewWidget.prototype.style = function (styles) {\r\n        var options = this.options;\r\n        if (styles.headerBackgroundColor) {\r\n            options.headerBackgroundColor = styles.headerBackgroundColor;\r\n        }\r\n        if (styles.primaryHeadingColor) {\r\n            options.primaryHeadingColor = styles.primaryHeadingColor;\r\n        }\r\n        if (styles.secondaryHeadingColor) {\r\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\r\n        }\r\n        _super.prototype.style.call(this, styles);\r\n    };\r\n    PeekViewWidget.prototype._applyStyles = function () {\r\n        _super.prototype._applyStyles.call(this);\r\n        var options = this.options;\r\n        if (this._headElement && options.headerBackgroundColor) {\r\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\r\n        }\r\n        if (this._primaryHeading && options.primaryHeadingColor) {\r\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\r\n        }\r\n        if (this._secondaryHeading && options.secondaryHeadingColor) {\r\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\r\n        }\r\n        if (this._bodyElement && options.frameColor) {\r\n            this._bodyElement.style.borderColor = options.frameColor.toString();\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._fillContainer = function (container) {\r\n        this.setCssClass('peekview-widget');\r\n        this._headElement = dom.$('.head');\r\n        this._bodyElement = dom.$('.body');\r\n        this._fillHead(this._headElement);\r\n        this._fillBody(this._bodyElement);\r\n        container.appendChild(this._headElement);\r\n        container.appendChild(this._bodyElement);\r\n    };\r\n    PeekViewWidget.prototype._fillHead = function (container) {\r\n        var _this = this;\r\n        var titleElement = dom.$('.peekview-title');\r\n        dom.append(this._headElement, titleElement);\r\n        dom.addStandardDisposableListener(titleElement, 'click', function (event) { return _this._onTitleClick(event); });\r\n        this._fillTitleIcon(titleElement);\r\n        this._primaryHeading = dom.$('span.filename');\r\n        this._secondaryHeading = dom.$('span.dirname');\r\n        this._metaHeading = dom.$('span.meta');\r\n        dom.append(titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);\r\n        var actionsContainer = dom.$('.peekview-actions');\r\n        dom.append(this._headElement, actionsContainer);\r\n        var actionBarOptions = this._getActionBarOptions();\r\n        this._actionbarWidget = new ActionBar(actionsContainer, actionBarOptions);\r\n        this._disposables.add(this._actionbarWidget);\r\n        this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), 'codicon-close', true, function () {\r\n            _this.dispose();\r\n            return Promise.resolve();\r\n        }), { label: false, icon: true });\r\n    };\r\n    PeekViewWidget.prototype._fillTitleIcon = function (container) {\r\n    };\r\n    PeekViewWidget.prototype._getActionBarOptions = function () {\r\n        return {};\r\n    };\r\n    PeekViewWidget.prototype._onTitleClick = function (event) {\r\n        // implement me\r\n    };\r\n    PeekViewWidget.prototype.setTitle = function (primaryHeading, secondaryHeading) {\r\n        if (this._primaryHeading && this._secondaryHeading) {\r\n            this._primaryHeading.innerHTML = strings.escape(primaryHeading);\r\n            this._primaryHeading.setAttribute('aria-label', primaryHeading);\r\n            if (secondaryHeading) {\r\n                this._secondaryHeading.innerHTML = strings.escape(secondaryHeading);\r\n            }\r\n            else {\r\n                dom.clearNode(this._secondaryHeading);\r\n            }\r\n        }\r\n    };\r\n    PeekViewWidget.prototype.setMetaTitle = function (value) {\r\n        if (this._metaHeading) {\r\n            if (value) {\r\n                this._metaHeading.innerHTML = strings.escape(value);\r\n                dom.show(this._metaHeading);\r\n            }\r\n            else {\r\n                dom.hide(this._metaHeading);\r\n            }\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\r\n        if (!this._isShowing && heightInPixel < 0) {\r\n            // Looks like the view zone got folded away!\r\n            this.dispose();\r\n            return;\r\n        }\r\n        var headHeight = Math.ceil(this.editor.getOption(49 /* lineHeight */) * 1.2);\r\n        var bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/));\r\n        this._doLayoutHead(headHeight, widthInPixel);\r\n        this._doLayoutBody(bodyHeight, widthInPixel);\r\n    };\r\n    PeekViewWidget.prototype._doLayoutHead = function (heightInPixel, widthInPixel) {\r\n        if (this._headElement) {\r\n            this._headElement.style.height = heightInPixel + \"px\";\r\n            this._headElement.style.lineHeight = this._headElement.style.height;\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        if (this._bodyElement) {\r\n            this._bodyElement.style.height = heightInPixel + \"px\";\r\n        }\r\n    };\r\n    return PeekViewWidget;\r\n}(ZoneWidget));\r\nexport { PeekViewWidget };\r\nexport var peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#1E1E1E', light: '#FFFFFF', hc: '#0C141F' }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\r\nexport var peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: '#FFFFFF', light: '#333333', hc: '#FFFFFF' }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\r\nexport var peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#616161e6', hc: '#FFFFFF99' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\r\nexport var peekViewBorder = registerColor('peekView.border', { dark: '#007acc', light: '#007acc', hc: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\r\nexport var peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hc: Color.black }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\r\nexport var peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hc: Color.white }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\r\nexport var peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hc: Color.white }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\r\nexport var peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hc: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\r\nexport var peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hc: Color.white }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\r\nexport var peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hc: Color.black }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\r\nexport var peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hc: peekViewEditorBackground }, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\r\nexport var peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hc: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\r\nexport var peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hc: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\r\nexport var peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hc: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './zoneWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nvar defaultColor = new Color(new RGBA(0, 122, 204));\r\nvar defaultOptions = {\r\n    showArrow: true,\r\n    showFrame: true,\r\n    className: '',\r\n    frameColor: defaultColor,\r\n    arrowColor: defaultColor,\r\n    keepEditorSelection: false\r\n};\r\nvar WIDGET_ID = 'vs.editor.contrib.zoneWidget';\r\nvar ViewZoneDelegate = /** @class */ (function () {\r\n    function ViewZoneDelegate(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\r\n        this.id = ''; // A valid zone id should be greater than 0\r\n        this.domNode = domNode;\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.afterColumn = afterColumn;\r\n        this.heightInLines = heightInLines;\r\n        this._onDomNodeTop = onDomNodeTop;\r\n        this._onComputedHeight = onComputedHeight;\r\n    }\r\n    ViewZoneDelegate.prototype.onDomNodeTop = function (top) {\r\n        this._onDomNodeTop(top);\r\n    };\r\n    ViewZoneDelegate.prototype.onComputedHeight = function (height) {\r\n        this._onComputedHeight(height);\r\n    };\r\n    return ViewZoneDelegate;\r\n}());\r\nexport { ViewZoneDelegate };\r\nvar OverlayWidgetDelegate = /** @class */ (function () {\r\n    function OverlayWidgetDelegate(id, domNode) {\r\n        this._id = id;\r\n        this._domNode = domNode;\r\n    }\r\n    OverlayWidgetDelegate.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getPosition = function () {\r\n        return null;\r\n    };\r\n    return OverlayWidgetDelegate;\r\n}());\r\nexport { OverlayWidgetDelegate };\r\nvar Arrow = /** @class */ (function () {\r\n    function Arrow(_editor) {\r\n        this._editor = _editor;\r\n        this._ruleName = Arrow._IdGenerator.nextId();\r\n        this._decorations = [];\r\n        this._color = null;\r\n        this._height = -1;\r\n        //\r\n    }\r\n    Arrow.prototype.dispose = function () {\r\n        this.hide();\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n    };\r\n    Object.defineProperty(Arrow.prototype, \"color\", {\r\n        set: function (value) {\r\n            if (this._color !== value) {\r\n                this._color = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Arrow.prototype, \"height\", {\r\n        set: function (value) {\r\n            if (this._height !== value) {\r\n                this._height = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Arrow.prototype._updateStyle = function () {\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n        dom.createCSSRule(\".monaco-editor \" + this._ruleName, \"border-style: solid; border-color: transparent; border-bottom-color: \" + this._color + \"; border-width: \" + this._height + \"px; bottom: -\" + this._height + \"px; margin-left: -\" + this._height + \"px; \");\r\n    };\r\n    Arrow.prototype.show = function (where) {\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\r\n    };\r\n    Arrow.prototype.hide = function () {\r\n        this._editor.deltaDecorations(this._decorations, []);\r\n    };\r\n    Arrow._IdGenerator = new IdGenerator('.arrow-decoration-');\r\n    return Arrow;\r\n}());\r\nvar ZoneWidget = /** @class */ (function () {\r\n    function ZoneWidget(editor, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this._arrow = null;\r\n        this._overlayWidget = null;\r\n        this._resizeSash = null;\r\n        this._positionMarkerId = [];\r\n        this._viewZone = null;\r\n        this._disposables = new DisposableStore();\r\n        this.container = null;\r\n        this._isShowing = false;\r\n        this.editor = editor;\r\n        this.options = objects.deepClone(options);\r\n        objects.mixin(this.options, defaultOptions, false);\r\n        this.domNode = document.createElement('div');\r\n        if (!this.options.isAccessible) {\r\n            this.domNode.setAttribute('aria-hidden', 'true');\r\n            this.domNode.setAttribute('role', 'presentation');\r\n        }\r\n        this._disposables.add(this.editor.onDidLayoutChange(function (info) {\r\n            var width = _this._getWidth(info);\r\n            _this.domNode.style.width = width + 'px';\r\n            _this.domNode.style.left = _this._getLeft(info) + 'px';\r\n            _this._onWidth(width);\r\n        }));\r\n    }\r\n    ZoneWidget.prototype.dispose = function () {\r\n        var _this = this;\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n                _this._viewZone = null;\r\n            });\r\n        }\r\n        this.editor.deltaDecorations(this._positionMarkerId, []);\r\n        this._positionMarkerId = [];\r\n        this._disposables.dispose();\r\n    };\r\n    ZoneWidget.prototype.create = function () {\r\n        dom.addClass(this.domNode, 'zone-widget');\r\n        if (this.options.className) {\r\n            dom.addClass(this.domNode, this.options.className);\r\n        }\r\n        this.container = document.createElement('div');\r\n        dom.addClass(this.container, 'zone-widget-container');\r\n        this.domNode.appendChild(this.container);\r\n        if (this.options.showArrow) {\r\n            this._arrow = new Arrow(this.editor);\r\n            this._disposables.add(this._arrow);\r\n        }\r\n        this._fillContainer(this.container);\r\n        this._initSash();\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype.style = function (styles) {\r\n        if (styles.frameColor) {\r\n            this.options.frameColor = styles.frameColor;\r\n        }\r\n        if (styles.arrowColor) {\r\n            this.options.arrowColor = styles.arrowColor;\r\n        }\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype._applyStyles = function () {\r\n        if (this.container && this.options.frameColor) {\r\n            var frameColor = this.options.frameColor.toString();\r\n            this.container.style.borderTopColor = frameColor;\r\n            this.container.style.borderBottomColor = frameColor;\r\n        }\r\n        if (this._arrow && this.options.arrowColor) {\r\n            var arrowColor = this.options.arrowColor.toString();\r\n            this._arrow.color = arrowColor;\r\n        }\r\n    };\r\n    ZoneWidget.prototype._getWidth = function (info) {\r\n        return info.width - info.minimapWidth - info.verticalScrollbarWidth;\r\n    };\r\n    ZoneWidget.prototype._getLeft = function (info) {\r\n        // If minimap is to the left, we move beyond it\r\n        if (info.minimapWidth > 0 && info.minimapLeft === 0) {\r\n            return info.minimapWidth;\r\n        }\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype._onViewZoneTop = function (top) {\r\n        this.domNode.style.top = top + 'px';\r\n    };\r\n    ZoneWidget.prototype._onViewZoneHeight = function (height) {\r\n        this.domNode.style.height = height + \"px\";\r\n        if (this.container) {\r\n            var containerHeight = height - this._decoratingElementsHeight();\r\n            this.container.style.height = containerHeight + \"px\";\r\n            var layoutInfo = this.editor.getLayoutInfo();\r\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\r\n        }\r\n        if (this._resizeSash) {\r\n            this._resizeSash.layout();\r\n        }\r\n    };\r\n    Object.defineProperty(ZoneWidget.prototype, \"position\", {\r\n        get: function () {\r\n            var id = this._positionMarkerId[0];\r\n            if (!id) {\r\n                return undefined;\r\n            }\r\n            var model = this.editor.getModel();\r\n            if (!model) {\r\n                return undefined;\r\n            }\r\n            var range = model.getDecorationRange(id);\r\n            if (!range) {\r\n                return undefined;\r\n            }\r\n            return range.getStartPosition();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ZoneWidget.prototype.show = function (rangeOrPos, heightInLines) {\r\n        var range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\r\n        this._isShowing = true;\r\n        this._showImpl(range, heightInLines);\r\n        this._isShowing = false;\r\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range: range, options: ModelDecorationOptions.EMPTY }]);\r\n    };\r\n    ZoneWidget.prototype.hide = function () {\r\n        var _this = this;\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n            });\r\n            this._viewZone = null;\r\n        }\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._arrow) {\r\n            this._arrow.hide();\r\n        }\r\n    };\r\n    ZoneWidget.prototype._decoratingElementsHeight = function () {\r\n        var lineHeight = this.editor.getOption(49 /* lineHeight */);\r\n        var result = 0;\r\n        if (this.options.showArrow) {\r\n            var arrowHeight = Math.round(lineHeight / 3);\r\n            result += 2 * arrowHeight;\r\n        }\r\n        if (this.options.showFrame) {\r\n            var frameThickness = Math.round(lineHeight / 9);\r\n            result += 2 * frameThickness;\r\n        }\r\n        return result;\r\n    };\r\n    ZoneWidget.prototype._showImpl = function (where, heightInLines) {\r\n        var _this = this;\r\n        var position = where.getStartPosition();\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        var width = this._getWidth(layoutInfo);\r\n        this.domNode.style.width = width + \"px\";\r\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\r\n        // Render the widget as zone (rendering) and widget (lifecycle)\r\n        var viewZoneDomNode = document.createElement('div');\r\n        viewZoneDomNode.style.overflow = 'hidden';\r\n        var lineHeight = this.editor.getOption(49 /* lineHeight */);\r\n        // adjust heightInLines to viewport\r\n        var maxHeightInLines = (this.editor.getLayoutInfo().height / lineHeight) * 0.8;\r\n        if (heightInLines >= maxHeightInLines) {\r\n            heightInLines = maxHeightInLines;\r\n        }\r\n        var arrowHeight = 0;\r\n        var frameThickness = 0;\r\n        // Render the arrow one 1/3 of an editor line height\r\n        if (this._arrow && this.options.showArrow) {\r\n            arrowHeight = Math.round(lineHeight / 3);\r\n            this._arrow.height = arrowHeight;\r\n            this._arrow.show(position);\r\n        }\r\n        // Render the frame as 1/9 of an editor line height\r\n        if (this.options.showFrame) {\r\n            frameThickness = Math.round(lineHeight / 9);\r\n        }\r\n        // insert zone widget\r\n        this.editor.changeViewZones(function (accessor) {\r\n            if (_this._viewZone) {\r\n                accessor.removeZone(_this._viewZone.id);\r\n            }\r\n            if (_this._overlayWidget) {\r\n                _this.editor.removeOverlayWidget(_this._overlayWidget);\r\n                _this._overlayWidget = null;\r\n            }\r\n            _this.domNode.style.top = '-1000px';\r\n            _this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, function (top) { return _this._onViewZoneTop(top); }, function (height) { return _this._onViewZoneHeight(height); });\r\n            _this._viewZone.id = accessor.addZone(_this._viewZone);\r\n            _this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + _this._viewZone.id, _this.domNode);\r\n            _this.editor.addOverlayWidget(_this._overlayWidget);\r\n        });\r\n        if (this.container && this.options.showFrame) {\r\n            var width_1 = this.options.frameWidth ? this.options.frameWidth : frameThickness;\r\n            this.container.style.borderTopWidth = width_1 + 'px';\r\n            this.container.style.borderBottomWidth = width_1 + 'px';\r\n        }\r\n        var containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\r\n        if (this.container) {\r\n            this.container.style.top = arrowHeight + 'px';\r\n            this.container.style.height = containerHeight + 'px';\r\n            this.container.style.overflow = 'hidden';\r\n        }\r\n        this._doLayout(containerHeight, width);\r\n        if (!this.options.keepEditorSelection) {\r\n            this.editor.setSelection(where);\r\n        }\r\n        var model = this.editor.getModel();\r\n        if (model) {\r\n            var revealLine = where.endLineNumber + 1;\r\n            if (revealLine <= model.getLineCount()) {\r\n                // reveal line below the zone widget\r\n                this.revealLine(revealLine, false);\r\n            }\r\n            else {\r\n                // reveal last line atop\r\n                this.revealLine(model.getLineCount(), true);\r\n            }\r\n        }\r\n    };\r\n    ZoneWidget.prototype.revealLine = function (lineNumber, isLastLine) {\r\n        if (isLastLine) {\r\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\r\n        }\r\n        else {\r\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\r\n        }\r\n    };\r\n    ZoneWidget.prototype.setCssClass = function (className, classToReplace) {\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n        if (classToReplace) {\r\n            this.container.classList.remove(classToReplace);\r\n        }\r\n        dom.addClass(this.container, className);\r\n    };\r\n    ZoneWidget.prototype._onWidth = function (widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._relayout = function (newHeightInLines) {\r\n        var _this = this;\r\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    _this._viewZone.heightInLines = newHeightInLines;\r\n                    accessor.layoutZone(_this._viewZone.id);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    // --- sash\r\n    ZoneWidget.prototype._initSash = function () {\r\n        var _this = this;\r\n        if (this._resizeSash) {\r\n            return;\r\n        }\r\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\r\n        if (!this.options.isResizeable) {\r\n            this._resizeSash.hide();\r\n            this._resizeSash.state = 0 /* Disabled */;\r\n        }\r\n        var data;\r\n        this._disposables.add(this._resizeSash.onDidStart(function (e) {\r\n            if (_this._viewZone) {\r\n                data = {\r\n                    startY: e.startY,\r\n                    heightInLines: _this._viewZone.heightInLines,\r\n                };\r\n            }\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidEnd(function () {\r\n            data = undefined;\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidChange(function (evt) {\r\n            if (data) {\r\n                var lineDelta = (evt.currentY - data.startY) / _this.editor.getOption(49 /* lineHeight */);\r\n                var roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\r\n                var newHeightInLines = data.heightInLines + roundedLineDelta;\r\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\r\n                    _this._relayout(newHeightInLines);\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashLeft = function () {\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashTop = function () {\r\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashWidth = function () {\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        return layoutInfo.width - layoutInfo.minimapWidth;\r\n    };\r\n    return ZoneWidget;\r\n}());\r\nexport { ZoneWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as DOM from './dom.js';\r\nexport function renderText(text, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    element.textContent = text;\r\n    return element;\r\n}\r\nexport function renderFormattedText(formattedText, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    _renderFormattedText(element, parseFormattedText(formattedText), options.actionHandler);\r\n    return element;\r\n}\r\nexport function createElement(options) {\r\n    var tagName = options.inline ? 'span' : 'div';\r\n    var element = document.createElement(tagName);\r\n    if (options.className) {\r\n        element.className = options.className;\r\n    }\r\n    return element;\r\n}\r\nvar StringStream = /** @class */ (function () {\r\n    function StringStream(source) {\r\n        this.source = source;\r\n        this.index = 0;\r\n    }\r\n    StringStream.prototype.eos = function () {\r\n        return this.index >= this.source.length;\r\n    };\r\n    StringStream.prototype.next = function () {\r\n        var next = this.peek();\r\n        this.advance();\r\n        return next;\r\n    };\r\n    StringStream.prototype.peek = function () {\r\n        return this.source[this.index];\r\n    };\r\n    StringStream.prototype.advance = function () {\r\n        this.index++;\r\n    };\r\n    return StringStream;\r\n}());\r\nfunction _renderFormattedText(element, treeNode, actionHandler) {\r\n    var child;\r\n    if (treeNode.type === 2 /* Text */) {\r\n        child = document.createTextNode(treeNode.content || '');\r\n    }\r\n    else if (treeNode.type === 3 /* Bold */) {\r\n        child = document.createElement('b');\r\n    }\r\n    else if (treeNode.type === 4 /* Italics */) {\r\n        child = document.createElement('i');\r\n    }\r\n    else if (treeNode.type === 5 /* Action */ && actionHandler) {\r\n        var a = document.createElement('a');\r\n        a.href = '#';\r\n        actionHandler.disposeables.add(DOM.addStandardDisposableListener(a, 'click', function (event) {\r\n            actionHandler.callback(String(treeNode.index), event);\r\n        }));\r\n        child = a;\r\n    }\r\n    else if (treeNode.type === 7 /* NewLine */) {\r\n        child = document.createElement('br');\r\n    }\r\n    else if (treeNode.type === 1 /* Root */) {\r\n        child = element;\r\n    }\r\n    if (child && element !== child) {\r\n        element.appendChild(child);\r\n    }\r\n    if (child && Array.isArray(treeNode.children)) {\r\n        treeNode.children.forEach(function (nodeChild) {\r\n            _renderFormattedText(child, nodeChild, actionHandler);\r\n        });\r\n    }\r\n}\r\nfunction parseFormattedText(content) {\r\n    var root = {\r\n        type: 1 /* Root */,\r\n        children: []\r\n    };\r\n    var actionViewItemIndex = 0;\r\n    var current = root;\r\n    var stack = [];\r\n    var stream = new StringStream(content);\r\n    while (!stream.eos()) {\r\n        var next = stream.next();\r\n        var isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek()) !== 0 /* Invalid */);\r\n        if (isEscapedFormatType) {\r\n            next = stream.next(); // unread the backslash if it escapes a format tag type\r\n        }\r\n        if (!isEscapedFormatType && isFormatTag(next) && next === stream.peek()) {\r\n            stream.advance();\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            var type = formatTagType(next);\r\n            if (current.type === type || (current.type === 5 /* Action */ && type === 6 /* ActionClose */)) {\r\n                current = stack.pop();\r\n            }\r\n            else {\r\n                var newCurrent = {\r\n                    type: type,\r\n                    children: []\r\n                };\r\n                if (type === 5 /* Action */) {\r\n                    newCurrent.index = actionViewItemIndex;\r\n                    actionViewItemIndex++;\r\n                }\r\n                current.children.push(newCurrent);\r\n                stack.push(current);\r\n                current = newCurrent;\r\n            }\r\n        }\r\n        else if (next === '\\n') {\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            current.children.push({\r\n                type: 7 /* NewLine */\r\n            });\r\n        }\r\n        else {\r\n            if (current.type !== 2 /* Text */) {\r\n                var textCurrent = {\r\n                    type: 2 /* Text */,\r\n                    content: next\r\n                };\r\n                current.children.push(textCurrent);\r\n                stack.push(current);\r\n                current = textCurrent;\r\n            }\r\n            else {\r\n                current.content += next;\r\n            }\r\n        }\r\n    }\r\n    if (current.type === 2 /* Text */) {\r\n        current = stack.pop();\r\n    }\r\n    if (stack.length) {\r\n        // incorrectly formatted string literal\r\n    }\r\n    return root;\r\n}\r\nfunction isFormatTag(char) {\r\n    return formatTagType(char) !== 0 /* Invalid */;\r\n}\r\nfunction formatTagType(char) {\r\n    switch (char) {\r\n        case '*':\r\n            return 3 /* Bold */;\r\n        case '_':\r\n            return 4 /* Italics */;\r\n        case '[':\r\n            return 5 /* Action */;\r\n        case ']':\r\n            return 6 /* ActionClose */;\r\n        default:\r\n            return 0 /* Invalid */;\r\n    }\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { ICodeEditorService } from '../services/codeEditorService.js';\r\nimport { CodeEditorWidget } from './codeEditorWidget.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\r\nvar EmbeddedCodeEditorWidget = /** @class */ (function (_super) {\r\n    __extends(EmbeddedCodeEditorWidget, _super);\r\n    function EmbeddedCodeEditorWidget(domElement, options, parentEditor, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService) {\r\n        var _this = _super.call(this, domElement, parentEditor.getRawOptions(), {}, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService) || this;\r\n        _this._parentEditor = parentEditor;\r\n        _this._overwriteOptions = options;\r\n        // Overwrite parent's options\r\n        _super.prototype.updateOptions.call(_this, _this._overwriteOptions);\r\n        _this._register(parentEditor.onDidChangeConfiguration(function (e) { return _this._onParentConfigurationChanged(e); }));\r\n        return _this;\r\n    }\r\n    EmbeddedCodeEditorWidget.prototype.getParentEditor = function () {\r\n        return this._parentEditor;\r\n    };\r\n    EmbeddedCodeEditorWidget.prototype._onParentConfigurationChanged = function (e) {\r\n        _super.prototype.updateOptions.call(this, this._parentEditor.getRawOptions());\r\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\r\n    };\r\n    EmbeddedCodeEditorWidget.prototype.updateOptions = function (newOptions) {\r\n        objects.mixin(this._overwriteOptions, newOptions, true);\r\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\r\n    };\r\n    EmbeddedCodeEditorWidget = __decorate([\r\n        __param(3, IInstantiationService),\r\n        __param(4, ICodeEditorService),\r\n        __param(5, ICommandService),\r\n        __param(6, IContextKeyService),\r\n        __param(7, IThemeService),\r\n        __param(8, INotificationService),\r\n        __param(9, IAccessibilityService)\r\n    ], EmbeddedCodeEditorWidget);\r\n    return EmbeddedCodeEditorWidget;\r\n}(CodeEditorWidget));\r\nexport { EmbeddedCodeEditorWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar IdGenerator = /** @class */ (function () {\r\n    function IdGenerator(prefix) {\r\n        this._prefix = prefix;\r\n        this._lastId = 0;\r\n    }\r\n    IdGenerator.prototype.nextId = function () {\r\n        return this._prefix + (++this._lastId);\r\n    };\r\n    return IdGenerator;\r\n}());\r\nexport { IdGenerator };\r\nexport var defaultGenerator = new IdGenerator('id#');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './iconlabel.css';\r\nimport * as dom from '../../dom.js';\r\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Range } from '../../../common/range.js';\r\nimport { equals } from '../../../common/objects.js';\r\nvar FastLabelNode = /** @class */ (function () {\r\n    function FastLabelNode(_element) {\r\n        this._element = _element;\r\n    }\r\n    Object.defineProperty(FastLabelNode.prototype, \"element\", {\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"textContent\", {\r\n        set: function (content) {\r\n            if (this.disposed || content === this._textContent) {\r\n                return;\r\n            }\r\n            this._textContent = content;\r\n            this._element.textContent = content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"className\", {\r\n        set: function (className) {\r\n            if (this.disposed || className === this._className) {\r\n                return;\r\n            }\r\n            this._className = className;\r\n            this._element.className = className;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"title\", {\r\n        set: function (title) {\r\n            if (this.disposed || title === this._title) {\r\n                return;\r\n            }\r\n            this._title = title;\r\n            if (this._title) {\r\n                this._element.title = title;\r\n            }\r\n            else {\r\n                this._element.removeAttribute('title');\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"empty\", {\r\n        set: function (empty) {\r\n            if (this.disposed || empty === this._empty) {\r\n                return;\r\n            }\r\n            this._empty = empty;\r\n            this._element.style.marginLeft = empty ? '0' : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FastLabelNode.prototype.dispose = function () {\r\n        this.disposed = true;\r\n    };\r\n    return FastLabelNode;\r\n}());\r\nvar IconLabel = /** @class */ (function (_super) {\r\n    __extends(IconLabel, _super);\r\n    function IconLabel(container, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.domNode = _this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\r\n        var labelContainer = dom.append(_this.domNode.element, dom.$('.monaco-icon-label-container'));\r\n        var nameContainer = dom.append(labelContainer, dom.$('span.monaco-icon-name-container'));\r\n        _this.descriptionContainer = _this._register(new FastLabelNode(dom.append(labelContainer, dom.$('span.monaco-icon-description-container'))));\r\n        if (options === null || options === void 0 ? void 0 : options.supportHighlights) {\r\n            _this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportCodicons);\r\n        }\r\n        else {\r\n            _this.nameNode = new Label(nameContainer);\r\n        }\r\n        if (options === null || options === void 0 ? void 0 : options.supportDescriptionHighlights) {\r\n            _this.descriptionNodeFactory = function () { return new HighlightedLabel(dom.append(_this.descriptionContainer.element, dom.$('span.label-description')), !!options.supportCodicons); };\r\n        }\r\n        else {\r\n            _this.descriptionNodeFactory = function () { return _this._register(new FastLabelNode(dom.append(_this.descriptionContainer.element, dom.$('span.label-description')))); };\r\n        }\r\n        return _this;\r\n    }\r\n    IconLabel.prototype.setLabel = function (label, description, options) {\r\n        var classes = ['monaco-icon-label'];\r\n        if (options) {\r\n            if (options.extraClasses) {\r\n                classes.push.apply(classes, options.extraClasses);\r\n            }\r\n            if (options.italic) {\r\n                classes.push('italic');\r\n            }\r\n        }\r\n        this.domNode.className = classes.join(' ');\r\n        this.domNode.title = (options === null || options === void 0 ? void 0 : options.title) || '';\r\n        this.nameNode.setLabel(label, options);\r\n        if (description || this.descriptionNode) {\r\n            if (!this.descriptionNode) {\r\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\r\n            }\r\n            if (this.descriptionNode instanceof HighlightedLabel) {\r\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\r\n                if (options === null || options === void 0 ? void 0 : options.descriptionTitle) {\r\n                    this.descriptionNode.element.title = options.descriptionTitle;\r\n                }\r\n                else {\r\n                    this.descriptionNode.element.removeAttribute('title');\r\n                }\r\n            }\r\n            else {\r\n                this.descriptionNode.textContent = description || '';\r\n                this.descriptionNode.title = (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '';\r\n                this.descriptionNode.empty = !description;\r\n            }\r\n        }\r\n    };\r\n    return IconLabel;\r\n}(Disposable));\r\nexport { IconLabel };\r\nvar Label = /** @class */ (function () {\r\n    function Label(container) {\r\n        this.container = container;\r\n        this.label = undefined;\r\n        this.singleLabel = undefined;\r\n    }\r\n    Label.prototype.setLabel = function (label, options) {\r\n        if (this.label === label && equals(this.options, options)) {\r\n            return;\r\n        }\r\n        this.label = label;\r\n        this.options = options;\r\n        if (typeof label === 'string') {\r\n            if (!this.singleLabel) {\r\n                this.container.innerHTML = '';\r\n                dom.removeClass(this.container, 'multiple');\r\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\r\n            }\r\n            this.singleLabel.textContent = label;\r\n        }\r\n        else {\r\n            this.container.innerHTML = '';\r\n            dom.addClass(this.container, 'multiple');\r\n            this.singleLabel = undefined;\r\n            for (var i = 0; i < label.length; i++) {\r\n                var l = label[i];\r\n                var id = (options === null || options === void 0 ? void 0 : options.domId) && (options === null || options === void 0 ? void 0 : options.domId) + \"_\" + i;\r\n                dom.append(this.container, dom.$('a.label-name', { id: id, 'data-icon-label-count': label.length, 'data-icon-label-index': i }, l));\r\n                if (i < label.length - 1) {\r\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Label;\r\n}());\r\nfunction splitMatches(labels, separator, matches) {\r\n    if (!matches) {\r\n        return undefined;\r\n    }\r\n    var labelStart = 0;\r\n    return labels.map(function (label) {\r\n        var labelRange = { start: labelStart, end: labelStart + label.length };\r\n        var result = matches\r\n            .map(function (match) { return Range.intersect(labelRange, match); })\r\n            .filter(function (range) { return !Range.isEmpty(range); })\r\n            .map(function (_a) {\r\n            var start = _a.start, end = _a.end;\r\n            return ({ start: start - labelStart, end: end - labelStart });\r\n        });\r\n        labelStart = labelRange.end + separator.length;\r\n        return result;\r\n    });\r\n}\r\nvar LabelWithHighlights = /** @class */ (function () {\r\n    function LabelWithHighlights(container, supportCodicons) {\r\n        this.container = container;\r\n        this.supportCodicons = supportCodicons;\r\n        this.label = undefined;\r\n        this.singleLabel = undefined;\r\n    }\r\n    LabelWithHighlights.prototype.setLabel = function (label, options) {\r\n        if (this.label === label && equals(this.options, options)) {\r\n            return;\r\n        }\r\n        this.label = label;\r\n        this.options = options;\r\n        if (typeof label === 'string') {\r\n            if (!this.singleLabel) {\r\n                this.container.innerHTML = '';\r\n                dom.removeClass(this.container, 'multiple');\r\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), this.supportCodicons);\r\n            }\r\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, options === null || options === void 0 ? void 0 : options.title, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\r\n        }\r\n        else {\r\n            this.container.innerHTML = '';\r\n            dom.addClass(this.container, 'multiple');\r\n            this.singleLabel = undefined;\r\n            var separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\r\n            var matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\r\n            for (var i = 0; i < label.length; i++) {\r\n                var l = label[i];\r\n                var m = matches ? matches[i] : undefined;\r\n                var id = (options === null || options === void 0 ? void 0 : options.domId) && (options === null || options === void 0 ? void 0 : options.domId) + \"_\" + i;\r\n                var name_1 = dom.$('a.label-name', { id: id, 'data-icon-label-count': label.length, 'data-icon-label-index': i });\r\n                var highlightedLabel = new HighlightedLabel(dom.append(this.container, name_1), this.supportCodicons);\r\n                highlightedLabel.set(l, m, options === null || options === void 0 ? void 0 : options.title, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\r\n                if (i < label.length - 1) {\r\n                    dom.append(name_1, dom.$('span.label-separator', undefined, separator));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return LabelWithHighlights;\r\n}());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as objects from '../../../common/objects.js';\r\nimport { renderCodicons } from '../../../common/codicons.js';\r\nimport { escape } from '../../../common/strings.js';\r\nvar HighlightedLabel = /** @class */ (function () {\r\n    function HighlightedLabel(container, supportCodicons) {\r\n        this.supportCodicons = supportCodicons;\r\n        this.text = '';\r\n        this.title = '';\r\n        this.highlights = [];\r\n        this.didEverRender = false;\r\n        this.domNode = document.createElement('span');\r\n        this.domNode.className = 'monaco-highlighted-label';\r\n        container.appendChild(this.domNode);\r\n    }\r\n    Object.defineProperty(HighlightedLabel.prototype, \"element\", {\r\n        get: function () {\r\n            return this.domNode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HighlightedLabel.prototype.set = function (text, highlights, title, escapeNewLines) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        if (title === void 0) { title = ''; }\r\n        if (!text) {\r\n            text = '';\r\n        }\r\n        if (escapeNewLines) {\r\n            // adjusts highlights inplace\r\n            text = HighlightedLabel.escapeNewLines(text, highlights);\r\n        }\r\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\r\n            return;\r\n        }\r\n        if (!Array.isArray(highlights)) {\r\n            highlights = [];\r\n        }\r\n        this.text = text;\r\n        this.title = title;\r\n        this.highlights = highlights;\r\n        this.render();\r\n    };\r\n    HighlightedLabel.prototype.render = function () {\r\n        var htmlContent = '';\r\n        var pos = 0;\r\n        for (var _i = 0, _a = this.highlights; _i < _a.length; _i++) {\r\n            var highlight = _a[_i];\r\n            if (highlight.end === highlight.start) {\r\n                continue;\r\n            }\r\n            if (pos < highlight.start) {\r\n                htmlContent += '<span>';\r\n                var substring_1 = this.text.substring(pos, highlight.start);\r\n                htmlContent += this.supportCodicons ? renderCodicons(escape(substring_1)) : escape(substring_1);\r\n                htmlContent += '</span>';\r\n                pos = highlight.end;\r\n            }\r\n            if (highlight.extraClasses) {\r\n                htmlContent += \"<span class=\\\"highlight \" + highlight.extraClasses + \"\\\">\";\r\n            }\r\n            else {\r\n                htmlContent += \"<span class=\\\"highlight\\\">\";\r\n            }\r\n            var substring = this.text.substring(highlight.start, highlight.end);\r\n            htmlContent += this.supportCodicons ? renderCodicons(escape(substring)) : escape(substring);\r\n            htmlContent += '</span>';\r\n            pos = highlight.end;\r\n        }\r\n        if (pos < this.text.length) {\r\n            htmlContent += '<span>';\r\n            var substring = this.text.substring(pos);\r\n            htmlContent += this.supportCodicons ? renderCodicons(escape(substring)) : escape(substring);\r\n            htmlContent += '</span>';\r\n        }\r\n        this.domNode.innerHTML = htmlContent;\r\n        if (this.title) {\r\n            this.domNode.title = this.title;\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('title');\r\n        }\r\n        this.didEverRender = true;\r\n    };\r\n    HighlightedLabel.escapeNewLines = function (text, highlights) {\r\n        var total = 0;\r\n        var extra = 0;\r\n        return text.replace(/\\r\\n|\\r|\\n/g, function (match, offset) {\r\n            extra = match === '\\r\\n' ? -1 : 0;\r\n            offset += total;\r\n            for (var _i = 0, highlights_1 = highlights; _i < highlights_1.length; _i++) {\r\n                var highlight = highlights_1[_i];\r\n                if (highlight.end <= offset) {\r\n                    continue;\r\n                }\r\n                if (highlight.start >= offset) {\r\n                    highlight.start += extra;\r\n                }\r\n                if (highlight.end >= offset) {\r\n                    highlight.end += extra;\r\n                }\r\n            }\r\n            total += extra;\r\n            return '\\u23CE';\r\n        });\r\n    };\r\n    return HighlightedLabel;\r\n}());\r\nexport { HighlightedLabel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { URI } from './uri.js';\r\nimport { posix, normalize } from './path.js';\r\nimport { startsWithIgnoreCase, rtrim, startsWith } from './strings.js';\r\nimport { Schemas } from './network.js';\r\nimport { isLinux, isWindows } from './platform.js';\r\nimport { isEqual, basename, relativePath } from './resources.js';\r\n/**\r\n * @deprecated use LabelService instead\r\n */\r\nexport function getPathLabel(resource, userHomeProvider, rootProvider) {\r\n    if (typeof resource === 'string') {\r\n        resource = URI.file(resource);\r\n    }\r\n    // return early if we can resolve a relative path label from the root\r\n    if (rootProvider) {\r\n        var baseResource = rootProvider.getWorkspaceFolder(resource);\r\n        if (baseResource) {\r\n            var hasMultipleRoots = rootProvider.getWorkspace().folders.length > 1;\r\n            var pathLabel = void 0;\r\n            if (isEqual(baseResource.uri, resource)) {\r\n                pathLabel = ''; // no label if paths are identical\r\n            }\r\n            else {\r\n                pathLabel = relativePath(baseResource.uri, resource);\r\n            }\r\n            if (hasMultipleRoots) {\r\n                var rootName = baseResource.name ? baseResource.name : basename(baseResource.uri);\r\n                pathLabel = pathLabel ? (rootName + ' • ' + pathLabel) : rootName; // always show root basename if there are multiple\r\n            }\r\n            return pathLabel;\r\n        }\r\n    }\r\n    // return if the resource is neither file:// nor untitled:// and no baseResource was provided\r\n    if (resource.scheme !== Schemas.file && resource.scheme !== Schemas.untitled) {\r\n        return resource.with({ query: null, fragment: null }).toString(true);\r\n    }\r\n    // convert c:\\something => C:\\something\r\n    if (hasDriveLetter(resource.fsPath)) {\r\n        return normalize(normalizeDriveLetter(resource.fsPath));\r\n    }\r\n    // normalize and tildify (macOS, Linux only)\r\n    var res = normalize(resource.fsPath);\r\n    if (!isWindows && userHomeProvider) {\r\n        res = tildify(res, userHomeProvider.userHome);\r\n    }\r\n    return res;\r\n}\r\nexport function getBaseLabel(resource) {\r\n    if (!resource) {\r\n        return undefined;\r\n    }\r\n    if (typeof resource === 'string') {\r\n        resource = URI.file(resource);\r\n    }\r\n    var base = basename(resource) || (resource.scheme === Schemas.file ? resource.fsPath : resource.path) /* can be empty string if '/' is passed in */;\r\n    // convert c: => C:\r\n    if (hasDriveLetter(base)) {\r\n        return normalizeDriveLetter(base);\r\n    }\r\n    return base;\r\n}\r\nfunction hasDriveLetter(path) {\r\n    return !!(isWindows && path && path[1] === ':');\r\n}\r\nexport function normalizeDriveLetter(path) {\r\n    if (hasDriveLetter(path)) {\r\n        return path.charAt(0).toUpperCase() + path.slice(1);\r\n    }\r\n    return path;\r\n}\r\nvar normalizedUserHomeCached = Object.create(null);\r\nexport function tildify(path, userHome) {\r\n    if (isWindows || !path || !userHome) {\r\n        return path; // unsupported\r\n    }\r\n    // Keep a normalized user home path as cache to prevent accumulated string creation\r\n    var normalizedUserHome = normalizedUserHomeCached.original === userHome ? normalizedUserHomeCached.normalized : undefined;\r\n    if (!normalizedUserHome) {\r\n        normalizedUserHome = \"\" + rtrim(userHome, posix.sep) + posix.sep;\r\n        normalizedUserHomeCached = { original: userHome, normalized: normalizedUserHome };\r\n    }\r\n    // Linux: case sensitive, macOS: case insensitive\r\n    if (isLinux ? startsWith(path, normalizedUserHome) : startsWithIgnoreCase(path, normalizedUserHome)) {\r\n        path = \"~/\" + path.substr(normalizedUserHome.length);\r\n    }\r\n    return path;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Assert from '../../../common/assert.js';\r\nimport { onUnexpectedError } from '../../../common/errors.js';\r\nimport { combinedDisposable, Disposable } from '../../../common/lifecycle.js';\r\nimport { Event, Emitter, EventMultiplexer, Relay } from '../../../common/event.js';\r\nvar LockData = /** @class */ (function () {\r\n    function LockData(item) {\r\n        this._onDispose = new Emitter();\r\n        this.onDispose = this._onDispose.event;\r\n        this._item = item;\r\n    }\r\n    Object.defineProperty(LockData.prototype, \"item\", {\r\n        get: function () {\r\n            return this._item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LockData.prototype.dispose = function () {\r\n        if (this._onDispose) {\r\n            this._onDispose.fire();\r\n            this._onDispose.dispose();\r\n            this._onDispose = undefined;\r\n        }\r\n    };\r\n    return LockData;\r\n}());\r\nexport { LockData };\r\nvar Lock = /** @class */ (function () {\r\n    function Lock() {\r\n        this.locks = Object.create({});\r\n    }\r\n    Lock.prototype.isLocked = function (item) {\r\n        return !!this.locks[item.id];\r\n    };\r\n    Lock.prototype.run = function (item, fn) {\r\n        var _this = this;\r\n        var lock = this.getLock(item);\r\n        if (lock) {\r\n            return new Promise(function (c, e) {\r\n                Event.once(lock.onDispose)(function () {\r\n                    return _this.run(item, fn).then(c, e);\r\n                });\r\n            });\r\n        }\r\n        var result;\r\n        return new Promise(function (c, e) {\r\n            if (item.isDisposed()) {\r\n                return e(new Error('Item is disposed.'));\r\n            }\r\n            var lock = _this.locks[item.id] = new LockData(item);\r\n            result = fn().then(function (r) {\r\n                delete _this.locks[item.id];\r\n                lock.dispose();\r\n                return r;\r\n            }).then(c, e);\r\n            return result;\r\n        });\r\n    };\r\n    Lock.prototype.getLock = function (item) {\r\n        var key;\r\n        for (key in this.locks) {\r\n            var lock = this.locks[key];\r\n            if (item.intersects(lock.item)) {\r\n                return lock;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return Lock;\r\n}());\r\nexport { Lock };\r\nvar ItemRegistry = /** @class */ (function () {\r\n    function ItemRegistry() {\r\n        this._isDisposed = false;\r\n        this._onDidRevealItem = new EventMultiplexer();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new EventMultiplexer();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new EventMultiplexer();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new EventMultiplexer();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new EventMultiplexer();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new EventMultiplexer();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new EventMultiplexer();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new EventMultiplexer();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new EventMultiplexer();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new EventMultiplexer();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new EventMultiplexer();\r\n        this.onDidDisposeItem = this._onDidDisposeItem.event;\r\n        this.items = {};\r\n    }\r\n    ItemRegistry.prototype.register = function (item) {\r\n        Assert.ok(!this.isRegistered(item.id), 'item already registered: ' + item.id);\r\n        var disposable = combinedDisposable(this._onDidRevealItem.add(item.onDidReveal), this._onExpandItem.add(item.onExpand), this._onDidExpandItem.add(item.onDidExpand), this._onCollapseItem.add(item.onCollapse), this._onDidCollapseItem.add(item.onDidCollapse), this._onDidAddTraitItem.add(item.onDidAddTrait), this._onDidRemoveTraitItem.add(item.onDidRemoveTrait), this._onDidRefreshItem.add(item.onDidRefresh), this._onRefreshItemChildren.add(item.onRefreshChildren), this._onDidRefreshItemChildren.add(item.onDidRefreshChildren), this._onDidDisposeItem.add(item.onDidDispose));\r\n        this.items[item.id] = { item: item, disposable: disposable };\r\n    };\r\n    ItemRegistry.prototype.deregister = function (item) {\r\n        Assert.ok(this.isRegistered(item.id), 'item not registered: ' + item.id);\r\n        this.items[item.id].disposable.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    ItemRegistry.prototype.isRegistered = function (id) {\r\n        return this.items.hasOwnProperty(id);\r\n    };\r\n    ItemRegistry.prototype.getItem = function (id) {\r\n        var result = this.items[id];\r\n        return result ? result.item : null;\r\n    };\r\n    ItemRegistry.prototype.dispose = function () {\r\n        this.items = {};\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    ItemRegistry.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    return ItemRegistry;\r\n}());\r\nexport { ItemRegistry };\r\nvar Item = /** @class */ (function () {\r\n    function Item(id, registry, context, lock, element) {\r\n        this._onDidCreate = new Emitter();\r\n        this._onDidReveal = new Emitter();\r\n        this.onDidReveal = this._onDidReveal.event;\r\n        this._onExpand = new Emitter();\r\n        this.onExpand = this._onExpand.event;\r\n        this._onDidExpand = new Emitter();\r\n        this.onDidExpand = this._onDidExpand.event;\r\n        this._onCollapse = new Emitter();\r\n        this.onCollapse = this._onCollapse.event;\r\n        this._onDidCollapse = new Emitter();\r\n        this.onDidCollapse = this._onDidCollapse.event;\r\n        this._onDidAddTrait = new Emitter();\r\n        this.onDidAddTrait = this._onDidAddTrait.event;\r\n        this._onDidRemoveTrait = new Emitter();\r\n        this.onDidRemoveTrait = this._onDidRemoveTrait.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onRefreshChildren = new Emitter();\r\n        this.onRefreshChildren = this._onRefreshChildren.event;\r\n        this._onDidRefreshChildren = new Emitter();\r\n        this.onDidRefreshChildren = this._onDidRefreshChildren.event;\r\n        this._onDidDispose = new Emitter();\r\n        this.onDidDispose = this._onDidDispose.event;\r\n        this.registry = registry;\r\n        this.context = context;\r\n        this.lock = lock;\r\n        this.element = element;\r\n        this.id = id;\r\n        this.registry.register(this);\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.needsChildrenRefresh = true;\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this.traits = {};\r\n        this.depth = 0;\r\n        this.expanded = !!(this.context.dataSource.shouldAutoexpand && this.context.dataSource.shouldAutoexpand(this.context.tree, element));\r\n        this._onDidCreate.fire(this);\r\n        this.visible = this._isVisible();\r\n        this.height = this._getHeight();\r\n        this._isDisposed = false;\r\n    }\r\n    Item.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    Item.prototype.hasChildren = function () {\r\n        return this.doesHaveChildren;\r\n    };\r\n    Item.prototype.getDepth = function () {\r\n        return this.depth;\r\n    };\r\n    Item.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    Item.prototype.setVisible = function (value) {\r\n        this.visible = value;\r\n    };\r\n    Item.prototype.isExpanded = function () {\r\n        return this.expanded;\r\n    };\r\n    /* protected */ Item.prototype._setExpanded = function (value) {\r\n        this.expanded = value;\r\n    };\r\n    Item.prototype.reveal = function (relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        var eventData = { item: this, relativeTop: relativeTop };\r\n        this._onDidReveal.fire(eventData);\r\n    };\r\n    Item.prototype.expand = function () {\r\n        var _this = this;\r\n        if (this.isExpanded() || !this.doesHaveChildren || this.lock.isLocked(this)) {\r\n            return Promise.resolve(false);\r\n        }\r\n        var result = this.lock.run(this, function () {\r\n            if (_this.isExpanded() || !_this.doesHaveChildren) {\r\n                return Promise.resolve(false);\r\n            }\r\n            var eventData = { item: _this };\r\n            var result;\r\n            _this._onExpand.fire(eventData);\r\n            if (_this.needsChildrenRefresh) {\r\n                result = _this.refreshChildren(false, true, true);\r\n            }\r\n            else {\r\n                result = Promise.resolve(null);\r\n            }\r\n            return result.then(function () {\r\n                _this._setExpanded(true);\r\n                _this._onDidExpand.fire(eventData);\r\n                return true;\r\n            });\r\n        });\r\n        return result.then(function (r) {\r\n            if (_this.isDisposed()) {\r\n                return false;\r\n            }\r\n            // Auto expand single child folders\r\n            if (_this.context.options.autoExpandSingleChildren && r && _this.firstChild !== null && _this.firstChild === _this.lastChild && _this.firstChild.isVisible()) {\r\n                return _this.firstChild.expand().then(function () { return true; });\r\n            }\r\n            return r;\r\n        });\r\n    };\r\n    Item.prototype.collapse = function (recursive) {\r\n        var _this = this;\r\n        if (recursive === void 0) { recursive = false; }\r\n        if (recursive) {\r\n            var collapseChildrenPromise_1 = Promise.resolve(null);\r\n            this.forEachChild(function (child) {\r\n                collapseChildrenPromise_1 = collapseChildrenPromise_1.then(function () { return child.collapse(true); });\r\n            });\r\n            return collapseChildrenPromise_1.then(function () {\r\n                return _this.collapse(false);\r\n            });\r\n        }\r\n        else {\r\n            if (!this.isExpanded() || this.lock.isLocked(this)) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.lock.run(this, function () {\r\n                var eventData = { item: _this };\r\n                _this._onCollapse.fire(eventData);\r\n                _this._setExpanded(false);\r\n                _this._onDidCollapse.fire(eventData);\r\n                return Promise.resolve(true);\r\n            });\r\n        }\r\n    };\r\n    Item.prototype.addTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        this.traits[trait] = true;\r\n        this._onDidAddTrait.fire(eventData);\r\n    };\r\n    Item.prototype.removeTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        delete this.traits[trait];\r\n        this._onDidRemoveTrait.fire(eventData);\r\n    };\r\n    Item.prototype.hasTrait = function (trait) {\r\n        return this.traits[trait] || false;\r\n    };\r\n    Item.prototype.getAllTraits = function () {\r\n        var result = [];\r\n        var trait;\r\n        for (trait in this.traits) {\r\n            if (this.traits.hasOwnProperty(trait) && this.traits[trait]) {\r\n                result.push(trait);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Item.prototype.getHeight = function () {\r\n        return this.height;\r\n    };\r\n    Item.prototype.refreshChildren = function (recursive, safe, force) {\r\n        var _this = this;\r\n        if (safe === void 0) { safe = false; }\r\n        if (force === void 0) { force = false; }\r\n        if (!force && !this.isExpanded()) {\r\n            var setNeedsChildrenRefresh_1 = function (item) {\r\n                item.needsChildrenRefresh = true;\r\n                item.forEachChild(setNeedsChildrenRefresh_1);\r\n            };\r\n            setNeedsChildrenRefresh_1(this);\r\n            return Promise.resolve(this);\r\n        }\r\n        this.needsChildrenRefresh = false;\r\n        var doRefresh = function () {\r\n            var eventData = { item: _this, isNested: safe };\r\n            _this._onRefreshChildren.fire(eventData);\r\n            var childrenPromise;\r\n            if (_this.doesHaveChildren) {\r\n                childrenPromise = _this.context.dataSource.getChildren(_this.context.tree, _this.element);\r\n            }\r\n            else {\r\n                childrenPromise = Promise.resolve([]);\r\n            }\r\n            var result = childrenPromise.then(function (elements) {\r\n                if (_this.isDisposed() || _this.registry.isDisposed()) {\r\n                    return Promise.resolve(null);\r\n                }\r\n                if (!Array.isArray(elements)) {\r\n                    return Promise.reject(new Error('Please return an array of children.'));\r\n                }\r\n                elements = !elements ? [] : elements.slice(0);\r\n                elements = _this.sort(elements);\r\n                var staleItems = {};\r\n                while (_this.firstChild !== null) {\r\n                    staleItems[_this.firstChild.id] = _this.firstChild;\r\n                    _this.removeChild(_this.firstChild);\r\n                }\r\n                for (var i = 0, len = elements.length; i < len; i++) {\r\n                    var element = elements[i];\r\n                    var id = _this.context.dataSource.getId(_this.context.tree, element);\r\n                    var item = staleItems[id] || new Item(id, _this.registry, _this.context, _this.lock, element);\r\n                    item.element = element;\r\n                    if (recursive) {\r\n                        item.needsChildrenRefresh = recursive;\r\n                    }\r\n                    delete staleItems[id];\r\n                    _this.addChild(item);\r\n                }\r\n                for (var staleItemId in staleItems) {\r\n                    if (staleItems.hasOwnProperty(staleItemId)) {\r\n                        staleItems[staleItemId].dispose();\r\n                    }\r\n                }\r\n                if (recursive) {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        return child.doRefresh(recursive, true);\r\n                    }));\r\n                }\r\n                else {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        if (child.isExpanded() && child.needsChildrenRefresh) {\r\n                            return child.doRefresh(recursive, true);\r\n                        }\r\n                        else {\r\n                            child.updateVisibility();\r\n                            return Promise.resolve(null);\r\n                        }\r\n                    }));\r\n                }\r\n            });\r\n            return result\r\n                .then(undefined, onUnexpectedError)\r\n                .then(function () { return _this._onDidRefreshChildren.fire(eventData); });\r\n        };\r\n        return safe ? doRefresh() : this.lock.run(this, doRefresh);\r\n    };\r\n    Item.prototype.doRefresh = function (recursive, safe) {\r\n        if (safe === void 0) { safe = false; }\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.height = this._getHeight();\r\n        this.updateVisibility();\r\n        this._onDidRefresh.fire(this);\r\n        return this.refreshChildren(recursive, safe);\r\n    };\r\n    Item.prototype.updateVisibility = function () {\r\n        this.setVisible(this._isVisible());\r\n    };\r\n    Item.prototype.refresh = function (recursive) {\r\n        return this.doRefresh(recursive);\r\n    };\r\n    Item.prototype.getNavigator = function () {\r\n        return new TreeNavigator(this);\r\n    };\r\n    Item.prototype.intersects = function (other) {\r\n        return this.isAncestorOf(other) || other.isAncestorOf(this);\r\n    };\r\n    Item.prototype.isAncestorOf = function (startItem) {\r\n        var item = startItem;\r\n        while (item) {\r\n            if (item.id === this.id) {\r\n                return true;\r\n            }\r\n            item = item.parent;\r\n        }\r\n        return false;\r\n    };\r\n    Item.prototype.addChild = function (item, afterItem) {\r\n        if (afterItem === void 0) { afterItem = this.lastChild; }\r\n        var isEmpty = this.firstChild === null;\r\n        var atHead = afterItem === null;\r\n        var atTail = afterItem === this.lastChild;\r\n        if (isEmpty) {\r\n            this.firstChild = this.lastChild = item;\r\n            item.next = item.previous = null;\r\n        }\r\n        else if (atHead) {\r\n            if (!this.firstChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.firstChild.previous = item;\r\n            item.next = this.firstChild;\r\n            item.previous = null;\r\n            this.firstChild = item;\r\n        }\r\n        else if (atTail) {\r\n            if (!this.lastChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.lastChild.next = item;\r\n            item.next = null;\r\n            item.previous = this.lastChild;\r\n            this.lastChild = item;\r\n        }\r\n        else {\r\n            item.previous = afterItem;\r\n            if (!afterItem) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next = afterItem.next;\r\n            if (!afterItem.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            afterItem.next.previous = item;\r\n            afterItem.next = item;\r\n        }\r\n        item.parent = this;\r\n        item.depth = this.depth + 1;\r\n    };\r\n    Item.prototype.removeChild = function (item) {\r\n        var isFirstChild = this.firstChild === item;\r\n        var isLastChild = this.lastChild === item;\r\n        if (isFirstChild && isLastChild) {\r\n            this.firstChild = this.lastChild = null;\r\n        }\r\n        else if (isFirstChild) {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = null;\r\n            this.firstChild = item.next;\r\n        }\r\n        else if (isLastChild) {\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = null;\r\n            this.lastChild = item.previous;\r\n        }\r\n        else {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = item.previous;\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = item.next;\r\n        }\r\n        item.parent = null;\r\n        item.depth = NaN;\r\n    };\r\n    Item.prototype.forEachChild = function (fn) {\r\n        var child = this.firstChild;\r\n        var next;\r\n        while (child) {\r\n            next = child.next;\r\n            fn(child);\r\n            child = next;\r\n        }\r\n    };\r\n    Item.prototype.mapEachChild = function (fn) {\r\n        var result = [];\r\n        this.forEachChild(function (child) {\r\n            result.push(fn(child));\r\n        });\r\n        return result;\r\n    };\r\n    Item.prototype.sort = function (elements) {\r\n        var _this = this;\r\n        var sorter = this.context.sorter;\r\n        if (sorter) {\r\n            return elements.sort(function (element, otherElement) {\r\n                return sorter.compare(_this.context.tree, element, otherElement);\r\n            });\r\n        }\r\n        return elements;\r\n    };\r\n    /* protected */ Item.prototype._getHeight = function () {\r\n        if (!this.context.renderer) {\r\n            return 0;\r\n        }\r\n        return this.context.renderer.getHeight(this.context.tree, this.element);\r\n    };\r\n    /* protected */ Item.prototype._isVisible = function () {\r\n        if (!this.context.filter) {\r\n            return false;\r\n        }\r\n        return this.context.filter.isVisible(this.context.tree, this.element);\r\n    };\r\n    Item.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    Item.prototype.dispose = function () {\r\n        this.forEachChild(function (child) { return child.dispose(); });\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this._onDidDispose.fire(this);\r\n        this.registry.deregister(this);\r\n        this._onDidCreate.dispose();\r\n        this._onDidReveal.dispose();\r\n        this._onExpand.dispose();\r\n        this._onDidExpand.dispose();\r\n        this._onCollapse.dispose();\r\n        this._onDidCollapse.dispose();\r\n        this._onDidAddTrait.dispose();\r\n        this._onDidRemoveTrait.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onRefreshChildren.dispose();\r\n        this._onDidRefreshChildren.dispose();\r\n        this._onDidDispose.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    return Item;\r\n}());\r\nexport { Item };\r\nvar RootItem = /** @class */ (function (_super) {\r\n    __extends(RootItem, _super);\r\n    function RootItem(id, registry, context, lock, element) {\r\n        return _super.call(this, id, registry, context, lock, element) || this;\r\n    }\r\n    RootItem.prototype.isVisible = function () {\r\n        return false;\r\n    };\r\n    RootItem.prototype.setVisible = function (value) {\r\n        // no-op\r\n    };\r\n    RootItem.prototype.isExpanded = function () {\r\n        return true;\r\n    };\r\n    /* protected */ RootItem.prototype._setExpanded = function (value) {\r\n        // no-op\r\n    };\r\n    /* protected */ RootItem.prototype._getHeight = function () {\r\n        return 0;\r\n    };\r\n    /* protected */ RootItem.prototype._isVisible = function () {\r\n        return false;\r\n    };\r\n    return RootItem;\r\n}(Item));\r\nvar TreeNavigator = /** @class */ (function () {\r\n    function TreeNavigator(item, subTreeOnly) {\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        this.item = item;\r\n        this.start = subTreeOnly ? item : null;\r\n    }\r\n    TreeNavigator.lastDescendantOf = function (item) {\r\n        if (!item) {\r\n            return null;\r\n        }\r\n        if (item instanceof RootItem) {\r\n            return TreeNavigator.lastDescendantOf(item.lastChild);\r\n        }\r\n        if (!item.isVisible()) {\r\n            return TreeNavigator.lastDescendantOf(item.previous);\r\n        }\r\n        if (!item.isExpanded() || item.lastChild === null) {\r\n            return item;\r\n        }\r\n        return TreeNavigator.lastDescendantOf(item.lastChild);\r\n    };\r\n    TreeNavigator.prototype.current = function () {\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.next = function () {\r\n        if (this.item) {\r\n            do {\r\n                if ((this.item instanceof RootItem || (this.item.isVisible() && this.item.isExpanded())) && this.item.firstChild) {\r\n                    this.item = this.item.firstChild;\r\n                }\r\n                else if (this.item === this.start) {\r\n                    this.item = null;\r\n                }\r\n                else {\r\n                    // select next brother, next uncle, next great-uncle, etc...\r\n                    while (this.item && this.item !== this.start && !this.item.next) {\r\n                        this.item = this.item.parent;\r\n                    }\r\n                    if (this.item === this.start) {\r\n                        this.item = null;\r\n                    }\r\n                    this.item = !this.item ? null : this.item.next;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.previous = function () {\r\n        if (this.item) {\r\n            do {\r\n                var previous = TreeNavigator.lastDescendantOf(this.item.previous);\r\n                if (previous) {\r\n                    this.item = previous;\r\n                }\r\n                else if (this.item.parent && this.item.parent !== this.start && this.item.parent.isVisible()) {\r\n                    this.item = this.item.parent;\r\n                }\r\n                else {\r\n                    this.item = null;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.parent = function () {\r\n        if (this.item) {\r\n            var parent_1 = this.item.parent;\r\n            if (parent_1 && parent_1 !== this.start && parent_1.isVisible()) {\r\n                this.item = parent_1;\r\n            }\r\n            else {\r\n                this.item = null;\r\n            }\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.first = function () {\r\n        this.item = this.start;\r\n        this.next();\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.last = function () {\r\n        return TreeNavigator.lastDescendantOf(this.start);\r\n    };\r\n    return TreeNavigator;\r\n}());\r\nexport { TreeNavigator };\r\nvar TreeModel = /** @class */ (function () {\r\n    function TreeModel(context) {\r\n        this.registry = new ItemRegistry();\r\n        this.registryDisposable = Disposable.None;\r\n        this._onSetInput = new Emitter();\r\n        this.onSetInput = this._onSetInput.event;\r\n        this._onDidSetInput = new Emitter();\r\n        this.onDidSetInput = this._onDidSetInput.event;\r\n        this._onRefresh = new Emitter();\r\n        this.onRefresh = this._onRefresh.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onDidHighlight = new Emitter();\r\n        this.onDidHighlight = this._onDidHighlight.event;\r\n        this._onDidSelect = new Emitter();\r\n        this.onDidSelect = this._onDidSelect.event;\r\n        this._onDidFocus = new Emitter();\r\n        this.onDidFocus = this._onDidFocus.event;\r\n        this._onDidRevealItem = new Relay();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new Relay();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new Relay();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new Relay();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new Relay();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new Relay();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new Relay();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new Relay();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new Relay();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new Relay();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new Relay();\r\n        this.context = context;\r\n        this.input = null;\r\n        this.traitsToItems = {};\r\n    }\r\n    TreeModel.prototype.setInput = function (element) {\r\n        var _this = this;\r\n        var eventData = { item: this.input };\r\n        this._onSetInput.fire(eventData);\r\n        this.setSelection([]);\r\n        this.setFocus();\r\n        this.setHighlight();\r\n        this.lock = new Lock();\r\n        if (this.input) {\r\n            this.input.dispose();\r\n        }\r\n        if (this.registry) {\r\n            this.registry.dispose();\r\n            this.registryDisposable.dispose();\r\n        }\r\n        this.registry = new ItemRegistry();\r\n        this._onDidRevealItem.input = this.registry.onDidRevealItem;\r\n        this._onExpandItem.input = this.registry.onExpandItem;\r\n        this._onDidExpandItem.input = this.registry.onDidExpandItem;\r\n        this._onCollapseItem.input = this.registry.onCollapseItem;\r\n        this._onDidCollapseItem.input = this.registry.onDidCollapseItem;\r\n        this._onDidAddTraitItem.input = this.registry.onDidAddTraitItem;\r\n        this._onDidRemoveTraitItem.input = this.registry.onDidRemoveTraitItem;\r\n        this._onDidRefreshItem.input = this.registry.onDidRefreshItem;\r\n        this._onRefreshItemChildren.input = this.registry.onRefreshItemChildren;\r\n        this._onDidRefreshItemChildren.input = this.registry.onDidRefreshItemChildren;\r\n        this._onDidDisposeItem.input = this.registry.onDidDisposeItem;\r\n        this.registryDisposable = this.registry\r\n            .onDidDisposeItem(function (item) { return item.getAllTraits().forEach(function (trait) { return delete _this.traitsToItems[trait][item.id]; }); });\r\n        var id = this.context.dataSource.getId(this.context.tree, element);\r\n        this.input = new RootItem(id, this.registry, this.context, this.lock, element);\r\n        eventData = { item: this.input };\r\n        this._onDidSetInput.fire(eventData);\r\n        return this.refresh(this.input);\r\n    };\r\n    TreeModel.prototype.getInput = function () {\r\n        return this.input ? this.input.getElement() : null;\r\n    };\r\n    TreeModel.prototype.refresh = function (element, recursive) {\r\n        var _this = this;\r\n        if (element === void 0) { element = null; }\r\n        if (recursive === void 0) { recursive = true; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(null);\r\n        }\r\n        var eventData = { item: item, recursive: recursive };\r\n        this._onRefresh.fire(eventData);\r\n        return item.refresh(recursive).then(function () {\r\n            _this._onDidRefresh.fire(eventData);\r\n        });\r\n    };\r\n    TreeModel.prototype.expand = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.expand();\r\n    };\r\n    TreeModel.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.collapse(recursive);\r\n    };\r\n    TreeModel.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.isExpanded(element) ? this.collapse(element, recursive) : this.expand(element);\r\n    };\r\n    TreeModel.prototype.isExpanded = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        return item.isExpanded();\r\n    };\r\n    TreeModel.prototype.reveal = function (element, relativeTop) {\r\n        var _this = this;\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.resolveUnknownParentChain(element).then(function (chain) {\r\n            var result = Promise.resolve(null);\r\n            chain.forEach(function (e) {\r\n                result = result.then(function () { return _this.expand(e); });\r\n            });\r\n            return result;\r\n        }).then(function () {\r\n            var item = _this.getItem(element);\r\n            if (item) {\r\n                return item.reveal(relativeTop);\r\n            }\r\n        });\r\n    };\r\n    TreeModel.prototype.resolveUnknownParentChain = function (element) {\r\n        var _this = this;\r\n        return this.context.dataSource.getParent(this.context.tree, element).then(function (parent) {\r\n            if (!parent) {\r\n                return Promise.resolve([]);\r\n            }\r\n            return _this.resolveUnknownParentChain(parent).then(function (result) {\r\n                result.push(parent);\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    TreeModel.prototype.setHighlight = function (element, eventPayload) {\r\n        this.setTraits('highlighted', element ? [element] : []);\r\n        var eventData = { highlight: this.getHighlight(), payload: eventPayload };\r\n        this._onDidHighlight.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getHighlight = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('highlighted', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.setSelection = function (elements, eventPayload) {\r\n        this.setTraits('selected', elements);\r\n        var eventData = { selection: this.getSelection(), payload: eventPayload };\r\n        this._onDidSelect.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getSelection = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        return this.getElementsWithTrait('selected', includeHidden);\r\n    };\r\n    TreeModel.prototype.setFocus = function (element, eventPayload) {\r\n        this.setTraits('focused', element ? [element] : []);\r\n        var eventData = { focus: this.getFocus(), payload: eventPayload };\r\n        this._onDidFocus.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getFocus = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('focused', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.focusNext = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var nextItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            nextItem = nav.next();\r\n            if (!nextItem) {\r\n                break;\r\n            }\r\n            item = nextItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusPrevious = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var previousItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            previousItem = nav.previous();\r\n            if (!previousItem) {\r\n                break;\r\n            }\r\n            item = previousItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusParent = function (eventPayload) {\r\n        var item = this.getFocus() || this.input;\r\n        var nav = this.getNavigator(item, false);\r\n        var parent = nav.parent();\r\n        if (parent) {\r\n            this.setFocus(parent, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirstChild = function (eventPayload) {\r\n        var item = this.getItem(this.getFocus() || this.input);\r\n        var nav = this.getNavigator(item, false);\r\n        var next = nav.next();\r\n        var parent = nav.parent();\r\n        if (parent === item) {\r\n            this.setFocus(next, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirst = function (eventPayload, from) {\r\n        this.focusNth(0, eventPayload, from);\r\n    };\r\n    TreeModel.prototype.focusNth = function (index, eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var nav = this.getNavigator(navItem);\r\n        var item = nav.first();\r\n        for (var i = 0; i < index; i++) {\r\n            item = nav.next();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusLast = function (eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var item;\r\n        if (from && navItem) {\r\n            item = navItem.lastChild;\r\n        }\r\n        else {\r\n            var nav = this.getNavigator(navItem);\r\n            item = nav.last();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.getParent = function (from) {\r\n        if (from) {\r\n            var fromItem = this.getItem(from);\r\n            if (fromItem && fromItem.parent) {\r\n                return fromItem.parent;\r\n            }\r\n        }\r\n        return this.getItem(this.input);\r\n    };\r\n    TreeModel.prototype.getNavigator = function (element, subTreeOnly) {\r\n        if (element === void 0) { element = null; }\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        return new TreeNavigator(this.getItem(element), subTreeOnly);\r\n    };\r\n    TreeModel.prototype.getItem = function (element) {\r\n        if (element === void 0) { element = null; }\r\n        if (element === null) {\r\n            return this.input;\r\n        }\r\n        else if (element instanceof Item) {\r\n            return element;\r\n        }\r\n        else if (typeof element === 'string') {\r\n            return this.registry.getItem(element);\r\n        }\r\n        else {\r\n            return this.registry.getItem(this.context.dataSource.getId(this.context.tree, element));\r\n        }\r\n    };\r\n    TreeModel.prototype.removeTraits = function (trait, elements) {\r\n        var items = this.traitsToItems[trait] || {};\r\n        var item;\r\n        var id;\r\n        if (elements.length === 0) {\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.removeTrait(trait);\r\n                }\r\n            }\r\n            delete this.traitsToItems[trait];\r\n        }\r\n        else {\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    item.removeTrait(trait);\r\n                    delete items[item.id];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeModel.prototype.setTraits = function (trait, elements) {\r\n        if (elements.length === 0) {\r\n            this.removeTraits(trait, elements);\r\n        }\r\n        else {\r\n            var items = {};\r\n            var item = void 0;\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    items[item.id] = item;\r\n                }\r\n            }\r\n            var traitItems = this.traitsToItems[trait] || {};\r\n            var itemsToRemoveTrait = [];\r\n            var id = void 0;\r\n            for (id in traitItems) {\r\n                if (traitItems.hasOwnProperty(id)) {\r\n                    if (items.hasOwnProperty(id)) {\r\n                        delete items[id];\r\n                    }\r\n                    else {\r\n                        itemsToRemoveTrait.push(traitItems[id]);\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0, len = itemsToRemoveTrait.length; i < len; i++) {\r\n                item = itemsToRemoveTrait[i];\r\n                item.removeTrait(trait);\r\n                delete traitItems[item.id];\r\n            }\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.addTrait(trait);\r\n                    traitItems[id] = item;\r\n                }\r\n            }\r\n            this.traitsToItems[trait] = traitItems;\r\n        }\r\n    };\r\n    TreeModel.prototype.getElementsWithTrait = function (trait, includeHidden) {\r\n        var elements = [];\r\n        var items = this.traitsToItems[trait] || {};\r\n        var id;\r\n        for (id in items) {\r\n            if (items.hasOwnProperty(id) && (items[id].isVisible() || includeHidden)) {\r\n                elements.push(items[id].getElement());\r\n            }\r\n        }\r\n        return elements;\r\n    };\r\n    TreeModel.prototype.dispose = function () {\r\n        this.registry.dispose();\r\n        this._onSetInput.dispose();\r\n        this._onDidSetInput.dispose();\r\n        this._onRefresh.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onDidHighlight.dispose();\r\n        this._onDidSelect.dispose();\r\n        this._onDidFocus.dispose();\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._onDidDisposeItem.dispose();\r\n    };\r\n    return TreeModel;\r\n}());\r\nexport { TreeModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isFunction } from '../../../common/types.js';\r\nvar DataSource = /** @class */ (function () {\r\n    function DataSource(arg) {\r\n        this.modelProvider = isFunction(arg.getModel) ? arg : { getModel: function () { return arg; } };\r\n    }\r\n    DataSource.prototype.getId = function (tree, element) {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n        var model = this.modelProvider.getModel();\r\n        return model === element ? '__root__' : model.dataSource.getId(element);\r\n    };\r\n    DataSource.prototype.hasChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return !!(model && model === element && model.entries.length > 0);\r\n    };\r\n    DataSource.prototype.getChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return Promise.resolve(model === element ? model.entries : []);\r\n    };\r\n    DataSource.prototype.getParent = function (tree, element) {\r\n        return Promise.resolve(null);\r\n    };\r\n    return DataSource;\r\n}());\r\nexport { DataSource };\r\nvar AccessibilityProvider = /** @class */ (function () {\r\n    function AccessibilityProvider(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    AccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.accessibilityProvider ? model.accessibilityProvider.getAriaLabel(element) : null;\r\n    };\r\n    AccessibilityProvider.prototype.getPosInSet = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        var i = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    i++;\r\n                }\r\n                if (entry === element) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            i = model.entries.indexOf(element) + 1;\r\n        }\r\n        return String(i);\r\n    };\r\n    AccessibilityProvider.prototype.getSetSize = function () {\r\n        var model = this.modelProvider.getModel();\r\n        var n = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    n++;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            n = model.entries.length;\r\n        }\r\n        return String(n);\r\n    };\r\n    return AccessibilityProvider;\r\n}());\r\nexport { AccessibilityProvider };\r\nvar Filter = /** @class */ (function () {\r\n    function Filter(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    Filter.prototype.isVisible = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        if (!model.filter) {\r\n            return true;\r\n        }\r\n        return model.filter.isVisible(element);\r\n    };\r\n    return Filter;\r\n}());\r\nexport { Filter };\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(modelProvider, styles) {\r\n        this.modelProvider = modelProvider;\r\n        this.styles = styles;\r\n    }\r\n    Renderer.prototype.updateStyles = function (styles) {\r\n        this.styles = styles;\r\n    };\r\n    Renderer.prototype.getHeight = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getHeight(element);\r\n    };\r\n    Renderer.prototype.getTemplateId = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getTemplateId(element);\r\n    };\r\n    Renderer.prototype.renderTemplate = function (tree, templateId, container) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.renderTemplate(templateId, container, this.styles);\r\n    };\r\n    Renderer.prototype.renderElement = function (tree, element, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.renderElement(element, templateId, templateData, this.styles);\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (tree, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.disposeTemplate(templateId, templateData);\r\n    };\r\n    return Renderer;\r\n}());\r\nexport { Renderer };\r\n","import * as platform from '../../../common/platform.js';\r\nimport * as errors from '../../../common/errors.js';\r\nimport * as dom from '../../../browser/dom.js';\r\nimport { createKeybinding } from '../../../common/keyCodes.js';\r\nvar KeybindingDispatcher = /** @class */ (function () {\r\n    function KeybindingDispatcher() {\r\n        this._arr = [];\r\n    }\r\n    KeybindingDispatcher.prototype.set = function (keybinding, callback) {\r\n        this._arr.push({\r\n            keybinding: createKeybinding(keybinding, platform.OS),\r\n            callback: callback\r\n        });\r\n    };\r\n    KeybindingDispatcher.prototype.dispatch = function (keybinding) {\r\n        // Loop from the last to the first to handle overwrites\r\n        for (var i = this._arr.length - 1; i >= 0; i--) {\r\n            var item = this._arr[i];\r\n            if (keybinding.toChord().equals(item.keybinding)) {\r\n                return item.callback;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return KeybindingDispatcher;\r\n}());\r\nexport { KeybindingDispatcher };\r\nvar DefaultController = /** @class */ (function () {\r\n    function DefaultController(options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = { clickBehavior: 0 /* ON_MOUSE_DOWN */, keyboardSupport: true, openMode: 0 /* SINGLE_CLICK */ }; }\r\n        this.options = options;\r\n        this.downKeyBindingDispatcher = new KeybindingDispatcher();\r\n        this.upKeyBindingDispatcher = new KeybindingDispatcher();\r\n        if (typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport) {\r\n            this.downKeyBindingDispatcher.set(16 /* UpArrow */, function (t, e) { return _this.onUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(18 /* DownArrow */, function (t, e) { return _this.onDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(15 /* LeftArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n            this.downKeyBindingDispatcher.set(17 /* RightArrow */, function (t, e) { return _this.onRight(t, e); });\r\n            if (platform.isMacintosh) {\r\n                this.downKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 16 /* UpArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 44 /* KEY_N */, function (t, e) { return _this.onDown(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 46 /* KEY_P */, function (t, e) { return _this.onUp(t, e); });\r\n            }\r\n            this.downKeyBindingDispatcher.set(11 /* PageUp */, function (t, e) { return _this.onPageUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(12 /* PageDown */, function (t, e) { return _this.onPageDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(14 /* Home */, function (t, e) { return _this.onHome(t, e); });\r\n            this.downKeyBindingDispatcher.set(13 /* End */, function (t, e) { return _this.onEnd(t, e); });\r\n            this.downKeyBindingDispatcher.set(10 /* Space */, function (t, e) { return _this.onSpace(t, e); });\r\n            this.downKeyBindingDispatcher.set(9 /* Escape */, function (t, e) { return _this.onEscape(t, e); });\r\n            this.upKeyBindingDispatcher.set(3 /* Enter */, this.onEnter.bind(this));\r\n            this.upKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 3 /* Enter */, this.onEnter.bind(this));\r\n        }\r\n    }\r\n    DefaultController.prototype.onMouseDown = function (tree, element, event, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            if (event.target) {\r\n                if (event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n                    return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'scrollbar', 'monaco-tree')) {\r\n                    return false;\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'monaco-action-bar', 'row')) { // TODO@Joao not very nice way of checking for the action bar (implicit knowledge)\r\n                    return false; // Ignore event if target is over an action bar of the row\r\n                }\r\n            }\r\n            // Propagate to onLeftClick now\r\n            return this.onLeftClick(tree, element, event, origin);\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onClick = function (tree, element, event) {\r\n        var isMac = platform.isMacintosh;\r\n        // A Ctrl click on the Mac is a context menu event\r\n        if (isMac && event.ctrlKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            return false; // Already handled by onMouseDown\r\n        }\r\n        return this.onLeftClick(tree, element, event);\r\n    };\r\n    DefaultController.prototype.onLeftClick = function (tree, element, eventish, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        var event = eventish;\r\n        var payload = { origin: origin, originalEvent: eventish, didClickOnTwistie: this.isClickOnTwistie(event) };\r\n        if (tree.getInput() === element) {\r\n            tree.clearFocus(payload);\r\n            tree.clearSelection(payload);\r\n        }\r\n        else {\r\n            var isSingleMouseDown = eventish && event.browserEvent && event.browserEvent.type === 'mousedown' && event.browserEvent.detail === 1;\r\n            if (!isSingleMouseDown) {\r\n                eventish.preventDefault(); // we cannot preventDefault onMouseDown with single click because this would break DND otherwise\r\n            }\r\n            eventish.stopPropagation();\r\n            tree.domFocus();\r\n            tree.setSelection([element], payload);\r\n            tree.setFocus(element, payload);\r\n            if (this.shouldToggleExpansion(element, event, origin)) {\r\n                if (tree.isExpanded(element)) {\r\n                    tree.collapse(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n                else {\r\n                    tree.expand(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.shouldToggleExpansion = function (element, event, origin) {\r\n        var isDoubleClick = (origin === 'mouse' && event.detail === 2);\r\n        return this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event);\r\n    };\r\n    Object.defineProperty(DefaultController.prototype, \"openOnSingleClick\", {\r\n        get: function () {\r\n            return this.options.openMode === 0 /* SINGLE_CLICK */;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DefaultController.prototype.isClickOnTwistie = function (event) {\r\n        var element = event.target;\r\n        if (!dom.hasClass(element, 'content')) {\r\n            return false;\r\n        }\r\n        var twistieStyle = window.getComputedStyle(element, ':before');\r\n        if (twistieStyle.backgroundImage === 'none' || twistieStyle.display === 'none') {\r\n            return false;\r\n        }\r\n        var twistieWidth = parseInt(twistieStyle.width) + parseInt(twistieStyle.paddingRight);\r\n        return event.browserEvent.offsetX <= twistieWidth;\r\n    };\r\n    DefaultController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // allow context menu on input fields\r\n        }\r\n        // Prevent native context menu from showing up\r\n        if (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onTap = function (tree, element, event) {\r\n        var target = event.initialTarget;\r\n        if (target && target.tagName && target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        return this.onLeftClick(tree, element, event, 'touch');\r\n    };\r\n    DefaultController.prototype.onKeyDown = function (tree, event) {\r\n        return this.onKey(this.downKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKeyUp = function (tree, event) {\r\n        return this.onKey(this.upKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKey = function (bindings, tree, event) {\r\n        var handler = bindings.dispatch(event.toKeybinding());\r\n        if (handler) {\r\n            // TODO: TS 3.1 upgrade. Why are we checking against void?\r\n            if (handler(tree, event)) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPrevious(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPreviousPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNext(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNextPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onHome = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusFirst(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnd = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusLast(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onLeft = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_1 = tree.getFocus();\r\n            tree.collapse(focus_1).then(function (didCollapse) {\r\n                if (focus_1 && !didCollapse) {\r\n                    tree.focusParent(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onRight = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_2 = tree.getFocus();\r\n            tree.expand(focus_2).then(function (didExpand) {\r\n                if (focus_2 && !didExpand) {\r\n                    tree.focusFirstChild(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnter = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.setSelection([focus], payload);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onSpace = function (tree, event) {\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.toggleExpansion(focus);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEscape = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n            return true;\r\n        }\r\n        if (tree.getSelection().length) {\r\n            tree.clearSelection(payload);\r\n            return true;\r\n        }\r\n        if (tree.getFocus()) {\r\n            tree.clearFocus(payload);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DefaultController;\r\n}());\r\nexport { DefaultController };\r\nvar DefaultDragAndDrop = /** @class */ (function () {\r\n    function DefaultDragAndDrop() {\r\n    }\r\n    DefaultDragAndDrop.prototype.getDragURI = function (tree, element) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragStart = function (tree, data, originalEvent) {\r\n        return;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragOver = function (tree, data, targetElement, originalEvent) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.drop = function (tree, data, targetElement, originalEvent) {\r\n        return;\r\n    };\r\n    return DefaultDragAndDrop;\r\n}());\r\nexport { DefaultDragAndDrop };\r\nvar DefaultFilter = /** @class */ (function () {\r\n    function DefaultFilter() {\r\n    }\r\n    DefaultFilter.prototype.isVisible = function (tree, element) {\r\n        return true;\r\n    };\r\n    return DefaultFilter;\r\n}());\r\nexport { DefaultFilter };\r\nvar DefaultAccessibilityProvider = /** @class */ (function () {\r\n    function DefaultAccessibilityProvider() {\r\n    }\r\n    DefaultAccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        return null;\r\n    };\r\n    return DefaultAccessibilityProvider;\r\n}());\r\nexport { DefaultAccessibilityProvider };\r\nvar DefaultTreestyler = /** @class */ (function () {\r\n    function DefaultTreestyler(styleElement, selectorSuffix) {\r\n        this.styleElement = styleElement;\r\n        this.selectorSuffix = selectorSuffix;\r\n    }\r\n    DefaultTreestyler.prototype.style = function (styles) {\r\n        var suffix = this.selectorSuffix ? \".\" + this.selectorSuffix : '';\r\n        var content = [];\r\n        if (styles.listFocusBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: \" + styles.listFocusBackground + \"; }\");\r\n        }\r\n        if (styles.listFocusForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: \" + styles.listFocusForeground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listActiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listActiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listFocusAndSelectionBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: \" + styles.listFocusAndSelectionBackground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusAndSelectionForeground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: \" + styles.listFocusAndSelectionForeground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listInactiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listInactiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listInactiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listInactiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listHoverBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: \" + styles.listHoverBackground + \"; }\");\r\n        }\r\n        if (styles.listHoverForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: \" + styles.listHoverForeground + \"; }\");\r\n        }\r\n        if (styles.listDropBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: \" + styles.listDropBackground + \" !important; color: inherit !important; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusOutline) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; background: #000; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid transparent; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px dotted \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        var newStyles = content.join('\\n');\r\n        if (newStyles !== this.styleElement.innerHTML) {\r\n            this.styleElement.innerHTML = newStyles;\r\n        }\r\n    };\r\n    return DefaultTreestyler;\r\n}());\r\nexport { DefaultTreestyler };\r\n","var ElementsDragAndDropData = /** @class */ (function () {\r\n    function ElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ElementsDragAndDropData;\r\n}());\r\nexport { ElementsDragAndDropData };\r\nvar ExternalElementsDragAndDropData = /** @class */ (function () {\r\n    function ExternalElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ExternalElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ExternalElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ExternalElementsDragAndDropData;\r\n}());\r\nexport { ExternalElementsDragAndDropData };\r\nvar DesktopDragAndDropData = /** @class */ (function () {\r\n    function DesktopDragAndDropData() {\r\n        this.types = [];\r\n        this.files = [];\r\n    }\r\n    DesktopDragAndDropData.prototype.update = function (dataTransfer) {\r\n        if (dataTransfer.types) {\r\n            this.types = [];\r\n            Array.prototype.push.apply(this.types, dataTransfer.types);\r\n        }\r\n        if (dataTransfer.files) {\r\n            this.files = [];\r\n            Array.prototype.push.apply(this.files, dataTransfer.files);\r\n            this.files = this.files.filter(function (f) { return f.size || f.type; });\r\n        }\r\n    };\r\n    DesktopDragAndDropData.prototype.getData = function () {\r\n        return {\r\n            types: this.types,\r\n            files: this.files\r\n        };\r\n    };\r\n    return DesktopDragAndDropData;\r\n}());\r\nexport { DesktopDragAndDropData };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayIterator } from '../../../common/iterator.js';\r\nvar HeightMap = /** @class */ (function () {\r\n    function HeightMap() {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    }\r\n    HeightMap.prototype.getContentHeight = function () {\r\n        var last = this.heightMap[this.heightMap.length - 1];\r\n        return !last ? 0 : last.top + last.height;\r\n    };\r\n    HeightMap.prototype.onInsertItems = function (iterator, afterItemId) {\r\n        if (afterItemId === void 0) { afterItemId = null; }\r\n        var item = null;\r\n        var viewItem;\r\n        var i, j;\r\n        var totalSize;\r\n        var sizeDiff = 0;\r\n        if (afterItemId === null) {\r\n            i = 0;\r\n            totalSize = 0;\r\n        }\r\n        else {\r\n            i = this.indexes[afterItemId] + 1;\r\n            viewItem = this.heightMap[i - 1];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return undefined;\r\n            }\r\n            totalSize = viewItem.top + viewItem.height;\r\n        }\r\n        var boundSplice = this.heightMap.splice.bind(this.heightMap, i, 0);\r\n        var itemsToInsert = [];\r\n        while (item = iterator.next()) {\r\n            viewItem = this.createViewItem(item);\r\n            viewItem.top = totalSize + sizeDiff;\r\n            this.indexes[item.id] = i++;\r\n            itemsToInsert.push(viewItem);\r\n            sizeDiff += viewItem.height;\r\n        }\r\n        boundSplice.apply(this.heightMap, itemsToInsert);\r\n        for (j = i; j < this.heightMap.length; j++) {\r\n            viewItem = this.heightMap[j];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = j;\r\n        }\r\n        for (j = itemsToInsert.length - 1; j >= 0; j--) {\r\n            this.onInsertItem(itemsToInsert[j]);\r\n        }\r\n        for (j = this.heightMap.length - 1; j >= i; j--) {\r\n            this.onRefreshItem(this.heightMap[j]);\r\n        }\r\n        return sizeDiff;\r\n    };\r\n    HeightMap.prototype.onInsertItem = function (item) {\r\n        // noop\r\n    };\r\n    // Contiguous items\r\n    HeightMap.prototype.onRemoveItems = function (iterator) {\r\n        var itemId = null;\r\n        var viewItem;\r\n        var startIndex = null;\r\n        var i = 0;\r\n        var sizeDiff = 0;\r\n        while (itemId = iterator.next()) {\r\n            i = this.indexes[itemId];\r\n            viewItem = this.heightMap[i];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return;\r\n            }\r\n            sizeDiff -= viewItem.height;\r\n            delete this.indexes[itemId];\r\n            this.onRemoveItem(viewItem);\r\n            if (startIndex === null) {\r\n                startIndex = i;\r\n            }\r\n        }\r\n        if (sizeDiff === 0 || startIndex === null) {\r\n            return;\r\n        }\r\n        this.heightMap.splice(startIndex, i - startIndex + 1);\r\n        for (i = startIndex; i < this.heightMap.length; i++) {\r\n            viewItem = this.heightMap[i];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = i;\r\n            this.onRefreshItem(viewItem);\r\n        }\r\n    };\r\n    HeightMap.prototype.onRemoveItem = function (item) {\r\n        // noop\r\n    };\r\n    HeightMap.prototype.onRefreshItemSet = function (items) {\r\n        var _this = this;\r\n        var sortedItems = items.sort(function (a, b) { return _this.indexes[a.id] - _this.indexes[b.id]; });\r\n        this.onRefreshItems(new ArrayIterator(sortedItems));\r\n    };\r\n    // Ordered, but not necessarily contiguous items\r\n    HeightMap.prototype.onRefreshItems = function (iterator) {\r\n        var item = null;\r\n        var viewItem;\r\n        var newHeight;\r\n        var i, j = null;\r\n        var cummDiff = 0;\r\n        while (item = iterator.next()) {\r\n            i = this.indexes[item.id];\r\n            for (; cummDiff !== 0 && j !== null && j < i; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n            viewItem = this.heightMap[i];\r\n            newHeight = item.getHeight();\r\n            viewItem.top += cummDiff;\r\n            cummDiff += newHeight - viewItem.height;\r\n            viewItem.height = newHeight;\r\n            this.onRefreshItem(viewItem, true);\r\n            j = i + 1;\r\n        }\r\n        if (cummDiff !== 0 && j !== null) {\r\n            for (; j < this.heightMap.length; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n        }\r\n    };\r\n    HeightMap.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        // noop\r\n    };\r\n    HeightMap.prototype.indexAt = function (position) {\r\n        var left = 0;\r\n        var right = this.heightMap.length;\r\n        var center;\r\n        var item;\r\n        // Binary search\r\n        while (left < right) {\r\n            center = Math.floor((left + right) / 2);\r\n            item = this.heightMap[center];\r\n            if (position < item.top) {\r\n                right = center;\r\n            }\r\n            else if (position >= item.top + item.height) {\r\n                if (left === center) {\r\n                    break;\r\n                }\r\n                left = center;\r\n            }\r\n            else {\r\n                return center;\r\n            }\r\n        }\r\n        return this.heightMap.length;\r\n    };\r\n    HeightMap.prototype.indexAfter = function (position) {\r\n        return Math.min(this.indexAt(position) + 1, this.heightMap.length);\r\n    };\r\n    HeightMap.prototype.itemAtIndex = function (index) {\r\n        return this.heightMap[index];\r\n    };\r\n    HeightMap.prototype.itemAfter = function (item) {\r\n        return this.heightMap[this.indexes[item.model.id] + 1] || null;\r\n    };\r\n    HeightMap.prototype.createViewItem = function (item) {\r\n        throw new Error('not implemented');\r\n    };\r\n    HeightMap.prototype.dispose = function () {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    };\r\n    return HeightMap;\r\n}());\r\nexport { HeightMap };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar ContextMenuEvent = /** @class */ (function () {\r\n    function ContextMenuEvent(posx, posy, target) {\r\n        this._posx = posx;\r\n        this._posy = posy;\r\n        this._target = target;\r\n    }\r\n    ContextMenuEvent.prototype.preventDefault = function () {\r\n        // no-op\r\n    };\r\n    ContextMenuEvent.prototype.stopPropagation = function () {\r\n        // no-op\r\n    };\r\n    Object.defineProperty(ContextMenuEvent.prototype, \"target\", {\r\n        get: function () {\r\n            return this._target;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ContextMenuEvent;\r\n}());\r\nexport { ContextMenuEvent };\r\nvar MouseContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(MouseContextMenuEvent, _super);\r\n    function MouseContextMenuEvent(originalEvent) {\r\n        var _this = _super.call(this, originalEvent.posx, originalEvent.posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    MouseContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    MouseContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return MouseContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { MouseContextMenuEvent };\r\nvar KeyboardContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(KeyboardContextMenuEvent, _super);\r\n    function KeyboardContextMenuEvent(posx, posy, originalEvent) {\r\n        var _this = _super.call(this, posx, posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    KeyboardContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    KeyboardContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return KeyboardContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { KeyboardContextMenuEvent };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Platform from '../../../common/platform.js';\r\nimport * as Browser from '../../../browser/browser.js';\r\nimport * as Lifecycle from '../../../common/lifecycle.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport * as Diff from '../../../common/diff/diff.js';\r\nimport * as Touch from '../../../browser/touch.js';\r\nimport * as strings from '../../../common/strings.js';\r\nimport * as Mouse from '../../../browser/mouseEvent.js';\r\nimport * as Keyboard from '../../../browser/keyboardEvent.js';\r\nimport * as dnd from './treeDnd.js';\r\nimport { ArrayIterator, MappedIterator } from '../../../common/iterator.js';\r\nimport { ScrollableElement } from '../../../browser/ui/scrollbar/scrollableElement.js';\r\nimport { HeightMap } from './treeViewModel.js';\r\nimport * as _ from './tree.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { DataTransfers, StaticDND } from '../../../browser/dnd.js';\r\nimport { DefaultTreestyler } from './treeDefaults.js';\r\nimport { Delayer, timeout } from '../../../common/async.js';\r\nfunction removeFromParent(element) {\r\n    try {\r\n        element.parentElement.removeChild(element);\r\n    }\r\n    catch (e) {\r\n        // this will throw if this happens due to a blur event, nasty business\r\n    }\r\n}\r\nvar RowCache = /** @class */ (function () {\r\n    function RowCache(context) {\r\n        this.context = context;\r\n        this._cache = { '': [] };\r\n    }\r\n    RowCache.prototype.alloc = function (templateId) {\r\n        var result = this.cache(templateId).pop();\r\n        if (!result) {\r\n            var content = document.createElement('div');\r\n            content.className = 'content';\r\n            var row = document.createElement('div');\r\n            row.appendChild(content);\r\n            var templateData = null;\r\n            try {\r\n                templateData = this.context.renderer.renderTemplate(this.context.tree, templateId, content);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering template');\r\n                console.error(err);\r\n            }\r\n            result = {\r\n                element: row,\r\n                templateId: templateId,\r\n                templateData: templateData\r\n            };\r\n        }\r\n        return result;\r\n    };\r\n    RowCache.prototype.release = function (templateId, row) {\r\n        removeFromParent(row.element);\r\n        this.cache(templateId).push(row);\r\n    };\r\n    RowCache.prototype.cache = function (templateId) {\r\n        return this._cache[templateId] || (this._cache[templateId] = []);\r\n    };\r\n    RowCache.prototype.garbageCollect = function () {\r\n        var _this = this;\r\n        if (this._cache) {\r\n            Object.keys(this._cache).forEach(function (templateId) {\r\n                _this._cache[templateId].forEach(function (cachedRow) {\r\n                    _this.context.renderer.disposeTemplate(_this.context.tree, templateId, cachedRow.templateData);\r\n                    cachedRow.element = null;\r\n                    cachedRow.templateData = null;\r\n                });\r\n                delete _this._cache[templateId];\r\n            });\r\n        }\r\n    };\r\n    RowCache.prototype.dispose = function () {\r\n        this.garbageCollect();\r\n        this._cache = null;\r\n    };\r\n    return RowCache;\r\n}());\r\nexport { RowCache };\r\nvar ViewItem = /** @class */ (function () {\r\n    function ViewItem(context, model) {\r\n        var _this = this;\r\n        this.width = 0;\r\n        this.needsRender = false;\r\n        this.uri = null;\r\n        this.unbindDragStart = Lifecycle.Disposable.None;\r\n        this._draggable = false;\r\n        this.context = context;\r\n        this.model = model;\r\n        this.id = this.model.id;\r\n        this.row = null;\r\n        this.top = 0;\r\n        this.height = model.getHeight();\r\n        this._styles = {};\r\n        model.getAllTraits().forEach(function (t) { return _this._styles[t] = true; });\r\n        if (model.isExpanded()) {\r\n            this.addClass('expanded');\r\n        }\r\n    }\r\n    Object.defineProperty(ViewItem.prototype, \"expanded\", {\r\n        set: function (value) {\r\n            value ? this.addClass('expanded') : this.removeClass('expanded');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"loading\", {\r\n        set: function (value) {\r\n            value ? this.addClass('codicon-loading') : this.removeClass('codicon-loading');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"draggable\", {\r\n        get: function () {\r\n            return this._draggable;\r\n        },\r\n        set: function (value) {\r\n            this._draggable = value;\r\n            this.render(true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"dropTarget\", {\r\n        set: function (value) {\r\n            value ? this.addClass('drop-target') : this.removeClass('drop-target');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"element\", {\r\n        get: function () {\r\n            return (this.row && this.row.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"templateId\", {\r\n        get: function () {\r\n            return this._templateId || (this._templateId = (this.context.renderer.getTemplateId && this.context.renderer.getTemplateId(this.context.tree, this.model.getElement())));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.addClass = function (name) {\r\n        this._styles[name] = true;\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.removeClass = function (name) {\r\n        delete this._styles[name]; // is this slow?\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.render = function (skipUserRender) {\r\n        var _this = this;\r\n        if (skipUserRender === void 0) { skipUserRender = false; }\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-row'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n        this.element.draggable = this.draggable;\r\n        this.element.style.height = this.height + 'px';\r\n        // ARIA\r\n        this.element.setAttribute('role', 'treeitem');\r\n        var accessibility = this.context.accessibilityProvider;\r\n        var ariaLabel = accessibility.getAriaLabel(this.context.tree, this.model.getElement());\r\n        if (ariaLabel) {\r\n            this.element.setAttribute('aria-label', ariaLabel);\r\n        }\r\n        if (accessibility.getPosInSet && accessibility.getSetSize) {\r\n            this.element.setAttribute('aria-setsize', accessibility.getSetSize());\r\n            this.element.setAttribute('aria-posinset', accessibility.getPosInSet(this.context.tree, this.model.getElement()));\r\n        }\r\n        if (this.model.hasTrait('focused')) {\r\n            var base64Id = strings.safeBtoa(this.model.id);\r\n            this.element.setAttribute('aria-selected', 'true');\r\n            this.element.setAttribute('id', base64Id);\r\n        }\r\n        else {\r\n            this.element.setAttribute('aria-selected', 'false');\r\n            this.element.removeAttribute('id');\r\n        }\r\n        if (this.model.hasChildren()) {\r\n            this.element.setAttribute('aria-expanded', String(!!this._styles['expanded']));\r\n        }\r\n        else {\r\n            this.element.removeAttribute('aria-expanded');\r\n        }\r\n        this.element.setAttribute('aria-level', String(this.model.getDepth()));\r\n        if (this.context.options.paddingOnRow) {\r\n            this.element.style.paddingLeft = this.context.options.twistiePixels + ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n        }\r\n        else {\r\n            this.element.style.paddingLeft = ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n            this.row.element.firstElementChild.style.paddingLeft = this.context.options.twistiePixels + 'px';\r\n        }\r\n        var uri = this.context.dnd.getDragURI(this.context.tree, this.model.getElement());\r\n        if (uri !== this.uri) {\r\n            if (this.unbindDragStart) {\r\n                this.unbindDragStart.dispose();\r\n            }\r\n            if (uri) {\r\n                this.uri = uri;\r\n                this.draggable = true;\r\n                this.unbindDragStart = DOM.addDisposableListener(this.element, 'dragstart', function (e) {\r\n                    _this.onDragStart(e);\r\n                });\r\n            }\r\n            else {\r\n                this.uri = null;\r\n            }\r\n        }\r\n        if (!skipUserRender && this.element) {\r\n            var paddingLeft = 0;\r\n            if (this.context.horizontalScrolling) {\r\n                var style = window.getComputedStyle(this.element);\r\n                paddingLeft = parseFloat(style.paddingLeft);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.element.style.width = Browser.isFirefox ? '-moz-fit-content' : 'fit-content';\r\n            }\r\n            try {\r\n                this.context.renderer.renderElement(this.context.tree, this.model.getElement(), this.templateId, this.row.templateData);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering element');\r\n                console.error(err);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.width = DOM.getContentWidth(this.element) + paddingLeft;\r\n                this.element.style.width = '';\r\n            }\r\n        }\r\n    };\r\n    ViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        if (!this.row) {\r\n            this.row = this.context.cache.alloc(this.templateId);\r\n            // used in reverse lookup from HTMLElement to Item\r\n            this.element[TreeView.BINDING] = this;\r\n        }\r\n        if (this.element.parentElement) {\r\n            return;\r\n        }\r\n        if (afterElement === null) {\r\n            container.appendChild(this.element);\r\n        }\r\n        else {\r\n            try {\r\n                container.insertBefore(this.element, afterElement);\r\n            }\r\n            catch (e) {\r\n                console.warn('Failed to locate previous tree element');\r\n                container.appendChild(this.element);\r\n            }\r\n        }\r\n        this.render();\r\n    };\r\n    ViewItem.prototype.removeFromDOM = function () {\r\n        if (!this.row) {\r\n            return;\r\n        }\r\n        this.unbindDragStart.dispose();\r\n        this.uri = null;\r\n        this.element[TreeView.BINDING] = null;\r\n        this.context.cache.release(this.templateId, this.row);\r\n        this.row = null;\r\n    };\r\n    ViewItem.prototype.dispose = function () {\r\n        this.row = null;\r\n    };\r\n    return ViewItem;\r\n}());\r\nexport { ViewItem };\r\nvar RootViewItem = /** @class */ (function (_super) {\r\n    __extends(RootViewItem, _super);\r\n    function RootViewItem(context, model, wrapper) {\r\n        var _this = _super.call(this, context, model) || this;\r\n        _this.row = {\r\n            element: wrapper,\r\n            templateData: null,\r\n            templateId: null\r\n        };\r\n        return _this;\r\n    }\r\n    RootViewItem.prototype.render = function () {\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-wrapper'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n    };\r\n    RootViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        // noop\r\n    };\r\n    RootViewItem.prototype.removeFromDOM = function () {\r\n        // noop\r\n    };\r\n    return RootViewItem;\r\n}(ViewItem));\r\nfunction reactionEquals(one, other) {\r\n    if (!one && !other) {\r\n        return true;\r\n    }\r\n    else if (!one || !other) {\r\n        return false;\r\n    }\r\n    else if (one.accept !== other.accept) {\r\n        return false;\r\n    }\r\n    else if (one.bubble !== other.bubble) {\r\n        return false;\r\n    }\r\n    else if (one.effect !== other.effect) {\r\n        return false;\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nvar TreeView = /** @class */ (function (_super) {\r\n    __extends(TreeView, _super);\r\n    function TreeView(context, container) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = null;\r\n        _this.lastPointerType = '';\r\n        _this.lastClickTimeStamp = 0;\r\n        _this.contentWidthUpdateDelayer = new Delayer(50);\r\n        _this.isRefreshing = false;\r\n        _this.refreshingPreviousChildrenIds = {};\r\n        _this.currentDragAndDropData = null;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = null;\r\n        _this.currentDropDisposable = Lifecycle.Disposable.None;\r\n        _this.gestureDisposable = Lifecycle.Disposable.None;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.dragAndDropMouseY = null;\r\n        _this.highlightedItemWasDraggable = false;\r\n        _this.onHiddenScrollTop = null;\r\n        _this._onDOMFocus = new Emitter();\r\n        _this.onDOMFocus = _this._onDOMFocus.event;\r\n        _this._onDOMBlur = new Emitter();\r\n        _this._onDidScroll = new Emitter();\r\n        TreeView.counter++;\r\n        _this.instance = TreeView.counter;\r\n        var horizontalScrollMode = typeof context.options.horizontalScrollMode === 'undefined' ? 2 /* Hidden */ : context.options.horizontalScrollMode;\r\n        _this.horizontalScrolling = horizontalScrollMode !== 2 /* Hidden */;\r\n        _this.context = {\r\n            dataSource: context.dataSource,\r\n            renderer: context.renderer,\r\n            controller: context.controller,\r\n            dnd: context.dnd,\r\n            filter: context.filter,\r\n            sorter: context.sorter,\r\n            tree: context.tree,\r\n            accessibilityProvider: context.accessibilityProvider,\r\n            options: context.options,\r\n            cache: new RowCache(context),\r\n            horizontalScrolling: _this.horizontalScrolling\r\n        };\r\n        _this.modelListeners = [];\r\n        _this.viewListeners = [];\r\n        _this.items = {};\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.className = \"monaco-tree no-focused-item monaco-tree-instance-\" + _this.instance;\r\n        // to allow direct tabbing into the tree instead of first focusing the tree\r\n        _this.domNode.tabIndex = context.options.preventRootFocus ? -1 : 0;\r\n        _this.styleElement = DOM.createStyleSheet(_this.domNode);\r\n        _this.treeStyler = context.styler || new DefaultTreestyler(_this.styleElement, \"monaco-tree-instance-\" + _this.instance);\r\n        // ARIA\r\n        _this.domNode.setAttribute('role', 'tree');\r\n        if (_this.context.options.ariaLabel) {\r\n            _this.domNode.setAttribute('aria-label', _this.context.options.ariaLabel);\r\n        }\r\n        if (_this.context.options.alwaysFocused) {\r\n            DOM.addClass(_this.domNode, 'focused');\r\n        }\r\n        if (!_this.context.options.paddingOnRow) {\r\n            DOM.addClass(_this.domNode, 'no-row-padding');\r\n        }\r\n        _this.wrapper = document.createElement('div');\r\n        _this.wrapper.className = 'monaco-tree-wrapper';\r\n        _this.scrollableElement = new ScrollableElement(_this.wrapper, {\r\n            alwaysConsumeMouseWheel: true,\r\n            horizontal: horizontalScrollMode,\r\n            vertical: (typeof context.options.verticalScrollMode !== 'undefined' ? context.options.verticalScrollMode : 1 /* Auto */),\r\n            useShadows: context.options.useShadows\r\n        });\r\n        _this.scrollableElement.onScroll(function (e) {\r\n            _this.render(e.scrollTop, e.height, e.scrollLeft, e.width, e.scrollWidth);\r\n            _this._onDidScroll.fire();\r\n        });\r\n        if (Browser.isIE) {\r\n            _this.wrapper.style.msTouchAction = 'none';\r\n            _this.wrapper.style.msContentZooming = 'none';\r\n        }\r\n        else {\r\n            _this.gestureDisposable = Touch.Gesture.addTarget(_this.wrapper);\r\n        }\r\n        _this.rowsContainer = document.createElement('div');\r\n        _this.rowsContainer.className = 'monaco-tree-rows';\r\n        if (context.options.showTwistie) {\r\n            _this.rowsContainer.className += ' show-twisties';\r\n        }\r\n        var focusTracker = DOM.trackFocus(_this.domNode);\r\n        _this.viewListeners.push(focusTracker.onDidFocus(function () { return _this.onFocus(); }));\r\n        _this.viewListeners.push(focusTracker.onDidBlur(function () { return _this.onBlur(); }));\r\n        _this.viewListeners.push(focusTracker);\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keydown', function (e) { return _this.onKeyDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keyup', function (e) { return _this.onKeyUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mousedown', function (e) { return _this.onMouseDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mouseup', function (e) { return _this.onMouseUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'auxclick', function (e) {\r\n            if (e && e.button === 1) {\r\n                _this.onMouseMiddleClick(e);\r\n            }\r\n        }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'click', function (e) { return _this.onClick(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'contextmenu', function (e) { return _this.onContextMenu(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Tap, function (e) { return _this.onTap(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Change, function (e) { return _this.onTouchChange(e); }));\r\n        if (Browser.isIE) {\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSPointerDown', function (e) { return _this.onMsPointerDown(e); }));\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSGestureTap', function (e) { return _this.onMsGestureTap(e); }));\r\n            // these events come too fast, we throttle them\r\n            _this.viewListeners.push(DOM.addDisposableThrottledListener(_this.wrapper, 'MSGestureChange', function (e) { return _this.onThrottledMsGestureChange(e); }, function (lastEvent, event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                var result = { translationY: event.translationY, translationX: event.translationX };\r\n                if (lastEvent) {\r\n                    result.translationY += lastEvent.translationY;\r\n                    result.translationX += lastEvent.translationX;\r\n                }\r\n                return result;\r\n            }));\r\n        }\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragover', function (e) { return _this.onDragOver(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'drop', function (e) { return _this.onDrop(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragend', function (e) { return _this.onDragEnd(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragleave', function (e) { return _this.onDragOver(e); }));\r\n        _this.wrapper.appendChild(_this.rowsContainer);\r\n        _this.domNode.appendChild(_this.scrollableElement.getDomNode());\r\n        container.appendChild(_this.domNode);\r\n        _this.lastRenderTop = 0;\r\n        _this.lastRenderHeight = 0;\r\n        _this.didJustPressContextMenuKey = false;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = [];\r\n        _this.shouldInvalidateDropReaction = false;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.onRowsChanged();\r\n        _this.layout();\r\n        _this.setupMSGesture();\r\n        _this.applyStyles(context.options);\r\n        return _this;\r\n    }\r\n    TreeView.prototype.applyStyles = function (styles) {\r\n        this.treeStyler.style(styles);\r\n    };\r\n    TreeView.prototype.createViewItem = function (item) {\r\n        return new ViewItem(this.context, item);\r\n    };\r\n    TreeView.prototype.getHTMLElement = function () {\r\n        return this.domNode;\r\n    };\r\n    TreeView.prototype.focus = function () {\r\n        this.domNode.focus();\r\n    };\r\n    TreeView.prototype.isFocused = function () {\r\n        return document.activeElement === this.domNode;\r\n    };\r\n    TreeView.prototype.blur = function () {\r\n        this.domNode.blur();\r\n    };\r\n    TreeView.prototype.setupMSGesture = function () {\r\n        var _this = this;\r\n        if (window.MSGesture) {\r\n            this.msGesture = new MSGesture();\r\n            setTimeout(function () { return _this.msGesture.target = _this.wrapper; }, 100); // TODO@joh, TODO@IETeam\r\n        }\r\n    };\r\n    TreeView.prototype.isTreeVisible = function () {\r\n        return this.onHiddenScrollTop === null;\r\n    };\r\n    TreeView.prototype.layout = function (height, width) {\r\n        if (!this.isTreeVisible()) {\r\n            return;\r\n        }\r\n        this.viewHeight = height || DOM.getContentHeight(this.wrapper); // render\r\n        this.scrollHeight = this.getContentHeight();\r\n        if (this.horizontalScrolling) {\r\n            this.viewWidth = width || DOM.getContentWidth(this.wrapper);\r\n        }\r\n    };\r\n    TreeView.prototype.render = function (scrollTop, viewHeight, scrollLeft, viewWidth, scrollWidth) {\r\n        var i;\r\n        var stop;\r\n        var renderTop = scrollTop;\r\n        var renderBottom = scrollTop + viewHeight;\r\n        var thisRenderBottom = this.lastRenderTop + this.lastRenderHeight;\r\n        // when view scrolls down, start rendering from the renderBottom\r\n        for (i = this.indexAfter(renderBottom) - 1, stop = this.indexAt(Math.max(thisRenderBottom, renderTop)); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start rendering from either this.renderTop or renderBottom\r\n        for (i = Math.min(this.indexAt(this.lastRenderTop), this.indexAfter(renderBottom)) - 1, stop = this.indexAt(renderTop); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls down, start unrendering from renderTop\r\n        for (i = this.indexAt(this.lastRenderTop), stop = Math.min(this.indexAt(renderTop), this.indexAfter(thisRenderBottom)); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start unrendering from either renderBottom this.renderTop\r\n        for (i = Math.max(this.indexAfter(renderBottom), this.indexAt(this.lastRenderTop)), stop = this.indexAfter(thisRenderBottom); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        var topItem = this.itemAtIndex(this.indexAt(renderTop));\r\n        if (topItem) {\r\n            this.rowsContainer.style.top = (topItem.top - renderTop) + 'px';\r\n        }\r\n        if (this.horizontalScrolling) {\r\n            this.rowsContainer.style.left = -scrollLeft + 'px';\r\n            this.rowsContainer.style.width = Math.max(scrollWidth, viewWidth) + \"px\";\r\n        }\r\n        this.lastRenderTop = renderTop;\r\n        this.lastRenderHeight = renderBottom - renderTop;\r\n    };\r\n    TreeView.prototype.setModel = function (newModel) {\r\n        this.releaseModel();\r\n        this.model = newModel;\r\n        this.model.onRefresh(this.onRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefresh(this.onRefreshed, this, this.modelListeners);\r\n        this.model.onSetInput(this.onClearingInput, this, this.modelListeners);\r\n        this.model.onDidSetInput(this.onSetInput, this, this.modelListeners);\r\n        this.model.onDidFocus(this.onModelFocusChange, this, this.modelListeners);\r\n        this.model.onRefreshItemChildren(this.onItemChildrenRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed, this, this.modelListeners);\r\n        this.model.onDidRefreshItem(this.onItemRefresh, this, this.modelListeners);\r\n        this.model.onExpandItem(this.onItemExpanding, this, this.modelListeners);\r\n        this.model.onDidExpandItem(this.onItemExpanded, this, this.modelListeners);\r\n        this.model.onCollapseItem(this.onItemCollapsing, this, this.modelListeners);\r\n        this.model.onDidRevealItem(this.onItemReveal, this, this.modelListeners);\r\n        this.model.onDidAddTraitItem(this.onItemAddTrait, this, this.modelListeners);\r\n        this.model.onDidRemoveTraitItem(this.onItemRemoveTrait, this, this.modelListeners);\r\n    };\r\n    TreeView.prototype.onRefreshing = function () {\r\n        this.isRefreshing = true;\r\n    };\r\n    TreeView.prototype.onRefreshed = function () {\r\n        this.isRefreshing = false;\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onRowsChanged = function (scrollTop) {\r\n        if (scrollTop === void 0) { scrollTop = this.scrollTop; }\r\n        if (this.isRefreshing) {\r\n            return;\r\n        }\r\n        this.scrollTop = scrollTop;\r\n        this.updateScrollWidth();\r\n    };\r\n    TreeView.prototype.updateScrollWidth = function () {\r\n        var _this = this;\r\n        if (!this.horizontalScrolling) {\r\n            return;\r\n        }\r\n        this.contentWidthUpdateDelayer.trigger(function () {\r\n            var keys = Object.keys(_this.items);\r\n            var scrollWidth = 0;\r\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                var key = keys_1[_i];\r\n                scrollWidth = Math.max(scrollWidth, _this.items[key].width);\r\n            }\r\n            _this.scrollWidth = scrollWidth + 10 /* scrollbar */;\r\n        });\r\n    };\r\n    TreeView.prototype.focusNextPage = function (eventPayload) {\r\n        var _this = this;\r\n        var lastPageIndex = this.indexAt(this.scrollTop + this.viewHeight);\r\n        lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\r\n        var lastPageElement = this.itemAtIndex(lastPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== lastPageElement) {\r\n            this.model.setFocus(lastPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop += this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusNextPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.focusPreviousPage = function (eventPayload) {\r\n        var _this = this;\r\n        var firstPageIndex;\r\n        if (this.scrollTop === 0) {\r\n            firstPageIndex = this.indexAt(this.scrollTop);\r\n        }\r\n        else {\r\n            firstPageIndex = this.indexAfter(this.scrollTop - 1);\r\n        }\r\n        var firstPageElement = this.itemAtIndex(firstPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== firstPageElement) {\r\n            this.model.setFocus(firstPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop -= this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusPreviousPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(TreeView.prototype, \"viewHeight\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.height;\r\n        },\r\n        set: function (height) {\r\n            this.scrollableElement.setScrollDimensions({ height: height });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollHeight\", {\r\n        set: function (scrollHeight) {\r\n            scrollHeight = scrollHeight + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"viewWidth\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.width;\r\n        },\r\n        set: function (viewWidth) {\r\n            this.scrollableElement.setScrollDimensions({ width: viewWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollWidth\", {\r\n        set: function (scrollWidth) {\r\n            this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            var scrollPosition = this.scrollableElement.getScrollPosition();\r\n            return scrollPosition.scrollTop;\r\n        },\r\n        set: function (scrollTop) {\r\n            var scrollHeight = this.getContentHeight() + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // Events\r\n    TreeView.prototype.onClearingInput = function (e) {\r\n        var item = e.item;\r\n        if (item) {\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onSetInput = function (e) {\r\n        this.context.cache.garbageCollect();\r\n        this.inputItem = new RootViewItem(this.context, e.item, this.wrapper);\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem && this.context.options.showLoading) {\r\n            viewItem.loadingTimer = setTimeout(function () {\r\n                viewItem.loadingTimer = 0;\r\n                viewItem.loading = true;\r\n            }, TreeView.LOADING_DECORATION_DELAY);\r\n        }\r\n        if (!e.isNested) {\r\n            var childrenIds = [];\r\n            var navigator_1 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_1.next()) {\r\n                childrenIds.push(childItem.id);\r\n            }\r\n            this.refreshingPreviousChildrenIds[item.id] = childrenIds;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshed = function (e) {\r\n        var _this = this;\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (viewItem.loadingTimer) {\r\n                clearTimeout(viewItem.loadingTimer);\r\n                viewItem.loadingTimer = 0;\r\n            }\r\n            viewItem.loading = false;\r\n        }\r\n        if (!e.isNested) {\r\n            var previousChildrenIds_1 = this.refreshingPreviousChildrenIds[item.id];\r\n            var afterModelItems_1 = [];\r\n            var navigator_2 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_2.next()) {\r\n                afterModelItems_1.push(childItem);\r\n            }\r\n            var skipDiff = Math.abs(previousChildrenIds_1.length - afterModelItems_1.length) > 1000;\r\n            var diff = [];\r\n            var doToInsertItemsAlreadyExist = false;\r\n            if (!skipDiff) {\r\n                var lcs = new Diff.LcsDiff({\r\n                    getElements: function () { return previousChildrenIds_1; }\r\n                }, {\r\n                    getElements: function () { return afterModelItems_1.map(function (item) { return item.id; }); }\r\n                }, null);\r\n                diff = lcs.ComputeDiff(false).changes;\r\n                // this means that the result of the diff algorithm would result\r\n                // in inserting items that were already registered. this can only\r\n                // happen if the data provider returns bad ids OR if the sorting\r\n                // of the elements has changed\r\n                doToInsertItemsAlreadyExist = diff.some(function (d) {\r\n                    if (d.modifiedLength > 0) {\r\n                        for (var i = d.modifiedStart, len = d.modifiedStart + d.modifiedLength; i < len; i++) {\r\n                            if (_this.items.hasOwnProperty(afterModelItems_1[i].id)) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n            // 50 is an optimization number, at some point we're better off\r\n            // just replacing everything\r\n            if (!skipDiff && !doToInsertItemsAlreadyExist && diff.length < 50) {\r\n                for (var _i = 0, diff_1 = diff; _i < diff_1.length; _i++) {\r\n                    var diffChange = diff_1[_i];\r\n                    if (diffChange.originalLength > 0) {\r\n                        this.onRemoveItems(new ArrayIterator(previousChildrenIds_1, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength));\r\n                    }\r\n                    if (diffChange.modifiedLength > 0) {\r\n                        var beforeItem = afterModelItems_1[diffChange.modifiedStart - 1] || item;\r\n                        beforeItem = beforeItem.getDepth() > 0 ? beforeItem : null;\r\n                        this.onInsertItems(new ArrayIterator(afterModelItems_1, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength), beforeItem ? beforeItem.id : null);\r\n                    }\r\n                }\r\n            }\r\n            else if (skipDiff || diff.length) {\r\n                this.onRemoveItems(new ArrayIterator(previousChildrenIds_1));\r\n                this.onInsertItems(new ArrayIterator(afterModelItems_1), item.getDepth() > 0 ? item.id : null);\r\n            }\r\n            if (skipDiff || diff.length) {\r\n                this.onRowsChanged();\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRefresh = function (item) {\r\n        this.onItemsRefresh([item]);\r\n    };\r\n    TreeView.prototype.onItemsRefresh = function (items) {\r\n        var _this = this;\r\n        this.onRefreshItemSet(items.filter(function (item) { return _this.items.hasOwnProperty(item.id); }));\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onItemExpanding = function (e) {\r\n        var viewItem = this.items[e.item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemExpanded = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n            var height = this.onInsertItems(item.getNavigator(), item.id) || 0;\r\n            var scrollTop = this.scrollTop;\r\n            if (viewItem.top + viewItem.height <= this.scrollTop) {\r\n                scrollTop += height;\r\n            }\r\n            this.onRowsChanged(scrollTop);\r\n        }\r\n    };\r\n    TreeView.prototype.onItemCollapsing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = false;\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onItemReveal = function (e) {\r\n        var item = e.item;\r\n        var relativeTop = e.relativeTop;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (relativeTop !== null) {\r\n                relativeTop = relativeTop < 0 ? 0 : relativeTop;\r\n                relativeTop = relativeTop > 1 ? 1 : relativeTop;\r\n                // y = mx + b\r\n                var m = viewItem.height - this.viewHeight;\r\n                this.scrollTop = m * relativeTop + viewItem.top;\r\n            }\r\n            else {\r\n                var viewItemBottom = viewItem.top + viewItem.height;\r\n                var wrapperBottom = this.scrollTop + this.viewHeight;\r\n                if (viewItem.top < this.scrollTop) {\r\n                    this.scrollTop = viewItem.top;\r\n                }\r\n                else if (viewItemBottom >= wrapperBottom) {\r\n                    this.scrollTop = viewItemBottom - this.viewHeight;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemAddTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.addClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.addClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (viewItem) {\r\n                this.highlightedItemWasDraggable = !!viewItem.draggable;\r\n                if (viewItem.draggable) {\r\n                    viewItem.draggable = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRemoveTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.removeClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.removeClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (this.highlightedItemWasDraggable) {\r\n                viewItem.draggable = true;\r\n            }\r\n            this.highlightedItemWasDraggable = false;\r\n        }\r\n    };\r\n    TreeView.prototype.onModelFocusChange = function () {\r\n        var focus = this.model && this.model.getFocus();\r\n        DOM.toggleClass(this.domNode, 'no-focused-item', !focus);\r\n        // ARIA\r\n        if (focus) {\r\n            this.domNode.setAttribute('aria-activedescendant', strings.safeBtoa(this.context.dataSource.getId(this.context.tree, focus)));\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('aria-activedescendant');\r\n        }\r\n    };\r\n    // HeightMap \"events\"\r\n    TreeView.prototype.onInsertItem = function (item) {\r\n        var _this = this;\r\n        item.onDragStart = function (e) { _this.onDragStart(item, e); };\r\n        item.needsRender = true;\r\n        this.refreshViewItem(item);\r\n        this.items[item.id] = item;\r\n    };\r\n    TreeView.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        item.needsRender = item.needsRender || needsRender;\r\n        this.refreshViewItem(item);\r\n    };\r\n    TreeView.prototype.onRemoveItem = function (item) {\r\n        this.removeItemFromDOM(item);\r\n        item.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    // ViewItem refresh\r\n    TreeView.prototype.refreshViewItem = function (item) {\r\n        item.render();\r\n        if (this.shouldBeRendered(item)) {\r\n            this.insertItemInDOM(item);\r\n        }\r\n        else {\r\n            this.removeItemFromDOM(item);\r\n        }\r\n    };\r\n    // DOM Events\r\n    TreeView.prototype.onClick = function (e) {\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        if (Browser.isIE && Date.now() - this.lastClickTimeStamp < 300) {\r\n            // IE10+ doesn't set the detail property correctly. While IE10 simply\r\n            // counts the number of clicks, IE11 reports always 1. To align with\r\n            // other browser, we set the value to 2 if clicks events come in a 300ms\r\n            // sequence.\r\n            event.detail = 2;\r\n        }\r\n        this.lastClickTimeStamp = Date.now();\r\n        this.context.controller.onClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseMiddleClick = function (e) {\r\n        if (!this.context.controller.onMouseMiddleClick) {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseMiddleClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseDown = function (e) {\r\n        this.didJustPressContextMenuKey = false;\r\n        if (!this.context.controller.onMouseDown) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseDown(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseUp = function (e) {\r\n        if (!this.context.controller.onMouseUp) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseUp(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onTap = function (e) {\r\n        var item = this.getItemAround(e.initialTarget);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onTap(this.context.tree, item.model.getElement(), e);\r\n    };\r\n    TreeView.prototype.onTouchChange = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onContextMenu = function (event) {\r\n        var resultEvent;\r\n        var element;\r\n        if (event instanceof KeyboardEvent || this.didJustPressContextMenuKey) {\r\n            this.didJustPressContextMenuKey = false;\r\n            var keyboardEvent = new Keyboard.StandardKeyboardEvent(event);\r\n            element = this.model.getFocus();\r\n            var position = void 0;\r\n            if (!element) {\r\n                element = this.model.getInput();\r\n                position = DOM.getDomNodePagePosition(this.inputItem.element);\r\n            }\r\n            else {\r\n                var id = this.context.dataSource.getId(this.context.tree, element);\r\n                var viewItem = this.items[id];\r\n                position = DOM.getDomNodePagePosition(viewItem.element);\r\n            }\r\n            resultEvent = new _.KeyboardContextMenuEvent(position.left + position.width, position.top, keyboardEvent);\r\n        }\r\n        else {\r\n            var mouseEvent = new Mouse.StandardMouseEvent(event);\r\n            var item = this.getItemAround(mouseEvent.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            element = item.model.getElement();\r\n            resultEvent = new _.MouseContextMenuEvent(mouseEvent);\r\n        }\r\n        this.context.controller.onContextMenu(this.context.tree, element, resultEvent);\r\n    };\r\n    TreeView.prototype.onKeyDown = function (e) {\r\n        var event = new Keyboard.StandardKeyboardEvent(e);\r\n        this.didJustPressContextMenuKey = event.keyCode === 58 /* ContextMenu */ || (event.shiftKey && event.keyCode === 68 /* F10 */);\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.didJustPressContextMenuKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        this.context.controller.onKeyDown(this.context.tree, event);\r\n    };\r\n    TreeView.prototype.onKeyUp = function (e) {\r\n        if (this.didJustPressContextMenuKey) {\r\n            this.onContextMenu(e);\r\n        }\r\n        this.didJustPressContextMenuKey = false;\r\n        this.context.controller.onKeyUp(this.context.tree, new Keyboard.StandardKeyboardEvent(e));\r\n    };\r\n    TreeView.prototype.onDragStart = function (item, e) {\r\n        if (this.model.getHighlight()) {\r\n            return;\r\n        }\r\n        var element = item.model.getElement();\r\n        var selection = this.model.getSelection();\r\n        var elements;\r\n        if (selection.indexOf(element) > -1) {\r\n            elements = selection;\r\n        }\r\n        else {\r\n            elements = [element];\r\n        }\r\n        e.dataTransfer.effectAllowed = 'copyMove';\r\n        e.dataTransfer.setData(DataTransfers.RESOURCES, JSON.stringify([item.uri]));\r\n        if (e.dataTransfer.setDragImage) {\r\n            var label = void 0;\r\n            if (this.context.dnd.getDragLabel) {\r\n                label = this.context.dnd.getDragLabel(this.context.tree, elements);\r\n            }\r\n            else {\r\n                label = String(elements.length);\r\n            }\r\n            var dragImage_1 = document.createElement('div');\r\n            dragImage_1.className = 'monaco-tree-drag-image';\r\n            dragImage_1.textContent = label;\r\n            document.body.appendChild(dragImage_1);\r\n            e.dataTransfer.setDragImage(dragImage_1, -10, -10);\r\n            setTimeout(function () { return document.body.removeChild(dragImage_1); }, 0);\r\n        }\r\n        this.currentDragAndDropData = new dnd.ElementsDragAndDropData(elements);\r\n        StaticDND.CurrentDragAndDropData = new dnd.ExternalElementsDragAndDropData(elements);\r\n        this.context.dnd.onDragStart(this.context.tree, this.currentDragAndDropData, new Mouse.DragMouseEvent(e));\r\n    };\r\n    TreeView.prototype.setupDragAndDropScrollInterval = function () {\r\n        var _this = this;\r\n        var viewTop = DOM.getTopLeftOffset(this.wrapper).top;\r\n        if (!this.dragAndDropScrollInterval) {\r\n            this.dragAndDropScrollInterval = window.setInterval(function () {\r\n                if (_this.dragAndDropMouseY === null) {\r\n                    return;\r\n                }\r\n                var diff = _this.dragAndDropMouseY - viewTop;\r\n                var scrollDiff = 0;\r\n                var upperLimit = _this.viewHeight - 35;\r\n                if (diff < 35) {\r\n                    scrollDiff = Math.max(-14, 0.2 * (diff - 35));\r\n                }\r\n                else if (diff > upperLimit) {\r\n                    scrollDiff = Math.min(14, 0.2 * (diff - upperLimit));\r\n                }\r\n                _this.scrollTop += scrollDiff;\r\n            }, 10);\r\n            this.cancelDragAndDropScrollTimeout();\r\n            this.dragAndDropScrollTimeout = window.setTimeout(function () {\r\n                _this.cancelDragAndDropScrollInterval();\r\n                _this.dragAndDropScrollTimeout = null;\r\n            }, 1000);\r\n        }\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollInterval = function () {\r\n        if (this.dragAndDropScrollInterval) {\r\n            window.clearInterval(this.dragAndDropScrollInterval);\r\n            this.dragAndDropScrollInterval = null;\r\n        }\r\n        this.cancelDragAndDropScrollTimeout();\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollTimeout = function () {\r\n        if (this.dragAndDropScrollTimeout) {\r\n            window.clearTimeout(this.dragAndDropScrollTimeout);\r\n            this.dragAndDropScrollTimeout = null;\r\n        }\r\n    };\r\n    TreeView.prototype.onDragOver = function (e) {\r\n        var _this = this;\r\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\r\n        var event = new Mouse.DragMouseEvent(e);\r\n        var viewItem = this.getItemAround(event.target);\r\n        if (!viewItem || (event.posx === 0 && event.posy === 0 && event.browserEvent.type === DOM.EventType.DRAG_LEAVE)) {\r\n            // dragging outside of tree\r\n            if (this.currentDropTarget) {\r\n                // clear previously hovered element feedback\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.cancelDragAndDropScrollInterval();\r\n            this.currentDropTarget = null;\r\n            this.currentDropElement = null;\r\n            this.dragAndDropMouseY = null;\r\n            return false;\r\n        }\r\n        // dragging inside the tree\r\n        this.setupDragAndDropScrollInterval();\r\n        this.dragAndDropMouseY = event.posy;\r\n        if (!this.currentDragAndDropData) {\r\n            // just started dragging\r\n            if (StaticDND.CurrentDragAndDropData) {\r\n                this.currentDragAndDropData = StaticDND.CurrentDragAndDropData;\r\n            }\r\n            else {\r\n                if (!event.dataTransfer.types) {\r\n                    return false;\r\n                }\r\n                this.currentDragAndDropData = new dnd.DesktopDragAndDropData();\r\n            }\r\n        }\r\n        this.currentDragAndDropData.update(event.browserEvent.dataTransfer);\r\n        var element;\r\n        var item = viewItem.model;\r\n        var reaction;\r\n        // check the bubble up behavior\r\n        do {\r\n            element = item ? item.getElement() : this.model.getInput();\r\n            reaction = this.context.dnd.onDragOver(this.context.tree, this.currentDragAndDropData, element, event);\r\n            if (!reaction || reaction.bubble !== 1 /* BUBBLE_UP */) {\r\n                break;\r\n            }\r\n            item = item && item.parent;\r\n        } while (item);\r\n        if (!item) {\r\n            this.currentDropElement = null;\r\n            return false;\r\n        }\r\n        var canDrop = reaction && reaction.accept;\r\n        if (canDrop) {\r\n            this.currentDropElement = item.getElement();\r\n            event.preventDefault();\r\n            event.dataTransfer.dropEffect = reaction.effect === 0 /* COPY */ ? 'copy' : 'move';\r\n        }\r\n        else {\r\n            this.currentDropElement = null;\r\n        }\r\n        // item is the model item where drop() should be called\r\n        // can be null\r\n        var currentDropTarget = item.id === this.inputItem.id ? this.inputItem : this.items[item.id];\r\n        if (this.shouldInvalidateDropReaction || this.currentDropTarget !== currentDropTarget || !reactionEquals(this.currentDropElementReaction, reaction)) {\r\n            this.shouldInvalidateDropReaction = false;\r\n            if (this.currentDropTarget) {\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.currentDropTarget = currentDropTarget;\r\n            this.currentDropElementReaction = reaction;\r\n            if (canDrop) {\r\n                // setup hover feedback for drop target\r\n                if (this.currentDropTarget) {\r\n                    this.currentDropTarget.dropTarget = true;\r\n                    this.currentDropTargets.push(this.currentDropTarget);\r\n                }\r\n                if (reaction.bubble === 0 /* BUBBLE_DOWN */) {\r\n                    var nav = item.getNavigator();\r\n                    var child = void 0;\r\n                    while (child = nav.next()) {\r\n                        viewItem = this.items[child.id];\r\n                        if (viewItem) {\r\n                            viewItem.dropTarget = true;\r\n                            this.currentDropTargets.push(viewItem);\r\n                        }\r\n                    }\r\n                }\r\n                if (reaction.autoExpand) {\r\n                    var timeoutPromise_1 = timeout(500);\r\n                    this.currentDropDisposable = Lifecycle.toDisposable(function () { return timeoutPromise_1.cancel(); });\r\n                    timeoutPromise_1\r\n                        .then(function () { return _this.context.tree.expand(_this.currentDropElement); })\r\n                        .then(function () { return _this.shouldInvalidateDropReaction = true; });\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TreeView.prototype.onDrop = function (e) {\r\n        if (this.currentDropElement) {\r\n            var event_1 = new Mouse.DragMouseEvent(e);\r\n            event_1.preventDefault();\r\n            this.currentDragAndDropData.update(event_1.browserEvent.dataTransfer);\r\n            this.context.dnd.drop(this.context.tree, this.currentDragAndDropData, this.currentDropElement, event_1);\r\n            this.onDragEnd(e);\r\n        }\r\n        this.cancelDragAndDropScrollInterval();\r\n    };\r\n    TreeView.prototype.onDragEnd = function (e) {\r\n        if (this.currentDropTarget) {\r\n            this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n            this.currentDropTargets = [];\r\n        }\r\n        this.currentDropDisposable.dispose();\r\n        this.cancelDragAndDropScrollInterval();\r\n        this.currentDragAndDropData = null;\r\n        StaticDND.CurrentDragAndDropData = undefined;\r\n        this.currentDropElement = null;\r\n        this.currentDropTarget = null;\r\n        this.dragAndDropMouseY = null;\r\n    };\r\n    TreeView.prototype.onFocus = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.addClass(this.domNode, 'focused');\r\n        }\r\n        this._onDOMFocus.fire();\r\n    };\r\n    TreeView.prototype.onBlur = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.removeClass(this.domNode, 'focused');\r\n        }\r\n        this.domNode.removeAttribute('aria-activedescendant'); // ARIA\r\n        this._onDOMBlur.fire();\r\n    };\r\n    // MS specific DOM Events\r\n    TreeView.prototype.onMsPointerDown = function (event) {\r\n        if (!this.msGesture) {\r\n            return;\r\n        }\r\n        // Circumvent IE11 breaking change in e.pointerType & TypeScript's stale definitions\r\n        var pointerType = event.pointerType;\r\n        if (pointerType === (event.MSPOINTER_TYPE_MOUSE || 'mouse')) {\r\n            this.lastPointerType = 'mouse';\r\n            return;\r\n        }\r\n        else if (pointerType === (event.MSPOINTER_TYPE_TOUCH || 'touch')) {\r\n            this.lastPointerType = 'touch';\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        this.msGesture.addPointer(event.pointerId);\r\n    };\r\n    TreeView.prototype.onThrottledMsGestureChange = function (event) {\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onMsGestureTap = function (event) {\r\n        event.initialTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        this.onTap(event);\r\n    };\r\n    // DOM changes\r\n    TreeView.prototype.insertItemInDOM = function (item) {\r\n        var elementAfter = null;\r\n        var itemAfter = this.itemAfter(item);\r\n        if (itemAfter && itemAfter.element) {\r\n            elementAfter = itemAfter.element;\r\n        }\r\n        item.insertInDOM(this.rowsContainer, elementAfter);\r\n    };\r\n    TreeView.prototype.removeItemFromDOM = function (item) {\r\n        if (!item) {\r\n            return;\r\n        }\r\n        item.removeFromDOM();\r\n    };\r\n    // Helpers\r\n    TreeView.prototype.shouldBeRendered = function (item) {\r\n        return item.top < this.lastRenderTop + this.lastRenderHeight && item.top + item.height > this.lastRenderTop;\r\n    };\r\n    TreeView.prototype.getItemAround = function (element) {\r\n        var candidate = this.inputItem;\r\n        var el = element;\r\n        do {\r\n            if (el[TreeView.BINDING]) {\r\n                candidate = el[TreeView.BINDING];\r\n            }\r\n            if (el === this.wrapper || el === this.domNode) {\r\n                return candidate;\r\n            }\r\n            if (el === this.scrollableElement.getDomNode() || el === document.body) {\r\n                return undefined;\r\n            }\r\n        } while (el = el.parentElement);\r\n        return undefined;\r\n    };\r\n    // Cleanup\r\n    TreeView.prototype.releaseModel = function () {\r\n        if (this.model) {\r\n            this.modelListeners = Lifecycle.dispose(this.modelListeners);\r\n            this.model = null;\r\n        }\r\n    };\r\n    TreeView.prototype.dispose = function () {\r\n        var _this = this;\r\n        // TODO@joao: improve\r\n        this.scrollableElement.dispose();\r\n        this.releaseModel();\r\n        this.viewListeners = Lifecycle.dispose(this.viewListeners);\r\n        this._onDOMFocus.dispose();\r\n        this._onDOMBlur.dispose();\r\n        if (this.domNode.parentNode) {\r\n            this.domNode.parentNode.removeChild(this.domNode);\r\n        }\r\n        if (this.items) {\r\n            Object.keys(this.items).forEach(function (key) { return _this.items[key].removeFromDOM(); });\r\n        }\r\n        if (this.context.cache) {\r\n            this.context.cache.dispose();\r\n        }\r\n        this.gestureDisposable.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    TreeView.BINDING = 'monaco-tree-row';\r\n    TreeView.LOADING_DECORATION_DELAY = 800;\r\n    TreeView.counter = 0;\r\n    return TreeView;\r\n}(HeightMap));\r\nexport { TreeView };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './tree.css';\r\nimport * as TreeDefaults from './treeDefaults.js';\r\nimport * as Model from './treeModel.js';\r\nimport * as View from './treeView.js';\r\nimport { Emitter, Relay } from '../../../common/event.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nvar TreeContext = /** @class */ (function () {\r\n    function TreeContext(tree, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.tree = tree;\r\n        this.configuration = configuration;\r\n        this.options = options;\r\n        if (!configuration.dataSource) {\r\n            throw new Error('You must provide a Data Source to the tree.');\r\n        }\r\n        this.dataSource = configuration.dataSource;\r\n        this.renderer = configuration.renderer;\r\n        this.controller = configuration.controller || new TreeDefaults.DefaultController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport });\r\n        this.dnd = configuration.dnd || new TreeDefaults.DefaultDragAndDrop();\r\n        this.filter = configuration.filter || new TreeDefaults.DefaultFilter();\r\n        this.sorter = configuration.sorter;\r\n        this.accessibilityProvider = configuration.accessibilityProvider || new TreeDefaults.DefaultAccessibilityProvider();\r\n        this.styler = configuration.styler;\r\n    }\r\n    return TreeContext;\r\n}());\r\nexport { TreeContext };\r\nvar defaultStyles = {\r\n    listFocusBackground: Color.fromHex('#073655'),\r\n    listActiveSelectionBackground: Color.fromHex('#0E639C'),\r\n    listActiveSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listFocusAndSelectionBackground: Color.fromHex('#094771'),\r\n    listFocusAndSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listInactiveSelectionBackground: Color.fromHex('#3F3F46'),\r\n    listHoverBackground: Color.fromHex('#2A2D2E'),\r\n    listDropBackground: Color.fromHex('#383B3D')\r\n};\r\nvar Tree = /** @class */ (function () {\r\n    function Tree(container, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._onDidChangeFocus = new Relay();\r\n        this.onDidChangeFocus = this._onDidChangeFocus.event;\r\n        this._onDidChangeSelection = new Relay();\r\n        this.onDidChangeSelection = this._onDidChangeSelection.event;\r\n        this._onHighlightChange = new Relay();\r\n        this._onDidExpandItem = new Relay();\r\n        this._onDidCollapseItem = new Relay();\r\n        this._onDispose = new Emitter();\r\n        this.onDidDispose = this._onDispose.event;\r\n        this.container = container;\r\n        mixin(options, defaultStyles, false);\r\n        options.twistiePixels = typeof options.twistiePixels === 'number' ? options.twistiePixels : 32;\r\n        options.showTwistie = options.showTwistie === false ? false : true;\r\n        options.indentPixels = typeof options.indentPixels === 'number' ? options.indentPixels : 12;\r\n        options.alwaysFocused = options.alwaysFocused === true ? true : false;\r\n        options.useShadows = options.useShadows === false ? false : true;\r\n        options.paddingOnRow = options.paddingOnRow === false ? false : true;\r\n        options.showLoading = options.showLoading === false ? false : true;\r\n        this.context = new TreeContext(this, configuration, options);\r\n        this.model = new Model.TreeModel(this.context);\r\n        this.view = new View.TreeView(this.context, this.container);\r\n        this.view.setModel(this.model);\r\n        this._onDidChangeFocus.input = this.model.onDidFocus;\r\n        this._onDidChangeSelection.input = this.model.onDidSelect;\r\n        this._onHighlightChange.input = this.model.onDidHighlight;\r\n        this._onDidExpandItem.input = this.model.onDidExpandItem;\r\n        this._onDidCollapseItem.input = this.model.onDidCollapseItem;\r\n    }\r\n    Tree.prototype.style = function (styles) {\r\n        this.view.applyStyles(styles);\r\n    };\r\n    Object.defineProperty(Tree.prototype, \"onDidFocus\", {\r\n        get: function () {\r\n            return this.view.onDOMFocus;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Tree.prototype.getHTMLElement = function () {\r\n        return this.view.getHTMLElement();\r\n    };\r\n    Tree.prototype.layout = function (height, width) {\r\n        this.view.layout(height, width);\r\n    };\r\n    Tree.prototype.domFocus = function () {\r\n        this.view.focus();\r\n    };\r\n    Tree.prototype.isDOMFocused = function () {\r\n        return this.view.isFocused();\r\n    };\r\n    Tree.prototype.domBlur = function () {\r\n        this.view.blur();\r\n    };\r\n    Tree.prototype.setInput = function (element) {\r\n        return this.model.setInput(element);\r\n    };\r\n    Tree.prototype.getInput = function () {\r\n        return this.model.getInput();\r\n    };\r\n    Tree.prototype.expand = function (element) {\r\n        return this.model.expand(element);\r\n    };\r\n    Tree.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.collapse(element, recursive);\r\n    };\r\n    Tree.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.toggleExpansion(element, recursive);\r\n    };\r\n    Tree.prototype.isExpanded = function (element) {\r\n        return this.model.isExpanded(element);\r\n    };\r\n    Tree.prototype.reveal = function (element, relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.model.reveal(element, relativeTop);\r\n    };\r\n    Tree.prototype.getHighlight = function () {\r\n        return this.model.getHighlight();\r\n    };\r\n    Tree.prototype.clearHighlight = function (eventPayload) {\r\n        this.model.setHighlight(null, eventPayload);\r\n    };\r\n    Tree.prototype.setSelection = function (elements, eventPayload) {\r\n        this.model.setSelection(elements, eventPayload);\r\n    };\r\n    Tree.prototype.getSelection = function () {\r\n        return this.model.getSelection();\r\n    };\r\n    Tree.prototype.clearSelection = function (eventPayload) {\r\n        this.model.setSelection([], eventPayload);\r\n    };\r\n    Tree.prototype.setFocus = function (element, eventPayload) {\r\n        this.model.setFocus(element, eventPayload);\r\n    };\r\n    Tree.prototype.getFocus = function () {\r\n        return this.model.getFocus();\r\n    };\r\n    Tree.prototype.focusNext = function (count, eventPayload) {\r\n        this.model.focusNext(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusPrevious = function (count, eventPayload) {\r\n        this.model.focusPrevious(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusParent = function (eventPayload) {\r\n        this.model.focusParent(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirstChild = function (eventPayload) {\r\n        this.model.focusFirstChild(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirst = function (eventPayload, from) {\r\n        this.model.focusFirst(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNth = function (index, eventPayload) {\r\n        this.model.focusNth(index, eventPayload);\r\n    };\r\n    Tree.prototype.focusLast = function (eventPayload, from) {\r\n        this.model.focusLast(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNextPage = function (eventPayload) {\r\n        this.view.focusNextPage(eventPayload);\r\n    };\r\n    Tree.prototype.focusPreviousPage = function (eventPayload) {\r\n        this.view.focusPreviousPage(eventPayload);\r\n    };\r\n    Tree.prototype.clearFocus = function (eventPayload) {\r\n        this.model.setFocus(null, eventPayload);\r\n    };\r\n    Tree.prototype.dispose = function () {\r\n        this._onDispose.fire();\r\n        this.model.dispose();\r\n        this.view.dispose();\r\n        this._onDidChangeFocus.dispose();\r\n        this._onDidChangeSelection.dispose();\r\n        this._onHighlightChange.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDispose.dispose();\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './progressbar.css';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { removeClasses, addClass, hasClass, hide, show } from '../../dom.js';\r\nimport { RunOnceScheduler } from '../../../common/async.js';\r\nvar css_done = 'done';\r\nvar css_active = 'active';\r\nvar css_infinite = 'infinite';\r\nvar css_discrete = 'discrete';\r\nvar css_progress_container = 'monaco-progress-container';\r\nvar css_progress_bit = 'progress-bit';\r\nvar defaultOpts = {\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\n/**\r\n * A progress bar with support for infinite or discrete progress.\r\n */\r\nvar ProgressBar = /** @class */ (function (_super) {\r\n    __extends(ProgressBar, _super);\r\n    function ProgressBar(container, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.workedVal = 0;\r\n        _this.progressBarBackground = _this.options.progressBarBackground;\r\n        _this._register(_this.showDelayedScheduler = new RunOnceScheduler(function () { return show(_this.element); }, 0));\r\n        _this.create(container);\r\n        return _this;\r\n    }\r\n    ProgressBar.prototype.create = function (container) {\r\n        this.element = document.createElement('div');\r\n        addClass(this.element, css_progress_container);\r\n        container.appendChild(this.element);\r\n        this.bit = document.createElement('div');\r\n        addClass(this.bit, css_progress_bit);\r\n        this.element.appendChild(this.bit);\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.off = function () {\r\n        this.bit.style.width = 'inherit';\r\n        this.bit.style.opacity = '1';\r\n        removeClasses(this.element, css_active, css_infinite, css_discrete);\r\n        this.workedVal = 0;\r\n        this.totalWork = undefined;\r\n    };\r\n    /**\r\n     * Stops the progressbar from showing any progress instantly without fading out.\r\n     */\r\n    ProgressBar.prototype.stop = function () {\r\n        return this.doDone(false);\r\n    };\r\n    ProgressBar.prototype.doDone = function (delayed) {\r\n        var _this = this;\r\n        addClass(this.element, css_done);\r\n        // let it grow to 100% width and hide afterwards\r\n        if (!hasClass(this.element, css_infinite)) {\r\n            this.bit.style.width = 'inherit';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        // let it fade out and hide afterwards\r\n        else {\r\n            this.bit.style.opacity = '0';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    ProgressBar.prototype.hide = function () {\r\n        hide(this.element);\r\n        this.showDelayedScheduler.cancel();\r\n    };\r\n    ProgressBar.prototype.style = function (styles) {\r\n        this.progressBarBackground = styles.progressBarBackground;\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.applyStyles = function () {\r\n        if (this.bit) {\r\n            var background = this.progressBarBackground ? this.progressBarBackground.toString() : '';\r\n            this.bit.style.backgroundColor = background;\r\n        }\r\n    };\r\n    return ProgressBar;\r\n}(Disposable));\r\nexport { ProgressBar };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickopen.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as platform from '../../../common/platform.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { Filter, Renderer, DataSource, AccessibilityProvider } from './quickOpenViewer.js';\r\nimport { InputBox } from '../../../browser/ui/inputbox/inputBox.js';\r\nimport { Tree } from '../../tree/browser/treeImpl.js';\r\nimport { ProgressBar } from '../../../browser/ui/progressbar/progressbar.js';\r\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\r\nimport { DefaultController } from '../../tree/browser/treeDefaults.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { StandardMouseEvent } from '../../../browser/mouseEvent.js';\r\nvar QuickOpenController = /** @class */ (function (_super) {\r\n    __extends(QuickOpenController, _super);\r\n    function QuickOpenController() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    QuickOpenController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (platform.isMacintosh) {\r\n            return this.onLeftClick(tree, element, event); // https://github.com/Microsoft/vscode/issues/1011\r\n        }\r\n        return _super.prototype.onContextMenu.call(this, tree, element, event);\r\n    };\r\n    return QuickOpenController;\r\n}(DefaultController));\r\nexport { QuickOpenController };\r\nvar defaultStyles = {\r\n    background: Color.fromHex('#1E1E1E'),\r\n    foreground: Color.fromHex('#CCCCCC'),\r\n    pickerGroupForeground: Color.fromHex('#0097FB'),\r\n    pickerGroupBorder: Color.fromHex('#3F3F46'),\r\n    widgetShadow: Color.fromHex('#000000'),\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\nvar DEFAULT_INPUT_ARIA_LABEL = nls.localize('quickOpenAriaLabel', \"Quick picker. Type to narrow down results.\");\r\nvar QuickOpenWidget = /** @class */ (function (_super) {\r\n    __extends(QuickOpenWidget, _super);\r\n    function QuickOpenWidget(container, callbacks, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isDisposed = false;\r\n        _this.container = container;\r\n        _this.callbacks = callbacks;\r\n        _this.options = options;\r\n        _this.styles = options || Object.create(null);\r\n        mixin(_this.styles, defaultStyles, false);\r\n        _this.model = null;\r\n        return _this;\r\n    }\r\n    QuickOpenWidget.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    QuickOpenWidget.prototype.create = function () {\r\n        var _this = this;\r\n        // Container\r\n        this.element = document.createElement('div');\r\n        DOM.addClass(this.element, 'monaco-quick-open-widget');\r\n        this.container.appendChild(this.element);\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.CONTEXT_MENU, function (e) { return DOM.EventHelper.stop(e, true); })); // Do this to fix an issue on Mac where the menu goes into the way\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.FOCUS, function (e) { return _this.gainingFocus(); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.BLUR, function (e) { return _this.loosingFocus(e); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            if (keyboardEvent.keyCode === 9 /* Escape */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.hide(2 /* CANCELED */);\r\n            }\r\n            else if (keyboardEvent.keyCode === 2 /* Tab */ && !keyboardEvent.altKey && !keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\r\n                var stops = e.currentTarget.querySelectorAll('input, .monaco-tree, .monaco-tree-row.focused .action-label.icon');\r\n                if (keyboardEvent.shiftKey && keyboardEvent.target === stops[0]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[stops.length - 1].focus();\r\n                }\r\n                else if (!keyboardEvent.shiftKey && keyboardEvent.target === stops[stops.length - 1]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[0].focus();\r\n                }\r\n            }\r\n        }));\r\n        // Progress Bar\r\n        this.progressBar = this._register(new ProgressBar(this.element, { progressBarBackground: this.styles.progressBarBackground }));\r\n        this.progressBar.hide();\r\n        // Input Field\r\n        this.inputContainer = document.createElement('div');\r\n        DOM.addClass(this.inputContainer, 'quick-open-input');\r\n        this.element.appendChild(this.inputContainer);\r\n        this.inputBox = this._register(new InputBox(this.inputContainer, undefined, {\r\n            placeholder: this.options.inputPlaceHolder || '',\r\n            ariaLabel: DEFAULT_INPUT_ARIA_LABEL,\r\n            inputBackground: this.styles.inputBackground,\r\n            inputForeground: this.styles.inputForeground,\r\n            inputBorder: this.styles.inputBorder,\r\n            inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n        }));\r\n        this.inputElement = this.inputBox.inputElement;\r\n        this.inputElement.setAttribute('role', 'combobox');\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        this.inputElement.setAttribute('aria-autocomplete', 'list');\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.INPUT, function (e) { return _this.onType(); }));\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var shouldOpenInBackground = _this.shouldOpenInBackground(keyboardEvent);\r\n            // Do not handle Tab: It is used to navigate between elements without mouse\r\n            if (keyboardEvent.keyCode === 2 /* Tab */) {\r\n                return;\r\n            }\r\n            // Pass tree navigation keys to the tree but leave focus in input field\r\n            else if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                // Position cursor at the end of input to allow right arrow (open in background)\r\n                // to function immediately unless the user has made a selection\r\n                if (_this.inputBox.inputElement.selectionStart === _this.inputBox.inputElement.selectionEnd) {\r\n                    _this.inputBox.inputElement.selectionStart = _this.inputBox.value.length;\r\n                }\r\n            }\r\n            // Select element on Enter or on Arrow-Right if we are at the end of the input\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */ || shouldOpenInBackground) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_1 = _this.tree.getFocus();\r\n                if (focus_1) {\r\n                    _this.elementSelected(focus_1, e, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n                }\r\n            }\r\n        }));\r\n        // Result count for screen readers\r\n        this.resultCount = document.createElement('div');\r\n        DOM.addClass(this.resultCount, 'quick-open-result-count');\r\n        this.resultCount.setAttribute('aria-live', 'polite');\r\n        this.resultCount.setAttribute('aria-atomic', 'true');\r\n        this.element.appendChild(this.resultCount);\r\n        // Tree\r\n        this.treeContainer = document.createElement('div');\r\n        DOM.addClass(this.treeContainer, 'quick-open-tree');\r\n        this.element.appendChild(this.treeContainer);\r\n        var createTree = this.options.treeCreator || (function (container, config, opts) { return new Tree(container, config, opts); });\r\n        this.tree = this._register(createTree(this.treeContainer, {\r\n            dataSource: new DataSource(this),\r\n            controller: new QuickOpenController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: this.options.keyboardSupport }),\r\n            renderer: (this.renderer = new Renderer(this, this.styles)),\r\n            filter: new Filter(this),\r\n            accessibilityProvider: new AccessibilityProvider(this)\r\n        }, {\r\n            twistiePixels: 11,\r\n            indentPixels: 0,\r\n            alwaysFocused: true,\r\n            verticalScrollMode: 3 /* Visible */,\r\n            horizontalScrollMode: 2 /* Hidden */,\r\n            ariaLabel: nls.localize('treeAriaLabel', \"Quick Picker\"),\r\n            keyboardSupport: this.options.keyboardSupport,\r\n            preventRootFocus: false\r\n        }));\r\n        this.treeElement = this.tree.getHTMLElement();\r\n        // Handle Focus and Selection event\r\n        this._register(this.tree.onDidChangeFocus(function (event) {\r\n            _this.elementFocused(event.focus, event);\r\n        }));\r\n        this._register(this.tree.onDidChangeSelection(function (event) {\r\n            if (event.selection && event.selection.length > 0) {\r\n                var mouseEvent = event.payload && event.payload.originalEvent instanceof StandardMouseEvent ? event.payload.originalEvent : undefined;\r\n                var shouldOpenInBackground = mouseEvent ? _this.shouldOpenInBackground(mouseEvent) : false;\r\n                _this.elementSelected(event.selection[0], event, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Support keyboard navigation in quick navigation mode\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode);\r\n            }\r\n            // Support to open item with Enter still even in quick nav mode\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_2 = _this.tree.getFocus();\r\n                if (focus_2) {\r\n                    _this.elementSelected(focus_2, e);\r\n                }\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_UP, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var keyCode = keyboardEvent.keyCode;\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Select element when keys are pressed that signal it\r\n            var quickNavKeys = _this.quickNavigateConfiguration.keybindings;\r\n            var wasTriggerKeyPressed = quickNavKeys.some(function (k) {\r\n                var _a = k.getParts(), firstPart = _a[0], chordPart = _a[1];\r\n                if (chordPart) {\r\n                    return false;\r\n                }\r\n                if (firstPart.shiftKey && keyCode === 4 /* Shift */) {\r\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\r\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick open\r\n                    }\r\n                    return true;\r\n                }\r\n                if (firstPart.altKey && keyCode === 6 /* Alt */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.ctrlKey && keyCode === 5 /* Ctrl */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.metaKey && keyCode === 57 /* Meta */) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (wasTriggerKeyPressed) {\r\n                var focus_3 = _this.tree.getFocus();\r\n                if (focus_3) {\r\n                    _this.elementSelected(focus_3, e);\r\n                }\r\n            }\r\n        }));\r\n        // Support layout\r\n        if (this.layoutDimensions) {\r\n            this.layout(this.layoutDimensions);\r\n        }\r\n        this.applyStyles();\r\n        // Allows focus to switch to next/previous entry after tab into an actionbar item\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when not in quick navigation mode\r\n            if (_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                _this.treeElement.focus();\r\n            }\r\n        }));\r\n        return this.element;\r\n    };\r\n    QuickOpenWidget.prototype.style = function (styles) {\r\n        this.styles = styles;\r\n        this.applyStyles();\r\n    };\r\n    QuickOpenWidget.prototype.applyStyles = function () {\r\n        if (this.element) {\r\n            var foreground = this.styles.foreground ? this.styles.foreground.toString() : '';\r\n            var background = this.styles.background ? this.styles.background.toString() : '';\r\n            var borderColor = this.styles.borderColor ? this.styles.borderColor.toString() : '';\r\n            var widgetShadow = this.styles.widgetShadow ? this.styles.widgetShadow.toString() : '';\r\n            this.element.style.color = foreground;\r\n            this.element.style.backgroundColor = background;\r\n            this.element.style.borderColor = borderColor;\r\n            this.element.style.borderWidth = borderColor ? '1px' : '';\r\n            this.element.style.borderStyle = borderColor ? 'solid' : '';\r\n            this.element.style.boxShadow = widgetShadow ? \"0 5px 8px \" + widgetShadow : '';\r\n        }\r\n        if (this.progressBar) {\r\n            this.progressBar.style({\r\n                progressBarBackground: this.styles.progressBarBackground\r\n            });\r\n        }\r\n        if (this.inputBox) {\r\n            this.inputBox.style({\r\n                inputBackground: this.styles.inputBackground,\r\n                inputForeground: this.styles.inputForeground,\r\n                inputBorder: this.styles.inputBorder,\r\n                inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n            });\r\n        }\r\n        if (this.tree && !this.options.treeCreator) {\r\n            this.tree.style(this.styles);\r\n        }\r\n        if (this.renderer) {\r\n            this.renderer.updateStyles(this.styles);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.shouldOpenInBackground = function (e) {\r\n        // Keyboard\r\n        if (e instanceof StandardKeyboardEvent) {\r\n            if (e.keyCode !== 17 /* RightArrow */) {\r\n                return false; // only for right arrow\r\n            }\r\n            if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\r\n                return false; // no modifiers allowed\r\n            }\r\n            // validate the cursor is at the end of the input and there is no selection,\r\n            // and if not prevent opening in the background such as the selection can be changed\r\n            var element = this.inputBox.inputElement;\r\n            return element.selectionEnd === this.inputBox.value.length && element.selectionStart === element.selectionEnd;\r\n        }\r\n        // Mouse\r\n        return e.middleButton;\r\n    };\r\n    QuickOpenWidget.prototype.onType = function () {\r\n        var value = this.inputBox.value;\r\n        // Adjust help text as needed if present\r\n        if (this.helpText) {\r\n            if (value) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Send to callbacks\r\n        this.callbacks.onType(value);\r\n    };\r\n    QuickOpenWidget.prototype.navigateInTree = function (keyCode, isShift) {\r\n        var model = this.tree.getInput();\r\n        var entries = model ? model.entries : [];\r\n        var oldFocus = this.tree.getFocus();\r\n        // Normal Navigation\r\n        switch (keyCode) {\r\n            case 18 /* DownArrow */:\r\n                this.tree.focusNext();\r\n                break;\r\n            case 16 /* UpArrow */:\r\n                this.tree.focusPrevious();\r\n                break;\r\n            case 12 /* PageDown */:\r\n                this.tree.focusNextPage();\r\n                break;\r\n            case 11 /* PageUp */:\r\n                this.tree.focusPreviousPage();\r\n                break;\r\n            case 2 /* Tab */:\r\n                if (isShift) {\r\n                    this.tree.focusPrevious();\r\n                }\r\n                else {\r\n                    this.tree.focusNext();\r\n                }\r\n                break;\r\n        }\r\n        var newFocus = this.tree.getFocus();\r\n        // Support cycle-through navigation if focus did not change\r\n        if (entries.length > 1 && oldFocus === newFocus) {\r\n            // Up from no entry or first entry goes down to last\r\n            if (keyCode === 16 /* UpArrow */ || (keyCode === 2 /* Tab */ && isShift)) {\r\n                this.tree.focusLast();\r\n            }\r\n            // Down from last entry goes to up to first\r\n            else if (keyCode === 18 /* DownArrow */ || keyCode === 2 /* Tab */ && !isShift) {\r\n                this.tree.focusFirst();\r\n            }\r\n        }\r\n        // Reveal\r\n        newFocus = this.tree.getFocus();\r\n        if (newFocus) {\r\n            this.tree.reveal(newFocus);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.elementFocused = function (value, event) {\r\n        if (!value || !this.isVisible()) {\r\n            return;\r\n        }\r\n        // ARIA\r\n        var arivaActiveDescendant = this.treeElement.getAttribute('aria-activedescendant');\r\n        if (arivaActiveDescendant) {\r\n            this.inputElement.setAttribute('aria-activedescendant', arivaActiveDescendant);\r\n        }\r\n        else {\r\n            this.inputElement.removeAttribute('aria-activedescendant');\r\n        }\r\n        var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n        this.model.runner.run(value, 0 /* PREVIEW */, context);\r\n    };\r\n    QuickOpenWidget.prototype.elementSelected = function (value, event, preferredMode) {\r\n        var hide = true;\r\n        // Trigger open of element on selection\r\n        if (this.isVisible()) {\r\n            var mode = preferredMode || 1 /* OPEN */;\r\n            var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n            hide = this.model.runner.run(value, mode, context);\r\n        }\r\n        // Hide if command was run successfully\r\n        if (hide) {\r\n            this.hide(0 /* ELEMENT_SELECTED */);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.extractKeyMods = function (event) {\r\n        return {\r\n            ctrlCmd: event && (event.ctrlKey || event.metaKey || (event.payload && event.payload.originalEvent && (event.payload.originalEvent.ctrlKey || event.payload.originalEvent.metaKey))),\r\n            alt: event && (event.altKey || (event.payload && event.payload.originalEvent && event.payload.originalEvent.altKey))\r\n        };\r\n    };\r\n    QuickOpenWidget.prototype.show = function (param, options) {\r\n        this.visible = true;\r\n        this.isLoosingFocus = false;\r\n        this.quickNavigateConfiguration = options ? options.quickNavigateConfiguration : undefined;\r\n        // Adjust UI for quick navigate mode\r\n        if (this.quickNavigateConfiguration) {\r\n            DOM.hide(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.tree.domFocus();\r\n        }\r\n        // Otherwise use normal UI\r\n        else {\r\n            DOM.show(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.inputBox.focus();\r\n        }\r\n        // Adjust Help text for IE\r\n        if (this.helpText) {\r\n            if (this.quickNavigateConfiguration || types.isString(param)) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Show based on param\r\n        if (types.isString(param)) {\r\n            this.doShowWithPrefix(param);\r\n        }\r\n        else {\r\n            if (options && options.value) {\r\n                this.restoreLastInput(options.value);\r\n            }\r\n            this.doShowWithInput(param, options && options.autoFocus ? options.autoFocus : {});\r\n        }\r\n        // Respect selectAll option\r\n        if (options && options.inputSelection && !this.quickNavigateConfiguration) {\r\n            this.inputBox.select(options.inputSelection);\r\n        }\r\n        if (this.callbacks.onShow) {\r\n            this.callbacks.onShow();\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.restoreLastInput = function (lastInput) {\r\n        this.inputBox.value = lastInput;\r\n        this.inputBox.select();\r\n        this.callbacks.onType(lastInput);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithPrefix = function (prefix) {\r\n        this.inputBox.value = prefix;\r\n        this.callbacks.onType(prefix);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithInput = function (input, autoFocus) {\r\n        this.setInput(input, autoFocus);\r\n    };\r\n    QuickOpenWidget.prototype.setInputAndLayout = function (input, autoFocus) {\r\n        var _this = this;\r\n        this.treeContainer.style.height = this.getHeight(input) + \"px\";\r\n        this.tree.setInput(null).then(function () {\r\n            _this.model = input;\r\n            // ARIA\r\n            _this.inputElement.setAttribute('aria-haspopup', String(input && input.entries && input.entries.length > 0));\r\n            return _this.tree.setInput(input);\r\n        }).then(function () {\r\n            // Indicate entries to tree\r\n            _this.tree.layout();\r\n            var entries = input ? input.entries.filter(function (e) { return _this.isElementVisible(input, e); }) : [];\r\n            _this.updateResultCount(entries.length);\r\n            // Handle auto focus\r\n            if (entries.length) {\r\n                _this.autoFocus(input, entries, autoFocus);\r\n            }\r\n        });\r\n    };\r\n    QuickOpenWidget.prototype.isElementVisible = function (input, e) {\r\n        if (!input.filter) {\r\n            return true;\r\n        }\r\n        return input.filter.isVisible(e);\r\n    };\r\n    QuickOpenWidget.prototype.autoFocus = function (input, entries, autoFocus) {\r\n        if (autoFocus === void 0) { autoFocus = {}; }\r\n        // First check for auto focus of prefix matches\r\n        if (autoFocus.autoFocusPrefixMatch) {\r\n            var caseSensitiveMatch = void 0;\r\n            var caseInsensitiveMatch = void 0;\r\n            var prefix = autoFocus.autoFocusPrefixMatch;\r\n            var lowerCasePrefix = prefix.toLowerCase();\r\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                var entry = entries_1[_i];\r\n                var label = input.dataSource.getLabel(entry) || '';\r\n                if (!caseSensitiveMatch && label.indexOf(prefix) === 0) {\r\n                    caseSensitiveMatch = entry;\r\n                }\r\n                else if (!caseInsensitiveMatch && label.toLowerCase().indexOf(lowerCasePrefix) === 0) {\r\n                    caseInsensitiveMatch = entry;\r\n                }\r\n                if (caseSensitiveMatch && caseInsensitiveMatch) {\r\n                    break;\r\n                }\r\n            }\r\n            var entryToFocus = caseSensitiveMatch || caseInsensitiveMatch;\r\n            if (entryToFocus) {\r\n                this.tree.setFocus(entryToFocus);\r\n                this.tree.reveal(entryToFocus, 0.5);\r\n                return;\r\n            }\r\n        }\r\n        // Second check for auto focus of first entry\r\n        if (autoFocus.autoFocusFirstEntry) {\r\n            this.tree.focusFirst();\r\n            this.tree.reveal(this.tree.getFocus());\r\n        }\r\n        // Third check for specific index option\r\n        else if (typeof autoFocus.autoFocusIndex === 'number') {\r\n            if (entries.length > autoFocus.autoFocusIndex) {\r\n                this.tree.focusNth(autoFocus.autoFocusIndex);\r\n                this.tree.reveal(this.tree.getFocus());\r\n            }\r\n        }\r\n        // Check for auto focus of second entry\r\n        else if (autoFocus.autoFocusSecondEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusNth(1);\r\n            }\r\n        }\r\n        // Finally check for auto focus of last entry\r\n        else if (autoFocus.autoFocusLastEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusLast();\r\n                this.tree.reveal(this.tree.getFocus());\r\n            }\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.getHeight = function (input) {\r\n        var _this = this;\r\n        var renderer = input.renderer;\r\n        if (!input) {\r\n            var itemHeight = renderer.getHeight(null);\r\n            return this.options.minItemsToShow ? this.options.minItemsToShow * itemHeight : 0;\r\n        }\r\n        var height = 0;\r\n        var preferredItemsHeight;\r\n        if (this.layoutDimensions && this.layoutDimensions.height) {\r\n            preferredItemsHeight = (this.layoutDimensions.height - 50 /* subtract height of input field (30px) and some spacing (drop shadow) to fit */) * 0.4 /* max 40% of screen */;\r\n        }\r\n        if (!preferredItemsHeight || preferredItemsHeight > QuickOpenWidget.MAX_ITEMS_HEIGHT) {\r\n            preferredItemsHeight = QuickOpenWidget.MAX_ITEMS_HEIGHT;\r\n        }\r\n        var entries = input.entries.filter(function (e) { return _this.isElementVisible(input, e); });\r\n        var maxEntries = this.options.maxItemsToShow || entries.length;\r\n        for (var i = 0; i < maxEntries && i < entries.length; i++) {\r\n            var entryHeight = renderer.getHeight(entries[i]);\r\n            if (height + entryHeight <= preferredItemsHeight) {\r\n                height += entryHeight;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        return height;\r\n    };\r\n    QuickOpenWidget.prototype.updateResultCount = function (count) {\r\n        this.resultCount.textContent = nls.localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\", count);\r\n    };\r\n    QuickOpenWidget.prototype.hide = function (reason) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        this.visible = false;\r\n        DOM.hide(this.element);\r\n        this.element.blur();\r\n        // Clear input field and clear tree\r\n        this.inputBox.value = '';\r\n        this.tree.setInput(null);\r\n        // ARIA\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        // Reset Tree Height\r\n        this.treeContainer.style.height = (this.options.minItemsToShow ? this.options.minItemsToShow * 22 : 0) + \"px\";\r\n        // Clear any running Progress\r\n        this.progressBar.stop().hide();\r\n        // Clear Focus\r\n        if (this.tree.isDOMFocused()) {\r\n            this.tree.domBlur();\r\n        }\r\n        else if (this.inputBox.hasFocus()) {\r\n            this.inputBox.blur();\r\n        }\r\n        // Callbacks\r\n        if (reason === 0 /* ELEMENT_SELECTED */) {\r\n            this.callbacks.onOk();\r\n        }\r\n        else {\r\n            this.callbacks.onCancel();\r\n        }\r\n        if (this.callbacks.onHide) {\r\n            this.callbacks.onHide(reason);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.setInput = function (input, autoFocus, ariaLabel) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        // If the input changes, indicate this to the tree\r\n        if (!!this.getInput()) {\r\n            this.onInputChanging();\r\n        }\r\n        // Adapt tree height to entries and apply input\r\n        this.setInputAndLayout(input, autoFocus);\r\n        // Apply ARIA\r\n        if (this.inputBox) {\r\n            this.inputBox.setAriaLabel(ariaLabel || DEFAULT_INPUT_ARIA_LABEL);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.onInputChanging = function () {\r\n        var _this = this;\r\n        if (this.inputChangingTimeoutHandle) {\r\n            clearTimeout(this.inputChangingTimeoutHandle);\r\n            this.inputChangingTimeoutHandle = null;\r\n        }\r\n        // when the input is changing in quick open, we indicate this as CSS class to the widget\r\n        // for a certain timeout. this helps reducing some hectic UI updates when input changes quickly\r\n        DOM.addClass(this.element, 'content-changing');\r\n        this.inputChangingTimeoutHandle = setTimeout(function () {\r\n            DOM.removeClass(_this.element, 'content-changing');\r\n        }, 500);\r\n    };\r\n    QuickOpenWidget.prototype.getInput = function () {\r\n        return this.tree.getInput();\r\n    };\r\n    QuickOpenWidget.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    QuickOpenWidget.prototype.layout = function (dimension) {\r\n        this.layoutDimensions = dimension;\r\n        // Apply to quick open width (height is dynamic by number of items to show)\r\n        var quickOpenWidth = Math.min(this.layoutDimensions.width * 0.62 /* golden cut */, QuickOpenWidget.MAX_WIDTH);\r\n        if (this.element) {\r\n            // quick open\r\n            this.element.style.width = quickOpenWidth + \"px\";\r\n            this.element.style.marginLeft = \"-\" + quickOpenWidth / 2 + \"px\";\r\n            // input field\r\n            this.inputContainer.style.width = quickOpenWidth - 12 + \"px\";\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.gainingFocus = function () {\r\n        this.isLoosingFocus = false;\r\n    };\r\n    QuickOpenWidget.prototype.loosingFocus = function (e) {\r\n        var _this = this;\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        var relatedTarget = e.relatedTarget;\r\n        if (!this.quickNavigateConfiguration && DOM.isAncestor(relatedTarget, this.element)) {\r\n            return; // user clicked somewhere into quick open widget, do not close thereby\r\n        }\r\n        this.isLoosingFocus = true;\r\n        setTimeout(function () {\r\n            if (!_this.isLoosingFocus || _this.isDisposed) {\r\n                return;\r\n            }\r\n            var veto = _this.callbacks.onFocusLost && _this.callbacks.onFocusLost();\r\n            if (!veto) {\r\n                _this.hide(1 /* FOCUS_LOST */);\r\n            }\r\n        }, 0);\r\n    };\r\n    QuickOpenWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.isDisposed = true;\r\n    };\r\n    QuickOpenWidget.MAX_WIDTH = 600; // Max total width of quick open widget\r\n    QuickOpenWidget.MAX_ITEMS_HEIGHT = 20 * 22; // Max height of item list below input field\r\n    return QuickOpenWidget;\r\n}(Disposable));\r\nexport { QuickOpenWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Dimension } from '../../../../base/browser/dom.js';\r\nimport { QuickOpenWidget } from '../../../../base/parts/quickopen/browser/quickOpenWidget.js';\r\nimport { foreground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { attachQuickOpenStyler } from '../../../../platform/theme/common/styler.js';\r\nvar QuickOpenEditorWidget = /** @class */ (function () {\r\n    function QuickOpenEditorWidget(codeEditor, onOk, onCancel, onType, configuration, themeService) {\r\n        this.codeEditor = codeEditor;\r\n        this.themeService = themeService;\r\n        this.visible = false;\r\n        this.domNode = document.createElement('div');\r\n        this.quickOpenWidget = new QuickOpenWidget(this.domNode, {\r\n            onOk: onOk,\r\n            onCancel: onCancel,\r\n            onType: onType\r\n        }, {\r\n            inputPlaceHolder: undefined,\r\n            inputAriaLabel: configuration.inputAriaLabel,\r\n            keyboardSupport: true\r\n        });\r\n        this.styler = attachQuickOpenStyler(this.quickOpenWidget, this.themeService, {\r\n            pickerGroupForeground: foreground\r\n        });\r\n        this.quickOpenWidget.create();\r\n        this.codeEditor.addOverlayWidget(this);\r\n    }\r\n    QuickOpenEditorWidget.prototype.setInput = function (model, focus) {\r\n        this.quickOpenWidget.setInput(model, focus);\r\n    };\r\n    QuickOpenEditorWidget.prototype.getId = function () {\r\n        return QuickOpenEditorWidget.ID;\r\n    };\r\n    QuickOpenEditorWidget.prototype.getDomNode = function () {\r\n        return this.domNode;\r\n    };\r\n    QuickOpenEditorWidget.prototype.destroy = function () {\r\n        this.codeEditor.removeOverlayWidget(this);\r\n        this.quickOpenWidget.dispose();\r\n        this.styler.dispose();\r\n    };\r\n    QuickOpenEditorWidget.prototype.show = function (value) {\r\n        this.visible = true;\r\n        var editorLayout = this.codeEditor.getLayoutInfo();\r\n        if (editorLayout) {\r\n            this.quickOpenWidget.layout(new Dimension(editorLayout.width, editorLayout.height));\r\n        }\r\n        this.quickOpenWidget.show(value);\r\n        this.codeEditor.layoutOverlayWidget(this);\r\n    };\r\n    QuickOpenEditorWidget.prototype.getPosition = function () {\r\n        if (this.visible) {\r\n            return {\r\n                preference: 2 /* TOP_CENTER */\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    QuickOpenEditorWidget.ID = 'editor.contrib.quickOpenEditorWidget';\r\n    return QuickOpenEditorWidget;\r\n}());\r\nexport { QuickOpenEditorWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './editorQuickOpen.css';\r\nimport { EditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\r\nimport { QuickOpenEditorWidget } from './quickOpenEditorWidget.js';\r\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\r\nvar QuickOpenController = /** @class */ (function () {\r\n    function QuickOpenController(editor, themeService) {\r\n        this.themeService = themeService;\r\n        this.widget = null;\r\n        this.rangeHighlightDecorationId = null;\r\n        this.lastKnownEditorSelection = null;\r\n        this.editor = editor;\r\n    }\r\n    QuickOpenController.get = function (editor) {\r\n        return editor.getContribution(QuickOpenController.ID);\r\n    };\r\n    QuickOpenController.prototype.dispose = function () {\r\n        // Dispose widget\r\n        if (this.widget) {\r\n            this.widget.destroy();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    QuickOpenController.prototype.run = function (opts) {\r\n        var _this = this;\r\n        if (this.widget) {\r\n            this.widget.destroy();\r\n            this.widget = null;\r\n        }\r\n        // Create goto line widget\r\n        var onClose = function (canceled) {\r\n            // Clear Highlight Decorations if present\r\n            _this.clearDecorations();\r\n            // Restore selection if canceled\r\n            if (canceled && _this.lastKnownEditorSelection) {\r\n                _this.editor.setSelection(_this.lastKnownEditorSelection);\r\n                _this.editor.revealRangeInCenterIfOutsideViewport(_this.lastKnownEditorSelection, 0 /* Smooth */);\r\n            }\r\n            _this.lastKnownEditorSelection = null;\r\n            // Return focus to the editor if\r\n            // - focus is back on the <body> element because no other focusable element was clicked\r\n            // - a command was picked from the picker which indicates the editor should get focused\r\n            if (document.activeElement === document.body || !canceled) {\r\n                _this.editor.focus();\r\n            }\r\n        };\r\n        this.widget = new QuickOpenEditorWidget(this.editor, function () { return onClose(false); }, function () { return onClose(true); }, function (value) {\r\n            _this.widget.setInput(opts.getModel(value), opts.getAutoFocus(value));\r\n        }, {\r\n            inputAriaLabel: opts.inputAriaLabel\r\n        }, this.themeService);\r\n        // Remember selection to be able to restore on cancel\r\n        if (!this.lastKnownEditorSelection) {\r\n            this.lastKnownEditorSelection = this.editor.getSelection();\r\n        }\r\n        // Show\r\n        this.widget.show('');\r\n    };\r\n    QuickOpenController.prototype.decorateLine = function (range, editor) {\r\n        var oldDecorations = [];\r\n        if (this.rangeHighlightDecorationId) {\r\n            oldDecorations.push(this.rangeHighlightDecorationId);\r\n            this.rangeHighlightDecorationId = null;\r\n        }\r\n        var newDecorations = [\r\n            {\r\n                range: range,\r\n                options: QuickOpenController._RANGE_HIGHLIGHT_DECORATION\r\n            }\r\n        ];\r\n        var decorations = editor.deltaDecorations(oldDecorations, newDecorations);\r\n        this.rangeHighlightDecorationId = decorations[0];\r\n    };\r\n    QuickOpenController.prototype.clearDecorations = function () {\r\n        if (this.rangeHighlightDecorationId) {\r\n            this.editor.deltaDecorations([this.rangeHighlightDecorationId], []);\r\n            this.rangeHighlightDecorationId = null;\r\n        }\r\n    };\r\n    QuickOpenController.ID = 'editor.controller.quickOpenController';\r\n    QuickOpenController._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\r\n        className: 'rangeHighlight',\r\n        isWholeLine: true\r\n    });\r\n    QuickOpenController = __decorate([\r\n        __param(1, IThemeService)\r\n    ], QuickOpenController);\r\n    return QuickOpenController;\r\n}());\r\nexport { QuickOpenController };\r\n/**\r\n * Base class for providing quick open in the editor.\r\n */\r\nvar BaseEditorQuickOpenAction = /** @class */ (function (_super) {\r\n    __extends(BaseEditorQuickOpenAction, _super);\r\n    function BaseEditorQuickOpenAction(inputAriaLabel, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._inputAriaLabel = inputAriaLabel;\r\n        return _this;\r\n    }\r\n    BaseEditorQuickOpenAction.prototype.getController = function (editor) {\r\n        return QuickOpenController.get(editor);\r\n    };\r\n    BaseEditorQuickOpenAction.prototype._show = function (controller, opts) {\r\n        controller.run({\r\n            inputAriaLabel: this._inputAriaLabel,\r\n            getModel: function (value) { return opts.getModel(value); },\r\n            getAutoFocus: function (searchValue) { return opts.getAutoFocus(searchValue); }\r\n        });\r\n    };\r\n    return BaseEditorQuickOpenAction;\r\n}(EditorAction));\r\nexport { BaseEditorQuickOpenAction };\r\nregisterEditorContribution(QuickOpenController.ID, QuickOpenController);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './inputBox.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as Bal from '../../browser.js';\r\nimport * as dom from '../../dom.js';\r\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\r\nimport * as aria from '../aria/aria.js';\r\nimport { ActionBar } from '../actionbar/actionbar.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { HistoryNavigator } from '../../../common/history.js';\r\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\r\nimport { domEvent } from '../../event.js';\r\nvar $ = dom.$;\r\nvar defaultOpts = {\r\n    inputBackground: Color.fromHex('#3C3C3C'),\r\n    inputForeground: Color.fromHex('#CCCCCC'),\r\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\r\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\r\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\r\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\r\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\r\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\r\n};\r\nvar InputBox = /** @class */ (function (_super) {\r\n    __extends(InputBox, _super);\r\n    function InputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.state = 'idle';\r\n        _this.maxHeight = Number.POSITIVE_INFINITY;\r\n        _this._onDidChange = _this._register(new Emitter());\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onDidHeightChange = _this._register(new Emitter());\r\n        _this.onDidHeightChange = _this._onDidHeightChange.event;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.message = null;\r\n        _this.placeholder = _this.options.placeholder || '';\r\n        _this.ariaLabel = _this.options.ariaLabel || '';\r\n        _this.inputBackground = _this.options.inputBackground;\r\n        _this.inputForeground = _this.options.inputForeground;\r\n        _this.inputBorder = _this.options.inputBorder;\r\n        _this.inputValidationInfoBorder = _this.options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = _this.options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = _this.options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = _this.options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = _this.options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = _this.options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = _this.options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = _this.options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = _this.options.inputValidationErrorForeground;\r\n        if (_this.options.validationOptions) {\r\n            _this.validation = _this.options.validationOptions.validation;\r\n        }\r\n        _this.element = dom.append(container, $('.monaco-inputbox.idle'));\r\n        var tagName = _this.options.flexibleHeight ? 'textarea' : 'input';\r\n        var wrapper = dom.append(_this.element, $('.wrapper'));\r\n        _this.input = dom.append(wrapper, $(tagName + '.input.empty'));\r\n        _this.input.setAttribute('autocorrect', 'off');\r\n        _this.input.setAttribute('autocapitalize', 'off');\r\n        _this.input.setAttribute('spellcheck', 'false');\r\n        _this.onfocus(_this.input, function () { return dom.addClass(_this.element, 'synthetic-focus'); });\r\n        _this.onblur(_this.input, function () { return dom.removeClass(_this.element, 'synthetic-focus'); });\r\n        if (_this.options.flexibleHeight) {\r\n            _this.maxHeight = typeof _this.options.flexibleMaxHeight === 'number' ? _this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\r\n            _this.mirror = dom.append(wrapper, $('div.mirror'));\r\n            _this.mirror.innerHTML = '&#160;';\r\n            _this.scrollableElement = new ScrollableElement(_this.element, { vertical: 1 /* Auto */ });\r\n            if (_this.options.flexibleWidth) {\r\n                _this.input.setAttribute('wrap', 'off');\r\n                _this.mirror.style.whiteSpace = 'pre';\r\n                _this.mirror.style.wordWrap = 'initial';\r\n            }\r\n            dom.append(container, _this.scrollableElement.getDomNode());\r\n            _this._register(_this.scrollableElement);\r\n            // from ScrollableElement to DOM\r\n            _this._register(_this.scrollableElement.onScroll(function (e) { return _this.input.scrollTop = e.scrollTop; }));\r\n            var onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), function () {\r\n                var selection = document.getSelection();\r\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\r\n            });\r\n            // from DOM to ScrollableElement\r\n            _this._register(onSelectionChange(_this.updateScrollDimensions, _this));\r\n            _this._register(_this.onDidHeightChange(_this.updateScrollDimensions, _this));\r\n        }\r\n        else {\r\n            _this.input.type = _this.options.type || 'text';\r\n            _this.input.setAttribute('wrap', 'off');\r\n        }\r\n        if (_this.ariaLabel) {\r\n            _this.input.setAttribute('aria-label', _this.ariaLabel);\r\n        }\r\n        if (_this.placeholder) {\r\n            _this.setPlaceHolder(_this.placeholder);\r\n        }\r\n        _this.oninput(_this.input, function () { return _this.onValueChange(); });\r\n        _this.onblur(_this.input, function () { return _this.onBlur(); });\r\n        _this.onfocus(_this.input, function () { return _this.onFocus(); });\r\n        // Add placeholder shim for IE because IE decides to hide the placeholder on focus (we dont want that!)\r\n        if (_this.placeholder && Bal.isIE) {\r\n            _this.onclick(_this.input, function (e) {\r\n                dom.EventHelper.stop(e, true);\r\n                _this.input.focus();\r\n            });\r\n        }\r\n        _this.ignoreGesture(_this.input);\r\n        setTimeout(function () { return _this.updateMirror(); }, 0);\r\n        // Support actions\r\n        if (_this.options.actions) {\r\n            _this.actionbar = _this._register(new ActionBar(_this.element));\r\n            _this.actionbar.push(_this.options.actions, { icon: true, label: false });\r\n        }\r\n        _this.applyStyles();\r\n        return _this;\r\n    }\r\n    InputBox.prototype.onBlur = function () {\r\n        this._hideMessage();\r\n    };\r\n    InputBox.prototype.onFocus = function () {\r\n        this._showMessage();\r\n    };\r\n    InputBox.prototype.setPlaceHolder = function (placeHolder) {\r\n        this.placeholder = placeHolder;\r\n        this.input.setAttribute('placeholder', placeHolder);\r\n        this.input.title = placeHolder;\r\n    };\r\n    InputBox.prototype.setAriaLabel = function (label) {\r\n        this.ariaLabel = label;\r\n        if (label) {\r\n            this.input.setAttribute('aria-label', this.ariaLabel);\r\n        }\r\n        else {\r\n            this.input.removeAttribute('aria-label');\r\n        }\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"inputElement\", {\r\n        get: function () {\r\n            return this.input;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"value\", {\r\n        get: function () {\r\n            return this.input.value;\r\n        },\r\n        set: function (newValue) {\r\n            if (this.input.value !== newValue) {\r\n                this.input.value = newValue;\r\n                this.onValueChange();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"height\", {\r\n        get: function () {\r\n            return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.focus = function () {\r\n        this.input.focus();\r\n    };\r\n    InputBox.prototype.blur = function () {\r\n        this.input.blur();\r\n    };\r\n    InputBox.prototype.hasFocus = function () {\r\n        return document.activeElement === this.input;\r\n    };\r\n    InputBox.prototype.select = function (range) {\r\n        if (range === void 0) { range = null; }\r\n        this.input.select();\r\n        if (range) {\r\n            this.input.setSelectionRange(range.start, range.end);\r\n        }\r\n    };\r\n    InputBox.prototype.enable = function () {\r\n        this.input.removeAttribute('disabled');\r\n    };\r\n    InputBox.prototype.disable = function () {\r\n        this.blur();\r\n        this.input.disabled = true;\r\n        this._hideMessage();\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"width\", {\r\n        get: function () {\r\n            return dom.getTotalWidth(this.input);\r\n        },\r\n        set: function (width) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                // textarea with horizontal scrolling\r\n                var horizontalPadding = 0;\r\n                if (this.mirror) {\r\n                    var paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\r\n                    var paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\r\n                    horizontalPadding = paddingLeft + paddingRight;\r\n                }\r\n                this.input.style.width = (width - horizontalPadding) + 'px';\r\n            }\r\n            else {\r\n                this.input.style.width = width + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.width = width + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"paddingRight\", {\r\n        set: function (paddingRight) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                this.input.style.width = \"calc(100% - \" + paddingRight + \"px)\";\r\n            }\r\n            else {\r\n                this.input.style.paddingRight = paddingRight + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.paddingRight = paddingRight + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.updateScrollDimensions = function () {\r\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\r\n            return;\r\n        }\r\n        var scrollHeight = this.cachedContentHeight;\r\n        var height = this.cachedHeight;\r\n        var scrollTop = this.input.scrollTop;\r\n        this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight, height: height });\r\n        this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n    };\r\n    InputBox.prototype.showMessage = function (message, force) {\r\n        this.message = message;\r\n        dom.removeClass(this.element, 'idle');\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, this.classForType(message.type));\r\n        var styles = this.stylesForType(this.message.type);\r\n        this.element.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n        // ARIA Support\r\n        var alertText;\r\n        if (message.type === 3 /* ERROR */) {\r\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", message.content);\r\n        }\r\n        else if (message.type === 2 /* WARNING */) {\r\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", message.content);\r\n        }\r\n        else {\r\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", message.content);\r\n        }\r\n        aria.alert(alertText);\r\n        if (this.hasFocus() || force) {\r\n            this._showMessage();\r\n        }\r\n    };\r\n    InputBox.prototype.hideMessage = function () {\r\n        this.message = null;\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, 'idle');\r\n        this._hideMessage();\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.validate = function () {\r\n        var errorMsg = null;\r\n        if (this.validation) {\r\n            errorMsg = this.validation(this.value);\r\n            if (errorMsg) {\r\n                this.inputElement.setAttribute('aria-invalid', 'true');\r\n                this.showMessage(errorMsg);\r\n            }\r\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\r\n                this.inputElement.removeAttribute('aria-invalid');\r\n                this.hideMessage();\r\n            }\r\n        }\r\n        return !errorMsg;\r\n    };\r\n    InputBox.prototype.stylesForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\r\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\r\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\r\n        }\r\n    };\r\n    InputBox.prototype.classForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return 'info';\r\n            case 2 /* WARNING */: return 'warning';\r\n            default: return 'error';\r\n        }\r\n    };\r\n    InputBox.prototype._showMessage = function () {\r\n        var _this = this;\r\n        if (!this.contextViewProvider || !this.message) {\r\n            return;\r\n        }\r\n        var div;\r\n        var layout = function () { return div.style.width = dom.getTotalWidth(_this.element) + 'px'; };\r\n        this.contextViewProvider.showContextView({\r\n            getAnchor: function () { return _this.element; },\r\n            anchorAlignment: 1 /* RIGHT */,\r\n            render: function (container) {\r\n                if (!_this.message) {\r\n                    return null;\r\n                }\r\n                div = dom.append(container, $('.monaco-inputbox-container'));\r\n                layout();\r\n                var renderOptions = {\r\n                    inline: true,\r\n                    className: 'monaco-inputbox-message'\r\n                };\r\n                var spanElement = (_this.message.formatContent\r\n                    ? renderFormattedText(_this.message.content, renderOptions)\r\n                    : renderText(_this.message.content, renderOptions));\r\n                dom.addClass(spanElement, _this.classForType(_this.message.type));\r\n                var styles = _this.stylesForType(_this.message.type);\r\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\r\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\r\n                spanElement.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n                dom.append(div, spanElement);\r\n                return null;\r\n            },\r\n            onHide: function () {\r\n                _this.state = 'closed';\r\n            },\r\n            layout: layout\r\n        });\r\n        this.state = 'open';\r\n    };\r\n    InputBox.prototype._hideMessage = function () {\r\n        if (!this.contextViewProvider) {\r\n            return;\r\n        }\r\n        if (this.state === 'open') {\r\n            this.contextViewProvider.hideContextView();\r\n        }\r\n        this.state = 'idle';\r\n    };\r\n    InputBox.prototype.onValueChange = function () {\r\n        this._onDidChange.fire(this.value);\r\n        this.validate();\r\n        this.updateMirror();\r\n        dom.toggleClass(this.input, 'empty', !this.value);\r\n        if (this.state === 'open' && this.contextViewProvider) {\r\n            this.contextViewProvider.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.updateMirror = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var value = this.value;\r\n        var lastCharCode = value.charCodeAt(value.length - 1);\r\n        var suffix = lastCharCode === 10 ? ' ' : '';\r\n        var mirrorTextContent = value + suffix;\r\n        if (mirrorTextContent) {\r\n            this.mirror.textContent = value + suffix;\r\n        }\r\n        else {\r\n            this.mirror.innerHTML = '&#160;';\r\n        }\r\n        this.layout();\r\n    };\r\n    InputBox.prototype.style = function (styles) {\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.applyStyles = function () {\r\n        var background = this.inputBackground ? this.inputBackground.toString() : '';\r\n        var foreground = this.inputForeground ? this.inputForeground.toString() : '';\r\n        var border = this.inputBorder ? this.inputBorder.toString() : '';\r\n        this.element.style.backgroundColor = background;\r\n        this.element.style.color = foreground;\r\n        this.input.style.backgroundColor = background;\r\n        this.input.style.color = foreground;\r\n        this.element.style.borderWidth = border ? '1px' : '';\r\n        this.element.style.borderStyle = border ? 'solid' : '';\r\n        this.element.style.borderColor = border;\r\n    };\r\n    InputBox.prototype.layout = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var previousHeight = this.cachedContentHeight;\r\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\r\n        if (previousHeight !== this.cachedContentHeight) {\r\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\r\n            this.input.style.height = this.cachedHeight + 'px';\r\n            this._onDidHeightChange.fire(this.cachedContentHeight);\r\n        }\r\n    };\r\n    InputBox.prototype.insertAtCursor = function (text) {\r\n        var inputElement = this.inputElement;\r\n        var start = inputElement.selectionStart;\r\n        var end = inputElement.selectionEnd;\r\n        var content = inputElement.value;\r\n        if (start !== null && end !== null) {\r\n            this.value = content.substr(0, start) + text + content.substr(end);\r\n            inputElement.setSelectionRange(start + 1, start + 1);\r\n            this.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.dispose = function () {\r\n        this._hideMessage();\r\n        this.message = null;\r\n        if (this.actionbar) {\r\n            this.actionbar.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return InputBox;\r\n}(Widget));\r\nexport { InputBox };\r\nvar HistoryInputBox = /** @class */ (function (_super) {\r\n    __extends(HistoryInputBox, _super);\r\n    function HistoryInputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this, container, contextViewProvider, options) || this;\r\n        _this.history = new HistoryNavigator(options.history, 100);\r\n        return _this;\r\n    }\r\n    HistoryInputBox.prototype.addToHistory = function () {\r\n        if (this.value && this.value !== this.getCurrentValue()) {\r\n            this.history.add(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showNextValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var next = this.getNextValue();\r\n        if (next) {\r\n            next = next === this.value ? this.getNextValue() : next;\r\n        }\r\n        if (next) {\r\n            this.value = next;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showPreviousValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var previous = this.getPreviousValue();\r\n        if (previous) {\r\n            previous = previous === this.value ? this.getPreviousValue() : previous;\r\n        }\r\n        if (previous) {\r\n            this.value = previous;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.getCurrentValue = function () {\r\n        var currentValue = this.history.current();\r\n        if (!currentValue) {\r\n            currentValue = this.history.last();\r\n            this.history.next();\r\n        }\r\n        return currentValue;\r\n    };\r\n    HistoryInputBox.prototype.getPreviousValue = function () {\r\n        return this.history.previous() || this.history.first();\r\n    };\r\n    HistoryInputBox.prototype.getNextValue = function () {\r\n        return this.history.next() || this.history.last();\r\n    };\r\n    return HistoryInputBox;\r\n}(InputBox));\r\nexport { HistoryInputBox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayNavigator } from './iterator.js';\r\nvar HistoryNavigator = /** @class */ (function () {\r\n    function HistoryNavigator(history, limit) {\r\n        if (history === void 0) { history = []; }\r\n        if (limit === void 0) { limit = 10; }\r\n        this._initialize(history);\r\n        this._limit = limit;\r\n        this._onChange();\r\n    }\r\n    HistoryNavigator.prototype.add = function (t) {\r\n        this._history.delete(t);\r\n        this._history.add(t);\r\n        this._onChange();\r\n    };\r\n    HistoryNavigator.prototype.next = function () {\r\n        return this._navigator.next();\r\n    };\r\n    HistoryNavigator.prototype.previous = function () {\r\n        return this._navigator.previous();\r\n    };\r\n    HistoryNavigator.prototype.current = function () {\r\n        return this._navigator.current();\r\n    };\r\n    HistoryNavigator.prototype.parent = function () {\r\n        return null;\r\n    };\r\n    HistoryNavigator.prototype.first = function () {\r\n        return this._navigator.first();\r\n    };\r\n    HistoryNavigator.prototype.last = function () {\r\n        return this._navigator.last();\r\n    };\r\n    HistoryNavigator.prototype.has = function (t) {\r\n        return this._history.has(t);\r\n    };\r\n    HistoryNavigator.prototype._onChange = function () {\r\n        this._reduceToLimit();\r\n        var elements = this._elements;\r\n        this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\r\n    };\r\n    HistoryNavigator.prototype._reduceToLimit = function () {\r\n        var data = this._elements;\r\n        if (data.length > this._limit) {\r\n            this._initialize(data.slice(data.length - this._limit));\r\n        }\r\n    };\r\n    HistoryNavigator.prototype._initialize = function (history) {\r\n        this._history = new Set();\r\n        for (var _i = 0, history_1 = history; _i < history_1.length; _i++) {\r\n            var entry = history_1[_i];\r\n            this._history.add(entry);\r\n        }\r\n    };\r\n    Object.defineProperty(HistoryNavigator.prototype, \"_elements\", {\r\n        get: function () {\r\n            var elements = [];\r\n            this._history.forEach(function (e) { return elements.push(e); });\r\n            return elements;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return HistoryNavigator;\r\n}());\r\nexport { HistoryNavigator };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../../nls.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\r\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\r\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\r\nimport { OS } from '../../../common/platform.js';\r\nimport { coalesce } from '../../../common/arrays.js';\r\nvar IDS = 0;\r\nvar QuickOpenEntry = /** @class */ (function () {\r\n    function QuickOpenEntry(highlights) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        this.id = (IDS++).toString();\r\n        this.labelHighlights = highlights;\r\n        this.descriptionHighlights = [];\r\n    }\r\n    /**\r\n     * A unique identifier for the entry\r\n     */\r\n    QuickOpenEntry.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * The label of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getLabel = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The options for the label to use for this entry\r\n     */\r\n    QuickOpenEntry.prototype.getLabelOptions = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The label of the entry to use when a screen reader wants to read about the entry\r\n     */\r\n    QuickOpenEntry.prototype.getAriaLabel = function () {\r\n        return coalesce([this.getLabel(), this.getDescription(), this.getDetail()])\r\n            .join(', ');\r\n    };\r\n    /**\r\n     * Detail information about the entry that is optional and can be shown below the label\r\n     */\r\n    QuickOpenEntry.prototype.getDetail = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The icon of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getIcon = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A secondary description that is optional and can be shown right to the label\r\n     */\r\n    QuickOpenEntry.prototype.getDescription = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the description portion of the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getDescriptionTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * An optional keybinding to show for an entry.\r\n     */\r\n    QuickOpenEntry.prototype.getKeybinding = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\r\n     */\r\n    QuickOpenEntry.prototype.isHidden = function () {\r\n        return !!this.hidden;\r\n    };\r\n    /**\r\n     * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\r\n     */\r\n    QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.labelHighlights = labelHighlights;\r\n        this.descriptionHighlights = descriptionHighlights;\r\n        this.detailHighlights = detailHighlights;\r\n    };\r\n    /**\r\n     * Allows to return highlight ranges that should show up for the entry label and description.\r\n     */\r\n    QuickOpenEntry.prototype.getHighlights = function () {\r\n        return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\r\n    };\r\n    /**\r\n     * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\r\n     * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\r\n     *\r\n     * The context parameter provides additional context information how the run was triggered.\r\n     */\r\n    QuickOpenEntry.prototype.run = function (mode, context) {\r\n        return false;\r\n    };\r\n    return QuickOpenEntry;\r\n}());\r\nexport { QuickOpenEntry };\r\nvar QuickOpenEntryGroup = /** @class */ (function (_super) {\r\n    __extends(QuickOpenEntryGroup, _super);\r\n    function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\r\n        var _this = _super.call(this) || this;\r\n        _this.entry = entry;\r\n        _this.groupLabel = groupLabel;\r\n        _this.withBorder = withBorder;\r\n        return _this;\r\n    }\r\n    /**\r\n     * The label of the group or null if none.\r\n     */\r\n    QuickOpenEntryGroup.prototype.getGroupLabel = function () {\r\n        return this.groupLabel;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\r\n        this.groupLabel = groupLabel;\r\n    };\r\n    /**\r\n     * Whether to show a border on top of the group entry or not.\r\n     */\r\n    QuickOpenEntryGroup.prototype.showBorder = function () {\r\n        return !!this.withBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\r\n        this.withBorder = showBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabel = function () {\r\n        return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabelOptions = function () {\r\n        return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getAriaLabel = function () {\r\n        return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDetail = function () {\r\n        return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getIcon = function () {\r\n        return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDescription = function () {\r\n        return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getHighlights = function () {\r\n        return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.isHidden = function () {\r\n        return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\r\n    };\r\n    QuickOpenEntryGroup.prototype.run = function (mode, context) {\r\n        return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\r\n    };\r\n    return QuickOpenEntryGroup;\r\n}(QuickOpenEntry));\r\nexport { QuickOpenEntryGroup };\r\nvar NoActionProvider = /** @class */ (function () {\r\n    function NoActionProvider() {\r\n    }\r\n    NoActionProvider.prototype.hasActions = function (tree, element) {\r\n        return false;\r\n    };\r\n    NoActionProvider.prototype.getActions = function (tree, element) {\r\n        return null;\r\n    };\r\n    return NoActionProvider;\r\n}());\r\nvar templateEntry = 'quickOpenEntry';\r\nvar templateEntryGroup = 'quickOpenEntryGroup';\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(actionProvider, actionRunner) {\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this.actionProvider = actionProvider;\r\n        this.actionRunner = actionRunner;\r\n    }\r\n    Renderer.prototype.getHeight = function (entry) {\r\n        if (entry.getDetail()) {\r\n            return 44;\r\n        }\r\n        return 22;\r\n    };\r\n    Renderer.prototype.getTemplateId = function (entry) {\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            return templateEntryGroup;\r\n        }\r\n        return templateEntry;\r\n    };\r\n    Renderer.prototype.renderTemplate = function (templateId, container, styles) {\r\n        var entryContainer = document.createElement('div');\r\n        DOM.addClass(entryContainer, 'sub-content');\r\n        container.appendChild(entryContainer);\r\n        // Entry\r\n        var row1 = DOM.$('.quick-open-row');\r\n        var row2 = DOM.$('.quick-open-row');\r\n        var entry = DOM.$('.quick-open-entry', undefined, row1, row2);\r\n        entryContainer.appendChild(entry);\r\n        // Icon\r\n        var icon = document.createElement('span');\r\n        row1.appendChild(icon);\r\n        // Label\r\n        var label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportCodicons: true });\r\n        // Keybinding\r\n        var keybindingContainer = document.createElement('span');\r\n        row1.appendChild(keybindingContainer);\r\n        DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\r\n        var keybinding = new KeybindingLabel(keybindingContainer, OS);\r\n        // Detail\r\n        var detailContainer = document.createElement('div');\r\n        row2.appendChild(detailContainer);\r\n        DOM.addClass(detailContainer, 'quick-open-entry-meta');\r\n        var detail = new HighlightedLabel(detailContainer, true);\r\n        // Entry Group\r\n        var group;\r\n        if (templateId === templateEntryGroup) {\r\n            group = document.createElement('div');\r\n            DOM.addClass(group, 'results-group');\r\n            container.appendChild(group);\r\n        }\r\n        // Actions\r\n        DOM.addClass(container, 'actions');\r\n        var actionBarContainer = document.createElement('div');\r\n        DOM.addClass(actionBarContainer, 'primary-action-bar');\r\n        container.appendChild(actionBarContainer);\r\n        var actionBar = new ActionBar(actionBarContainer, {\r\n            actionRunner: this.actionRunner\r\n        });\r\n        return {\r\n            container: container,\r\n            entry: entry,\r\n            icon: icon,\r\n            label: label,\r\n            detail: detail,\r\n            keybinding: keybinding,\r\n            group: group,\r\n            actionBar: actionBar\r\n        };\r\n    };\r\n    Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\r\n        // Action Bar\r\n        if (this.actionProvider.hasActions(null, entry)) {\r\n            DOM.addClass(data.container, 'has-actions');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-actions');\r\n        }\r\n        data.actionBar.context = entry; // make sure the context is the current element\r\n        var actions = this.actionProvider.getActions(null, entry);\r\n        if (data.actionBar.isEmpty() && actions && actions.length > 0) {\r\n            data.actionBar.push(actions, { icon: true, label: false });\r\n        }\r\n        else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\r\n            data.actionBar.clear();\r\n        }\r\n        // Entry group class\r\n        if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\r\n            DOM.addClass(data.container, 'has-group-label');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-group-label');\r\n        }\r\n        // Entry group\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            var group = entry;\r\n            var groupData = data;\r\n            // Border\r\n            if (group.showBorder()) {\r\n                DOM.addClass(groupData.container, 'results-group-separator');\r\n                if (styles.pickerGroupBorder) {\r\n                    groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\r\n                }\r\n            }\r\n            else {\r\n                DOM.removeClass(groupData.container, 'results-group-separator');\r\n                groupData.container.style.borderTopColor = '';\r\n            }\r\n            // Group Label\r\n            var groupLabel = group.getGroupLabel() || '';\r\n            if (groupData.group) {\r\n                groupData.group.textContent = groupLabel;\r\n                if (styles.pickerGroupForeground) {\r\n                    groupData.group.style.color = styles.pickerGroupForeground.toString();\r\n                }\r\n            }\r\n        }\r\n        // Normal Entry\r\n        if (entry instanceof QuickOpenEntry) {\r\n            var _a = entry.getHighlights(), labelHighlights = _a[0], descriptionHighlights = _a[1], detailHighlights = _a[2];\r\n            // Icon\r\n            var iconClass = entry.getIcon() ? ('quick-open-entry-icon ' + entry.getIcon()) : '';\r\n            data.icon.className = iconClass;\r\n            // Label\r\n            var options = entry.getLabelOptions() || Object.create(null);\r\n            options.matches = labelHighlights || [];\r\n            options.title = entry.getTooltip();\r\n            options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\r\n            options.descriptionMatches = descriptionHighlights || [];\r\n            data.label.setLabel(entry.getLabel() || '', entry.getDescription(), options);\r\n            // Meta\r\n            data.detail.set(entry.getDetail(), detailHighlights);\r\n            // Keybinding\r\n            data.keybinding.set(entry.getKeybinding());\r\n        }\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (templateId, templateData) {\r\n        templateData.actionBar.dispose();\r\n        templateData.actionBar = null;\r\n        templateData.container = null;\r\n        templateData.entry = null;\r\n        templateData.keybinding = null;\r\n        templateData.detail = null;\r\n        templateData.group = null;\r\n        templateData.icon = null;\r\n        templateData.label.dispose();\r\n        templateData.label = null;\r\n    };\r\n    return Renderer;\r\n}());\r\nvar QuickOpenModel = /** @class */ (function () {\r\n    function QuickOpenModel(entries, actionProvider) {\r\n        if (entries === void 0) { entries = []; }\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this._entries = entries;\r\n        this._dataSource = this;\r\n        this._renderer = new Renderer(actionProvider);\r\n        this._filter = this;\r\n        this._runner = this;\r\n        this._accessibilityProvider = this;\r\n    }\r\n    Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\r\n        get: function () { return this._entries; },\r\n        set: function (entries) {\r\n            this._entries = entries;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\r\n        get: function () { return this._dataSource; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\r\n        get: function () { return this._renderer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\r\n        get: function () { return this._filter; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\r\n        get: function () { return this._runner; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\r\n        get: function () { return this._accessibilityProvider; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QuickOpenModel.prototype.getId = function (entry) {\r\n        return entry.getId();\r\n    };\r\n    QuickOpenModel.prototype.getLabel = function (entry) {\r\n        return types.withUndefinedAsNull(entry.getLabel());\r\n    };\r\n    QuickOpenModel.prototype.getAriaLabel = function (entry) {\r\n        var ariaLabel = entry.getAriaLabel();\r\n        if (ariaLabel) {\r\n            return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\r\n        }\r\n        return nls.localize('quickOpenAriaLabel', \"picker\");\r\n    };\r\n    QuickOpenModel.prototype.isVisible = function (entry) {\r\n        return !entry.isHidden();\r\n    };\r\n    QuickOpenModel.prototype.run = function (entry, mode, context) {\r\n        return entry.run(mode, context);\r\n    };\r\n    return QuickOpenModel;\r\n}());\r\nexport { QuickOpenModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './keybindingLabel.css';\r\nimport { equals } from '../../../common/objects.js';\r\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\r\nimport * as dom from '../../dom.js';\r\nimport { localize } from '../../../../nls.js';\r\nvar $ = dom.$;\r\nvar KeybindingLabel = /** @class */ (function () {\r\n    function KeybindingLabel(container, os, options) {\r\n        this.os = os;\r\n        this.options = options;\r\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\r\n        this.didEverRender = false;\r\n        container.appendChild(this.domNode);\r\n    }\r\n    KeybindingLabel.prototype.set = function (keybinding, matches) {\r\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\r\n            return;\r\n        }\r\n        this.keybinding = keybinding;\r\n        this.matches = matches;\r\n        this.render();\r\n    };\r\n    KeybindingLabel.prototype.render = function () {\r\n        dom.clearNode(this.domNode);\r\n        if (this.keybinding) {\r\n            var _a = this.keybinding.getParts(), firstPart = _a[0], chordPart = _a[1];\r\n            if (firstPart) {\r\n                this.renderPart(this.domNode, firstPart, this.matches ? this.matches.firstPart : null);\r\n            }\r\n            if (chordPart) {\r\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\r\n                this.renderPart(this.domNode, chordPart, this.matches ? this.matches.chordPart : null);\r\n            }\r\n            this.domNode.title = this.keybinding.getAriaLabel() || '';\r\n        }\r\n        else if (this.options && this.options.renderUnboundKeybindings) {\r\n            this.renderUnbound(this.domNode);\r\n        }\r\n        this.didEverRender = true;\r\n    };\r\n    KeybindingLabel.prototype.renderPart = function (parent, part, match) {\r\n        var modifierLabels = UILabelProvider.modifierLabels[this.os];\r\n        if (part.ctrlKey) {\r\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\r\n        }\r\n        if (part.shiftKey) {\r\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\r\n        }\r\n        if (part.altKey) {\r\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\r\n        }\r\n        if (part.metaKey) {\r\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\r\n        }\r\n        var keyLabel = part.keyLabel;\r\n        if (keyLabel) {\r\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\r\n        }\r\n    };\r\n    KeybindingLabel.prototype.renderKey = function (parent, label, highlight, separator) {\r\n        dom.append(parent, $('span.monaco-keybinding-key' + (highlight ? '.highlight' : ''), undefined, label));\r\n        if (separator) {\r\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\r\n        }\r\n    };\r\n    KeybindingLabel.prototype.renderUnbound = function (parent) {\r\n        dom.append(parent, $('span.monaco-keybinding-key', undefined, localize('unbound', \"Unbound\")));\r\n    };\r\n    KeybindingLabel.areSame = function (a, b) {\r\n        if (a === b || (!a && !b)) {\r\n            return true;\r\n        }\r\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\r\n    };\r\n    return KeybindingLabel;\r\n}());\r\nexport { KeybindingLabel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './editor.all.js';\r\nimport './standalone/browser/accessibilityHelp/accessibilityHelp.js';\r\nimport './standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js';\r\nimport './standalone/browser/inspectTokens/inspectTokens.js';\r\nimport './standalone/browser/quickOpen/gotoLine.js';\r\nimport './standalone/browser/quickOpen/quickCommand.js';\r\nimport './standalone/browser/quickOpen/quickOutline.js';\r\nimport './standalone/browser/referenceSearch/standaloneReferenceSearch.js';\r\nimport './standalone/browser/toggleHighContrast/toggleHighContrast.js';\r\nexport * from './editor.api.js';\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findInput.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findInput.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findInput.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './codicon/codicon.css';\r\nimport './codicon/codicon-animations.css';\r\n","import './media/outlineTree.css';\r\nimport './media/symbol-icons.css';\r\nimport { localize } from '../../../nls.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { registerColor, foreground } from '../../../platform/theme/common/colorRegistry.js';\r\nexport var SYMBOL_ICON_ARRAY_FOREGROUND = registerColor('symbolIcon.arrayForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.arrayForeground', 'The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_BOOLEAN_FOREGROUND = registerColor('symbolIcon.booleanForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.booleanForeground', 'The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CLASS_FOREGROUND = registerColor('symbolIcon.classForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.classForeground', 'The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_COLOR_FOREGROUND = registerColor('symbolIcon.colorForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.colorForeground', 'The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CONSTANT_FOREGROUND = registerColor('symbolIcon.constantForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.constantForeground', 'The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CONSTRUCTOR_FOREGROUND = registerColor('symbolIcon.constructorForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.constructorForeground', 'The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_ENUMERATOR_FOREGROUND = registerColor('symbolIcon.enumeratorForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.enumeratorForeground', 'The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND = registerColor('symbolIcon.enumeratorMemberForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.enumeratorMemberForeground', 'The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_EVENT_FOREGROUND = registerColor('symbolIcon.eventForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.eventForeground', 'The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FIELD_FOREGROUND = registerColor('symbolIcon.fieldForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.fieldForeground', 'The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FILE_FOREGROUND = registerColor('symbolIcon.fileForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.fileForeground', 'The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FOLDER_FOREGROUND = registerColor('symbolIcon.folderForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.folderForeground', 'The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FUNCTION_FOREGROUND = registerColor('symbolIcon.functionForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.functionForeground', 'The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_INTERFACE_FOREGROUND = registerColor('symbolIcon.interfaceForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.interfaceForeground', 'The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_KEY_FOREGROUND = registerColor('symbolIcon.keyForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.keyForeground', 'The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_KEYWORD_FOREGROUND = registerColor('symbolIcon.keywordForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.keywordForeground', 'The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_METHOD_FOREGROUND = registerColor('symbolIcon.methodForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.methodForeground', 'The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_MODULE_FOREGROUND = registerColor('symbolIcon.moduleForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.moduleForeground', 'The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NAMESPACE_FOREGROUND = registerColor('symbolIcon.namespaceForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.namespaceForeground', 'The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NULL_FOREGROUND = registerColor('symbolIcon.nullForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.nullForeground', 'The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NUMBER_FOREGROUND = registerColor('symbolIcon.numberForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.numberForeground', 'The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_OBJECT_FOREGROUND = registerColor('symbolIcon.objectForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.objectForeground', 'The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_OPERATOR_FOREGROUND = registerColor('symbolIcon.operatorForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.operatorForeground', 'The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_PACKAGE_FOREGROUND = registerColor('symbolIcon.packageForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.packageForeground', 'The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_PROPERTY_FOREGROUND = registerColor('symbolIcon.propertyForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.propertyForeground', 'The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_REFERENCE_FOREGROUND = registerColor('symbolIcon.referenceForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.referenceForeground', 'The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_SNIPPET_FOREGROUND = registerColor('symbolIcon.snippetForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.snippetForeground', 'The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_STRING_FOREGROUND = registerColor('symbolIcon.stringForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.stringForeground', 'The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_STRUCT_FOREGROUND = registerColor('symbolIcon.structForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.structForeground', 'The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_TEXT_FOREGROUND = registerColor('symbolIcon.textForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.textForeground', 'The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_TYPEPARAMETER_FOREGROUND = registerColor('symbolIcon.typeParameterForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.typeParameterForeground', 'The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_UNIT_FOREGROUND = registerColor('symbolIcon.unitForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.unitForeground', 'The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_VARIABLE_FOREGROUND = registerColor('symbolIcon.variableForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.variableForeground', 'The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var symbolIconArrayColor = theme.getColor(SYMBOL_ICON_ARRAY_FOREGROUND);\r\n    if (symbolIconArrayColor) {\r\n        collector.addRule(\".codicon-symbol-array { color: \" + symbolIconArrayColor + \" !important; }\");\r\n    }\r\n    var symbolIconBooleanColor = theme.getColor(SYMBOL_ICON_BOOLEAN_FOREGROUND);\r\n    if (symbolIconBooleanColor) {\r\n        collector.addRule(\".codicon-symbol-boolean { color: \" + symbolIconBooleanColor + \" !important; }\");\r\n    }\r\n    var symbolIconClassColor = theme.getColor(SYMBOL_ICON_CLASS_FOREGROUND);\r\n    if (symbolIconClassColor) {\r\n        collector.addRule(\".codicon-symbol-class { color: \" + symbolIconClassColor + \" !important; }\");\r\n    }\r\n    var symbolIconMethodColor = theme.getColor(SYMBOL_ICON_METHOD_FOREGROUND);\r\n    if (symbolIconMethodColor) {\r\n        collector.addRule(\".codicon-symbol-method { color: \" + symbolIconMethodColor + \" !important; }\");\r\n    }\r\n    var symbolIconColorColor = theme.getColor(SYMBOL_ICON_COLOR_FOREGROUND);\r\n    if (symbolIconColorColor) {\r\n        collector.addRule(\".codicon-symbol-color { color: \" + symbolIconColorColor + \" !important; }\");\r\n    }\r\n    var symbolIconConstantColor = theme.getColor(SYMBOL_ICON_CONSTANT_FOREGROUND);\r\n    if (symbolIconConstantColor) {\r\n        collector.addRule(\".codicon-symbol-constant { color: \" + symbolIconConstantColor + \" !important; }\");\r\n    }\r\n    var symbolIconConstructorColor = theme.getColor(SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);\r\n    if (symbolIconConstructorColor) {\r\n        collector.addRule(\".codicon-symbol-constructor { color: \" + symbolIconConstructorColor + \" !important; }\");\r\n    }\r\n    var symbolIconEnumeratorColor = theme.getColor(SYMBOL_ICON_ENUMERATOR_FOREGROUND);\r\n    if (symbolIconEnumeratorColor) {\r\n        collector.addRule(\"\\n\\t\\t\\t.codicon-symbol-value,.codicon-symbol-enum { color: \" + symbolIconEnumeratorColor + \" !important; }\");\r\n    }\r\n    var symbolIconEnumeratorMemberColor = theme.getColor(SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);\r\n    if (symbolIconEnumeratorMemberColor) {\r\n        collector.addRule(\".codicon-symbol-enum-member { color: \" + symbolIconEnumeratorMemberColor + \" !important; }\");\r\n    }\r\n    var symbolIconEventColor = theme.getColor(SYMBOL_ICON_EVENT_FOREGROUND);\r\n    if (symbolIconEventColor) {\r\n        collector.addRule(\".codicon-symbol-event { color: \" + symbolIconEventColor + \" !important; }\");\r\n    }\r\n    var symbolIconFieldColor = theme.getColor(SYMBOL_ICON_FIELD_FOREGROUND);\r\n    if (symbolIconFieldColor) {\r\n        collector.addRule(\".codicon-symbol-field { color: \" + symbolIconFieldColor + \" !important; }\");\r\n    }\r\n    var symbolIconFileColor = theme.getColor(SYMBOL_ICON_FILE_FOREGROUND);\r\n    if (symbolIconFileColor) {\r\n        collector.addRule(\".codicon-symbol-file { color: \" + symbolIconFileColor + \" !important; }\");\r\n    }\r\n    var symbolIconFolderColor = theme.getColor(SYMBOL_ICON_FOLDER_FOREGROUND);\r\n    if (symbolIconFolderColor) {\r\n        collector.addRule(\".codicon-symbol-folder { color: \" + symbolIconFolderColor + \" !important; }\");\r\n    }\r\n    var symbolIconFunctionColor = theme.getColor(SYMBOL_ICON_FUNCTION_FOREGROUND);\r\n    if (symbolIconFunctionColor) {\r\n        collector.addRule(\".codicon-symbol-function { color: \" + symbolIconFunctionColor + \" !important; }\");\r\n    }\r\n    var symbolIconInterfaceColor = theme.getColor(SYMBOL_ICON_INTERFACE_FOREGROUND);\r\n    if (symbolIconInterfaceColor) {\r\n        collector.addRule(\".codicon-symbol-interface { color: \" + symbolIconInterfaceColor + \" !important; }\");\r\n    }\r\n    var symbolIconKeyColor = theme.getColor(SYMBOL_ICON_KEY_FOREGROUND);\r\n    if (symbolIconKeyColor) {\r\n        collector.addRule(\".codicon-symbol-key { color: \" + symbolIconKeyColor + \" !important; }\");\r\n    }\r\n    var symbolIconKeywordColor = theme.getColor(SYMBOL_ICON_KEYWORD_FOREGROUND);\r\n    if (symbolIconKeywordColor) {\r\n        collector.addRule(\".codicon-symbol-keyword { color: \" + symbolIconKeywordColor + \" !important; }\");\r\n    }\r\n    var symbolIconModuleColor = theme.getColor(SYMBOL_ICON_MODULE_FOREGROUND);\r\n    if (symbolIconModuleColor) {\r\n        collector.addRule(\".codicon-symbol-module { color: \" + symbolIconModuleColor + \" !important; }\");\r\n    }\r\n    var outlineNamespaceColor = theme.getColor(SYMBOL_ICON_NAMESPACE_FOREGROUND);\r\n    if (outlineNamespaceColor) {\r\n        collector.addRule(\".codicon-symbol-namespace { color: \" + outlineNamespaceColor + \" !important; }\");\r\n    }\r\n    var symbolIconNullColor = theme.getColor(SYMBOL_ICON_NULL_FOREGROUND);\r\n    if (symbolIconNullColor) {\r\n        collector.addRule(\".codicon-symbol-null { color: \" + symbolIconNullColor + \" !important; }\");\r\n    }\r\n    var symbolIconNumberColor = theme.getColor(SYMBOL_ICON_NUMBER_FOREGROUND);\r\n    if (symbolIconNumberColor) {\r\n        collector.addRule(\".codicon-symbol-number { color: \" + symbolIconNumberColor + \" !important; }\");\r\n    }\r\n    var symbolIconObjectColor = theme.getColor(SYMBOL_ICON_OBJECT_FOREGROUND);\r\n    if (symbolIconObjectColor) {\r\n        collector.addRule(\".codicon-symbol-object { color: \" + symbolIconObjectColor + \" !important; }\");\r\n    }\r\n    var symbolIconOperatorColor = theme.getColor(SYMBOL_ICON_OPERATOR_FOREGROUND);\r\n    if (symbolIconOperatorColor) {\r\n        collector.addRule(\".codicon-symbol-operator { color: \" + symbolIconOperatorColor + \" !important; }\");\r\n    }\r\n    var symbolIconPackageColor = theme.getColor(SYMBOL_ICON_PACKAGE_FOREGROUND);\r\n    if (symbolIconPackageColor) {\r\n        collector.addRule(\".codicon-symbol-package { color: \" + symbolIconPackageColor + \" !important; }\");\r\n    }\r\n    var symbolIconPropertyColor = theme.getColor(SYMBOL_ICON_PROPERTY_FOREGROUND);\r\n    if (symbolIconPropertyColor) {\r\n        collector.addRule(\".codicon-symbol-property { color: \" + symbolIconPropertyColor + \" !important; }\");\r\n    }\r\n    var symbolIconReferenceColor = theme.getColor(SYMBOL_ICON_REFERENCE_FOREGROUND);\r\n    if (symbolIconReferenceColor) {\r\n        collector.addRule(\".codicon-symbol-reference { color: \" + symbolIconReferenceColor + \" !important; }\");\r\n    }\r\n    var symbolIconSnippetColor = theme.getColor(SYMBOL_ICON_SNIPPET_FOREGROUND);\r\n    if (symbolIconSnippetColor) {\r\n        collector.addRule(\".codicon-symbol-snippet { color: \" + symbolIconSnippetColor + \" !important; }\");\r\n    }\r\n    var symbolIconStringColor = theme.getColor(SYMBOL_ICON_STRING_FOREGROUND);\r\n    if (symbolIconStringColor) {\r\n        collector.addRule(\".codicon-symbol-string { color: \" + symbolIconStringColor + \" !important; }\");\r\n    }\r\n    var symbolIconStructColor = theme.getColor(SYMBOL_ICON_STRUCT_FOREGROUND);\r\n    if (symbolIconStructColor) {\r\n        collector.addRule(\".codicon-symbol-struct { color: \" + symbolIconStructColor + \" !important; }\");\r\n    }\r\n    var symbolIconTextColor = theme.getColor(SYMBOL_ICON_TEXT_FOREGROUND);\r\n    if (symbolIconTextColor) {\r\n        collector.addRule(\".codicon-symbol-text { color: \" + symbolIconTextColor + \" !important; }\");\r\n    }\r\n    var symbolIconTypeParameterColor = theme.getColor(SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);\r\n    if (symbolIconTypeParameterColor) {\r\n        collector.addRule(\".codicon-symbol-type-parameter { color: \" + symbolIconTypeParameterColor + \" !important; }\");\r\n    }\r\n    var symbolIconUnitColor = theme.getColor(SYMBOL_ICON_UNIT_FOREGROUND);\r\n    if (symbolIconUnitColor) {\r\n        collector.addRule(\".codicon-symbol-unit { color: \" + symbolIconUnitColor + \" !important; }\");\r\n    }\r\n    var symbolIconVariableColor = theme.getColor(SYMBOL_ICON_VARIABLE_FOREGROUND);\r\n    if (symbolIconVariableColor) {\r\n        collector.addRule(\".codicon-symbol-variable { color: \" + symbolIconVariableColor + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { TabFocus } from '../../common/config/commonEditorConfig.js';\r\nvar ToggleTabFocusModeAction = /** @class */ (function (_super) {\r\n    __extends(ToggleTabFocusModeAction, _super);\r\n    function ToggleTabFocusModeAction() {\r\n        return _super.call(this, {\r\n            id: ToggleTabFocusModeAction.ID,\r\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\r\n            alias: 'Toggle Tab Key Moves Focus',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 43 /* KEY_M */,\r\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KEY_M */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ToggleTabFocusModeAction.prototype.run = function (accessor, editor) {\r\n        var oldValue = TabFocus.getTabFocusMode();\r\n        var newValue = !oldValue;\r\n        TabFocus.setTabFocusMode(newValue);\r\n        if (newValue) {\r\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\r\n        }\r\n        else {\r\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\r\n        }\r\n    };\r\n    ToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\r\n    return ToggleTabFocusModeAction;\r\n}(EditorAction));\r\nexport { ToggleTabFocusModeAction };\r\nregisterEditorAction(ToggleTabFocusModeAction);\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processSize = processSize;\nexports.noop = noop;\n\nfunction processSize(size) {\n  return !/^\\d+$/.test(size) ? size : \"\".concat(size, \"px\");\n}\n\nfunction noop() {}","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ReferencesModel, FileReferences, OneReference } from '../referencesModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { IconLabel } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\r\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\r\nimport { attachBadgeStyler } from '../../../../platform/theme/common/styler.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { localize } from '../../../../nls.js';\r\nimport { getBaseLabel } from '../../../../base/common/labels.js';\r\nimport { dirname, basename } from '../../../../base/common/resources.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { FuzzyScore, createMatches } from '../../../../base/common/filters.js';\r\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\r\nvar DataSource = /** @class */ (function () {\r\n    function DataSource(_resolverService) {\r\n        this._resolverService = _resolverService;\r\n    }\r\n    DataSource.prototype.hasChildren = function (element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return true;\r\n        }\r\n        if (element instanceof FileReferences && !element.failure) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    DataSource.prototype.getChildren = function (element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return element.groups;\r\n        }\r\n        if (element instanceof FileReferences) {\r\n            return element.resolve(this._resolverService).then(function (val) {\r\n                // if (element.failure) {\r\n                // \t// refresh the element on failure so that\r\n                // \t// we can update its rendering\r\n                // \treturn tree.refresh(element).then(() => val.children);\r\n                // }\r\n                return val.children;\r\n            });\r\n        }\r\n        throw new Error('bad tree');\r\n    };\r\n    DataSource = __decorate([\r\n        __param(0, ITextModelService)\r\n    ], DataSource);\r\n    return DataSource;\r\n}());\r\nexport { DataSource };\r\n//#endregion\r\nvar Delegate = /** @class */ (function () {\r\n    function Delegate() {\r\n    }\r\n    Delegate.prototype.getHeight = function () {\r\n        return 23;\r\n    };\r\n    Delegate.prototype.getTemplateId = function (element) {\r\n        if (element instanceof FileReferences) {\r\n            return FileReferencesRenderer.id;\r\n        }\r\n        else {\r\n            return OneReferenceRenderer.id;\r\n        }\r\n    };\r\n    return Delegate;\r\n}());\r\nexport { Delegate };\r\nvar StringRepresentationProvider = /** @class */ (function () {\r\n    function StringRepresentationProvider(_keybindingService) {\r\n        this._keybindingService = _keybindingService;\r\n    }\r\n    StringRepresentationProvider.prototype.getKeyboardNavigationLabel = function (element) {\r\n        if (element instanceof OneReference) {\r\n            var preview = element.parent.preview;\r\n            var parts = preview && preview.preview(element.range);\r\n            if (parts) {\r\n                return parts.value;\r\n            }\r\n        }\r\n        // FileReferences or unresolved OneReference\r\n        return basename(element.uri);\r\n    };\r\n    StringRepresentationProvider = __decorate([\r\n        __param(0, IKeybindingService)\r\n    ], StringRepresentationProvider);\r\n    return StringRepresentationProvider;\r\n}());\r\nexport { StringRepresentationProvider };\r\nvar IdentityProvider = /** @class */ (function () {\r\n    function IdentityProvider() {\r\n    }\r\n    IdentityProvider.prototype.getId = function (element) {\r\n        return element instanceof OneReference ? element.id : element.uri;\r\n    };\r\n    return IdentityProvider;\r\n}());\r\nexport { IdentityProvider };\r\n//#region render: File\r\nvar FileReferencesTemplate = /** @class */ (function (_super) {\r\n    __extends(FileReferencesTemplate, _super);\r\n    function FileReferencesTemplate(container, _uriLabel, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._uriLabel = _uriLabel;\r\n        var parent = document.createElement('div');\r\n        dom.addClass(parent, 'reference-file');\r\n        _this.file = _this._register(new IconLabel(parent, { supportHighlights: true }));\r\n        _this.badge = new CountBadge(dom.append(parent, dom.$('.count')));\r\n        _this._register(attachBadgeStyler(_this.badge, themeService));\r\n        container.appendChild(parent);\r\n        return _this;\r\n    }\r\n    FileReferencesTemplate.prototype.set = function (element, matches) {\r\n        var parent = dirname(element.uri);\r\n        this.file.setLabel(getBaseLabel(element.uri), this._uriLabel.getUriLabel(parent, { relative: true }), { title: this._uriLabel.getUriLabel(element.uri), matches: matches });\r\n        var len = element.children.length;\r\n        this.badge.setCount(len);\r\n        if (element.failure) {\r\n            this.badge.setTitleFormat(localize('referencesFailre', \"Failed to resolve file.\"));\r\n        }\r\n        else if (len > 1) {\r\n            this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\r\n        }\r\n        else {\r\n            this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\r\n        }\r\n    };\r\n    FileReferencesTemplate = __decorate([\r\n        __param(1, ILabelService),\r\n        __param(2, IThemeService)\r\n    ], FileReferencesTemplate);\r\n    return FileReferencesTemplate;\r\n}(Disposable));\r\nvar FileReferencesRenderer = /** @class */ (function () {\r\n    function FileReferencesRenderer(_instantiationService) {\r\n        this._instantiationService = _instantiationService;\r\n        this.templateId = FileReferencesRenderer.id;\r\n    }\r\n    FileReferencesRenderer.prototype.renderTemplate = function (container) {\r\n        return this._instantiationService.createInstance(FileReferencesTemplate, container);\r\n    };\r\n    FileReferencesRenderer.prototype.renderElement = function (node, index, template) {\r\n        template.set(node.element, createMatches(node.filterData));\r\n    };\r\n    FileReferencesRenderer.prototype.disposeTemplate = function (templateData) {\r\n        templateData.dispose();\r\n    };\r\n    FileReferencesRenderer.id = 'FileReferencesRenderer';\r\n    FileReferencesRenderer = __decorate([\r\n        __param(0, IInstantiationService)\r\n    ], FileReferencesRenderer);\r\n    return FileReferencesRenderer;\r\n}());\r\nexport { FileReferencesRenderer };\r\n//#endregion\r\n//#region render: Reference\r\nvar OneReferenceTemplate = /** @class */ (function () {\r\n    function OneReferenceTemplate(container) {\r\n        this.label = new HighlightedLabel(container, false);\r\n    }\r\n    OneReferenceTemplate.prototype.set = function (element, score) {\r\n        var filePreview = element.parent.preview;\r\n        var preview = filePreview && filePreview.preview(element.range);\r\n        if (!preview) {\r\n            // this means we FAILED to resolve the document...\r\n            this.label.set(basename(element.uri) + \":\" + (element.range.startLineNumber + 1) + \":\" + (element.range.startColumn + 1));\r\n        }\r\n        else {\r\n            // render search match as highlight unless\r\n            // we have score, then render the score\r\n            var value = preview.value, highlight = preview.highlight;\r\n            if (score && !FuzzyScore.isDefault(score)) {\r\n                dom.toggleClass(this.label.element, 'referenceMatch', false);\r\n                this.label.set(value, createMatches(score));\r\n            }\r\n            else {\r\n                dom.toggleClass(this.label.element, 'referenceMatch', true);\r\n                this.label.set(value, [highlight]);\r\n            }\r\n        }\r\n    };\r\n    return OneReferenceTemplate;\r\n}());\r\nvar OneReferenceRenderer = /** @class */ (function () {\r\n    function OneReferenceRenderer() {\r\n        this.templateId = OneReferenceRenderer.id;\r\n    }\r\n    OneReferenceRenderer.prototype.renderTemplate = function (container) {\r\n        return new OneReferenceTemplate(container);\r\n    };\r\n    OneReferenceRenderer.prototype.renderElement = function (node, index, templateData) {\r\n        templateData.set(node.element, node.filterData);\r\n    };\r\n    OneReferenceRenderer.prototype.disposeTemplate = function () {\r\n    };\r\n    OneReferenceRenderer.id = 'OneReferenceRenderer';\r\n    return OneReferenceRenderer;\r\n}());\r\nexport { OneReferenceRenderer };\r\n//#endregion\r\nvar AriaProvider = /** @class */ (function () {\r\n    function AriaProvider() {\r\n    }\r\n    AriaProvider.prototype.getAriaLabel = function (element) {\r\n        return element.ariaMessage;\r\n    };\r\n    return AriaProvider;\r\n}());\r\nexport { AriaProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport './splitview.css';\r\nimport { toDisposable, Disposable, combinedDisposable } from '../../../common/lifecycle.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport * as types from '../../../common/types.js';\r\nimport * as dom from '../../dom.js';\r\nimport { clamp } from '../../../common/numbers.js';\r\nimport { range, firstIndex, pushToStart, pushToEnd } from '../../../common/arrays.js';\r\nimport { Sash } from '../sash/sash.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { domEvent } from '../../event.js';\r\nvar defaultStyles = {\r\n    separatorBorder: Color.transparent\r\n};\r\nvar ViewItem = /** @class */ (function () {\r\n    function ViewItem(container, view, size, disposable) {\r\n        this.container = container;\r\n        this.view = view;\r\n        this.disposable = disposable;\r\n        this._cachedVisibleSize = undefined;\r\n        if (typeof size === 'number') {\r\n            this._size = size;\r\n            this._cachedVisibleSize = undefined;\r\n            dom.addClass(container, 'visible');\r\n        }\r\n        else {\r\n            this._size = 0;\r\n            this._cachedVisibleSize = size.cachedVisibleSize;\r\n        }\r\n    }\r\n    Object.defineProperty(ViewItem.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        set: function (size) {\r\n            this._size = size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"visible\", {\r\n        get: function () {\r\n            return typeof this._cachedVisibleSize === 'undefined';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.setVisible = function (visible, size) {\r\n        if (visible === this.visible) {\r\n            return;\r\n        }\r\n        if (visible) {\r\n            this.size = clamp(this._cachedVisibleSize, this.viewMinimumSize, this.viewMaximumSize);\r\n            this._cachedVisibleSize = undefined;\r\n        }\r\n        else {\r\n            this._cachedVisibleSize = typeof size === 'number' ? size : this.size;\r\n            this.size = 0;\r\n        }\r\n        dom.toggleClass(this.container, 'visible', visible);\r\n        if (this.view.setVisible) {\r\n            this.view.setVisible(visible);\r\n        }\r\n    };\r\n    Object.defineProperty(ViewItem.prototype, \"minimumSize\", {\r\n        get: function () { return this.visible ? this.view.minimumSize : 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"viewMinimumSize\", {\r\n        get: function () { return this.view.minimumSize; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"maximumSize\", {\r\n        get: function () { return this.visible ? this.view.maximumSize : 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"viewMaximumSize\", {\r\n        get: function () { return this.view.maximumSize; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"priority\", {\r\n        get: function () { return this.view.priority; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"snap\", {\r\n        get: function () { return !!this.view.snap; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"enabled\", {\r\n        set: function (enabled) {\r\n            this.container.style.pointerEvents = enabled ? null : 'none';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.layout = function (offset, layoutContext) {\r\n        this.layoutContainer(offset);\r\n        this.view.layout(this.size, offset, layoutContext);\r\n    };\r\n    ViewItem.prototype.dispose = function () {\r\n        this.disposable.dispose();\r\n        return this.view;\r\n    };\r\n    return ViewItem;\r\n}());\r\nvar VerticalViewItem = /** @class */ (function (_super) {\r\n    __extends(VerticalViewItem, _super);\r\n    function VerticalViewItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    VerticalViewItem.prototype.layoutContainer = function (offset) {\r\n        this.container.style.top = offset + \"px\";\r\n        this.container.style.height = this.size + \"px\";\r\n    };\r\n    return VerticalViewItem;\r\n}(ViewItem));\r\nvar HorizontalViewItem = /** @class */ (function (_super) {\r\n    __extends(HorizontalViewItem, _super);\r\n    function HorizontalViewItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    HorizontalViewItem.prototype.layoutContainer = function (offset) {\r\n        this.container.style.left = offset + \"px\";\r\n        this.container.style.width = this.size + \"px\";\r\n    };\r\n    return HorizontalViewItem;\r\n}(ViewItem));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Idle\"] = 0] = \"Idle\";\r\n    State[State[\"Busy\"] = 1] = \"Busy\";\r\n})(State || (State = {}));\r\nexport var Sizing;\r\n(function (Sizing) {\r\n    Sizing.Distribute = { type: 'distribute' };\r\n    function Split(index) { return { type: 'split', index: index }; }\r\n    Sizing.Split = Split;\r\n    function Invisible(cachedVisibleSize) { return { type: 'invisible', cachedVisibleSize: cachedVisibleSize }; }\r\n    Sizing.Invisible = Invisible;\r\n})(Sizing || (Sizing = {}));\r\nvar SplitView = /** @class */ (function (_super) {\r\n    __extends(SplitView, _super);\r\n    function SplitView(container, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this.size = 0;\r\n        _this.contentSize = 0;\r\n        _this.proportions = undefined;\r\n        _this.viewItems = [];\r\n        _this.sashItems = [];\r\n        _this.state = State.Idle;\r\n        _this._onDidSashChange = _this._register(new Emitter());\r\n        _this.onDidSashChange = _this._onDidSashChange.event;\r\n        _this._onDidSashReset = _this._register(new Emitter());\r\n        _this._startSnappingEnabled = true;\r\n        _this._endSnappingEnabled = true;\r\n        _this.orientation = types.isUndefined(options.orientation) ? 0 /* VERTICAL */ : options.orientation;\r\n        _this.inverseAltBehavior = !!options.inverseAltBehavior;\r\n        _this.proportionalLayout = types.isUndefined(options.proportionalLayout) ? true : !!options.proportionalLayout;\r\n        _this.el = document.createElement('div');\r\n        dom.addClass(_this.el, 'monaco-split-view2');\r\n        dom.addClass(_this.el, _this.orientation === 0 /* VERTICAL */ ? 'vertical' : 'horizontal');\r\n        container.appendChild(_this.el);\r\n        _this.sashContainer = dom.append(_this.el, dom.$('.sash-container'));\r\n        _this.viewContainer = dom.append(_this.el, dom.$('.split-view-container'));\r\n        _this.style(options.styles || defaultStyles);\r\n        // We have an existing set of view, add them now\r\n        if (options.descriptor) {\r\n            _this.size = options.descriptor.size;\r\n            options.descriptor.views.forEach(function (viewDescriptor, index) {\r\n                var sizing = types.isUndefined(viewDescriptor.visible) || viewDescriptor.visible ? viewDescriptor.size : { type: 'invisible', cachedVisibleSize: viewDescriptor.size };\r\n                var view = viewDescriptor.view;\r\n                _this.doAddView(view, sizing, index, true);\r\n            });\r\n            // Initialize content size and proportions for first layout\r\n            _this.contentSize = _this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n            _this.saveProportions();\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SplitView.prototype, \"orthogonalStartSash\", {\r\n        get: function () { return this._orthogonalStartSash; },\r\n        set: function (sash) {\r\n            for (var _i = 0, _a = this.sashItems; _i < _a.length; _i++) {\r\n                var sashItem = _a[_i];\r\n                sashItem.sash.orthogonalStartSash = sash;\r\n            }\r\n            this._orthogonalStartSash = sash;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"orthogonalEndSash\", {\r\n        get: function () { return this._orthogonalEndSash; },\r\n        set: function (sash) {\r\n            for (var _i = 0, _a = this.sashItems; _i < _a.length; _i++) {\r\n                var sashItem = _a[_i];\r\n                sashItem.sash.orthogonalEndSash = sash;\r\n            }\r\n            this._orthogonalEndSash = sash;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"startSnappingEnabled\", {\r\n        get: function () { return this._startSnappingEnabled; },\r\n        set: function (startSnappingEnabled) {\r\n            if (this._startSnappingEnabled === startSnappingEnabled) {\r\n                return;\r\n            }\r\n            this._startSnappingEnabled = startSnappingEnabled;\r\n            this.updateSashEnablement();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"endSnappingEnabled\", {\r\n        get: function () { return this._endSnappingEnabled; },\r\n        set: function (endSnappingEnabled) {\r\n            if (this._endSnappingEnabled === endSnappingEnabled) {\r\n                return;\r\n            }\r\n            this._endSnappingEnabled = endSnappingEnabled;\r\n            this.updateSashEnablement();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SplitView.prototype.style = function (styles) {\r\n        if (styles.separatorBorder.isTransparent()) {\r\n            dom.removeClass(this.el, 'separator-border');\r\n            this.el.style.removeProperty('--separator-border');\r\n        }\r\n        else {\r\n            dom.addClass(this.el, 'separator-border');\r\n            this.el.style.setProperty('--separator-border', styles.separatorBorder.toString());\r\n        }\r\n    };\r\n    SplitView.prototype.addView = function (view, size, index) {\r\n        if (index === void 0) { index = this.viewItems.length; }\r\n        this.doAddView(view, size, index, false);\r\n    };\r\n    SplitView.prototype.layout = function (size, layoutContext) {\r\n        var _this = this;\r\n        var previousSize = Math.max(this.size, this.contentSize);\r\n        this.size = size;\r\n        this.layoutContext = layoutContext;\r\n        if (!this.proportions) {\r\n            var indexes = range(this.viewItems.length);\r\n            var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n            var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);\r\n        }\r\n        else {\r\n            for (var i = 0; i < this.viewItems.length; i++) {\r\n                var item = this.viewItems[i];\r\n                item.size = clamp(Math.round(this.proportions[i] * size), item.minimumSize, item.maximumSize);\r\n            }\r\n        }\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n    };\r\n    SplitView.prototype.saveProportions = function () {\r\n        var _this = this;\r\n        if (this.proportionalLayout && this.contentSize > 0) {\r\n            this.proportions = this.viewItems.map(function (i) { return i.size / _this.contentSize; });\r\n        }\r\n    };\r\n    SplitView.prototype.onSashStart = function (_a) {\r\n        var _this = this;\r\n        var sash = _a.sash, start = _a.start, alt = _a.alt;\r\n        for (var _i = 0, _b = this.viewItems; _i < _b.length; _i++) {\r\n            var item = _b[_i];\r\n            item.enabled = false;\r\n        }\r\n        var index = firstIndex(this.sashItems, function (item) { return item.sash === sash; });\r\n        // This way, we can press Alt while we resize a sash, macOS style!\r\n        var disposable = combinedDisposable(domEvent(document.body, 'keydown')(function (e) { return resetSashDragState(_this.sashDragState.current, e.altKey); }), domEvent(document.body, 'keyup')(function () { return resetSashDragState(_this.sashDragState.current, false); }));\r\n        var resetSashDragState = function (start, alt) {\r\n            var sizes = _this.viewItems.map(function (i) { return i.size; });\r\n            var minDelta = Number.NEGATIVE_INFINITY;\r\n            var maxDelta = Number.POSITIVE_INFINITY;\r\n            if (_this.inverseAltBehavior) {\r\n                alt = !alt;\r\n            }\r\n            if (alt) {\r\n                // When we're using the last sash with Alt, we're resizing\r\n                // the view to the left/up, instead of right/down as usual\r\n                // Thus, we must do the inverse of the usual\r\n                var isLastSash = index === _this.sashItems.length - 1;\r\n                if (isLastSash) {\r\n                    var viewItem = _this.viewItems[index];\r\n                    minDelta = (viewItem.minimumSize - viewItem.size) / 2;\r\n                    maxDelta = (viewItem.maximumSize - viewItem.size) / 2;\r\n                }\r\n                else {\r\n                    var viewItem = _this.viewItems[index + 1];\r\n                    minDelta = (viewItem.size - viewItem.maximumSize) / 2;\r\n                    maxDelta = (viewItem.size - viewItem.minimumSize) / 2;\r\n                }\r\n            }\r\n            var snapBefore;\r\n            var snapAfter;\r\n            if (!alt) {\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, _this.viewItems.length);\r\n                var minDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].minimumSize - sizes[i]); }, 0);\r\n                var maxDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].viewMaximumSize - sizes[i]); }, 0);\r\n                var maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].minimumSize); }, 0);\r\n                var minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].viewMaximumSize); }, 0);\r\n                var minDelta_1 = Math.max(minDeltaUp, minDeltaDown);\r\n                var maxDelta_1 = Math.min(maxDeltaDown, maxDeltaUp);\r\n                var snapBeforeIndex = _this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = _this.findFirstSnapIndex(downIndexes);\r\n                if (typeof snapBeforeIndex === 'number') {\r\n                    var viewItem = _this.viewItems[snapBeforeIndex];\r\n                    var halfSize = Math.floor(viewItem.viewMinimumSize / 2);\r\n                    snapBefore = {\r\n                        index: snapBeforeIndex,\r\n                        limitDelta: viewItem.visible ? minDelta_1 - halfSize : minDelta_1 + halfSize,\r\n                        size: viewItem.size\r\n                    };\r\n                }\r\n                if (typeof snapAfterIndex === 'number') {\r\n                    var viewItem = _this.viewItems[snapAfterIndex];\r\n                    var halfSize = Math.floor(viewItem.viewMinimumSize / 2);\r\n                    snapAfter = {\r\n                        index: snapAfterIndex,\r\n                        limitDelta: viewItem.visible ? maxDelta_1 + halfSize : maxDelta_1 - halfSize,\r\n                        size: viewItem.size\r\n                    };\r\n                }\r\n            }\r\n            _this.sashDragState = { start: start, current: start, index: index, sizes: sizes, minDelta: minDelta, maxDelta: maxDelta, alt: alt, snapBefore: snapBefore, snapAfter: snapAfter, disposable: disposable };\r\n        };\r\n        resetSashDragState(start, alt);\r\n    };\r\n    SplitView.prototype.onSashChange = function (_a) {\r\n        var current = _a.current;\r\n        var _b = this.sashDragState, index = _b.index, start = _b.start, sizes = _b.sizes, alt = _b.alt, minDelta = _b.minDelta, maxDelta = _b.maxDelta, snapBefore = _b.snapBefore, snapAfter = _b.snapAfter;\r\n        this.sashDragState.current = current;\r\n        var delta = current - start;\r\n        var newDelta = this.resize(index, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);\r\n        if (alt) {\r\n            var isLastSash = index === this.sashItems.length - 1;\r\n            var newSizes = this.viewItems.map(function (i) { return i.size; });\r\n            var viewItemIndex = isLastSash ? index : index + 1;\r\n            var viewItem = this.viewItems[viewItemIndex];\r\n            var newMinDelta = viewItem.size - viewItem.maximumSize;\r\n            var newMaxDelta = viewItem.size - viewItem.minimumSize;\r\n            var resizeIndex = isLastSash ? index - 1 : index + 1;\r\n            this.resize(resizeIndex, -newDelta, newSizes, undefined, undefined, newMinDelta, newMaxDelta);\r\n        }\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n    };\r\n    SplitView.prototype.onSashEnd = function (index) {\r\n        this._onDidSashChange.fire(index);\r\n        this.sashDragState.disposable.dispose();\r\n        this.saveProportions();\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            item.enabled = true;\r\n        }\r\n    };\r\n    SplitView.prototype.onViewChange = function (item, size) {\r\n        var index = this.viewItems.indexOf(item);\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return;\r\n        }\r\n        size = typeof size === 'number' ? size : item.size;\r\n        size = clamp(size, item.minimumSize, item.maximumSize);\r\n        if (this.inverseAltBehavior && index > 0) {\r\n            // In this case, we want the view to grow or shrink both sides equally\r\n            // so we just resize the \"left\" side by half and let `resize` do the clamping magic\r\n            this.resize(index - 1, Math.floor((item.size - size) / 2));\r\n            this.distributeEmptySpace();\r\n            this.layoutViews();\r\n        }\r\n        else {\r\n            item.size = size;\r\n            this.relayout([index], undefined);\r\n        }\r\n    };\r\n    SplitView.prototype.resizeView = function (index, size) {\r\n        var _this = this;\r\n        if (this.state !== State.Idle) {\r\n            throw new Error('Cant modify splitview');\r\n        }\r\n        this.state = State.Busy;\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return;\r\n        }\r\n        var indexes = range(this.viewItems.length).filter(function (i) { return i !== index; });\r\n        var lowPriorityIndexes = __spreadArrays(indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; }), [index]);\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        var item = this.viewItems[index];\r\n        size = Math.round(size);\r\n        size = clamp(size, item.minimumSize, Math.min(item.maximumSize, this.size));\r\n        item.size = size;\r\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\r\n        this.state = State.Idle;\r\n    };\r\n    SplitView.prototype.distributeViewSizes = function () {\r\n        var _this = this;\r\n        var flexibleViewItems = [];\r\n        var flexibleSize = 0;\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.maximumSize - item.minimumSize > 0) {\r\n                flexibleViewItems.push(item);\r\n                flexibleSize += item.size;\r\n            }\r\n        }\r\n        var size = Math.floor(flexibleSize / flexibleViewItems.length);\r\n        for (var _b = 0, flexibleViewItems_1 = flexibleViewItems; _b < flexibleViewItems_1.length; _b++) {\r\n            var item = flexibleViewItems_1[_b];\r\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\r\n        }\r\n        var indexes = range(this.viewItems.length);\r\n        var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\r\n    };\r\n    SplitView.prototype.getViewSize = function (index) {\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return -1;\r\n        }\r\n        return this.viewItems[index].size;\r\n    };\r\n    SplitView.prototype.doAddView = function (view, size, index, skipLayout) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.viewItems.length; }\r\n        if (this.state !== State.Idle) {\r\n            throw new Error('Cant modify splitview');\r\n        }\r\n        this.state = State.Busy;\r\n        // Add view\r\n        var container = dom.$('.split-view-view');\r\n        if (index === this.viewItems.length) {\r\n            this.viewContainer.appendChild(container);\r\n        }\r\n        else {\r\n            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));\r\n        }\r\n        var onChangeDisposable = view.onDidChange(function (size) { return _this.onViewChange(item, size); });\r\n        var containerDisposable = toDisposable(function () { return _this.viewContainer.removeChild(container); });\r\n        var disposable = combinedDisposable(onChangeDisposable, containerDisposable);\r\n        var viewSize;\r\n        if (typeof size === 'number') {\r\n            viewSize = size;\r\n        }\r\n        else if (size.type === 'split') {\r\n            viewSize = this.getViewSize(size.index) / 2;\r\n        }\r\n        else if (size.type === 'invisible') {\r\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\r\n        }\r\n        else {\r\n            viewSize = view.minimumSize;\r\n        }\r\n        var item = this.orientation === 0 /* VERTICAL */\r\n            ? new VerticalViewItem(container, view, viewSize, disposable)\r\n            : new HorizontalViewItem(container, view, viewSize, disposable);\r\n        this.viewItems.splice(index, 0, item);\r\n        // Add sash\r\n        if (this.viewItems.length > 1) {\r\n            var orientation_1 = this.orientation === 0 /* VERTICAL */ ? 1 /* HORIZONTAL */ : 0 /* VERTICAL */;\r\n            var layoutProvider = this.orientation === 0 /* VERTICAL */ ? { getHorizontalSashTop: function (sash) { return _this.getSashPosition(sash); } } : { getVerticalSashLeft: function (sash) { return _this.getSashPosition(sash); } };\r\n            var sash_1 = new Sash(this.sashContainer, layoutProvider, {\r\n                orientation: orientation_1,\r\n                orthogonalStartSash: this.orthogonalStartSash,\r\n                orthogonalEndSash: this.orthogonalEndSash\r\n            });\r\n            var sashEventMapper = this.orientation === 0 /* VERTICAL */\r\n                ? function (e) { return ({ sash: sash_1, start: e.startY, current: e.currentY, alt: e.altKey }); }\r\n                : function (e) { return ({ sash: sash_1, start: e.startX, current: e.currentX, alt: e.altKey }); };\r\n            var onStart = Event.map(sash_1.onDidStart, sashEventMapper);\r\n            var onStartDisposable = onStart(this.onSashStart, this);\r\n            var onChange = Event.map(sash_1.onDidChange, sashEventMapper);\r\n            var onChangeDisposable_1 = onChange(this.onSashChange, this);\r\n            var onEnd = Event.map(sash_1.onDidEnd, function () { return firstIndex(_this.sashItems, function (item) { return item.sash === sash_1; }); });\r\n            var onEndDisposable = onEnd(this.onSashEnd, this);\r\n            var onDidResetDisposable = sash_1.onDidReset(function () {\r\n                var index = firstIndex(_this.sashItems, function (item) { return item.sash === sash_1; });\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, _this.viewItems.length);\r\n                var snapBeforeIndex = _this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = _this.findFirstSnapIndex(downIndexes);\r\n                if (typeof snapBeforeIndex === 'number' && !_this.viewItems[snapBeforeIndex].visible) {\r\n                    return;\r\n                }\r\n                if (typeof snapAfterIndex === 'number' && !_this.viewItems[snapAfterIndex].visible) {\r\n                    return;\r\n                }\r\n                _this._onDidSashReset.fire(index);\r\n            });\r\n            var disposable_1 = combinedDisposable(onStartDisposable, onChangeDisposable_1, onEndDisposable, onDidResetDisposable, sash_1);\r\n            var sashItem = { sash: sash_1, disposable: disposable_1 };\r\n            this.sashItems.splice(index - 1, 0, sashItem);\r\n        }\r\n        container.appendChild(view.element);\r\n        var highPriorityIndexes;\r\n        if (typeof size !== 'number' && size.type === 'split') {\r\n            highPriorityIndexes = [size.index];\r\n        }\r\n        if (!skipLayout) {\r\n            this.relayout([index], highPriorityIndexes);\r\n        }\r\n        this.state = State.Idle;\r\n        if (!skipLayout && typeof size !== 'number' && size.type === 'distribute') {\r\n            this.distributeViewSizes();\r\n        }\r\n    };\r\n    SplitView.prototype.relayout = function (lowPriorityIndexes, highPriorityIndexes) {\r\n        var contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        this.resize(this.viewItems.length - 1, this.size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n        this.saveProportions();\r\n    };\r\n    SplitView.prototype.resize = function (index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta, snapBefore, snapAfter) {\r\n        var _this = this;\r\n        if (sizes === void 0) { sizes = this.viewItems.map(function (i) { return i.size; }); }\r\n        if (overloadMinDelta === void 0) { overloadMinDelta = Number.NEGATIVE_INFINITY; }\r\n        if (overloadMaxDelta === void 0) { overloadMaxDelta = Number.POSITIVE_INFINITY; }\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return 0;\r\n        }\r\n        var upIndexes = range(index, -1);\r\n        var downIndexes = range(index + 1, this.viewItems.length);\r\n        if (highPriorityIndexes) {\r\n            for (var _i = 0, highPriorityIndexes_1 = highPriorityIndexes; _i < highPriorityIndexes_1.length; _i++) {\r\n                var index_1 = highPriorityIndexes_1[_i];\r\n                pushToStart(upIndexes, index_1);\r\n                pushToStart(downIndexes, index_1);\r\n            }\r\n        }\r\n        if (lowPriorityIndexes) {\r\n            for (var _a = 0, lowPriorityIndexes_1 = lowPriorityIndexes; _a < lowPriorityIndexes_1.length; _a++) {\r\n                var index_2 = lowPriorityIndexes_1[_a];\r\n                pushToEnd(upIndexes, index_2);\r\n                pushToEnd(downIndexes, index_2);\r\n            }\r\n        }\r\n        var upItems = upIndexes.map(function (i) { return _this.viewItems[i]; });\r\n        var upSizes = upIndexes.map(function (i) { return sizes[i]; });\r\n        var downItems = downIndexes.map(function (i) { return _this.viewItems[i]; });\r\n        var downSizes = downIndexes.map(function (i) { return sizes[i]; });\r\n        var minDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].minimumSize - sizes[i]); }, 0);\r\n        var maxDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].maximumSize - sizes[i]); }, 0);\r\n        var maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].minimumSize); }, 0);\r\n        var minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].maximumSize); }, 0);\r\n        var minDelta = Math.max(minDeltaUp, minDeltaDown, overloadMinDelta);\r\n        var maxDelta = Math.min(maxDeltaDown, maxDeltaUp, overloadMaxDelta);\r\n        var snapped = false;\r\n        if (snapBefore) {\r\n            var snapView = this.viewItems[snapBefore.index];\r\n            var visible = delta >= snapBefore.limitDelta;\r\n            snapped = visible !== snapView.visible;\r\n            snapView.setVisible(visible, snapBefore.size);\r\n        }\r\n        if (!snapped && snapAfter) {\r\n            var snapView = this.viewItems[snapAfter.index];\r\n            var visible = delta < snapAfter.limitDelta;\r\n            snapped = visible !== snapView.visible;\r\n            snapView.setVisible(visible, snapAfter.size);\r\n        }\r\n        if (snapped) {\r\n            return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);\r\n        }\r\n        delta = clamp(delta, minDelta, maxDelta);\r\n        for (var i = 0, deltaUp = delta; i < upItems.length; i++) {\r\n            var item = upItems[i];\r\n            var size = clamp(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - upSizes[i];\r\n            deltaUp -= viewDelta;\r\n            item.size = size;\r\n        }\r\n        for (var i = 0, deltaDown = delta; i < downItems.length; i++) {\r\n            var item = downItems[i];\r\n            var size = clamp(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - downSizes[i];\r\n            deltaDown += viewDelta;\r\n            item.size = size;\r\n        }\r\n        return delta;\r\n    };\r\n    SplitView.prototype.distributeEmptySpace = function (lowPriorityIndex) {\r\n        var _this = this;\r\n        var contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        var emptyDelta = this.size - contentSize;\r\n        var indexes = range(this.viewItems.length - 1, -1);\r\n        var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        for (var _i = 0, highPriorityIndexes_2 = highPriorityIndexes; _i < highPriorityIndexes_2.length; _i++) {\r\n            var index = highPriorityIndexes_2[_i];\r\n            pushToStart(indexes, index);\r\n        }\r\n        for (var _a = 0, lowPriorityIndexes_2 = lowPriorityIndexes; _a < lowPriorityIndexes_2.length; _a++) {\r\n            var index = lowPriorityIndexes_2[_a];\r\n            pushToEnd(indexes, index);\r\n        }\r\n        if (typeof lowPriorityIndex === 'number') {\r\n            pushToEnd(indexes, lowPriorityIndex);\r\n        }\r\n        for (var i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\r\n            var item = this.viewItems[indexes[i]];\r\n            var size = clamp(item.size + emptyDelta, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - item.size;\r\n            emptyDelta -= viewDelta;\r\n            item.size = size;\r\n        }\r\n    };\r\n    SplitView.prototype.layoutViews = function () {\r\n        // Save new content size\r\n        this.contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        // Layout views\r\n        var offset = 0;\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var viewItem = _a[_i];\r\n            viewItem.layout(offset, this.layoutContext);\r\n            offset += viewItem.size;\r\n        }\r\n        // Layout sashes\r\n        this.sashItems.forEach(function (item) { return item.sash.layout(); });\r\n        this.updateSashEnablement();\r\n    };\r\n    SplitView.prototype.updateSashEnablement = function () {\r\n        var previous = false;\r\n        var collapsesDown = this.viewItems.map(function (i) { return previous = (i.size - i.minimumSize > 0) || previous; });\r\n        previous = false;\r\n        var expandsDown = this.viewItems.map(function (i) { return previous = (i.maximumSize - i.size > 0) || previous; });\r\n        var reverseViews = __spreadArrays(this.viewItems).reverse();\r\n        previous = false;\r\n        var collapsesUp = reverseViews.map(function (i) { return previous = (i.size - i.minimumSize > 0) || previous; }).reverse();\r\n        previous = false;\r\n        var expandsUp = reverseViews.map(function (i) { return previous = (i.maximumSize - i.size > 0) || previous; }).reverse();\r\n        var position = 0;\r\n        for (var index = 0; index < this.sashItems.length; index++) {\r\n            var sash = this.sashItems[index].sash;\r\n            var viewItem = this.viewItems[index];\r\n            position += viewItem.size;\r\n            var min = !(collapsesDown[index] && expandsUp[index + 1]);\r\n            var max = !(expandsDown[index] && collapsesUp[index + 1]);\r\n            if (min && max) {\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, this.viewItems.length);\r\n                var snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = this.findFirstSnapIndex(downIndexes);\r\n                var snappedBefore = typeof snapBeforeIndex === 'number' && !this.viewItems[snapBeforeIndex].visible;\r\n                var snappedAfter = typeof snapAfterIndex === 'number' && !this.viewItems[snapAfterIndex].visible;\r\n                if (snappedBefore && collapsesUp[index] && (position > 0 || this.startSnappingEnabled)) {\r\n                    sash.state = 1 /* Minimum */;\r\n                }\r\n                else if (snappedAfter && collapsesDown[index] && (position < this.contentSize || this.endSnappingEnabled)) {\r\n                    sash.state = 2 /* Maximum */;\r\n                }\r\n                else {\r\n                    sash.state = 0 /* Disabled */;\r\n                }\r\n            }\r\n            else if (min && !max) {\r\n                sash.state = 1 /* Minimum */;\r\n            }\r\n            else if (!min && max) {\r\n                sash.state = 2 /* Maximum */;\r\n            }\r\n            else {\r\n                sash.state = 3 /* Enabled */;\r\n            }\r\n        }\r\n    };\r\n    SplitView.prototype.getSashPosition = function (sash) {\r\n        var position = 0;\r\n        for (var i = 0; i < this.sashItems.length; i++) {\r\n            position += this.viewItems[i].size;\r\n            if (this.sashItems[i].sash === sash) {\r\n                return Math.min(position, this.contentSize - 2);\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    SplitView.prototype.findFirstSnapIndex = function (indexes) {\r\n        // visible views first\r\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\r\n            var index = indexes_1[_i];\r\n            var viewItem = this.viewItems[index];\r\n            if (!viewItem.visible) {\r\n                continue;\r\n            }\r\n            if (viewItem.snap) {\r\n                return index;\r\n            }\r\n        }\r\n        // then, hidden views\r\n        for (var _a = 0, indexes_2 = indexes; _a < indexes_2.length; _a++) {\r\n            var index = indexes_2[_a];\r\n            var viewItem = this.viewItems[index];\r\n            if (viewItem.visible && viewItem.maximumSize - viewItem.minimumSize > 0) {\r\n                return undefined;\r\n            }\r\n            if (!viewItem.visible && viewItem.snap) {\r\n                return index;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    SplitView.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.viewItems.forEach(function (i) { return i.dispose(); });\r\n        this.viewItems = [];\r\n        this.sashItems.forEach(function (i) { return i.disposable.dispose(); });\r\n        this.sashItems = [];\r\n    };\r\n    return SplitView;\r\n}(Disposable));\r\nexport { SplitView };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './countBadge.css';\r\nimport { $, append } from '../../dom.js';\r\nimport { format } from '../../../common/strings.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nvar defaultOpts = {\r\n    badgeBackground: Color.fromHex('#4D4D4D'),\r\n    badgeForeground: Color.fromHex('#FFFFFF')\r\n};\r\nvar CountBadge = /** @class */ (function () {\r\n    function CountBadge(container, options) {\r\n        this.count = 0;\r\n        this.options = options || Object.create(null);\r\n        mixin(this.options, defaultOpts, false);\r\n        this.badgeBackground = this.options.badgeBackground;\r\n        this.badgeForeground = this.options.badgeForeground;\r\n        this.badgeBorder = this.options.badgeBorder;\r\n        this.element = append(container, $('.monaco-count-badge'));\r\n        this.countFormat = this.options.countFormat || '{0}';\r\n        this.titleFormat = this.options.titleFormat || '';\r\n        this.setCount(this.options.count || 0);\r\n    }\r\n    CountBadge.prototype.setCount = function (count) {\r\n        this.count = count;\r\n        this.render();\r\n    };\r\n    CountBadge.prototype.setTitleFormat = function (titleFormat) {\r\n        this.titleFormat = titleFormat;\r\n        this.render();\r\n    };\r\n    CountBadge.prototype.render = function () {\r\n        this.element.textContent = format(this.countFormat, this.count);\r\n        this.element.title = format(this.titleFormat, this.count);\r\n        this.applyStyles();\r\n    };\r\n    CountBadge.prototype.style = function (styles) {\r\n        this.badgeBackground = styles.badgeBackground;\r\n        this.badgeForeground = styles.badgeForeground;\r\n        this.badgeBorder = styles.badgeBorder;\r\n        this.applyStyles();\r\n    };\r\n    CountBadge.prototype.applyStyles = function () {\r\n        if (this.element) {\r\n            var background = this.badgeBackground ? this.badgeBackground.toString() : '';\r\n            var foreground = this.badgeForeground ? this.badgeForeground.toString() : '';\r\n            var border = this.badgeBorder ? this.badgeBorder.toString() : '';\r\n            this.element.style.backgroundColor = background;\r\n            this.element.style.color = foreground;\r\n            this.element.style.borderWidth = border ? '1px' : '';\r\n            this.element.style.borderStyle = border ? 'solid' : '';\r\n            this.element.style.borderColor = border;\r\n        }\r\n    };\r\n    return CountBadge;\r\n}());\r\nexport { CountBadge };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './referencesWidget.css';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { Color } from '../../../../base/common/color.js';\r\nimport { Emitter, Event } from '../../../../base/common/event.js';\r\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { Schemas } from '../../../../base/common/network.js';\r\nimport { basenameOrAuthority, dirname, isEqual } from '../../../../base/common/resources.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { ModelDecorationOptions, TextModel } from '../../../common/model/textModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { AriaProvider, DataSource, Delegate, FileReferencesRenderer, OneReferenceRenderer, StringRepresentationProvider, IdentityProvider } from './referencesTree.js';\r\nimport * as nls from '../../../../nls.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\r\nimport { activeContrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport * as peekView from '../../peekView/peekView.js';\r\nimport { FileReferences, OneReference } from '../referencesModel.js';\r\nimport { SplitView, Sizing } from '../../../../base/browser/ui/splitview/splitview.js';\r\nvar DecorationsManager = /** @class */ (function () {\r\n    function DecorationsManager(_editor, _model) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._model = _model;\r\n        this._decorations = new Map();\r\n        this._decorationIgnoreSet = new Set();\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModelChange = new DisposableStore();\r\n        this._callOnDispose.add(this._editor.onDidChangeModel(function () { return _this._onModelChanged(); }));\r\n        this._onModelChanged();\r\n    }\r\n    DecorationsManager.prototype.dispose = function () {\r\n        this._callOnModelChange.dispose();\r\n        this._callOnDispose.dispose();\r\n        this.removeDecorations();\r\n    };\r\n    DecorationsManager.prototype._onModelChanged = function () {\r\n        this._callOnModelChange.clear();\r\n        var model = this._editor.getModel();\r\n        if (model) {\r\n            for (var _i = 0, _a = this._model.groups; _i < _a.length; _i++) {\r\n                var ref = _a[_i];\r\n                if (isEqual(ref.uri, model.uri)) {\r\n                    this._addDecorations(ref);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DecorationsManager.prototype._addDecorations = function (reference) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function (event) { return _this._onDecorationChanged(); }));\r\n        var newDecorations = [];\r\n        var newDecorationsActualIndex = [];\r\n        for (var i = 0, len = reference.children.length; i < len; i++) {\r\n            var oneReference = reference.children[i];\r\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\r\n                continue;\r\n            }\r\n            newDecorations.push({\r\n                range: oneReference.range,\r\n                options: DecorationsManager.DecorationOptions\r\n            });\r\n            newDecorationsActualIndex.push(i);\r\n        }\r\n        var decorations = this._editor.deltaDecorations([], newDecorations);\r\n        for (var i = 0; i < decorations.length; i++) {\r\n            this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\r\n        }\r\n    };\r\n    DecorationsManager.prototype._onDecorationChanged = function () {\r\n        var _this = this;\r\n        var toRemove = [];\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        this._decorations.forEach(function (reference, decorationId) {\r\n            var newRange = model.getDecorationRange(decorationId);\r\n            if (!newRange) {\r\n                return;\r\n            }\r\n            var ignore = false;\r\n            if (Range.equalsRange(newRange, reference.range)) {\r\n                return;\r\n            }\r\n            else if (Range.spansMultipleLines(newRange)) {\r\n                ignore = true;\r\n            }\r\n            else {\r\n                var lineLength = reference.range.endColumn - reference.range.startColumn;\r\n                var newLineLength = newRange.endColumn - newRange.startColumn;\r\n                if (lineLength !== newLineLength) {\r\n                    ignore = true;\r\n                }\r\n            }\r\n            if (ignore) {\r\n                _this._decorationIgnoreSet.add(reference.id);\r\n                toRemove.push(decorationId);\r\n            }\r\n            else {\r\n                reference.range = newRange;\r\n            }\r\n        });\r\n        for (var i = 0, len = toRemove.length; i < len; i++) {\r\n            this._decorations.delete(toRemove[i]);\r\n        }\r\n        this._editor.deltaDecorations(toRemove, []);\r\n    };\r\n    DecorationsManager.prototype.removeDecorations = function () {\r\n        var toRemove = [];\r\n        this._decorations.forEach(function (value, key) {\r\n            toRemove.push(key);\r\n        });\r\n        this._editor.deltaDecorations(toRemove, []);\r\n        this._decorations.clear();\r\n    };\r\n    DecorationsManager.DecorationOptions = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'reference-decoration'\r\n    });\r\n    return DecorationsManager;\r\n}());\r\nvar LayoutData = /** @class */ (function () {\r\n    function LayoutData() {\r\n        this.ratio = 0.7;\r\n        this.heightInLines = 18;\r\n    }\r\n    LayoutData.fromJSON = function (raw) {\r\n        var ratio;\r\n        var heightInLines;\r\n        try {\r\n            var data = JSON.parse(raw);\r\n            ratio = data.ratio;\r\n            heightInLines = data.heightInLines;\r\n        }\r\n        catch (_a) {\r\n            //\r\n        }\r\n        return {\r\n            ratio: ratio || 0.7,\r\n            heightInLines: heightInLines || 18\r\n        };\r\n    };\r\n    return LayoutData;\r\n}());\r\nexport { LayoutData };\r\n/**\r\n * ZoneWidget that is shown inside the editor\r\n */\r\nvar ReferenceWidget = /** @class */ (function (_super) {\r\n    __extends(ReferenceWidget, _super);\r\n    function ReferenceWidget(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel) {\r\n        var _this = _super.call(this, editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true }) || this;\r\n        _this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\r\n        _this.layoutData = layoutData;\r\n        _this._textModelResolverService = _textModelResolverService;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._peekViewService = _peekViewService;\r\n        _this._uriLabel = _uriLabel;\r\n        _this._disposeOnNewModel = new DisposableStore();\r\n        _this._callOnDispose = new DisposableStore();\r\n        _this._onDidSelectReference = new Emitter();\r\n        _this.onDidSelectReference = _this._onDidSelectReference.event;\r\n        _this._dim = { height: 0, width: 0 };\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._callOnDispose.add(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this._peekViewService.addExclusiveWidget(editor, _this);\r\n        _this.create();\r\n        return _this;\r\n    }\r\n    ReferenceWidget.prototype.dispose = function () {\r\n        this.setModel(undefined);\r\n        this._callOnDispose.dispose();\r\n        this._disposeOnNewModel.dispose();\r\n        dispose(this._preview);\r\n        dispose(this._previewNotAvailableMessage);\r\n        dispose(this._tree);\r\n        dispose(this._previewModelReference);\r\n        this._splitView.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ReferenceWidget.prototype._applyTheme = function (theme) {\r\n        var borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\r\n        this.style({\r\n            arrowColor: borderColor,\r\n            frameColor: borderColor,\r\n            headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\r\n            primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\r\n            secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.show = function (where) {\r\n        this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */);\r\n        _super.prototype.show.call(this, where, this.layoutData.heightInLines || 18);\r\n    };\r\n    ReferenceWidget.prototype.focusOnReferenceTree = function () {\r\n        this._tree.domFocus();\r\n    };\r\n    ReferenceWidget.prototype.focusOnPreviewEditor = function () {\r\n        this._preview.focus();\r\n    };\r\n    ReferenceWidget.prototype.isPreviewEditorFocused = function () {\r\n        return this._preview.hasTextFocus();\r\n    };\r\n    ReferenceWidget.prototype._onTitleClick = function (e) {\r\n        if (this._preview && this._preview.getModel()) {\r\n            this._onDidSelectReference.fire({\r\n                element: this._getFocusedReference(),\r\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\r\n                source: 'title'\r\n            });\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._fillBody = function (containerElement) {\r\n        var _this = this;\r\n        this.setCssClass('reference-zone-widget');\r\n        // message pane\r\n        this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\r\n        dom.hide(this._messageContainer);\r\n        this._splitView = new SplitView(containerElement, { orientation: 1 /* HORIZONTAL */ });\r\n        // editor\r\n        this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\r\n        var options = {\r\n            scrollBeyondLastLine: false,\r\n            scrollbar: {\r\n                verticalScrollbarSize: 14,\r\n                horizontal: 'auto',\r\n                useShadows: true,\r\n                verticalHasArrows: false,\r\n                horizontalHasArrows: false,\r\n                alwaysConsumeMouseWheel: false\r\n            },\r\n            overviewRulerLanes: 2,\r\n            fixedOverflowWidgets: true,\r\n            minimap: {\r\n                enabled: false\r\n            }\r\n        };\r\n        this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, this.editor);\r\n        dom.hide(this._previewContainer);\r\n        this._previewNotAvailableMessage = TextModel.createFromString(nls.localize('missingPreviewMessage', \"no preview available\"));\r\n        // tree\r\n        this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\r\n        var treeOptions = {\r\n            ariaLabel: nls.localize('treeAriaLabel', \"References\"),\r\n            keyboardSupport: this._defaultTreeKeyboardSupport,\r\n            accessibilityProvider: new AriaProvider(),\r\n            keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\r\n            identityProvider: new IdentityProvider(),\r\n            overrideStyles: {\r\n                listBackground: peekView.peekViewResultsBackground\r\n            }\r\n        };\r\n        this._tree = this._instantiationService.createInstance(WorkbenchAsyncDataTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [\r\n            this._instantiationService.createInstance(FileReferencesRenderer),\r\n            this._instantiationService.createInstance(OneReferenceRenderer),\r\n        ], this._instantiationService.createInstance(DataSource), treeOptions);\r\n        // split stuff\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._previewContainer,\r\n            minimumSize: 200,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._preview.layout({ height: _this._dim.height, width: width });\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._treeContainer,\r\n            minimumSize: 100,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._treeContainer.style.height = _this._dim.height + \"px\";\r\n                _this._treeContainer.style.width = width + \"px\";\r\n                _this._tree.layout(_this._dim.height, width);\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._disposables.add(this._splitView.onDidSashChange(function () {\r\n            if (_this._dim.width) {\r\n                _this.layoutData.ratio = _this._splitView.getViewSize(0) / _this._dim.width;\r\n            }\r\n        }, undefined));\r\n        // listen on selection and focus\r\n        var onEvent = function (element, kind) {\r\n            if (element instanceof OneReference) {\r\n                if (kind === 'show') {\r\n                    _this._revealReference(element, false);\r\n                }\r\n                _this._onDidSelectReference.fire({ element: element, kind: kind, source: 'tree' });\r\n            }\r\n        };\r\n        this._tree.onDidChangeFocus(function (e) {\r\n            onEvent(e.elements[0], 'show');\r\n        });\r\n        this._tree.onDidOpen(function (e) {\r\n            if (e.browserEvent instanceof MouseEvent && (e.browserEvent.ctrlKey || e.browserEvent.metaKey || e.browserEvent.altKey)) {\r\n                // modifier-click -> open to the side\r\n                onEvent(e.elements[0], 'side');\r\n            }\r\n            else if (e.browserEvent instanceof KeyboardEvent || (e.browserEvent instanceof MouseEvent && e.browserEvent.detail === 2) || e.browserEvent.tapCount === 2) {\r\n                // keybinding (list service command)\r\n                // OR double click\r\n                // OR double tap\r\n                // -> close widget and goto target\r\n                onEvent(e.elements[0], 'goto');\r\n            }\r\n            else {\r\n                // preview location\r\n                onEvent(e.elements[0], 'show');\r\n            }\r\n        });\r\n        dom.hide(this._treeContainer);\r\n    };\r\n    ReferenceWidget.prototype._onWidth = function (width) {\r\n        if (this._dim) {\r\n            this._doLayoutBody(this._dim.height, width);\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\r\n        this._dim = { height: heightInPixel, width: widthInPixel };\r\n        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\r\n        this._splitView.layout(widthInPixel);\r\n        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\r\n    };\r\n    ReferenceWidget.prototype.setSelection = function (selection) {\r\n        var _this = this;\r\n        return this._revealReference(selection, true).then(function () {\r\n            if (!_this._model) {\r\n                // disposed\r\n                return;\r\n            }\r\n            // show in tree\r\n            _this._tree.setSelection([selection]);\r\n            _this._tree.setFocus([selection]);\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.setModel = function (newModel) {\r\n        // clean up\r\n        this._disposeOnNewModel.clear();\r\n        this._model = newModel;\r\n        if (this._model) {\r\n            return this._onNewModel();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    ReferenceWidget.prototype._onNewModel = function () {\r\n        var _this = this;\r\n        if (!this._model) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        if (this._model.isEmpty) {\r\n            this.setTitle('');\r\n            this._messageContainer.innerHTML = nls.localize('noResults', \"No results\");\r\n            dom.show(this._messageContainer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        dom.hide(this._messageContainer);\r\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\r\n        this._disposeOnNewModel.add(this._decorationsManager);\r\n        // listen on model changes\r\n        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function (reference) { return _this._tree.rerender(reference); }));\r\n        // listen on editor\r\n        this._disposeOnNewModel.add(this._preview.onMouseDown(function (e) {\r\n            var event = e.event, target = e.target;\r\n            if (event.detail !== 2) {\r\n                return;\r\n            }\r\n            var element = _this._getFocusedReference();\r\n            if (!element) {\r\n                return;\r\n            }\r\n            _this._onDidSelectReference.fire({\r\n                element: { uri: element.uri, range: target.range },\r\n                kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\r\n                source: 'editor'\r\n            });\r\n        }));\r\n        // make sure things are rendered\r\n        dom.addClass(this.container, 'results-loaded');\r\n        dom.show(this._treeContainer);\r\n        dom.show(this._previewContainer);\r\n        this._splitView.layout(this._dim.width);\r\n        this.focusOnReferenceTree();\r\n        // pick input and a reference to begin with\r\n        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\r\n    };\r\n    ReferenceWidget.prototype._getFocusedReference = function () {\r\n        var element = this._tree.getFocus()[0];\r\n        if (element instanceof OneReference) {\r\n            return element;\r\n        }\r\n        else if (element instanceof FileReferences) {\r\n            if (element.children.length > 0) {\r\n                return element.children[0];\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferenceWidget.prototype._revealReference = function (reference, revealParent) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promise, ref, model, scrollType, sel;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // check if there is anything to do...\r\n                        if (this._revealedReference === reference) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        this._revealedReference = reference;\r\n                        // Update widget header\r\n                        if (reference.uri.scheme !== Schemas.inMemory) {\r\n                            this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\r\n                        }\r\n                        else {\r\n                            this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\r\n                        }\r\n                        promise = this._textModelResolverService.createModelReference(reference.uri);\r\n                        if (!(this._tree.getInput() === reference.parent)) return [3 /*break*/, 1];\r\n                        this._tree.reveal(reference);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        if (revealParent) {\r\n                            this._tree.reveal(reference.parent);\r\n                        }\r\n                        return [4 /*yield*/, this._tree.expand(reference.parent)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this._tree.reveal(reference);\r\n                        _a.label = 3;\r\n                    case 3: return [4 /*yield*/, promise];\r\n                    case 4:\r\n                        ref = _a.sent();\r\n                        if (!this._model) {\r\n                            // disposed\r\n                            ref.dispose();\r\n                            return [2 /*return*/];\r\n                        }\r\n                        dispose(this._previewModelReference);\r\n                        model = ref.object;\r\n                        if (model) {\r\n                            scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* Smooth */ : 1 /* Immediate */;\r\n                            sel = Range.lift(reference.range).collapseToStart();\r\n                            this._previewModelReference = ref;\r\n                            this._preview.setModel(model.textEditorModel);\r\n                            this._preview.setSelection(sel);\r\n                            this._preview.revealRangeInCenter(sel, scrollType);\r\n                        }\r\n                        else {\r\n                            this._preview.setModel(this._previewNotAvailableMessage);\r\n                            ref.dispose();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ReferenceWidget = __decorate([\r\n        __param(3, IThemeService),\r\n        __param(4, ITextModelService),\r\n        __param(5, IInstantiationService),\r\n        __param(6, peekView.IPeekViewService),\r\n        __param(7, ILabelService)\r\n    ], ReferenceWidget);\r\n    return ReferenceWidget;\r\n}(peekView.PeekViewWidget));\r\nexport { ReferenceWidget };\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var findMatchHighlightColor = theme.getColor(peekView.peekViewResultsMatchHighlight);\r\n    if (findMatchHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: \" + findMatchHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightColor = theme.getColor(peekView.peekViewEditorMatchHighlight);\r\n    if (referenceHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: \" + referenceHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightBorder = theme.getColor(peekView.peekViewEditorMatchHighlightBorder);\r\n    if (referenceHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid \" + referenceHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var hcOutline = theme.getColor(activeContrastBorder);\r\n    if (hcOutline) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted \" + hcOutline + \"; box-sizing: border-box; }\");\r\n    }\r\n    var resultsBackground = theme.getColor(peekView.peekViewResultsBackground);\r\n    if (resultsBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { background-color: \" + resultsBackground + \"; }\");\r\n    }\r\n    var resultsMatchForeground = theme.getColor(peekView.peekViewResultsMatchForeground);\r\n    if (resultsMatchForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { color: \" + resultsMatchForeground + \"; }\");\r\n    }\r\n    var resultsFileForeground = theme.getColor(peekView.peekViewResultsFileForeground);\r\n    if (resultsFileForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: \" + resultsFileForeground + \"; }\");\r\n    }\r\n    var resultsSelectedBackground = theme.getColor(peekView.peekViewResultsSelectionBackground);\r\n    if (resultsSelectedBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: \" + resultsSelectedBackground + \"; }\");\r\n    }\r\n    var resultsSelectedForeground = theme.getColor(peekView.peekViewResultsSelectionForeground);\r\n    if (resultsSelectedForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: \" + resultsSelectedForeground + \" !important; }\");\r\n    }\r\n    var editorBackground = theme.getColor(peekView.peekViewEditorBackground);\r\n    if (editorBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\" +\r\n            \".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\" +\r\n            (\"\\tbackground-color: \" + editorBackground + \";\") +\r\n            \"}\");\r\n    }\r\n    var editorGutterBackground = theme.getColor(peekView.peekViewEditorGutterBackground);\r\n    if (editorGutterBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\" +\r\n            (\"\\tbackground-color: \" + editorGutterBackground + \";\") +\r\n            \"}\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../../nls.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IContextKeyService, RawContextKey, ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\r\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\r\nimport { OneReference } from '../referencesModel.js';\r\nimport { ReferenceWidget, LayoutData } from './referencesWidget.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\r\nimport { createCancelablePromise } from '../../../../base/common/async.js';\r\nimport { getOuterEditor, PeekContext } from '../../peekView/peekView.js';\r\nimport { IListService, WorkbenchListFocusContextKey } from '../../../../platform/list/browser/listService.js';\r\nimport { KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\r\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\r\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\r\nexport var ctxReferenceSearchVisible = new RawContextKey('referenceSearchVisible', false);\r\nvar ReferencesController = /** @class */ (function () {\r\n    function ReferencesController(_defaultTreeKeyboardSupport, _editor, contextKeyService, _editorService, _notificationService, _instantiationService, _storageService, _configurationService) {\r\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\r\n        this._editor = _editor;\r\n        this._editorService = _editorService;\r\n        this._notificationService = _notificationService;\r\n        this._instantiationService = _instantiationService;\r\n        this._storageService = _storageService;\r\n        this._configurationService = _configurationService;\r\n        this._disposables = new DisposableStore();\r\n        this._requestIdPool = 0;\r\n        this._ignoreModelChangeEvent = false;\r\n        this._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\r\n    }\r\n    ReferencesController.get = function (editor) {\r\n        return editor.getContribution(ReferencesController.ID);\r\n    };\r\n    ReferencesController.prototype.dispose = function () {\r\n        this._referenceSearchVisible.reset();\r\n        this._disposables.dispose();\r\n        dispose(this._widget);\r\n        dispose(this._model);\r\n        this._widget = undefined;\r\n        this._model = undefined;\r\n    };\r\n    ReferencesController.prototype.toggleWidget = function (range, modelPromise, peekMode) {\r\n        var _this = this;\r\n        // close current widget and return early is position didn't change\r\n        var widgetPosition;\r\n        if (this._widget) {\r\n            widgetPosition = this._widget.position;\r\n        }\r\n        this.closeWidget();\r\n        if (!!widgetPosition && range.containsPosition(widgetPosition)) {\r\n            return;\r\n        }\r\n        this._peekMode = peekMode;\r\n        this._referenceSearchVisible.set(true);\r\n        // close the widget on model/mode changes\r\n        this._disposables.add(this._editor.onDidChangeModelLanguage(function () { _this.closeWidget(); }));\r\n        this._disposables.add(this._editor.onDidChangeModel(function () {\r\n            if (!_this._ignoreModelChangeEvent) {\r\n                _this.closeWidget();\r\n            }\r\n        }));\r\n        var storageKey = 'peekViewLayout';\r\n        var data = LayoutData.fromJSON(this._storageService.get(storageKey, 0 /* GLOBAL */, '{}'));\r\n        this._widget = this._instantiationService.createInstance(ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);\r\n        this._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\r\n        this._widget.show(range);\r\n        this._disposables.add(this._widget.onDidClose(function () {\r\n            modelPromise.cancel();\r\n            if (_this._widget) {\r\n                _this._storageService.store(storageKey, JSON.stringify(_this._widget.layoutData), 0 /* GLOBAL */);\r\n                _this._widget = undefined;\r\n            }\r\n            _this.closeWidget();\r\n        }));\r\n        this._disposables.add(this._widget.onDidSelectReference(function (event) {\r\n            var element = event.element, kind = event.kind;\r\n            if (!element) {\r\n                return;\r\n            }\r\n            switch (kind) {\r\n                case 'open':\r\n                    if (event.source !== 'editor' || !_this._configurationService.getValue('editor.stablePeek')) {\r\n                        // when stable peek is configured we don't close\r\n                        // the peek window on selecting the editor\r\n                        _this.openReference(element, false);\r\n                    }\r\n                    break;\r\n                case 'side':\r\n                    _this.openReference(element, true);\r\n                    break;\r\n                case 'goto':\r\n                    if (peekMode) {\r\n                        _this._gotoReference(element);\r\n                    }\r\n                    else {\r\n                        _this.openReference(element, false);\r\n                    }\r\n                    break;\r\n            }\r\n        }));\r\n        var requestId = ++this._requestIdPool;\r\n        modelPromise.then(function (model) {\r\n            // still current request? widget still open?\r\n            if (requestId !== _this._requestIdPool || !_this._widget) {\r\n                return undefined;\r\n            }\r\n            if (_this._model) {\r\n                _this._model.dispose();\r\n            }\r\n            _this._model = model;\r\n            // show widget\r\n            return _this._widget.setModel(_this._model).then(function () {\r\n                if (_this._widget && _this._model && _this._editor.hasModel()) { // might have been closed\r\n                    // set title\r\n                    if (!_this._model.isEmpty) {\r\n                        _this._widget.setMetaTitle(nls.localize('metaTitle.N', \"{0} ({1})\", _this._model.title, _this._model.references.length));\r\n                    }\r\n                    else {\r\n                        _this._widget.setMetaTitle('');\r\n                    }\r\n                    // set 'best' selection\r\n                    var uri = _this._editor.getModel().uri;\r\n                    var pos = new Position(range.startLineNumber, range.startColumn);\r\n                    var selection = _this._model.nearestReference(uri, pos);\r\n                    if (selection) {\r\n                        return _this._widget.setSelection(selection).then(function () {\r\n                            if (_this._widget && _this._editor.getOption(65 /* peekWidgetDefaultFocus */) === 'editor') {\r\n                                _this._widget.focusOnPreviewEditor();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                return undefined;\r\n            });\r\n        }, function (error) {\r\n            _this._notificationService.error(error);\r\n        });\r\n    };\r\n    ReferencesController.prototype.changeFocusBetweenPreviewAndReferences = function () {\r\n        if (!this._widget) {\r\n            // can be called while still resolving...\r\n            return;\r\n        }\r\n        if (this._widget.isPreviewEditorFocused()) {\r\n            this._widget.focusOnReferenceTree();\r\n        }\r\n        else {\r\n            this._widget.focusOnPreviewEditor();\r\n        }\r\n    };\r\n    ReferencesController.prototype.goToNextOrPreviousReference = function (fwd) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var currentPosition, source, target, editorFocus, previewEditorFocus;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._editor.hasModel() || !this._model || !this._widget) {\r\n                            // can be called while still resolving...\r\n                            return [2 /*return*/];\r\n                        }\r\n                        currentPosition = this._widget.position;\r\n                        if (!currentPosition) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);\r\n                        if (!source) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        target = this._model.nextOrPreviousReference(source, fwd);\r\n                        editorFocus = this._editor.hasTextFocus();\r\n                        previewEditorFocus = this._widget.isPreviewEditorFocused();\r\n                        return [4 /*yield*/, this._widget.setSelection(target)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this._gotoReference(target)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        if (editorFocus) {\r\n                            this._editor.focus();\r\n                        }\r\n                        else if (this._widget && previewEditorFocus) {\r\n                            this._widget.focusOnPreviewEditor();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ReferencesController.prototype.closeWidget = function (focusEditor) {\r\n        if (focusEditor === void 0) { focusEditor = true; }\r\n        this._referenceSearchVisible.reset();\r\n        this._disposables.clear();\r\n        dispose(this._widget);\r\n        dispose(this._model);\r\n        this._widget = undefined;\r\n        this._model = undefined;\r\n        if (focusEditor) {\r\n            this._editor.focus();\r\n        }\r\n        this._requestIdPool += 1; // Cancel pending requests\r\n    };\r\n    ReferencesController.prototype._gotoReference = function (ref) {\r\n        var _this = this;\r\n        if (this._widget) {\r\n            this._widget.hide();\r\n        }\r\n        this._ignoreModelChangeEvent = true;\r\n        var range = Range.lift(ref.range).collapseToStart();\r\n        return this._editorService.openCodeEditor({\r\n            resource: ref.uri,\r\n            options: { selection: range }\r\n        }, this._editor).then(function (openedEditor) {\r\n            var _a;\r\n            _this._ignoreModelChangeEvent = false;\r\n            if (!openedEditor || !_this._widget) {\r\n                // something went wrong...\r\n                _this.closeWidget();\r\n                return;\r\n            }\r\n            if (_this._editor === openedEditor) {\r\n                //\r\n                _this._widget.show(range);\r\n                _this._widget.focusOnReferenceTree();\r\n            }\r\n            else {\r\n                // we opened a different editor instance which means a different controller instance.\r\n                // therefore we stop with this controller and continue with the other\r\n                var other = ReferencesController.get(openedEditor);\r\n                var model_1 = _this._model.clone();\r\n                _this.closeWidget();\r\n                openedEditor.focus();\r\n                other.toggleWidget(range, createCancelablePromise(function (_) { return Promise.resolve(model_1); }), (_a = _this._peekMode) !== null && _a !== void 0 ? _a : false);\r\n            }\r\n        }, function (err) {\r\n            _this._ignoreModelChangeEvent = false;\r\n            onUnexpectedError(err);\r\n        });\r\n    };\r\n    ReferencesController.prototype.openReference = function (ref, sideBySide) {\r\n        // clear stage\r\n        if (!sideBySide) {\r\n            this.closeWidget();\r\n        }\r\n        var uri = ref.uri, range = ref.range;\r\n        this._editorService.openCodeEditor({\r\n            resource: uri,\r\n            options: { selection: range }\r\n        }, this._editor, sideBySide);\r\n    };\r\n    ReferencesController.ID = 'editor.contrib.referencesController';\r\n    ReferencesController = __decorate([\r\n        __param(2, IContextKeyService),\r\n        __param(3, ICodeEditorService),\r\n        __param(4, INotificationService),\r\n        __param(5, IInstantiationService),\r\n        __param(6, IStorageService),\r\n        __param(7, IConfigurationService)\r\n    ], ReferencesController);\r\n    return ReferencesController;\r\n}());\r\nexport { ReferencesController };\r\nfunction withController(accessor, fn) {\r\n    var outerEditor = getOuterEditor(accessor);\r\n    if (!outerEditor) {\r\n        return;\r\n    }\r\n    var controller = ReferencesController.get(outerEditor);\r\n    if (controller) {\r\n        fn(controller);\r\n    }\r\n}\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'togglePeekWidgetFocus',\r\n    weight: 100 /* EditorContrib */,\r\n    primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 60 /* F2 */),\r\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.changeFocusBetweenPreviewAndReferences();\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToNextReference',\r\n    weight: 100 /* EditorContrib */ - 10,\r\n    primary: 62 /* F4 */,\r\n    secondary: [70 /* F12 */],\r\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(true);\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToPreviousReference',\r\n    weight: 100 /* EditorContrib */ - 10,\r\n    primary: 1024 /* Shift */ | 62 /* F4 */,\r\n    secondary: [1024 /* Shift */ | 70 /* F12 */],\r\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(false);\r\n        });\r\n    }\r\n});\r\n// commands that aren't needed anymore because there is now ContextKeyExpr.OR\r\nCommandsRegistry.registerCommandAlias('goToNextReferenceFromEmbeddedEditor', 'goToNextReference');\r\nCommandsRegistry.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor', 'goToPreviousReference');\r\n// close\r\nCommandsRegistry.registerCommandAlias('closeReferenceSearchEditor', 'closeReferenceSearch');\r\nCommandsRegistry.registerCommand('closeReferenceSearch', function (accessor) { return withController(accessor, function (controller) { return controller.closeWidget(); }); });\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'closeReferenceSearch',\r\n    weight: 100 /* EditorContrib */ - 101,\r\n    primary: 9 /* Escape */,\r\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\r\n    when: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek'))\r\n});\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'closeReferenceSearch',\r\n    weight: 200 /* WorkbenchContrib */ + 50,\r\n    primary: 9 /* Escape */,\r\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\r\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ContextKeyExpr.not('config.editor.stablePeek'))\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'openReferenceToSide',\r\n    weight: 100 /* EditorContrib */,\r\n    primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n    mac: {\r\n        primary: 256 /* WinCtrl */ | 3 /* Enter */\r\n    },\r\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey),\r\n    handler: function (accessor) {\r\n        var _a;\r\n        var listService = accessor.get(IListService);\r\n        var focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\r\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\r\n            withController(accessor, function (controller) { return controller.openReference(focus[0], true); });\r\n        }\r\n    }\r\n});\r\nCommandsRegistry.registerCommand('openReference', function (accessor) {\r\n    var _a;\r\n    var listService = accessor.get(IListService);\r\n    var focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\r\n    if (Array.isArray(focus) && focus[0] instanceof OneReference) {\r\n        withController(accessor, function (controller) { return controller.openReference(focus[0], false); });\r\n    }\r\n});\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initVimMode = initVimMode;\nObject.defineProperty(exports, \"VimMode\", {\n  enumerable: true,\n  get: function get() {\n    return _keymap_vim[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"StatusBar\", {\n  enumerable: true,\n  get: function get() {\n    return _statusbar[\"default\"];\n  }\n});\n\nvar _keymap_vim = _interopRequireDefault(require(\"./cm/keymap_vim\"));\n\nvar _statusbar = _interopRequireDefault(require(\"./statusbar\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction initVimMode(editor) {\n  var statusbarNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var StatusBarClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _statusbar[\"default\"];\n  var sanitizer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var vimAdapter = new _keymap_vim[\"default\"](editor);\n\n  if (!statusbarNode) {\n    vimAdapter.attach();\n    return vimAdapter;\n  }\n\n  var statusBar = new StatusBarClass(statusbarNode, editor, sanitizer);\n  var keyBuffer = '';\n  vimAdapter.on('vim-mode-change', function (mode) {\n    statusBar.setMode(mode);\n  });\n  vimAdapter.on('vim-keypress', function (key) {\n    if (key === ':') {\n      keyBuffer = '';\n    } else {\n      keyBuffer += key;\n    }\n\n    statusBar.setKeyBuffer(keyBuffer);\n  });\n  vimAdapter.on('vim-command-done', function () {\n    keyBuffer = '';\n    statusBar.setKeyBuffer(keyBuffer);\n  });\n  vimAdapter.on('dispose', function () {\n    statusBar.toggleVisibility(false);\n    statusBar.closeInput();\n    statusBar.clear();\n  });\n  statusBar.toggleVisibility(true);\n  vimAdapter.setStatusBar(statusBar);\n  vimAdapter.attach();\n  return vimAdapter;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.Vim = void 0;\n\nvar _cm_adapter = _interopRequireDefault(require(\"../cm_adapter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar defaultKeymap = [// Key to key mapping. This goes first to make it possible to override\n// existing mappings.\n{\n  keys: '<Left>',\n  type: 'keyToKey',\n  toKeys: 'h'\n}, {\n  keys: '<Right>',\n  type: 'keyToKey',\n  toKeys: 'l'\n}, {\n  keys: '<Up>',\n  type: 'keyToKey',\n  toKeys: 'k'\n}, {\n  keys: '<Down>',\n  type: 'keyToKey',\n  toKeys: 'j'\n}, {\n  keys: '<Space>',\n  type: 'keyToKey',\n  toKeys: 'l'\n}, {\n  keys: '<BS>',\n  type: 'keyToKey',\n  toKeys: 'h',\n  context: 'normal'\n}, {\n  keys: '<C-Space>',\n  type: 'keyToKey',\n  toKeys: 'W'\n}, {\n  keys: '<C-BS>',\n  type: 'keyToKey',\n  toKeys: 'B',\n  context: 'normal'\n}, {\n  keys: '<S-Space>',\n  type: 'keyToKey',\n  toKeys: 'w'\n}, {\n  keys: '<S-BS>',\n  type: 'keyToKey',\n  toKeys: 'b',\n  context: 'normal'\n}, {\n  keys: '<C-n>',\n  type: 'keyToKey',\n  toKeys: 'j'\n}, {\n  keys: '<C-p>',\n  type: 'keyToKey',\n  toKeys: 'k'\n}, {\n  keys: '<C-[>',\n  type: 'keyToKey',\n  toKeys: '<Esc>'\n}, {\n  keys: '<C-c>',\n  type: 'keyToKey',\n  toKeys: '<Esc>'\n}, {\n  keys: '<C-[>',\n  type: 'keyToKey',\n  toKeys: '<Esc>',\n  context: 'insert'\n}, {\n  keys: '<C-c>',\n  type: 'keyToKey',\n  toKeys: '<Esc>',\n  context: 'insert'\n}, {\n  keys: 's',\n  type: 'keyToKey',\n  toKeys: 'cl',\n  context: 'normal'\n}, {\n  keys: 's',\n  type: 'keyToKey',\n  toKeys: 'c',\n  context: 'visual'\n}, {\n  keys: 'S',\n  type: 'keyToKey',\n  toKeys: 'cc',\n  context: 'normal'\n}, {\n  keys: 'S',\n  type: 'keyToKey',\n  toKeys: 'VdO',\n  context: 'visual'\n}, {\n  keys: '<Home>',\n  type: 'keyToKey',\n  toKeys: '0'\n}, {\n  keys: '<End>',\n  type: 'keyToKey',\n  toKeys: '$'\n}, {\n  keys: '<PageUp>',\n  type: 'keyToKey',\n  toKeys: '<C-b>'\n}, {\n  keys: '<PageDown>',\n  type: 'keyToKey',\n  toKeys: '<C-f>'\n}, {\n  keys: '<CR>',\n  type: 'keyToKey',\n  toKeys: 'j^',\n  context: 'normal'\n}, {\n  keys: '<CR>',\n  type: 'keyToKey',\n  toKeys: 'j^',\n  context: 'visual'\n}, {\n  keys: '<Ins>',\n  type: 'action',\n  action: 'toggleOverwrite',\n  context: 'insert'\n}, // Motions\n{\n  keys: 'H',\n  type: 'motion',\n  motion: 'moveToTopLine',\n  motionArgs: {\n    linewise: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'M',\n  type: 'motion',\n  motion: 'moveToMiddleLine',\n  motionArgs: {\n    linewise: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'L',\n  type: 'motion',\n  motion: 'moveToBottomLine',\n  motionArgs: {\n    linewise: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'h',\n  type: 'motion',\n  motion: 'moveByCharacters',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: 'l',\n  type: 'motion',\n  motion: 'moveByCharacters',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: 'j',\n  type: 'motion',\n  motion: 'moveByLines',\n  motionArgs: {\n    forward: true,\n    linewise: true\n  }\n}, {\n  keys: 'k',\n  type: 'motion',\n  motion: 'moveByLines',\n  motionArgs: {\n    forward: false,\n    linewise: true\n  }\n}, {\n  keys: 'gj',\n  type: 'motion',\n  motion: 'moveByDisplayLines',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: 'gk',\n  type: 'motion',\n  motion: 'moveByDisplayLines',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: 'w',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: true,\n    wordEnd: false\n  }\n}, {\n  keys: 'W',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: true,\n    wordEnd: false,\n    bigWord: true\n  }\n}, {\n  keys: 'e',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: true,\n    wordEnd: true,\n    inclusive: true\n  }\n}, {\n  keys: 'E',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: true,\n    wordEnd: true,\n    bigWord: true,\n    inclusive: true\n  }\n}, {\n  keys: 'b',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: false,\n    wordEnd: false\n  }\n}, {\n  keys: 'B',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: false,\n    wordEnd: false,\n    bigWord: true\n  }\n}, {\n  keys: 'ge',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: false,\n    wordEnd: true,\n    inclusive: true\n  }\n}, {\n  keys: 'gE',\n  type: 'motion',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: false,\n    wordEnd: true,\n    bigWord: true,\n    inclusive: true\n  }\n}, {\n  keys: '{',\n  type: 'motion',\n  motion: 'moveByParagraph',\n  motionArgs: {\n    forward: false,\n    toJumplist: true\n  }\n}, {\n  keys: '}',\n  type: 'motion',\n  motion: 'moveByParagraph',\n  motionArgs: {\n    forward: true,\n    toJumplist: true\n  }\n}, {\n  keys: '(',\n  type: 'motion',\n  motion: 'moveBySentence',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: ')',\n  type: 'motion',\n  motion: 'moveBySentence',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: '<C-f>',\n  type: 'motion',\n  motion: 'moveByPage',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: '<C-b>',\n  type: 'motion',\n  motion: 'moveByPage',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: '<C-d>',\n  type: 'motion',\n  motion: 'moveByScroll',\n  motionArgs: {\n    forward: true,\n    explicitRepeat: true\n  }\n}, {\n  keys: '<C-u>',\n  type: 'motion',\n  motion: 'moveByScroll',\n  motionArgs: {\n    forward: false,\n    explicitRepeat: true\n  }\n}, {\n  keys: 'gg',\n  type: 'motion',\n  motion: 'moveToLineOrEdgeOfDocument',\n  motionArgs: {\n    forward: false,\n    explicitRepeat: true,\n    linewise: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'G',\n  type: 'motion',\n  motion: 'moveToLineOrEdgeOfDocument',\n  motionArgs: {\n    forward: true,\n    explicitRepeat: true,\n    linewise: true,\n    toJumplist: true\n  }\n}, {\n  keys: '0',\n  type: 'motion',\n  motion: 'moveToStartOfLine'\n}, {\n  keys: '^',\n  type: 'motion',\n  motion: 'moveToFirstNonWhiteSpaceCharacter'\n}, {\n  keys: '+',\n  type: 'motion',\n  motion: 'moveByLines',\n  motionArgs: {\n    forward: true,\n    toFirstChar: true\n  }\n}, {\n  keys: '-',\n  type: 'motion',\n  motion: 'moveByLines',\n  motionArgs: {\n    forward: false,\n    toFirstChar: true\n  }\n}, {\n  keys: '_',\n  type: 'motion',\n  motion: 'moveByLines',\n  motionArgs: {\n    forward: true,\n    toFirstChar: true,\n    repeatOffset: -1\n  }\n}, {\n  keys: '$',\n  type: 'motion',\n  motion: 'moveToEol',\n  motionArgs: {\n    inclusive: true\n  }\n}, {\n  keys: '%',\n  type: 'motion',\n  motion: 'moveToMatchedSymbol',\n  motionArgs: {\n    inclusive: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'f<character>',\n  type: 'motion',\n  motion: 'moveToCharacter',\n  motionArgs: {\n    forward: true,\n    inclusive: true\n  }\n}, {\n  keys: 'F<character>',\n  type: 'motion',\n  motion: 'moveToCharacter',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: 't<character>',\n  type: 'motion',\n  motion: 'moveTillCharacter',\n  motionArgs: {\n    forward: true,\n    inclusive: true\n  }\n}, {\n  keys: 'T<character>',\n  type: 'motion',\n  motion: 'moveTillCharacter',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: ';',\n  type: 'motion',\n  motion: 'repeatLastCharacterSearch',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: ',',\n  type: 'motion',\n  motion: 'repeatLastCharacterSearch',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: '\\'<character>',\n  type: 'motion',\n  motion: 'goToMark',\n  motionArgs: {\n    toJumplist: true,\n    linewise: true\n  }\n}, {\n  keys: '`<character>',\n  type: 'motion',\n  motion: 'goToMark',\n  motionArgs: {\n    toJumplist: true\n  }\n}, {\n  keys: ']`',\n  type: 'motion',\n  motion: 'jumpToMark',\n  motionArgs: {\n    forward: true\n  }\n}, {\n  keys: '[`',\n  type: 'motion',\n  motion: 'jumpToMark',\n  motionArgs: {\n    forward: false\n  }\n}, {\n  keys: ']\\'',\n  type: 'motion',\n  motion: 'jumpToMark',\n  motionArgs: {\n    forward: true,\n    linewise: true\n  }\n}, {\n  keys: '[\\'',\n  type: 'motion',\n  motion: 'jumpToMark',\n  motionArgs: {\n    forward: false,\n    linewise: true\n  }\n}, // the next two aren't motions but must come before more general motion declarations\n{\n  keys: ']p',\n  type: 'action',\n  action: 'paste',\n  isEdit: true,\n  actionArgs: {\n    after: true,\n    isEdit: true,\n    matchIndent: true\n  }\n}, {\n  keys: '[p',\n  type: 'action',\n  action: 'paste',\n  isEdit: true,\n  actionArgs: {\n    after: false,\n    isEdit: true,\n    matchIndent: true\n  }\n}, {\n  keys: ']<character>',\n  type: 'motion',\n  motion: 'moveToSymbol',\n  motionArgs: {\n    forward: true,\n    toJumplist: true\n  }\n}, {\n  keys: '[<character>',\n  type: 'motion',\n  motion: 'moveToSymbol',\n  motionArgs: {\n    forward: false,\n    toJumplist: true\n  }\n}, {\n  keys: '|',\n  type: 'motion',\n  motion: 'moveToColumn'\n}, {\n  keys: 'o',\n  type: 'motion',\n  motion: 'moveToOtherHighlightedEnd',\n  context: 'visual'\n}, {\n  keys: 'O',\n  type: 'motion',\n  motion: 'moveToOtherHighlightedEnd',\n  motionArgs: {\n    sameLine: true\n  },\n  context: 'visual'\n}, // Operators\n{\n  keys: 'd',\n  type: 'operator',\n  operator: 'delete'\n}, {\n  keys: 'y',\n  type: 'operator',\n  operator: 'yank'\n}, {\n  keys: 'c',\n  type: 'operator',\n  operator: 'change'\n}, {\n  keys: '>',\n  type: 'operator',\n  operator: 'indent',\n  operatorArgs: {\n    indentRight: true\n  }\n}, {\n  keys: '<',\n  type: 'operator',\n  operator: 'indent',\n  operatorArgs: {\n    indentRight: false\n  }\n}, {\n  keys: 'g~',\n  type: 'operator',\n  operator: 'changeCase'\n}, {\n  keys: 'gu',\n  type: 'operator',\n  operator: 'changeCase',\n  operatorArgs: {\n    toLower: true\n  },\n  isEdit: true\n}, {\n  keys: 'gU',\n  type: 'operator',\n  operator: 'changeCase',\n  operatorArgs: {\n    toLower: false\n  },\n  isEdit: true\n}, {\n  keys: 'n',\n  type: 'motion',\n  motion: 'findNext',\n  motionArgs: {\n    forward: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'N',\n  type: 'motion',\n  motion: 'findNext',\n  motionArgs: {\n    forward: false,\n    toJumplist: true\n  }\n}, // Operator-Motion dual commands\n{\n  keys: 'x',\n  type: 'operatorMotion',\n  operator: 'delete',\n  motion: 'moveByCharacters',\n  motionArgs: {\n    forward: true\n  },\n  operatorMotionArgs: {\n    visualLine: false\n  }\n}, {\n  keys: 'X',\n  type: 'operatorMotion',\n  operator: 'delete',\n  motion: 'moveByCharacters',\n  motionArgs: {\n    forward: false\n  },\n  operatorMotionArgs: {\n    visualLine: true\n  }\n}, {\n  keys: 'D',\n  type: 'operatorMotion',\n  operator: 'delete',\n  motion: 'moveToEol',\n  motionArgs: {\n    inclusive: true\n  },\n  context: 'normal'\n}, {\n  keys: 'D',\n  type: 'operator',\n  operator: 'delete',\n  operatorArgs: {\n    linewise: true\n  },\n  context: 'visual'\n}, {\n  keys: 'Y',\n  type: 'operatorMotion',\n  operator: 'yank',\n  motion: 'expandToLine',\n  motionArgs: {\n    linewise: true\n  },\n  context: 'normal'\n}, {\n  keys: 'Y',\n  type: 'operator',\n  operator: 'yank',\n  operatorArgs: {\n    linewise: true\n  },\n  context: 'visual'\n}, {\n  keys: 'C',\n  type: 'operatorMotion',\n  operator: 'change',\n  motion: 'moveToEol',\n  motionArgs: {\n    inclusive: true\n  },\n  context: 'normal'\n}, {\n  keys: 'C',\n  type: 'operator',\n  operator: 'change',\n  operatorArgs: {\n    linewise: true\n  },\n  context: 'visual'\n}, {\n  keys: '~',\n  type: 'operatorMotion',\n  operator: 'changeCase',\n  motion: 'moveByCharacters',\n  motionArgs: {\n    forward: true\n  },\n  operatorArgs: {\n    shouldMoveCursor: true\n  },\n  context: 'normal'\n}, {\n  keys: '~',\n  type: 'operator',\n  operator: 'changeCase',\n  context: 'visual'\n}, {\n  keys: '<C-w>',\n  type: 'operatorMotion',\n  operator: 'delete',\n  motion: 'moveByWords',\n  motionArgs: {\n    forward: false,\n    wordEnd: false\n  },\n  context: 'insert'\n}, // Actions\n{\n  keys: '<C-i>',\n  type: 'action',\n  action: 'jumpListWalk',\n  actionArgs: {\n    forward: true\n  }\n}, {\n  keys: '<C-o>',\n  type: 'action',\n  action: 'jumpListWalk',\n  actionArgs: {\n    forward: false\n  }\n}, {\n  keys: '<C-e>',\n  type: 'action',\n  action: 'scroll',\n  actionArgs: {\n    forward: true,\n    linewise: true\n  }\n}, {\n  keys: '<C-y>',\n  type: 'action',\n  action: 'scroll',\n  actionArgs: {\n    forward: false,\n    linewise: true\n  }\n}, {\n  keys: 'a',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'charAfter'\n  },\n  context: 'normal'\n}, {\n  keys: 'A',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'eol'\n  },\n  context: 'normal'\n}, {\n  keys: 'A',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'endOfSelectedArea'\n  },\n  context: 'visual'\n}, {\n  keys: 'i',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'inplace'\n  },\n  context: 'normal'\n}, {\n  keys: 'I',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'firstNonBlank'\n  },\n  context: 'normal'\n}, {\n  keys: 'I',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    insertAt: 'startOfSelectedArea'\n  },\n  context: 'visual'\n}, {\n  keys: 'o',\n  type: 'action',\n  action: 'newLineAndEnterInsertMode',\n  isEdit: true,\n  interlaceInsertRepeat: true,\n  actionArgs: {\n    after: true\n  },\n  context: 'normal'\n}, {\n  keys: 'O',\n  type: 'action',\n  action: 'newLineAndEnterInsertMode',\n  isEdit: true,\n  interlaceInsertRepeat: true,\n  actionArgs: {\n    after: false\n  },\n  context: 'normal'\n}, {\n  keys: 'v',\n  type: 'action',\n  action: 'toggleVisualMode'\n}, {\n  keys: 'V',\n  type: 'action',\n  action: 'toggleVisualMode',\n  actionArgs: {\n    linewise: true\n  }\n}, {\n  keys: '<C-v>',\n  type: 'action',\n  action: 'toggleVisualMode',\n  actionArgs: {\n    blockwise: true\n  }\n}, {\n  keys: '<C-q>',\n  type: 'action',\n  action: 'toggleVisualMode',\n  actionArgs: {\n    blockwise: true\n  }\n}, {\n  keys: 'gv',\n  type: 'action',\n  action: 'reselectLastSelection'\n}, {\n  keys: 'J',\n  type: 'action',\n  action: 'joinLines',\n  isEdit: true\n}, {\n  keys: 'p',\n  type: 'action',\n  action: 'paste',\n  isEdit: true,\n  actionArgs: {\n    after: true,\n    isEdit: true\n  }\n}, {\n  keys: 'P',\n  type: 'action',\n  action: 'paste',\n  isEdit: true,\n  actionArgs: {\n    after: false,\n    isEdit: true\n  }\n}, {\n  keys: 'r<character>',\n  type: 'action',\n  action: 'replace',\n  isEdit: true\n}, {\n  keys: '@<character>',\n  type: 'action',\n  action: 'replayMacro'\n}, {\n  keys: 'q<character>',\n  type: 'action',\n  action: 'enterMacroRecordMode'\n}, // Handle Replace-mode as a special case of insert mode.\n{\n  keys: 'R',\n  type: 'action',\n  action: 'enterInsertMode',\n  isEdit: true,\n  actionArgs: {\n    replace: true\n  }\n}, {\n  keys: 'u',\n  type: 'action',\n  action: 'undo',\n  context: 'normal'\n}, {\n  keys: 'u',\n  type: 'operator',\n  operator: 'changeCase',\n  operatorArgs: {\n    toLower: true\n  },\n  context: 'visual',\n  isEdit: true\n}, {\n  keys: 'U',\n  type: 'operator',\n  operator: 'changeCase',\n  operatorArgs: {\n    toLower: false\n  },\n  context: 'visual',\n  isEdit: true\n}, {\n  keys: '<C-r>',\n  type: 'action',\n  action: 'redo'\n}, {\n  keys: 'm<character>',\n  type: 'action',\n  action: 'setMark'\n}, {\n  keys: '\"<character>',\n  type: 'action',\n  action: 'setRegister'\n}, {\n  keys: 'zz',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'center'\n  }\n}, {\n  keys: 'z.',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'center'\n  },\n  motion: 'moveToFirstNonWhiteSpaceCharacter'\n}, {\n  keys: 'zt',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'top'\n  }\n}, {\n  keys: 'z<CR>',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'top'\n  },\n  motion: 'moveToFirstNonWhiteSpaceCharacter'\n}, {\n  keys: 'z-',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'bottom'\n  }\n}, {\n  keys: 'zb',\n  type: 'action',\n  action: 'scrollToCursor',\n  actionArgs: {\n    position: 'bottom'\n  },\n  motion: 'moveToFirstNonWhiteSpaceCharacter'\n}, {\n  keys: '.',\n  type: 'action',\n  action: 'repeatLastEdit'\n}, {\n  keys: '<C-a>',\n  type: 'action',\n  action: 'incrementNumberToken',\n  isEdit: true,\n  actionArgs: {\n    increase: true,\n    backtrack: false\n  }\n}, {\n  keys: '<C-x>',\n  type: 'action',\n  action: 'incrementNumberToken',\n  isEdit: true,\n  actionArgs: {\n    increase: false,\n    backtrack: false\n  }\n}, {\n  keys: '<C-t>',\n  type: 'action',\n  action: 'indent',\n  actionArgs: {\n    indentRight: true\n  },\n  context: 'insert'\n}, {\n  keys: '<C-d>',\n  type: 'action',\n  action: 'indent',\n  actionArgs: {\n    indentRight: false\n  },\n  context: 'insert'\n}, // Text object motions\n{\n  keys: 'a<character>',\n  type: 'motion',\n  motion: 'textObjectManipulation'\n}, {\n  keys: 'i<character>',\n  type: 'motion',\n  motion: 'textObjectManipulation',\n  motionArgs: {\n    textObjectInner: true\n  }\n}, // Search\n{\n  keys: '/',\n  type: 'search',\n  searchArgs: {\n    forward: true,\n    querySrc: 'prompt',\n    toJumplist: true\n  }\n}, {\n  keys: '?',\n  type: 'search',\n  searchArgs: {\n    forward: false,\n    querySrc: 'prompt',\n    toJumplist: true\n  }\n}, {\n  keys: '*',\n  type: 'search',\n  searchArgs: {\n    forward: true,\n    querySrc: 'wordUnderCursor',\n    wholeWordOnly: true,\n    toJumplist: true\n  }\n}, {\n  keys: '#',\n  type: 'search',\n  searchArgs: {\n    forward: false,\n    querySrc: 'wordUnderCursor',\n    wholeWordOnly: true,\n    toJumplist: true\n  }\n}, {\n  keys: 'g*',\n  type: 'search',\n  searchArgs: {\n    forward: true,\n    querySrc: 'wordUnderCursor',\n    toJumplist: true\n  }\n}, {\n  keys: 'g#',\n  type: 'search',\n  searchArgs: {\n    forward: false,\n    querySrc: 'wordUnderCursor',\n    toJumplist: true\n  }\n}, // Ex command\n{\n  keys: ':',\n  type: 'ex'\n}];\n/**\n * Ex commands\n * Care must be taken when adding to the default Ex command map. For any\n * pair of commands that have a shared prefix, at least one of their\n * shortNames must not match the prefix of the other command.\n */\n\nvar defaultExCommandMap = [{\n  name: 'colorscheme',\n  shortName: 'colo'\n}, {\n  name: 'map'\n}, {\n  name: 'imap',\n  shortName: 'im'\n}, {\n  name: 'nmap',\n  shortName: 'nm'\n}, {\n  name: 'vmap',\n  shortName: 'vm'\n}, {\n  name: 'unmap'\n}, {\n  name: 'write',\n  shortName: 'w'\n}, {\n  name: 'undo',\n  shortName: 'u'\n}, {\n  name: 'redo',\n  shortName: 'red'\n}, {\n  name: 'set',\n  shortName: 'se'\n}, {\n  name: 'set',\n  shortName: 'se'\n}, {\n  name: 'setlocal',\n  shortName: 'setl'\n}, {\n  name: 'setglobal',\n  shortName: 'setg'\n}, {\n  name: 'sort',\n  shortName: 'sor'\n}, {\n  name: 'substitute',\n  shortName: 's',\n  possiblyAsync: true\n}, {\n  name: 'nohlsearch',\n  shortName: 'noh'\n}, {\n  name: 'yank',\n  shortName: 'y'\n}, {\n  name: 'delmarks',\n  shortName: 'delm'\n}, {\n  name: 'registers',\n  shortName: 'reg',\n  excludeFromCommandHistory: true\n}, {\n  name: 'global',\n  shortName: 'g'\n}];\nvar Pos = _cm_adapter[\"default\"].Pos;\n\nvar Vim = function Vim() {\n  function enterVimMode(cm) {\n    cm.setOption('disableInput', true);\n    cm.setOption('showCursorWhenSelecting', false);\n\n    _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n      mode: \"normal\"\n    });\n\n    cm.on('cursorActivity', onCursorActivity);\n    maybeInitVimState(cm); // CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));\n\n    cm.enterVimMode();\n  }\n\n  function leaveVimMode(cm) {\n    cm.setOption('disableInput', false);\n    cm.off('cursorActivity', onCursorActivity); // CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));\n\n    cm.state.vim = null;\n    cm.leaveVimMode();\n  }\n\n  function detachVimMap(cm, next) {\n    cm.attached = false;\n\n    if (this == _cm_adapter[\"default\"].keyMap.vim) {\n      _cm_adapter[\"default\"].rmClass(cm.getWrapperElement(), \"cm-fat-cursor\"); // if (cm.getOption(\"inputStyle\") == \"contenteditable\" && document.body.style.caretColor != null) {\n      //   disableFatCursorMark(cm);\n      //   cm.getInputField().style.caretColor = \"\";\n      // }\n\n    }\n\n    if (!next || next.attach != attachVimMap) leaveVimMode(cm);\n  }\n\n  function attachVimMap(cm, prev) {\n    if (this == _cm_adapter[\"default\"].keyMap.vim) {\n      cm.attached = true;\n    }\n\n    if (!prev || prev.attach != attachVimMap) enterVimMode(cm);\n  }\n\n  function fatCursorMarks(cm) {\n    var ranges = cm.listSelections(),\n        result = [];\n\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n\n      if (range.empty()) {\n        if (range.anchor.ch < cm.getLine(range.anchor.line).length) {\n          result.push(cm.markText(range.anchor, Pos(range.anchor.line, range.anchor.ch + 1), {\n            className: \"cm-fat-cursor-mark\"\n          }));\n        } else {\n          var widget = document.createElement(\"span\");\n          widget.textContent = \"\\xA0\";\n          widget.className = \"cm-fat-cursor-mark\";\n          result.push(cm.setBookmark(range.anchor, {\n            widget: widget\n          }));\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function updateFatCursorMark(cm) {\n    var marks = cm.state.fatCursorMarks;\n    if (marks) for (var i = 0; i < marks.length; i++) {\n      marks[i].clear();\n    }\n    cm.state.fatCursorMarks = fatCursorMarks(cm);\n  }\n\n  function enableFatCursorMark(cm) {\n    cm.state.fatCursorMarks = fatCursorMarks(cm);\n    cm.on(\"cursorActivity\", updateFatCursorMark);\n  }\n\n  function disableFatCursorMark(cm) {\n    var marks = cm.state.fatCursorMarks;\n    if (marks) for (var i = 0; i < marks.length; i++) {\n      marks[i].clear();\n    }\n    cm.state.fatCursorMarks = null;\n    cm.off(\"cursorActivity\", updateFatCursorMark);\n  } // Deprecated, simply setting the keymap works again.\n\n\n  _cm_adapter[\"default\"].defineOption('vimMode', false, function (cm, val, prev) {\n    if (val && cm.getOption(\"keyMap\") != \"vim\") cm.setOption(\"keyMap\", \"vim\");else if (!val && prev != _cm_adapter[\"default\"].Init && /^vim/.test(cm.getOption(\"keyMap\"))) cm.setOption(\"keyMap\", \"default\");\n  });\n\n  function cmKey(key, cm) {\n    if (!cm) {\n      return undefined;\n    }\n\n    if (this[key]) {\n      return this[key];\n    }\n\n    var vimKey = cmKeyToVimKey(key);\n\n    if (!vimKey) {\n      return false;\n    }\n\n    var cmd = _cm_adapter[\"default\"].Vim.findKey(cm, vimKey);\n\n    if (typeof cmd == 'function') {\n      _cm_adapter[\"default\"].signal(cm, 'vim-keypress', vimKey);\n    }\n\n    return cmd;\n  }\n\n  var modifiers = {\n    'Shift': 'S',\n    'Ctrl': 'C',\n    'Alt': 'A',\n    'Cmd': 'D',\n    'Mod': 'A'\n  };\n  var specialKeys = {\n    Enter: 'CR',\n    Backspace: 'BS',\n    Delete: 'Del',\n    Insert: 'Ins'\n  };\n\n  function cmKeyToVimKey(key) {\n    if (key.charAt(0) == '\\'') {\n      // Keypress character binding of format \"'a'\"\n      return key.charAt(1);\n    }\n\n    var pieces = key.split(/-(?!$)/);\n    var lastPiece = pieces[pieces.length - 1];\n\n    if (pieces.length == 1 && pieces[0].length == 1) {\n      // No-modifier bindings use literal character bindings above. Skip.\n      return false;\n    } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {\n      // Ignore Shift+char bindings as they should be handled by literal character.\n      return false;\n    }\n\n    var hasCharacter = false;\n\n    for (var i = 0; i < pieces.length; i++) {\n      var piece = pieces[i];\n\n      if (piece in modifiers) {\n        pieces[i] = modifiers[piece];\n      } else {\n        hasCharacter = true;\n      }\n\n      if (piece in specialKeys) {\n        pieces[i] = specialKeys[piece];\n      }\n    }\n\n    if (!hasCharacter) {\n      // Vim does not support modifier only keys.\n      return false;\n    } // TODO: Current bindings expect the character to be lower case, but\n    // it looks like vim key notation uses upper case.\n\n\n    if (isUpperCase(lastPiece)) {\n      pieces[pieces.length - 1] = lastPiece.toLowerCase();\n    }\n\n    return '<' + pieces.join('-') + '>';\n  }\n\n  function getOnPasteFn(cm) {\n    var vim = cm.state.vim;\n\n    if (!vim || !vim.onPasteFn) {\n      vim.onPasteFn = function () {\n        if (!vim.insertMode) {\n          cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));\n          actions.enterInsertMode(cm, {}, vim);\n        }\n      };\n    }\n\n    return vim.onPasteFn;\n  }\n\n  var numberRegex = /[\\d]/;\n  var wordCharTest = [_cm_adapter[\"default\"].isWordChar, function (ch) {\n    return ch && !_cm_adapter[\"default\"].isWordChar(ch) && !/\\s/.test(ch);\n  }],\n      bigWordCharTest = [function (ch) {\n    return /\\S/.test(ch);\n  }];\n\n  function makeKeyRange(start, size) {\n    var keys = [];\n\n    for (var i = start; i < start + size; i++) {\n      keys.push(String.fromCharCode(i));\n    }\n\n    return keys;\n  }\n\n  var upperCaseAlphabet = makeKeyRange(65, 26);\n  var lowerCaseAlphabet = makeKeyRange(97, 26);\n  var numbers = makeKeyRange(48, 10);\n  var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);\n  var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '\"', '.', ':', '/']);\n\n  function isLine(cm, line) {\n    return line >= cm.firstLine() && line <= cm.lastLine();\n  }\n\n  function isLowerCase(k) {\n    return /^[a-z]$/.test(k);\n  }\n\n  function isMatchableSymbol(k) {\n    return '()[]{}'.indexOf(k) != -1;\n  }\n\n  function isNumber(k) {\n    return numberRegex.test(k);\n  }\n\n  function isUpperCase(k) {\n    return /^[A-Z]$/.test(k);\n  }\n\n  function isWhiteSpaceString(k) {\n    return /^\\s*$/.test(k);\n  }\n\n  function isEndOfSentenceSymbol(k) {\n    return '.?!'.indexOf(k) != -1;\n  }\n\n  function inArray(val, arr) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i] == val) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var options = {};\n\n  function defineOption(name, defaultValue, type, aliases, callback) {\n    if (defaultValue === undefined && !callback) {\n      throw Error('defaultValue is required unless callback is provided');\n    }\n\n    if (!type) {\n      type = 'string';\n    }\n\n    options[name] = {\n      type: type,\n      defaultValue: defaultValue,\n      callback: callback\n    };\n\n    if (aliases) {\n      for (var i = 0; i < aliases.length; i++) {\n        options[aliases[i]] = options[name];\n      }\n    }\n\n    if (defaultValue) {\n      setOption(name, defaultValue);\n    }\n  }\n\n  function setOption(name, value, cm, cfg) {\n    var option = options[name];\n    cfg = cfg || {};\n    var scope = cfg.scope;\n\n    if (!option) {\n      return new Error('Unknown option: ' + name);\n    }\n\n    if (option.type == 'boolean') {\n      if (value && value !== true) {\n        return new Error('Invalid argument: ' + name + '=' + value);\n      } else if (value !== false) {\n        // Boolean options are set to true if value is not defined.\n        value = true;\n      }\n    }\n\n    if (option.callback) {\n      if (scope !== 'local') {\n        option.callback(value, undefined);\n      }\n\n      if (scope !== 'global' && cm) {\n        option.callback(value, cm);\n      }\n    } else {\n      if (scope !== 'local') {\n        option.value = option.type == 'boolean' ? !!value : value;\n      }\n\n      if (scope !== 'global' && cm) {\n        cm.state.vim.options[name] = {\n          value: value\n        };\n      }\n    }\n  }\n\n  function getOption(name, cm, cfg) {\n    var option = options[name];\n    cfg = cfg || {};\n    var scope = cfg.scope;\n\n    if (!option) {\n      return new Error('Unknown option: ' + name);\n    }\n\n    if (option.callback) {\n      var local = cm && option.callback(undefined, cm);\n\n      if (scope !== 'global' && local !== undefined) {\n        return local;\n      }\n\n      if (scope !== 'local') {\n        return option.callback();\n      }\n\n      return;\n    } else {\n      var local = scope !== 'global' && cm && cm.state.vim.options[name];\n      return (local || scope !== 'local' && option || {}).value;\n    }\n  }\n\n  defineOption('filetype', undefined, 'string', ['ft'], function (name, cm) {\n    // Option is local. Do nothing for global.\n    if (cm === undefined) {\n      return;\n    } // The 'filetype' option proxies to the CodeMirror 'mode' option.\n\n\n    if (name === undefined) {\n      var mode = cm.getOption('mode');\n      return mode == 'null' ? '' : mode;\n    } else {\n      var mode = name == '' ? 'null' : name;\n      cm.setOption('mode', mode);\n    }\n  });\n\n  var createCircularJumpList = function createCircularJumpList() {\n    var size = 100;\n    var pointer = -1;\n    var head = 0;\n    var tail = 0;\n    var buffer = new Array(size);\n\n    function add(cm, oldCur, newCur) {\n      var current = pointer % size;\n      var curMark = buffer[current];\n\n      function useNextSlot(cursor) {\n        var next = ++pointer % size;\n        var trashMark = buffer[next];\n\n        if (trashMark) {\n          trashMark.clear();\n        }\n\n        buffer[next] = cm.setBookmark(cursor);\n      }\n\n      if (curMark) {\n        var markPos = curMark.find(); // avoid recording redundant cursor position\n\n        if (markPos && !cursorEqual(markPos, oldCur)) {\n          useNextSlot(oldCur);\n        }\n      } else {\n        useNextSlot(oldCur);\n      }\n\n      useNextSlot(newCur);\n      head = pointer;\n      tail = pointer - size + 1;\n\n      if (tail < 0) {\n        tail = 0;\n      }\n    }\n\n    function move(cm, offset) {\n      pointer += offset;\n\n      if (pointer > head) {\n        pointer = head;\n      } else if (pointer < tail) {\n        pointer = tail;\n      }\n\n      var mark = buffer[(size + pointer) % size]; // skip marks that are temporarily removed from text buffer\n\n      if (mark && !mark.find()) {\n        var inc = offset > 0 ? 1 : -1;\n        var newCur;\n        var oldCur = cm.getCursor();\n\n        do {\n          pointer += inc;\n          mark = buffer[(size + pointer) % size]; // skip marks that are the same as current position\n\n          if (mark && (newCur = mark.find()) && !cursorEqual(oldCur, newCur)) {\n            break;\n          }\n        } while (pointer < head && pointer > tail);\n      }\n\n      return mark;\n    }\n\n    return {\n      cachedCursor: undefined,\n      //used for # and * jumps\n      add: add,\n      move: move\n    };\n  }; // Returns an object to track the changes associated insert mode.  It\n  // clones the object that is passed in, or creates an empty object one if\n  // none is provided.\n\n\n  var createInsertModeChanges = function createInsertModeChanges(c) {\n    if (c) {\n      // Copy construction\n      return {\n        changes: c.changes,\n        expectCursorActivityForChange: c.expectCursorActivityForChange\n      };\n    }\n\n    return {\n      // Change list\n      changes: [],\n      // Set to true on change, false on cursorActivity.\n      expectCursorActivityForChange: false\n    };\n  };\n\n  function MacroModeState() {\n    this.latestRegister = undefined;\n    this.isPlaying = false;\n    this.isRecording = false;\n    this.replaySearchQueries = [];\n    this.onRecordingDone = undefined;\n    this.lastInsertModeChanges = createInsertModeChanges();\n  }\n\n  MacroModeState.prototype = {\n    exitMacroRecordMode: function exitMacroRecordMode() {\n      var macroModeState = vimGlobalState.macroModeState;\n\n      if (macroModeState.onRecordingDone) {\n        macroModeState.onRecordingDone(); // close dialog\n      }\n\n      macroModeState.onRecordingDone = undefined;\n      macroModeState.isRecording = false;\n    },\n    enterMacroRecordMode: function enterMacroRecordMode(cm, registerName) {\n      var register = vimGlobalState.registerController.getRegister(registerName);\n\n      if (register) {\n        register.clear();\n        this.latestRegister = registerName;\n\n        if (cm.openDialog) {\n          this.onRecordingDone = cm.openDialog('(recording)[' + registerName + ']', null, {\n            bottom: true\n          });\n        }\n\n        this.isRecording = true;\n      }\n    }\n  };\n\n  function maybeInitVimState(cm) {\n    if (!cm.state.vim) {\n      // Store instance state in the CodeMirror object.\n      cm.state.vim = {\n        inputState: new InputState(),\n        // Vim's input state that triggered the last edit, used to repeat\n        // motions and operators with '.'.\n        lastEditInputState: undefined,\n        // Vim's action command before the last edit, used to repeat actions\n        // with '.' and insert mode repeat.\n        lastEditActionCommand: undefined,\n        // When using jk for navigation, if you move from a longer line to a\n        // shorter line, the cursor may clip to the end of the shorter line.\n        // If j is pressed again and cursor goes to the next line, the\n        // cursor should go back to its horizontal position on the longer\n        // line if it can. This is to keep track of the horizontal position.\n        lastHPos: -1,\n        // Doing the same with screen-position for gj/gk\n        lastHSPos: -1,\n        // The last motion command run. Cleared if a non-motion command gets\n        // executed in between.\n        lastMotion: null,\n        marks: {},\n        // Mark for rendering fake cursor for visual mode.\n        fakeCursor: null,\n        insertMode: false,\n        // Repeat count for changes made in insert mode, triggered by key\n        // sequences like 3,i. Only exists when insertMode is true.\n        insertModeRepeat: undefined,\n        visualMode: false,\n        // If we are in visual line mode. No effect if visualMode is false.\n        visualLine: false,\n        visualBlock: false,\n        lastSelection: null,\n        lastPastedText: null,\n        sel: {},\n        // Buffer-local/window-local values of vim options.\n        options: {}\n      };\n    }\n\n    return cm.state.vim;\n  }\n\n  var vimGlobalState;\n\n  function resetVimGlobalState() {\n    vimGlobalState = {\n      // The current search query.\n      searchQuery: null,\n      // Whether we are searching backwards.\n      searchIsReversed: false,\n      // Replace part of the last substituted pattern\n      lastSubstituteReplacePart: undefined,\n      jumpList: createCircularJumpList(),\n      macroModeState: new MacroModeState(),\n      // Recording latest f, t, F or T motion command.\n      lastCharacterSearch: {\n        increment: 0,\n        forward: true,\n        selectedCharacter: ''\n      },\n      registerController: new RegisterController({}),\n      // search history buffer\n      searchHistoryController: new HistoryController(),\n      // ex Command history buffer\n      exCommandHistoryController: new HistoryController()\n    };\n\n    for (var optionName in options) {\n      var option = options[optionName];\n      option.value = option.defaultValue;\n    }\n  }\n\n  var lastInsertModeKeyTimer;\n  var vimApi = {\n    buildKeyMap: function buildKeyMap() {// TODO: Convert keymap into dictionary format for fast lookup.\n    },\n    // Testing hook, though it might be useful to expose the register\n    // controller anyways.\n    getRegisterController: function getRegisterController() {\n      return vimGlobalState.registerController;\n    },\n    // Testing hook.\n    resetVimGlobalState_: resetVimGlobalState,\n    // Testing hook.\n    getVimGlobalState_: function getVimGlobalState_() {\n      return vimGlobalState;\n    },\n    // Testing hook.\n    maybeInitVimState_: maybeInitVimState,\n    suppressErrorLogging: false,\n    InsertModeKey: InsertModeKey,\n    map: function map(lhs, rhs, ctx) {\n      // Add user defined key bindings.\n      exCommandDispatcher.map(lhs, rhs, ctx);\n    },\n    unmap: function unmap(lhs, ctx) {\n      exCommandDispatcher.unmap(lhs, ctx);\n    },\n    // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace\n    // them, or somehow make them work with the existing CodeMirror setOption/getOption API.\n    setOption: setOption,\n    getOption: getOption,\n    defineOption: defineOption,\n    defineEx: function defineEx(name, prefix, func) {\n      if (!prefix) {\n        prefix = name;\n      } else if (name.indexOf(prefix) !== 0) {\n        throw new Error('(Vim.defineEx) \"' + prefix + '\" is not a prefix of \"' + name + '\", command not registered');\n      }\n\n      exCommands[name] = func;\n      exCommandDispatcher.commandMap_[prefix] = {\n        name: name,\n        shortName: prefix,\n        type: 'api'\n      };\n    },\n    handleKey: function handleKey(cm, key, origin) {\n      var command = this.findKey(cm, key, origin);\n\n      if (typeof command === 'function') {\n        return command();\n      }\n    },\n\n    /**\n     * This is the outermost function called by CodeMirror, after keys have\n     * been mapped to their Vim equivalents.\n     *\n     * Finds a command based on the key (and cached keys if there is a\n     * multi-key sequence). Returns `undefined` if no key is matched, a noop\n     * function if a partial match is found (multi-key), and a function to\n     * execute the bound command if a a key is matched. The function always\n     * returns true.\n     */\n    findKey: function findKey(cm, key, origin) {\n      var vim = maybeInitVimState(cm);\n\n      function handleMacroRecording() {\n        var macroModeState = vimGlobalState.macroModeState;\n\n        if (macroModeState.isRecording) {\n          if (key == 'q') {\n            macroModeState.exitMacroRecordMode();\n            clearInputState(cm);\n            return true;\n          }\n\n          if (origin != 'mapping') {\n            logKey(macroModeState, key);\n          }\n        }\n      }\n\n      function handleEsc() {\n        if (key == '<Esc>') {\n          // Clear input state and get back to normal mode.\n          clearInputState(cm);\n\n          if (vim.visualMode) {\n            exitVisualMode(cm);\n          } else if (vim.insertMode) {\n            exitInsertMode(cm);\n          }\n\n          return true;\n        }\n      }\n\n      function doKeyToKey(keys) {\n        // TODO: prevent infinite recursion.\n        var match;\n\n        while (keys) {\n          // Pull off one command key, which is either a single character\n          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n          match = /<\\w+-.+?>|<\\w+>|./.exec(keys);\n          key = match[0];\n          keys = keys.substring(match.index + key.length);\n\n          _cm_adapter[\"default\"].Vim.handleKey(cm, key, 'mapping');\n        }\n      }\n\n      function handleKeyInsertMode() {\n        if (handleEsc()) {\n          return true;\n        }\n\n        var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n        var keysAreChars = key.length == 1;\n        var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert'); // Need to check all key substrings in insert mode.\n\n        while (keys.length > 1 && match.type != 'full') {\n          var keys = vim.inputState.keyBuffer = keys.slice(1);\n          var thisMatch = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n\n          if (thisMatch.type != 'none') {\n            match = thisMatch;\n          }\n        }\n\n        if (match.type == 'none') {\n          clearInputState(cm);\n          return false;\n        } else if (match.type == 'partial') {\n          if (lastInsertModeKeyTimer) {\n            window.clearTimeout(lastInsertModeKeyTimer);\n          }\n\n          lastInsertModeKeyTimer = window.setTimeout(function () {\n            if (vim.insertMode && vim.inputState.keyBuffer) {\n              clearInputState(cm);\n            }\n          }, getOption('insertModeEscKeysTimeout'));\n          return !keysAreChars;\n        }\n\n        if (lastInsertModeKeyTimer) {\n          window.clearTimeout(lastInsertModeKeyTimer);\n        }\n\n        if (keysAreChars) {\n          var selections = cm.listSelections();\n\n          for (var i = 0; i < selections.length; i++) {\n            var here = selections[i].head;\n            cm.replaceRange('', offsetCursor(here, 0, -(keys.length - 1)), here, '+input');\n          }\n\n          vimGlobalState.macroModeState.lastInsertModeChanges.changes.pop();\n        }\n\n        clearInputState(cm);\n        return match.command;\n      }\n\n      function handleKeyNonInsertMode() {\n        if (handleMacroRecording() || handleEsc()) {\n          return true;\n        }\n\n        var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n\n        if (/^[1-9]\\d*$/.test(keys)) {\n          return true;\n        }\n\n        var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n\n        if (!keysMatcher) {\n          clearInputState(cm);\n          return false;\n        }\n\n        var context = vim.visualMode ? 'visual' : 'normal';\n        var match = commandDispatcher.matchCommand(keysMatcher[2] || keysMatcher[1], defaultKeymap, vim.inputState, context);\n\n        if (match.type == 'none') {\n          clearInputState(cm);\n          return false;\n        } else if (match.type == 'partial') {\n          return true;\n        }\n\n        vim.inputState.keyBuffer = '';\n        var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n\n        if (keysMatcher[1] && keysMatcher[1] != '0') {\n          vim.inputState.pushRepeatDigit(keysMatcher[1]);\n        }\n\n        return match.command;\n      }\n\n      var command;\n\n      if (vim.insertMode) {\n        command = handleKeyInsertMode();\n      } else {\n        command = handleKeyNonInsertMode();\n      }\n\n      if (command === false) {\n        return !vim.insertMode && key.length === 1 ? function () {\n          return true;\n        } : undefined;\n      } else if (command === true) {\n        // TODO: Look into using CodeMirror's multi-key handling.\n        // Return no-op since we are caching the key. Counts as handled, but\n        // don't want act on it just yet.\n        return function () {\n          return true;\n        };\n      } else {\n        return function () {\n          return cm.operation(function () {\n            cm.curOp.isVimOp = true;\n\n            try {\n              if (command.type == 'keyToKey') {\n                doKeyToKey(command.toKeys);\n              } else {\n                commandDispatcher.processCommand(cm, vim, command);\n              }\n            } catch (e) {\n              // clear VIM state in case it's in a bad state.\n              cm.state.vim = undefined;\n              maybeInitVimState(cm);\n\n              if (!_cm_adapter[\"default\"].Vim.suppressErrorLogging) {\n                console['log'](e);\n              }\n\n              throw e;\n            }\n\n            return true;\n          });\n        };\n      }\n    },\n    handleEx: function handleEx(cm, input) {\n      exCommandDispatcher.processCommand(cm, input);\n    },\n    defineMotion: defineMotion,\n    defineAction: defineAction,\n    defineOperator: defineOperator,\n    mapCommand: mapCommand,\n    _mapCommand: _mapCommand,\n    defineRegister: defineRegister,\n    exitVisualMode: exitVisualMode,\n    exitInsertMode: exitInsertMode\n  }; // Represents the current input state.\n\n  function InputState() {\n    this.prefixRepeat = [];\n    this.motionRepeat = [];\n    this.operator = null;\n    this.operatorArgs = null;\n    this.motion = null;\n    this.motionArgs = null;\n    this.keyBuffer = []; // For matching multi-key commands.\n\n    this.registerName = null; // Defaults to the unnamed register.\n  }\n\n  InputState.prototype.pushRepeatDigit = function (n) {\n    if (!this.operator) {\n      this.prefixRepeat = this.prefixRepeat.concat(n);\n    } else {\n      this.motionRepeat = this.motionRepeat.concat(n);\n    }\n  };\n\n  InputState.prototype.getRepeat = function () {\n    var repeat = 0;\n\n    if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {\n      repeat = 1;\n\n      if (this.prefixRepeat.length > 0) {\n        repeat *= parseInt(this.prefixRepeat.join(''), 10);\n      }\n\n      if (this.motionRepeat.length > 0) {\n        repeat *= parseInt(this.motionRepeat.join(''), 10);\n      }\n    }\n\n    return repeat;\n  };\n\n  function clearInputState(cm, reason) {\n    cm.state.vim.inputState = new InputState();\n\n    _cm_adapter[\"default\"].signal(cm, 'vim-command-done', reason);\n  }\n  /*\n   * Register stores information about copy and paste registers.  Besides\n   * text, a register must store whether it is linewise (i.e., when it is\n   * pasted, should it insert itself into a new line, or should the text be\n   * inserted at the cursor position.)\n   */\n\n\n  function Register(text, linewise, blockwise) {\n    this.clear();\n    this.keyBuffer = [text || ''];\n    this.insertModeChanges = [];\n    this.searchQueries = [];\n    this.linewise = !!linewise;\n    this.blockwise = !!blockwise;\n  }\n\n  Register.prototype = {\n    setText: function setText(text, linewise, blockwise) {\n      this.keyBuffer = [text || ''];\n      this.linewise = !!linewise;\n      this.blockwise = !!blockwise;\n    },\n    pushText: function pushText(text, linewise) {\n      // if this register has ever been set to linewise, use linewise.\n      if (linewise) {\n        if (!this.linewise) {\n          this.keyBuffer.push('\\n');\n        }\n\n        this.linewise = true;\n      }\n\n      this.keyBuffer.push(text);\n    },\n    pushInsertModeChanges: function pushInsertModeChanges(changes) {\n      this.insertModeChanges.push(createInsertModeChanges(changes));\n    },\n    pushSearchQuery: function pushSearchQuery(query) {\n      this.searchQueries.push(query);\n    },\n    clear: function clear() {\n      this.keyBuffer = [];\n      this.insertModeChanges = [];\n      this.searchQueries = [];\n      this.linewise = false;\n    },\n    toString: function toString() {\n      return this.keyBuffer.join('');\n    }\n  };\n  /**\n   * Defines an external register.\n   *\n   * The name should be a single character that will be used to reference the register.\n   * The register should support setText, pushText, clear, and toString(). See Register\n   * for a reference implementation.\n   */\n\n  function defineRegister(name, register) {\n    var registers = vimGlobalState.registerController.registers;\n\n    if (!name || name.length != 1) {\n      throw Error('Register name must be 1 character');\n    }\n\n    if (registers[name]) {\n      throw Error('Register already defined ' + name);\n    }\n\n    registers[name] = register;\n    validRegisters.push(name);\n  }\n  /*\n   * vim registers allow you to keep many independent copy and paste buffers.\n   * See http://usevim.com/2012/04/13/registers/ for an introduction.\n   *\n   * RegisterController keeps the state of all the registers.  An initial\n   * state may be passed in.  The unnamed register '\"' will always be\n   * overridden.\n   */\n\n\n  function RegisterController(registers) {\n    this.registers = registers;\n    this.unnamedRegister = registers['\"'] = new Register();\n    registers['.'] = new Register();\n    registers[':'] = new Register();\n    registers['/'] = new Register();\n  }\n\n  RegisterController.prototype = {\n    pushText: function pushText(registerName, operator, text, linewise, blockwise) {\n      if (linewise && text.charAt(text.length - 1) !== '\\n') {\n        text += '\\n';\n      } // Lowercase and uppercase registers refer to the same register.\n      // Uppercase just means append.\n\n\n      var register = this.isValidRegister(registerName) ? this.getRegister(registerName) : null; // if no register/an invalid register was specified, things go to the\n      // default registers\n\n      if (!register) {\n        switch (operator) {\n          case 'yank':\n            // The 0 register contains the text from the most recent yank.\n            this.registers['0'] = new Register(text, linewise, blockwise);\n            break;\n\n          case 'delete':\n          case 'change':\n            if (text.indexOf('\\n') == -1) {\n              // Delete less than 1 line. Update the small delete register.\n              this.registers['-'] = new Register(text, linewise);\n            } else {\n              // Shift down the contents of the numbered registers and put the\n              // deleted text into register 1.\n              this.shiftNumericRegisters_();\n              this.registers['1'] = new Register(text, linewise);\n            }\n\n            break;\n        } // Make sure the unnamed register is set to what just happened\n\n\n        this.unnamedRegister.setText(text, linewise, blockwise);\n        return;\n      } // If we've gotten to this point, we've actually specified a register\n\n\n      var append = isUpperCase(registerName);\n\n      if (append) {\n        register.pushText(text, linewise);\n      } else {\n        register.setText(text, linewise, blockwise);\n      } // The unnamed register always has the same value as the last used\n      // register.\n\n\n      this.unnamedRegister.setText(register.toString(), linewise);\n    },\n    // Gets the register named @name.  If one of @name doesn't already exist,\n    // create it.  If @name is invalid, return the unnamedRegister.\n    getRegister: function getRegister(name) {\n      if (!this.isValidRegister(name)) {\n        return this.unnamedRegister;\n      }\n\n      name = name.toLowerCase();\n\n      if (!this.registers[name]) {\n        this.registers[name] = new Register();\n      }\n\n      return this.registers[name];\n    },\n    isValidRegister: function isValidRegister(name) {\n      return name && inArray(name, validRegisters);\n    },\n    shiftNumericRegisters_: function shiftNumericRegisters_() {\n      for (var i = 9; i >= 2; i--) {\n        this.registers[i] = this.getRegister('' + (i - 1));\n      }\n    }\n  };\n\n  function HistoryController() {\n    this.historyBuffer = [];\n    this.iterator = 0;\n    this.initialPrefix = null;\n  }\n\n  HistoryController.prototype = {\n    // the input argument here acts a user entered prefix for a small time\n    // until we start autocompletion in which case it is the autocompleted.\n    nextMatch: function nextMatch(input, up) {\n      var historyBuffer = this.historyBuffer;\n      var dir = up ? -1 : 1;\n      if (this.initialPrefix === null) this.initialPrefix = input;\n\n      for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i += dir) {\n        var element = historyBuffer[i];\n\n        for (var j = 0; j <= element.length; j++) {\n          if (this.initialPrefix == element.substring(0, j)) {\n            this.iterator = i;\n            return element;\n          }\n        }\n      } // should return the user input in case we reach the end of buffer.\n\n\n      if (i >= historyBuffer.length) {\n        this.iterator = historyBuffer.length;\n        return this.initialPrefix;\n      } // return the last autocompleted query or exCommand as it is.\n\n\n      if (i < 0) return input;\n    },\n    pushInput: function pushInput(input) {\n      var index = this.historyBuffer.indexOf(input);\n      if (index > -1) this.historyBuffer.splice(index, 1);\n      if (input.length) this.historyBuffer.push(input);\n    },\n    reset: function reset() {\n      this.initialPrefix = null;\n      this.iterator = this.historyBuffer.length;\n    }\n  };\n  var commandDispatcher = {\n    matchCommand: function matchCommand(keys, keyMap, inputState, context) {\n      var matches = commandMatches(keys, keyMap, context, inputState);\n\n      if (!matches.full && !matches.partial) {\n        return {\n          type: 'none'\n        };\n      } else if (!matches.full && matches.partial) {\n        return {\n          type: 'partial'\n        };\n      }\n\n      var bestMatch;\n\n      for (var i = 0; i < matches.full.length; i++) {\n        var match = matches.full[i];\n\n        if (!bestMatch) {\n          bestMatch = match;\n        }\n      }\n\n      if (bestMatch.keys.slice(-11) == '<character>') {\n        var character = lastChar(keys);\n        if (!character) return {\n          type: 'none'\n        };\n        inputState.selectedCharacter = character;\n      }\n\n      return {\n        type: 'full',\n        command: bestMatch\n      };\n    },\n    processCommand: function processCommand(cm, vim, command) {\n      vim.inputState.repeatOverride = command.repeatOverride;\n\n      switch (command.type) {\n        case 'motion':\n          this.processMotion(cm, vim, command);\n          break;\n\n        case 'operator':\n          this.processOperator(cm, vim, command); // cm.pushUndoStop();\n\n          break;\n\n        case 'operatorMotion':\n          this.processOperatorMotion(cm, vim, command); // cm.pushUndoStop();\n\n          break;\n\n        case 'action':\n          this.processAction(cm, vim, command);\n          break;\n\n        case 'search':\n          this.processSearch(cm, vim, command);\n          break;\n\n        case 'ex':\n        case 'keyToEx':\n          this.processEx(cm, vim, command);\n          break;\n\n        default:\n          break;\n      }\n    },\n    processMotion: function processMotion(cm, vim, command) {\n      vim.inputState.motion = command.motion;\n      vim.inputState.motionArgs = copyArgs(command.motionArgs);\n      this.evalInput(cm, vim);\n    },\n    processOperator: function processOperator(cm, vim, command) {\n      var inputState = vim.inputState;\n\n      if (inputState.operator) {\n        if (inputState.operator == command.operator) {\n          // Typing an operator twice like 'dd' makes the operator operate\n          // linewise\n          inputState.motion = 'expandToLine';\n          inputState.motionArgs = {\n            linewise: true\n          };\n          this.evalInput(cm, vim);\n          return;\n        } else {\n          // 2 different operators in a row doesn't make sense.\n          clearInputState(cm);\n        }\n      }\n\n      inputState.operator = command.operator;\n      inputState.operatorArgs = copyArgs(command.operatorArgs);\n\n      if (vim.visualMode) {\n        // Operating on a selection in visual mode. We don't need a motion.\n        this.evalInput(cm, vim);\n      }\n    },\n    processOperatorMotion: function processOperatorMotion(cm, vim, command) {\n      var visualMode = vim.visualMode;\n      var operatorMotionArgs = copyArgs(command.operatorMotionArgs);\n\n      if (operatorMotionArgs) {\n        // Operator motions may have special behavior in visual mode.\n        if (visualMode && operatorMotionArgs.visualLine) {\n          vim.visualLine = true;\n        }\n      }\n\n      this.processOperator(cm, vim, command);\n\n      if (!visualMode) {\n        this.processMotion(cm, vim, command);\n      }\n    },\n    processAction: function processAction(cm, vim, command) {\n      var inputState = vim.inputState;\n      var repeat = inputState.getRepeat();\n      var repeatIsExplicit = !!repeat;\n      var actionArgs = copyArgs(command.actionArgs) || {};\n\n      if (inputState.selectedCharacter) {\n        actionArgs.selectedCharacter = inputState.selectedCharacter;\n      } // Actions may or may not have motions and operators. Do these first.\n\n\n      if (command.operator) {\n        this.processOperator(cm, vim, command);\n      }\n\n      if (command.motion) {\n        this.processMotion(cm, vim, command);\n      }\n\n      if (command.motion || command.operator) {\n        this.evalInput(cm, vim);\n      }\n\n      actionArgs.repeat = repeat || 1;\n      actionArgs.repeatIsExplicit = repeatIsExplicit;\n      actionArgs.registerName = inputState.registerName;\n      clearInputState(cm);\n      vim.lastMotion = null;\n\n      if (command.isEdit) {\n        this.recordLastEdit(vim, inputState, command);\n      }\n\n      actions[command.action](cm, actionArgs, vim);\n    },\n    processSearch: function processSearch(cm, vim, command) {\n      if (!cm.getSearchCursor) {\n        // Search depends on SearchCursor.\n        return;\n      }\n\n      var forward = command.searchArgs.forward;\n      var wholeWordOnly = command.searchArgs.wholeWordOnly;\n      getSearchState(cm).setReversed(!forward);\n      var promptPrefix = forward ? '/' : '?';\n      var originalQuery = getSearchState(cm).getQuery();\n      var originalScrollPos = cm.getScrollInfo();\n\n      function handleQuery(query, ignoreCase, smartCase) {\n        vimGlobalState.searchHistoryController.pushInput(query);\n        vimGlobalState.searchHistoryController.reset();\n\n        try {\n          updateSearchQuery(cm, query, ignoreCase, smartCase);\n        } catch (e) {\n          showConfirm(cm, 'Invalid regex: ' + query);\n          clearInputState(cm);\n          return;\n        }\n\n        commandDispatcher.processMotion(cm, vim, {\n          type: 'motion',\n          motion: 'findNext',\n          motionArgs: {\n            forward: true,\n            toJumplist: command.searchArgs.toJumplist\n          }\n        });\n      }\n\n      function onPromptClose(query) {\n        cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n        handleQuery(query, true\n        /** ignoreCase */\n        , true\n        /** smartCase */\n        );\n        var macroModeState = vimGlobalState.macroModeState;\n\n        if (macroModeState.isRecording) {\n          logSearchQuery(macroModeState, query);\n        }\n      }\n\n      function onPromptKeyUp(e, query, close) {\n        var keyName = _cm_adapter[\"default\"].keyName(e),\n            up,\n            offset;\n\n        if (keyName == 'Up' || keyName == 'Down') {\n          up = keyName == 'Up' ? true : false;\n          offset = e.target ? e.target.selectionEnd : 0;\n          query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';\n          close(query);\n          if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n        } else {\n          if (keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift') vimGlobalState.searchHistoryController.reset();\n        }\n\n        var parsedQuery;\n\n        try {\n          parsedQuery = updateSearchQuery(cm, query, true\n          /** ignoreCase */\n          , true\n          /** smartCase */\n          );\n        } catch (e) {// Swallow bad regexes for incremental search.\n        }\n\n        if (parsedQuery) {\n          cm.scrollIntoView(_findNext(cm, !forward, parsedQuery), 30);\n        } else {\n          clearSearchHighlight(cm);\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n        }\n      }\n\n      function onPromptKeyDown(e, query, close) {\n        var keyName = _cm_adapter[\"default\"].keyName(e);\n\n        if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' || keyName == 'Backspace' && query == '') {\n          vimGlobalState.searchHistoryController.pushInput(query);\n          vimGlobalState.searchHistoryController.reset();\n          updateSearchQuery(cm, originalQuery);\n          clearSearchHighlight(cm);\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n\n          _cm_adapter[\"default\"].e_stop(e);\n\n          clearInputState(cm);\n          close();\n          cm.focus();\n        } else if (keyName == 'Up' || keyName == 'Down') {\n          _cm_adapter[\"default\"].e_stop(e);\n        } else if (keyName == 'Ctrl-U') {\n          // Ctrl-U clears input.\n          _cm_adapter[\"default\"].e_stop(e);\n\n          close('');\n        }\n      }\n\n      switch (command.searchArgs.querySrc) {\n        case 'prompt':\n          var macroModeState = vimGlobalState.macroModeState;\n\n          if (macroModeState.isPlaying) {\n            var query = macroModeState.replaySearchQueries.shift();\n            handleQuery(query, true\n            /** ignoreCase */\n            , false\n            /** smartCase */\n            );\n          } else {\n            showPrompt(cm, {\n              onClose: onPromptClose,\n              prefix: promptPrefix,\n              desc: searchPromptDesc,\n              onKeyUp: onPromptKeyUp,\n              onKeyDown: onPromptKeyDown\n            });\n          }\n\n          break;\n\n        case 'wordUnderCursor':\n          var word = expandWordUnderCursor(cm, false\n          /** inclusive */\n          , true\n          /** forward */\n          , false\n          /** bigWord */\n          , true\n          /** noSymbol */\n          );\n          var isKeyword = true;\n\n          if (!word) {\n            word = expandWordUnderCursor(cm, false\n            /** inclusive */\n            , true\n            /** forward */\n            , false\n            /** bigWord */\n            , false\n            /** noSymbol */\n            );\n            isKeyword = false;\n          }\n\n          if (!word) {\n            return;\n          }\n\n          var query = cm.getLine(word.start.line).substring(word.start.ch, word.end.ch);\n\n          if (isKeyword && wholeWordOnly) {\n            query = '\\\\b' + query + '\\\\b';\n          } else {\n            query = escapeRegex(query);\n          } // cachedCursor is used to save the old position of the cursor\n          // when * or # causes vim to seek for the nearest word and shift\n          // the cursor before entering the motion.\n\n\n          vimGlobalState.jumpList.cachedCursor = cm.getCursor();\n          cm.setCursor(word.start);\n          handleQuery(query, true\n          /** ignoreCase */\n          , false\n          /** smartCase */\n          );\n          break;\n      }\n    },\n    processEx: function processEx(cm, vim, command) {\n      function onPromptClose(input) {\n        // Give the prompt some time to close so that if processCommand shows\n        // an error, the elements don't overlap.\n        vimGlobalState.exCommandHistoryController.pushInput(input);\n        vimGlobalState.exCommandHistoryController.reset();\n        exCommandDispatcher.processCommand(cm, input);\n      }\n\n      function onPromptKeyDown(e, input, close) {\n        var keyName = _cm_adapter[\"default\"].keyName(e),\n            up,\n            offset;\n\n        if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' || keyName == 'Backspace' && input == '') {\n          vimGlobalState.exCommandHistoryController.pushInput(input);\n          vimGlobalState.exCommandHistoryController.reset();\n\n          _cm_adapter[\"default\"].e_stop(e);\n\n          clearInputState(cm);\n          close();\n          cm.focus();\n        }\n\n        if (keyName == 'Up' || keyName == 'Down') {\n          _cm_adapter[\"default\"].e_stop(e);\n\n          up = keyName == 'Up' ? true : false;\n          offset = e.target ? e.target.selectionEnd : 0;\n          input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';\n          close(input);\n          if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n        } else if (keyName == 'Ctrl-U') {\n          // Ctrl-U clears input.\n          _cm_adapter[\"default\"].e_stop(e);\n\n          close('');\n        } else {\n          if (keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift') vimGlobalState.exCommandHistoryController.reset();\n        }\n      }\n\n      if (command.type == 'keyToEx') {\n        // Handle user defined Ex to Ex mappings\n        exCommandDispatcher.processCommand(cm, command.exArgs.input);\n      } else {\n        if (vim.visualMode) {\n          showPrompt(cm, {\n            onClose: onPromptClose,\n            prefix: ':',\n            value: '\\'<,\\'>',\n            onKeyDown: onPromptKeyDown,\n            selectValueOnOpen: false\n          });\n        } else {\n          showPrompt(cm, {\n            onClose: onPromptClose,\n            prefix: ':',\n            onKeyDown: onPromptKeyDown\n          });\n        }\n      }\n    },\n    evalInput: function evalInput(cm, vim) {\n      // If the motion command is set, execute both the operator and motion.\n      // Otherwise return.\n      var inputState = vim.inputState;\n      var motion = inputState.motion;\n      var motionArgs = inputState.motionArgs || {};\n      var operator = inputState.operator;\n      var operatorArgs = inputState.operatorArgs || {};\n      var registerName = inputState.registerName;\n      var sel = vim.sel; // TODO: Make sure cm and vim selections are identical outside visual mode.\n\n      var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head) : cm.getCursor('head'));\n      var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));\n      var oldHead = copyCursor(origHead);\n      var oldAnchor = copyCursor(origAnchor);\n      var newHead, newAnchor;\n      var repeat;\n\n      if (operator) {\n        this.recordLastEdit(vim, inputState);\n      }\n\n      if (inputState.repeatOverride !== undefined) {\n        // If repeatOverride is specified, that takes precedence over the\n        // input state's repeat. Used by Ex mode and can be user defined.\n        repeat = inputState.repeatOverride;\n      } else {\n        repeat = inputState.getRepeat();\n      }\n\n      if (repeat > 0 && motionArgs.explicitRepeat) {\n        motionArgs.repeatIsExplicit = true;\n      } else if (motionArgs.noRepeat || !motionArgs.explicitRepeat && repeat === 0) {\n        repeat = 1;\n        motionArgs.repeatIsExplicit = false;\n      }\n\n      if (inputState.selectedCharacter) {\n        // If there is a character input, stick it in all of the arg arrays.\n        motionArgs.selectedCharacter = operatorArgs.selectedCharacter = inputState.selectedCharacter;\n      }\n\n      motionArgs.repeat = repeat;\n      clearInputState(cm);\n\n      if (motion) {\n        var motionResult = motions[motion](cm, origHead, motionArgs, vim);\n        vim.lastMotion = motions[motion];\n\n        if (!motionResult) {\n          return;\n        }\n\n        if (motionArgs.toJumplist) {\n          var jumpList = vimGlobalState.jumpList; // if the current motion is # or *, use cachedCursor\n\n          var cachedCursor = jumpList.cachedCursor;\n\n          if (cachedCursor) {\n            recordJumpPosition(cm, cachedCursor, motionResult);\n            delete jumpList.cachedCursor;\n          } else {\n            recordJumpPosition(cm, origHead, motionResult);\n          }\n        }\n\n        if (motionResult instanceof Array) {\n          newAnchor = motionResult[0];\n          newHead = motionResult[1];\n        } else {\n          newHead = motionResult;\n        } // TODO: Handle null returns from motion commands better.\n\n\n        if (!newHead) {\n          newHead = copyCursor(origHead);\n        }\n\n        if (vim.visualMode) {\n          if (!(vim.visualBlock && newHead.ch === Infinity)) {\n            newHead = clipCursorToContent(cm, newHead, vim.visualBlock);\n          }\n\n          if (newAnchor) {\n            newAnchor = clipCursorToContent(cm, newAnchor, true);\n          }\n\n          newAnchor = newAnchor || oldAnchor;\n          sel.anchor = newAnchor;\n          sel.head = newHead;\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorIsBefore(newAnchor, newHead) ? newAnchor : newHead);\n          updateMark(cm, vim, '>', cursorIsBefore(newAnchor, newHead) ? newHead : newAnchor);\n        } else if (!operator) {\n          newHead = clipCursorToContent(cm, newHead);\n          cm.setCursor(newHead.line, newHead.ch);\n        }\n      }\n\n      if (operator) {\n        if (operatorArgs.lastSel) {\n          // Replaying a visual mode operation\n          newAnchor = oldAnchor;\n          var lastSel = operatorArgs.lastSel;\n          var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);\n          var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);\n\n          if (lastSel.visualLine) {\n            // Linewise Visual mode: The same number of lines.\n            newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n          } else if (lastSel.visualBlock) {\n            // Blockwise Visual mode: The same number of lines and columns.\n            newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);\n          } else if (lastSel.head.line == lastSel.anchor.line) {\n            // Normal Visual mode within one line: The same number of characters.\n            newHead = Pos(oldAnchor.line, oldAnchor.ch + chOffset);\n          } else {\n            // Normal Visual mode with several lines: The same number of lines, in the\n            // last line the same number of characters as in the last line the last time.\n            newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n          }\n\n          vim.visualMode = true;\n          vim.visualLine = lastSel.visualLine;\n          vim.visualBlock = lastSel.visualBlock;\n          sel = vim.sel = {\n            anchor: newAnchor,\n            head: newHead\n          };\n          updateCmSelection(cm);\n        } else if (vim.visualMode) {\n          operatorArgs.lastSel = {\n            anchor: copyCursor(sel.anchor),\n            head: copyCursor(sel.head),\n            visualBlock: vim.visualBlock,\n            visualLine: vim.visualLine\n          };\n        }\n\n        var curStart, curEnd, linewise, mode;\n        var cmSel;\n\n        if (vim.visualMode) {\n          // Init visual op\n          curStart = cursorMin(sel.head, sel.anchor);\n          curEnd = cursorMax(sel.head, sel.anchor);\n          linewise = vim.visualLine || operatorArgs.linewise;\n          mode = vim.visualBlock ? 'block' : linewise ? 'line' : 'char';\n          cmSel = makeCmSelection(cm, {\n            anchor: curStart,\n            head: curEnd\n          }, mode);\n\n          if (linewise) {\n            var ranges = cmSel.ranges;\n\n            if (mode == 'block') {\n              // Linewise operators in visual block mode extend to end of line\n              for (var i = 0; i < ranges.length; i++) {\n                ranges[i].head.ch = lineLength(cm, ranges[i].head.line);\n              }\n            } else if (mode == 'line') {\n              ranges[0].head = Pos(ranges[0].head.line + 1, 0);\n            }\n          }\n        } else {\n          // Init motion op\n          curStart = copyCursor(newAnchor || oldAnchor);\n          curEnd = copyCursor(newHead || oldHead);\n\n          if (cursorIsBefore(curEnd, curStart)) {\n            var tmp = curStart;\n            curStart = curEnd;\n            curEnd = tmp;\n          }\n\n          linewise = motionArgs.linewise || operatorArgs.linewise;\n\n          if (linewise) {\n            // Expand selection to entire line.\n            expandSelectionToLine(cm, curStart, curEnd);\n          } else if (motionArgs.forward) {\n            // Clip to trailing newlines only if the motion goes forward.\n            clipToLine(cm, curStart, curEnd);\n          }\n\n          mode = 'char';\n          var exclusive = !motionArgs.inclusive || linewise;\n          cmSel = makeCmSelection(cm, {\n            anchor: curStart,\n            head: curEnd\n          }, mode, exclusive);\n        }\n\n        cm.setSelections(cmSel.ranges, cmSel.primary);\n        vim.lastMotion = null;\n        operatorArgs.repeat = repeat; // For indent in visual mode.\n\n        operatorArgs.registerName = registerName; // Keep track of linewise as it affects how paste and change behave.\n\n        operatorArgs.linewise = linewise;\n        var operatorMoveTo = operators[operator](cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);\n\n        if (vim.visualMode) {\n          exitVisualMode(cm, operatorMoveTo != null);\n        }\n\n        if (operatorMoveTo) {\n          cm.setCursor(operatorMoveTo);\n        }\n      }\n    },\n    recordLastEdit: function recordLastEdit(vim, inputState, actionCommand) {\n      var macroModeState = vimGlobalState.macroModeState;\n\n      if (macroModeState.isPlaying) {\n        return;\n      }\n\n      vim.lastEditInputState = inputState;\n      vim.lastEditActionCommand = actionCommand;\n      macroModeState.lastInsertModeChanges.changes = [];\n      macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;\n    }\n  };\n  /**\n   * typedef {Object{line:number,ch:number}} Cursor An object containing the\n   *     position of the cursor.\n   */\n  // All of the functions below return Cursor objects.\n\n  var motions = {\n    moveToTopLine: function moveToTopLine(cm, _head, motionArgs) {\n      var line = getUserVisibleLines(cm).top + motionArgs.repeat - 1;\n      return Pos(line, cm.findFirstNonWhiteSpaceCharacter(line));\n    },\n    moveToMiddleLine: function moveToMiddleLine(cm) {\n      var range = getUserVisibleLines(cm);\n      var line = Math.floor((range.top + range.bottom) * 0.5);\n      return Pos(line, cm.findFirstNonWhiteSpaceCharacter(line));\n    },\n    moveToBottomLine: function moveToBottomLine(cm, _head, motionArgs) {\n      var line = getUserVisibleLines(cm).bottom - motionArgs.repeat + 1;\n      return Pos(line, cm.findFirstNonWhiteSpaceCharacter(line));\n    },\n    expandToLine: function expandToLine(_cm, head, motionArgs) {\n      // Expands forward to end of line, and then to next line if repeat is\n      // >1. Does not handle backward motion!\n      var cur = head;\n      return Pos(cur.line + motionArgs.repeat - 1, Infinity);\n    },\n    findNext: function findNext(cm, _head, motionArgs) {\n      var state = getSearchState(cm);\n      var query = state.getQuery();\n\n      if (!query) {\n        return;\n      }\n\n      var prev = !motionArgs.forward; // If search is initiated with ? instead of /, negate direction.\n\n      prev = state.isReversed() ? !prev : prev;\n      highlightSearchMatches(cm, query);\n      return _findNext(cm, prev\n      /** prev */\n      , query, motionArgs.repeat);\n    },\n    goToMark: function goToMark(cm, _head, motionArgs, vim) {\n      var pos = getMarkPos(cm, vim, motionArgs.selectedCharacter);\n\n      if (pos) {\n        return motionArgs.linewise ? {\n          line: pos.line,\n          ch: cm.findFirstNonWhiteSpaceCharacter(pos.line)\n        } : pos;\n      }\n\n      return null;\n    },\n    moveToOtherHighlightedEnd: function moveToOtherHighlightedEnd(cm, _head, motionArgs, vim) {\n      if (vim.visualBlock && motionArgs.sameLine) {\n        var sel = vim.sel;\n        return [clipCursorToContent(cm, Pos(sel.anchor.line, sel.head.ch)), clipCursorToContent(cm, Pos(sel.head.line, sel.anchor.ch))];\n      } else {\n        return [vim.sel.head, vim.sel.anchor];\n      }\n    },\n    jumpToMark: function jumpToMark(cm, head, motionArgs, vim) {\n      var best = head;\n\n      for (var i = 0; i < motionArgs.repeat; i++) {\n        var cursor = best;\n\n        for (var key in vim.marks) {\n          if (!isLowerCase(key)) {\n            continue;\n          }\n\n          var mark = vim.marks[key].find();\n          var isWrongDirection = motionArgs.forward ? cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);\n\n          if (isWrongDirection) {\n            continue;\n          }\n\n          if (motionArgs.linewise && mark.line == cursor.line) {\n            continue;\n          }\n\n          var equal = cursorEqual(cursor, best);\n          var between = motionArgs.forward ? cursorIsBetween(cursor, mark, best) : cursorIsBetween(best, mark, cursor);\n\n          if (equal || between) {\n            best = mark;\n          }\n        }\n      }\n\n      if (motionArgs.linewise) {\n        // Vim places the cursor on the first non-whitespace character of\n        // the line if there is one, else it places the cursor at the end\n        // of the line, regardless of whether a mark was found.\n        best = Pos(best.line, cm.findFirstNonWhiteSpaceCharacter(best.line));\n      }\n\n      return best;\n    },\n    moveByCharacters: function moveByCharacters(_cm, head, motionArgs) {\n      var cur = head;\n      var repeat = motionArgs.repeat;\n      var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;\n      return Pos(cur.line, ch);\n    },\n    moveByLines: function moveByLines(cm, head, motionArgs, vim) {\n      var cur = head;\n      var endCh = cur.ch; // Depending what our last motion was, we may want to do different\n      // things. If our last motion was moving vertically, we want to\n      // preserve the HPos from our last horizontal move.  If our last motion\n      // was going to the end of a line, moving vertically we should go to\n      // the end of the line, etc.\n\n      switch (vim.lastMotion) {\n        case this.moveByLines:\n        case this.moveByDisplayLines:\n        case this.moveByScroll:\n        case this.moveToColumn:\n        case this.moveToEol:\n          endCh = vim.lastHPos;\n          break;\n\n        default:\n          vim.lastHPos = endCh;\n      }\n\n      var repeat = motionArgs.repeat + (motionArgs.repeatOffset || 0);\n      var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;\n      var first = cm.firstLine();\n      var last = cm.lastLine(); // Vim go to line begin or line end when cursor at first/last line and\n      // move to previous/next line is triggered.\n\n      if (line < first && cur.line == first) {\n        return this.moveToStartOfLine(cm, head, motionArgs, vim);\n      } else if (line > last && cur.line == last) {\n        return this.moveToEol(cm, head, motionArgs, vim);\n      }\n\n      if (motionArgs.toFirstChar) {\n        endCh = cm.findFirstNonWhiteSpaceCharacter(line);\n        vim.lastHPos = endCh;\n      }\n\n      vim.lastHSPos = cm.charCoords(Pos(line, endCh), 'div').left;\n      return Pos(line, endCh);\n    },\n    moveByDisplayLines: function moveByDisplayLines(cm, head, motionArgs, vim) {\n      var cur = head;\n\n      switch (vim.lastMotion) {\n        case this.moveByDisplayLines:\n        case this.moveByScroll:\n        case this.moveByLines:\n        case this.moveToColumn:\n        case this.moveToEol:\n          break;\n\n        default:\n          vim.lastHSPos = cm.charCoords(cur, 'div').left;\n      }\n\n      var repeat = motionArgs.repeat;\n      var res = cm.findPosV(cur, motionArgs.forward ? repeat : -repeat, 'line', vim.lastHSPos);\n\n      if (res.hitSide) {\n        if (motionArgs.forward) {\n          var lastCharCoords = cm.charCoords(res, 'div');\n          var goalCoords = {\n            top: lastCharCoords.top + 8,\n            left: vim.lastHSPos\n          };\n          var res = cm.coordsChar(goalCoords, 'div');\n        } else {\n          var resCoords = cm.charCoords(Pos(cm.firstLine(), 0), 'div');\n          resCoords.left = vim.lastHSPos;\n          res = cm.coordsChar(resCoords, 'div');\n        }\n      }\n\n      vim.lastHPos = res.ch;\n      return res;\n    },\n    moveByPage: function moveByPage(cm, head, motionArgs) {\n      // CodeMirror only exposes functions that move the cursor page down, so\n      // doing this bad hack to move the cursor and move it back. evalInput\n      // will move the cursor to where it should be in the end.\n      var curStart = head;\n      var repeat = motionArgs.repeat;\n      return cm.findPosV(curStart, motionArgs.forward ? repeat : -repeat, 'page');\n    },\n    moveByParagraph: function moveByParagraph(cm, head, motionArgs) {\n      var dir = motionArgs.forward ? 1 : -1;\n      return findParagraph(cm, head, motionArgs.repeat, dir);\n    },\n    moveBySentence: function moveBySentence(cm, head, motionArgs) {\n      var dir = motionArgs.forward ? 1 : -1;\n      return findSentence(cm, head, motionArgs.repeat, dir);\n    },\n    moveByScroll: function moveByScroll(cm, head, motionArgs, vim) {\n      var scrollbox = cm.getScrollInfo();\n      var curEnd = null;\n      var repeat = motionArgs.repeat;\n\n      if (!repeat) {\n        repeat = Math.floor(scrollbox.clientHeight / (2 * cm.defaultTextHeight()));\n      }\n\n      var orig = cm.charCoords(head, 'local');\n      motionArgs.repeat = repeat;\n      var curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);\n\n      if (!curEnd) {\n        return null;\n      }\n\n      var dest = cm.charCoords(curEnd, 'local');\n      cm.scrollTo(null, scrollbox.top + dest.top - orig.top);\n      return curEnd;\n    },\n    moveByWords: function moveByWords(cm, head, motionArgs) {\n      return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward, !!motionArgs.wordEnd, !!motionArgs.bigWord);\n    },\n    moveTillCharacter: function moveTillCharacter(cm, _head, motionArgs) {\n      var repeat = motionArgs.repeat;\n\n      var curEnd = _moveToCharacter(cm, repeat, motionArgs.forward, motionArgs.selectedCharacter);\n\n      var increment = motionArgs.forward ? -1 : 1;\n      recordLastCharacterSearch(increment, motionArgs);\n      if (!curEnd) return null;\n      curEnd.ch += increment;\n      return curEnd;\n    },\n    moveToCharacter: function moveToCharacter(cm, head, motionArgs) {\n      var repeat = motionArgs.repeat;\n      recordLastCharacterSearch(0, motionArgs);\n      return _moveToCharacter(cm, repeat, motionArgs.forward, motionArgs.selectedCharacter) || head;\n    },\n    moveToSymbol: function moveToSymbol(cm, head, motionArgs) {\n      var repeat = motionArgs.repeat;\n      return findSymbol(cm, repeat, motionArgs.forward, motionArgs.selectedCharacter) || head;\n    },\n    moveToColumn: function moveToColumn(cm, head, motionArgs, vim) {\n      var repeat = motionArgs.repeat; // repeat is equivalent to which column we want to move to!\n\n      vim.lastHPos = repeat - 1;\n      vim.lastHSPos = cm.charCoords(head, 'div').left;\n      return _moveToColumn(cm, repeat);\n    },\n    moveToEol: function moveToEol(cm, head, motionArgs, vim) {\n      var cur = head;\n      vim.lastHPos = Infinity;\n      var retval = Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      var end = cm.clipPos(retval);\n      end.ch--;\n      vim.lastHSPos = cm.charCoords(end, 'div').left;\n      return retval;\n    },\n    moveToFirstNonWhiteSpaceCharacter: function moveToFirstNonWhiteSpaceCharacter(cm, head) {\n      // Go to the start of the line where the text begins, or the end for\n      // whitespace-only lines\n      var cursor = head;\n      return Pos(cursor.line, cm.findFirstNonWhiteSpaceCharacter(cursor.line));\n    },\n    moveToMatchedSymbol: function moveToMatchedSymbol(cm, head) {\n      var cursor = head;\n      var line = cursor.line;\n      var ch = cursor.ch;\n      var lineText = cm.getLine(line); // var symbol;\n      // for (; ch < lineText.length; ch++) {\n      //   symbol = lineText.charAt(ch);\n      //   if (symbol && isMatchableSymbol(symbol)) {\n      //     var style = cm.getTokenTypeAt(Pos(line, ch + 1));\n      //     if (style !== \"string\" && style !== \"comment\") {\n      //       break;\n      //     }\n      //   }\n      // }\n\n      if (ch < lineText.length) {\n        var matched = cm.findMatchingBracket(Pos(line, ch));\n        return matched.to;\n      } else {\n        return cursor;\n      }\n    },\n    moveToStartOfLine: function moveToStartOfLine(_cm, head) {\n      return Pos(head.line, 0);\n    },\n    moveToLineOrEdgeOfDocument: function moveToLineOrEdgeOfDocument(cm, _head, motionArgs) {\n      var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();\n\n      if (motionArgs.repeatIsExplicit) {\n        lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');\n      }\n\n      return Pos(lineNum, cm.findFirstNonWhiteSpaceCharacter(lineNum));\n    },\n    textObjectManipulation: function textObjectManipulation(cm, head, motionArgs, vim) {\n      // TODO: lots of possible exceptions that can be thrown here. Try da(\n      //     outside of a () block.\n      // TODO: adding <> >< to this map doesn't work, presumably because\n      // they're operators\n      var mirroredPairs = {\n        '(': ')',\n        ')': '(',\n        '{': '}',\n        '}': '{',\n        '[': ']',\n        ']': '['\n      };\n      var selfPaired = {\n        '\\'': true,\n        '\"': true\n      };\n      var character = motionArgs.selectedCharacter; // 'b' refers to  '()' block.\n      // 'B' refers to  '{}' block.\n\n      if (character == 'b') {\n        character = '(';\n      } else if (character == 'B') {\n        character = '{';\n      } // Inclusive is the difference between a and i\n      // TODO: Instead of using the additional text object map to perform text\n      //     object operations, merge the map into the defaultKeyMap and use\n      //     motionArgs to define behavior. Define separate entries for 'aw',\n      //     'iw', 'a[', 'i[', etc.\n\n\n      var inclusive = !motionArgs.textObjectInner;\n      var tmp;\n\n      if (mirroredPairs[character]) {\n        tmp = selectCompanionObject(cm, head, character, inclusive);\n      } else if (selfPaired[character]) {\n        tmp = findBeginningAndEnd(cm, head, character, inclusive);\n      } else if (character === 'W') {\n        tmp = expandWordUnderCursor(cm, inclusive, true\n        /** forward */\n        , true\n        /** bigWord */\n        );\n      } else if (character === 'w') {\n        tmp = expandWordUnderCursor(cm, inclusive, true\n        /** forward */\n        , false\n        /** bigWord */\n        );\n      } else if (character === 'p') {\n        tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);\n        motionArgs.linewise = true;\n\n        if (vim.visualMode) {\n          if (!vim.visualLine) {\n            vim.visualLine = true;\n          }\n        } else {\n          var operatorArgs = vim.inputState.operatorArgs;\n\n          if (operatorArgs) {\n            operatorArgs.linewise = true;\n          }\n\n          tmp.end.line--;\n        }\n      } else {\n        // No text object defined for this, don't move.\n        return null;\n      }\n\n      if (!cm.state.vim.visualMode) {\n        return [tmp.start, tmp.end];\n      } else {\n        return expandSelection(cm, tmp.start, tmp.end);\n      }\n    },\n    repeatLastCharacterSearch: function repeatLastCharacterSearch(cm, head, motionArgs) {\n      var lastSearch = vimGlobalState.lastCharacterSearch;\n      var repeat = motionArgs.repeat;\n      var forward = motionArgs.forward === lastSearch.forward;\n      var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);\n      cm.moveH(-1 * increment, 'char');\n      motionArgs.inclusive = forward ? true : false;\n\n      var curEnd = _moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);\n\n      if (!curEnd) {\n        cm.moveH(increment, 'char');\n        return head;\n      }\n\n      curEnd.ch += increment;\n      return curEnd;\n    }\n  };\n\n  function defineMotion(name, fn) {\n    motions[name] = fn;\n  }\n\n  function fillArray(val, times) {\n    var arr = [];\n\n    for (var i = 0; i < times; i++) {\n      arr.push(val);\n    }\n\n    return arr;\n  }\n  /**\n   * An operator acts on a text selection. It receives the list of selections\n   * as input. The corresponding CodeMirror selection is guaranteed to\n  * match the input selection.\n   */\n\n\n  var operators = {\n    change: function change(cm, args, ranges) {\n      var finalHead, text;\n      var vim = cm.state.vim;\n      vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock = vim.visualBlock;\n\n      if (!vim.visualMode) {\n        var anchor = ranges[0].anchor,\n            head = ranges[0].head;\n        text = cm.getRange(anchor, head);\n        var lastState = vim.lastEditInputState || {};\n\n        if (lastState.motion == \"moveByWords\" && !isWhiteSpaceString(text)) {\n          // Exclude trailing whitespace if the range is not all whitespace.\n          var match = /\\s+$/.exec(text);\n\n          if (match && lastState.motionArgs && lastState.motionArgs.forward) {\n            head = offsetCursor(head, 0, -match[0].length);\n            text = text.slice(0, -match[0].length);\n          }\n        }\n\n        var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);\n        var wasLastLine = cm.firstLine() == cm.lastLine();\n\n        if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {\n          cm.replaceRange('', prevLineEnd, head);\n        } else {\n          cm.replaceRange('', anchor, head);\n        }\n\n        if (args.linewise) {\n          // Push the next line back down, if there is a next line.\n          if (!wasLastLine) {\n            cm.setCursor(prevLineEnd);\n\n            _cm_adapter[\"default\"].commands.newlineAndIndent(cm);\n          } // make sure cursor ends up at the end of the line.\n\n\n          anchor.ch = Number.MAX_VALUE;\n        }\n\n        finalHead = anchor;\n      } else {\n        text = cm.getSelection();\n        var replacement = fillArray('', ranges.length);\n        cm.replaceSelections(replacement);\n        finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n      }\n\n      vimGlobalState.registerController.pushText(args.registerName, 'change', text, args.linewise, ranges.length > 1);\n      actions.enterInsertMode(cm, {\n        head: finalHead\n      }, cm.state.vim);\n    },\n    // delete is a javascript keyword.\n    'delete': function _delete(cm, args, ranges) {\n      // Add to the undo stack explicitly so that this delete is recorded as a\n      // specific action instead of being bundled with generic other edits.\n      cm.pushUndoStop();\n      var finalHead, text;\n      var vim = cm.state.vim;\n\n      if (!vim.visualBlock) {\n        var anchor = ranges[0].anchor,\n            head = ranges[0].head;\n\n        if (args.linewise && head.line != cm.firstLine() && anchor.line == cm.lastLine() && anchor.line == head.line - 1) {\n          // Special case for dd on last line (and first line).\n          if (anchor.line == cm.firstLine()) {\n            anchor.ch = 0;\n          } else {\n            anchor = Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));\n          }\n        }\n\n        text = cm.getRange(anchor, head);\n        cm.replaceRange('', anchor, head);\n        finalHead = anchor;\n\n        if (args.linewise) {\n          finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);\n        }\n      } else {\n        text = cm.getSelection();\n        var replacement = fillArray('', ranges.length);\n        cm.replaceSelections(replacement);\n        finalHead = ranges[0].anchor;\n      }\n\n      vimGlobalState.registerController.pushText(args.registerName, 'delete', text, args.linewise, vim.visualBlock);\n      var includeLineBreak = vim.insertMode;\n      return clipCursorToContent(cm, finalHead, includeLineBreak);\n    },\n    indent: function indent(cm, args, ranges) {\n      var vim = cm.state.vim;\n      var startLine = ranges[0].anchor.line;\n      var endLine = vim.visualBlock ? ranges[ranges.length - 1].anchor.line : ranges[0].head.line; // In visual mode, n> shifts the selection right n times, instead of\n      // shifting n lines right once.\n\n      var repeat = vim.visualMode ? args.repeat : 1;\n\n      if (args.linewise) {\n        // The only way to delete a newline is to delete until the start of\n        // the next line, so in linewise mode evalInput will include the next\n        // line. We don't want this in indent, so we go back a line.\n        endLine--;\n      }\n\n      cm.pushUndoStop();\n\n      for (var i = startLine; i <= endLine; i++) {\n        for (var j = 0; j < repeat; j++) {\n          cm.indentLine(i, args.indentRight);\n        }\n      }\n\n      cm.pushUndoStop();\n      return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n    },\n    changeCase: function changeCase(cm, args, ranges, oldAnchor, newHead) {\n      var selections = cm.getSelections();\n      var swapped = [];\n      var toLower = args.toLower;\n\n      for (var j = 0; j < selections.length; j++) {\n        var toSwap = selections[j];\n        var text = '';\n\n        if (toLower === true) {\n          text = toSwap.toLowerCase();\n        } else if (toLower === false) {\n          text = toSwap.toUpperCase();\n        } else {\n          for (var i = 0; i < toSwap.length; i++) {\n            var character = toSwap.charAt(i);\n            text += isUpperCase(character) ? character.toLowerCase() : character.toUpperCase();\n          }\n        }\n\n        swapped.push(text);\n      }\n\n      cm.replaceSelections(swapped);\n\n      if (args.shouldMoveCursor) {\n        return newHead;\n      } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);\n      } else if (args.linewise) {\n        return oldAnchor;\n      } else {\n        return cursorMin(ranges[0].anchor, ranges[0].head);\n      }\n    },\n    yank: function yank(cm, args, ranges, oldAnchor) {\n      var vim = cm.state.vim;\n      var text = cm.getSelection();\n      var endPos = vim.visualMode ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor) : oldAnchor;\n      vimGlobalState.registerController.pushText(args.registerName, 'yank', text, args.linewise, vim.visualBlock);\n      return endPos;\n    }\n  };\n\n  function defineOperator(name, fn) {\n    operators[name] = fn;\n  }\n\n  var actions = {\n    jumpListWalk: function jumpListWalk(cm, actionArgs, vim) {\n      if (vim.visualMode) {\n        return;\n      }\n\n      var repeat = actionArgs.repeat;\n      var forward = actionArgs.forward;\n      var jumpList = vimGlobalState.jumpList;\n      var mark = jumpList.move(cm, forward ? repeat : -repeat);\n      var markPos = mark ? mark.find() : undefined;\n      markPos = markPos ? markPos : cm.getCursor();\n      cm.setCursor(markPos);\n    },\n    scroll: function scroll(cm, actionArgs, vim) {\n      if (vim.visualMode) {\n        return;\n      }\n\n      var repeat = actionArgs.repeat || 1;\n      var lineHeight = cm.defaultTextHeight();\n      var top = cm.getScrollInfo().top;\n      var delta = lineHeight * repeat;\n      var newPos = actionArgs.forward ? top + delta : top - delta;\n      var cursor = copyCursor(cm.getCursor());\n      var cursorCoords = cm.charCoords(cursor, 'local');\n\n      if (actionArgs.forward) {\n        if (newPos > cursorCoords.top) {\n          cursor.line += (newPos - cursorCoords.top) / lineHeight;\n          cursor.line = Math.ceil(cursor.line);\n          cm.setCursor(cursor);\n          cursorCoords = cm.charCoords(cursor, 'local');\n          cm.scrollTo(null, cursorCoords.top);\n        } else {\n          // Cursor stays within bounds.  Just reposition the scroll window.\n          cm.scrollTo(null, newPos);\n        }\n      } else {\n        var newBottom = newPos + cm.getScrollInfo().clientHeight;\n\n        if (newBottom < cursorCoords.bottom) {\n          cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;\n          cursor.line = Math.floor(cursor.line);\n          cm.setCursor(cursor);\n          cursorCoords = cm.charCoords(cursor, 'local');\n          cm.scrollTo(null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);\n        } else {\n          // Cursor stays within bounds.  Just reposition the scroll window.\n          cm.scrollTo(null, newPos);\n        }\n      }\n    },\n    scrollToCursor: function scrollToCursor(cm, actionArgs) {\n      // var lineNum = cm.getCursor().line;\n      // var charCoords = cm.charCoords(Pos(lineNum, 0), 'local');\n      // var height = cm.getScrollInfo().clientHeight;\n      // var y = charCoords.top;\n      // var lineHeight = charCoords.bottom - y;\n      // switch (actionArgs.position) {\n      //   case 'center': y = y - (height / 2) + lineHeight;\n      //     break;\n      //   case 'bottom': y = y - height + lineHeight;\n      //     break;\n      // }\n      // cm.scrollTo(null, y);\n      cm.moveCurrentLineTo(actionArgs.position);\n    },\n    replayMacro: function replayMacro(cm, actionArgs, vim) {\n      var registerName = actionArgs.selectedCharacter;\n      var repeat = actionArgs.repeat;\n      var macroModeState = vimGlobalState.macroModeState;\n\n      if (registerName == '@') {\n        registerName = macroModeState.latestRegister;\n      }\n\n      while (repeat--) {\n        executeMacroRegister(cm, vim, macroModeState, registerName);\n      }\n    },\n    enterMacroRecordMode: function enterMacroRecordMode(cm, actionArgs) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var registerName = actionArgs.selectedCharacter;\n\n      if (vimGlobalState.registerController.isValidRegister(registerName)) {\n        macroModeState.enterMacroRecordMode(cm, registerName);\n      }\n    },\n    toggleOverwrite: function toggleOverwrite(cm) {\n      if (!cm.replaceMode) {\n        cm.toggleOverwrite(true);\n        cm.setOption('keyMap', 'vim-replace');\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"replace\"\n        });\n      } else {\n        cm.toggleOverwrite(false);\n        cm.setOption('keyMap', 'vim-insert');\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"insert\"\n        });\n      }\n    },\n    enterInsertMode: function enterInsertMode(cm, actionArgs, vim) {\n      if (cm.getOption('readOnly')) {\n        return;\n      }\n\n      vim.insertMode = true;\n      vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;\n      cm.leaveVimMode();\n      var insertAt = actionArgs ? actionArgs.insertAt : null;\n      var sel = vim.sel;\n      var head = actionArgs.head || cm.getCursor('head');\n      var height = cm.listSelections().length;\n\n      if (insertAt == 'eol') {\n        head = Pos(head.line, lineLength(cm, head.line));\n      } else if (insertAt == 'charAfter') {\n        head = offsetCursor(head, 0, 1);\n      } else if (insertAt == 'firstNonBlank') {\n        head = motions.moveToFirstNonWhiteSpaceCharacter(cm, head);\n      } else if (insertAt == 'startOfSelectedArea') {\n        if (!vim.visualBlock) {\n          if (sel.head.line < sel.anchor.line) {\n            head = sel.head;\n          } else {\n            head = Pos(sel.anchor.line, 0);\n          }\n        } else {\n          head = Pos(Math.min(sel.head.line, sel.anchor.line), Math.min(sel.head.ch, sel.anchor.ch));\n          height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n        }\n      } else if (insertAt == 'endOfSelectedArea') {\n        if (!vim.visualBlock) {\n          if (sel.head.line >= sel.anchor.line) {\n            head = offsetCursor(sel.head, 0, 1);\n          } else {\n            head = Pos(sel.anchor.line, 0);\n          }\n        } else {\n          head = Pos(Math.min(sel.head.line, sel.anchor.line), Math.max(sel.head.ch + 1, sel.anchor.ch));\n          height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n        }\n      } else if (insertAt == 'inplace') {\n        if (vim.visualMode) {\n          return;\n        }\n      }\n\n      cm.setOption('disableInput', false);\n\n      if (vim.visualMode) {\n        exitVisualMode(cm);\n      }\n\n      if (actionArgs && actionArgs.replace) {\n        // Handle Replace-mode as a special case of insert mode.\n        cm.toggleOverwrite(true);\n        cm.setOption('keyMap', 'vim-replace');\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"replace\"\n        });\n      } else {\n        cm.toggleOverwrite(false);\n        cm.setOption('keyMap', 'vim-insert');\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"insert\"\n        });\n      }\n\n      if (!vimGlobalState.macroModeState.isPlaying) {\n        // Only record if not replaying.\n        cm.on('change', onChange);\n\n        _cm_adapter[\"default\"].on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n      }\n\n      selectForInsert(cm, head, height);\n    },\n    toggleVisualMode: function toggleVisualMode(cm, actionArgs, vim) {\n      var repeat = actionArgs.repeat;\n      var anchor = cm.getCursor();\n      var head; // TODO: The repeat should actually select number of characters/lines\n      //     equal to the repeat times the size of the previous visual\n      //     operation.\n\n      if (!vim.visualMode) {\n        // Entering visual mode\n        vim.visualMode = true;\n        vim.visualLine = !!actionArgs.linewise;\n        vim.visualBlock = !!actionArgs.blockwise;\n        head = clipCursorToContent(cm, Pos(anchor.line, anchor.ch + repeat - 1), true\n        /** includeLineBreak */\n        );\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"visual\",\n          subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"\n        });\n\n        updateCmSelection(cm);\n        updateMark(cm, vim, '<', cursorMin(anchor, head));\n        updateMark(cm, vim, '>', cursorMax(anchor, head));\n      } else if (vim.visualLine ^ actionArgs.linewise || vim.visualBlock ^ actionArgs.blockwise) {\n        // Toggling between modes\n        vim.visualLine = !!actionArgs.linewise;\n        vim.visualBlock = !!actionArgs.blockwise;\n\n        _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n          mode: \"visual\",\n          subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"\n        });\n\n        updateCmSelection(cm);\n      } else {\n        exitVisualMode(cm);\n      }\n    },\n    reselectLastSelection: function reselectLastSelection(cm, _actionArgs, vim) {\n      var lastSelection = vim.lastSelection;\n\n      if (vim.visualMode) {\n        updateLastSelection(cm, vim);\n      }\n\n      if (lastSelection) {\n        var anchor = lastSelection.anchorMark.find();\n        var head = lastSelection.headMark.find();\n\n        if (!anchor || !head) {\n          // If the marks have been destroyed due to edits, do nothing.\n          return;\n        }\n\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n        vim.visualMode = true;\n        vim.visualLine = lastSelection.visualLine;\n        vim.visualBlock = lastSelection.visualBlock;\n        updateCmSelection(cm);\n        updateMark(cm, vim, '<', cursorMin(anchor, head));\n        updateMark(cm, vim, '>', cursorMax(anchor, head));\n\n        _cm_adapter[\"default\"].signal(cm, 'vim-mode-change', {\n          mode: 'visual',\n          subMode: vim.visualLine ? 'linewise' : vim.visualBlock ? 'blockwise' : ''\n        });\n      }\n    },\n    joinLines: function joinLines(cm, actionArgs, vim) {\n      var curStart, curEnd;\n\n      if (vim.visualMode) {\n        curStart = cm.getCursor('anchor');\n        curEnd = cm.getCursor('head');\n\n        if (cursorIsBefore(curEnd, curStart)) {\n          var tmp = curEnd;\n          curEnd = curStart;\n          curStart = tmp;\n        }\n\n        curEnd.ch = lineLength(cm, curEnd.line) - 1;\n      } else {\n        // Repeat is the number of lines to join. Minimum 2 lines.\n        var repeat = Math.max(actionArgs.repeat, 2);\n        curStart = cm.getCursor();\n        curEnd = clipCursorToContent(cm, Pos(curStart.line + repeat - 1, Infinity));\n      }\n\n      var finalCh = 0;\n\n      for (var i = curStart.line; i < curEnd.line; i++) {\n        finalCh = lineLength(cm, curStart.line);\n        var tmp = Pos(curStart.line + 1, lineLength(cm, curStart.line + 1));\n        var text = cm.getRange(curStart, tmp);\n        text = text.replace(/\\n\\s*/g, ' ');\n        cm.replaceRange(text, curStart, tmp);\n      }\n\n      var curFinalPos = Pos(curStart.line, finalCh);\n\n      if (vim.visualMode) {\n        exitVisualMode(cm, false);\n      }\n\n      cm.setCursor(curFinalPos);\n    },\n    newLineAndEnterInsertMode: function newLineAndEnterInsertMode(cm, actionArgs, vim) {\n      vim.insertMode = true;\n      var insertAt = copyCursor(cm.getCursor());\n\n      if (insertAt.line === cm.firstLine() && !actionArgs.after) {\n        // Special case for inserting newline before start of document.\n        cm.replaceRange('\\n', Pos(cm.firstLine(), 0));\n        cm.setCursor(cm.firstLine(), 0);\n      } else {\n        insertAt.line = actionArgs.after ? insertAt.line : insertAt.line - 1;\n        insertAt.ch = lineLength(cm, insertAt.line);\n        cm.setCursor(insertAt);\n        var newlineFn = _cm_adapter[\"default\"].commands.newlineAndIndentContinueComment || _cm_adapter[\"default\"].commands.newlineAndIndent;\n        newlineFn(cm);\n      }\n\n      this.enterInsertMode(cm, {\n        repeat: actionArgs.repeat\n      }, vim);\n    },\n    paste: function paste(cm, actionArgs, vim) {\n      var cur = copyCursor(cm.getCursor());\n      var register = vimGlobalState.registerController.getRegister(actionArgs.registerName);\n      var text = register.toString();\n\n      if (!text) {\n        return;\n      }\n\n      if (actionArgs.matchIndent) {\n        var tabSize = cm.getOption(\"tabSize\"); // length that considers tabs and tabSize\n\n        var whitespaceLength = function whitespaceLength(str) {\n          var tabs = str.split(\"\\t\").length - 1;\n          var spaces = str.split(\" \").length - 1;\n          return tabs * tabSize + spaces * 1;\n        };\n\n        var currentLine = cm.getLine(cm.getCursor().line);\n        var indent = whitespaceLength(currentLine.match(/^\\s*/)[0]); // chomp last newline b/c don't want it to match /^\\s*/gm\n\n        var chompedText = text.replace(/\\n$/, '');\n        var wasChomped = text !== chompedText;\n        var firstIndent = whitespaceLength(text.match(/^\\s*/)[0]);\n        var text = chompedText.replace(/^\\s*/gm, function (wspace) {\n          var newIndent = indent + (whitespaceLength(wspace) - firstIndent);\n\n          if (newIndent < 0) {\n            return \"\";\n          } else if (cm.getOption(\"indentWithTabs\")) {\n            var quotient = Math.floor(newIndent / tabSize);\n            return Array(quotient + 1).join('\\t');\n          } else {\n            return Array(newIndent + 1).join(' ');\n          }\n        });\n        text += wasChomped ? \"\\n\" : \"\";\n      }\n\n      if (actionArgs.repeat > 1) {\n        var text = Array(actionArgs.repeat + 1).join(text);\n      }\n\n      var linewise = register.linewise;\n      var blockwise = register.blockwise;\n\n      if (linewise) {\n        if (vim.visualMode) {\n          text = vim.visualLine ? text.slice(0, -1) : '\\n' + text.slice(0, text.length - 1) + '\\n';\n        } else if (actionArgs.after) {\n          // Move the newline at the end to the start instead, and paste just\n          // before the newline character of the line we are on right now.\n          text = '\\n' + text.slice(0, text.length - 1);\n          cur.ch = lineLength(cm, cur.line);\n        } else {\n          cur.ch = 0;\n        }\n      } else {\n        if (blockwise) {\n          text = text.split('\\n');\n\n          for (var i = 0; i < text.length; i++) {\n            text[i] = text[i] == '' ? ' ' : text[i];\n          }\n        }\n\n        cur.ch += actionArgs.after ? 1 : 0;\n      }\n\n      var curPosFinal;\n      var idx;\n\n      if (vim.visualMode) {\n        //  save the pasted text for reselection if the need arises\n        vim.lastPastedText = text;\n        var lastSelectionCurEnd;\n        var selectedArea = getSelectedAreaRange(cm, vim);\n        var selectionStart = selectedArea[0];\n        var selectionEnd = selectedArea[1];\n        var selectedText = cm.getSelection();\n        var selections = cm.listSelections();\n        var emptyStrings = new Array(selections.length).join('1').split('1'); // save the curEnd marker before it get cleared due to cm.replaceRange.\n\n        if (vim.lastSelection) {\n          lastSelectionCurEnd = vim.lastSelection.headMark.find();\n        } // push the previously selected text to unnamed register\n\n\n        vimGlobalState.registerController.unnamedRegister.setText(selectedText);\n\n        if (blockwise) {\n          // first delete the selected text\n          cm.replaceSelections(emptyStrings); // Set new selections as per the block length of the yanked text\n\n          selectionEnd = Pos(selectionStart.line + text.length - 1, selectionStart.ch);\n          cm.setCursor(selectionStart);\n          selectBlock(cm, selectionEnd);\n          cm.replaceSelections(text);\n          curPosFinal = selectionStart;\n        } else if (vim.visualBlock) {\n          cm.replaceSelections(emptyStrings);\n          cm.setCursor(selectionStart);\n          cm.replaceRange(text, selectionStart, selectionStart);\n          curPosFinal = selectionStart;\n        } else {\n          cm.replaceRange(text, selectionStart, selectionEnd);\n          curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);\n        } // restore the the curEnd marker\n\n\n        if (lastSelectionCurEnd) {\n          vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);\n        }\n\n        if (linewise) {\n          curPosFinal.ch = 0;\n        }\n      } else {\n        if (blockwise) {\n          cm.setCursor(cur);\n\n          for (var i = 0; i < text.length; i++) {\n            var line = cur.line + i;\n\n            if (line > cm.lastLine()) {\n              cm.replaceRange('\\n', Pos(line, 0));\n            }\n\n            var lastCh = lineLength(cm, line);\n\n            if (lastCh < cur.ch) {\n              extendLineToColumn(cm, line, cur.ch);\n            }\n          }\n\n          cm.setCursor(cur);\n          selectBlock(cm, Pos(cur.line + text.length - 1, cur.ch));\n          cm.replaceSelections(text);\n          curPosFinal = cur;\n        } else {\n          cm.replaceRange(text, cur); // Now fine tune the cursor to where we want it.\n\n          if (linewise && actionArgs.after) {\n            curPosFinal = Pos(cur.line + 1, cm.findFirstNonWhiteSpaceCharacter(cur.line + 1));\n          } else if (linewise && !actionArgs.after) {\n            curPosFinal = Pos(cur.line, cm.findFirstNonWhiteSpaceCharacter(cur.line));\n          } else if (!linewise && actionArgs.after) {\n            idx = cm.indexFromPos(cur);\n            curPosFinal = cm.posFromIndex(idx + text.length - 1);\n          } else {\n            idx = cm.indexFromPos(cur);\n            curPosFinal = cm.posFromIndex(idx + text.length);\n          }\n        }\n      }\n\n      if (vim.visualMode) {\n        exitVisualMode(cm, false);\n      }\n\n      cm.setCursor(curPosFinal);\n    },\n    undo: function undo(cm, actionArgs) {\n      cm.operation(function () {\n        repeatFn(cm, _cm_adapter[\"default\"].commands.undo, actionArgs.repeat)();\n        cm.setCursor(cm.getCursor('anchor'));\n      });\n    },\n    redo: function redo(cm, actionArgs) {\n      repeatFn(cm, _cm_adapter[\"default\"].commands.redo, actionArgs.repeat)();\n    },\n    setRegister: function setRegister(_cm, actionArgs, vim) {\n      vim.inputState.registerName = actionArgs.selectedCharacter;\n    },\n    setMark: function setMark(cm, actionArgs, vim) {\n      var markName = actionArgs.selectedCharacter;\n      updateMark(cm, vim, markName, cm.getCursor());\n    },\n    replace: function replace(cm, actionArgs, vim) {\n      var replaceWith = actionArgs.selectedCharacter;\n      var curStart = cm.getCursor();\n      var replaceTo;\n      var curEnd;\n      var selections = cm.listSelections();\n\n      if (vim.visualMode) {\n        curStart = cm.getCursor('start');\n        curEnd = cm.getCursor('end');\n      } else {\n        var line = cm.getLine(curStart.line);\n        replaceTo = curStart.ch + actionArgs.repeat;\n\n        if (replaceTo > line.length) {\n          replaceTo = line.length;\n        }\n\n        curEnd = Pos(curStart.line, replaceTo);\n      }\n\n      if (replaceWith == '\\n') {\n        if (!vim.visualMode) cm.replaceRange('', curStart, curEnd); // special case, where vim help says to replace by just one line-break\n\n        (_cm_adapter[\"default\"].commands.newlineAndIndentContinueComment || _cm_adapter[\"default\"].commands.newlineAndIndent)(cm);\n      } else {\n        var replaceWithStr = cm.getRange(curStart, curEnd); //replace all characters in range by selected, but keep linebreaks\n\n        replaceWithStr = replaceWithStr.replace(/[^\\n]/g, replaceWith);\n\n        if (vim.visualBlock) {\n          // Tabs are split in visua block before replacing\n          var spaces = new Array(cm.getOption(\"tabSize\") + 1).join(' ');\n          replaceWithStr = cm.getSelection();\n          replaceWithStr = replaceWithStr.replace(/\\t/g, spaces).replace(/[^\\n]/g, replaceWith).split('\\n');\n          cm.replaceSelections(replaceWithStr);\n        } else {\n          cm.replaceRange(replaceWithStr, curStart, curEnd);\n        }\n\n        if (vim.visualMode) {\n          curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ? selections[0].anchor : selections[0].head;\n          cm.setCursor(curStart);\n          exitVisualMode(cm, false);\n        } else {\n          cm.setCursor(offsetCursor(curEnd, 0, -1));\n        }\n      }\n    },\n    incrementNumberToken: function incrementNumberToken(cm, actionArgs) {\n      var cur = cm.getCursor();\n      var lineStr = cm.getLine(cur.line);\n      var re = /(-?)(?:(0x)([\\da-f]+)|(0b|0|)(\\d+))/gi;\n      var match;\n      var start;\n      var end;\n      var numberStr;\n\n      while ((match = re.exec(lineStr)) !== null) {\n        start = match.index;\n        end = start + match[0].length;\n        if (cur.ch < end) break;\n      }\n\n      if (!actionArgs.backtrack && end <= cur.ch) return;\n\n      if (match) {\n        var baseStr = match[2] || match[4];\n        var digits = match[3] || match[5];\n        var increment = actionArgs.increase ? 1 : -1;\n        var base = {\n          '0b': 2,\n          '0': 8,\n          '': 10,\n          '0x': 16\n        }[baseStr.toLowerCase()];\n        var number = parseInt(match[1] + digits, base) + increment * actionArgs.repeat;\n        numberStr = number.toString(base);\n        var zeroPadding = baseStr ? new Array(digits.length - numberStr.length + 1 + match[1].length).join('0') : '';\n\n        if (numberStr.charAt(0) === '-') {\n          numberStr = '-' + baseStr + zeroPadding + numberStr.substr(1);\n        } else {\n          numberStr = baseStr + zeroPadding + numberStr;\n        }\n\n        var from = Pos(cur.line, start);\n        var to = Pos(cur.line, end);\n        cm.replaceRange(numberStr, from, to);\n      } else {\n        return;\n      }\n\n      cm.setCursor(Pos(cur.line, start + numberStr.length - 1));\n    },\n    repeatLastEdit: function repeatLastEdit(cm, actionArgs, vim) {\n      var lastEditInputState = vim.lastEditInputState;\n\n      if (!lastEditInputState) {\n        return;\n      }\n\n      var repeat = actionArgs.repeat;\n\n      if (repeat && actionArgs.repeatIsExplicit) {\n        vim.lastEditInputState.repeatOverride = repeat;\n      } else {\n        repeat = vim.lastEditInputState.repeatOverride || repeat;\n      }\n\n      _repeatLastEdit(cm, vim, repeat, false\n      /** repeatForInsert */\n      );\n    },\n    indent: function indent(cm, actionArgs) {\n      cm.indentLine(cm.getCursor().line, actionArgs.indentRight);\n    },\n    exitInsertMode: exitInsertMode\n  };\n\n  function defineAction(name, fn) {\n    actions[name] = fn;\n  }\n  /*\n   * Below are miscellaneous utility functions used by vim.js\n   */\n\n  /**\n   * Clips cursor to ensure that line is within the buffer's range\n   * If includeLineBreak is true, then allow cur.ch == lineLength.\n   */\n\n\n  function clipCursorToContent(cm, cur, includeLineBreak) {\n    var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine());\n    var maxCh = lineLength(cm, line) - 1;\n    maxCh = includeLineBreak ? maxCh + 1 : maxCh;\n    var ch = Math.min(Math.max(0, cur.ch), maxCh);\n    return Pos(line, ch);\n  }\n\n  function copyArgs(args) {\n    var ret = {};\n\n    for (var prop in args) {\n      if (args.hasOwnProperty(prop)) {\n        ret[prop] = args[prop];\n      }\n    }\n\n    return ret;\n  }\n\n  function offsetCursor(cur, offsetLine, offsetCh) {\n    if (_typeof(offsetLine) === 'object') {\n      offsetCh = offsetLine.ch;\n      offsetLine = offsetLine.line;\n    }\n\n    return Pos(cur.line + offsetLine, cur.ch + offsetCh);\n  }\n\n  function getOffset(anchor, head) {\n    return {\n      line: head.line - anchor.line,\n      ch: head.line - anchor.line\n    };\n  }\n\n  function commandMatches(keys, keyMap, context, inputState) {\n    // Partial matches are not applied. They inform the key handler\n    // that the current key sequence is a subsequence of a valid key\n    // sequence, so that the key buffer is not cleared.\n    var match,\n        partial = [],\n        full = [];\n\n    for (var i = 0; i < keyMap.length; i++) {\n      var command = keyMap[i];\n\n      if (context == 'insert' && command.context != 'insert' || command.context && command.context != context || inputState.operator && command.type == 'action' || !(match = commandMatch(keys, command.keys))) {\n        continue;\n      }\n\n      if (match == 'partial') {\n        partial.push(command);\n      }\n\n      if (match == 'full') {\n        full.push(command);\n      }\n    }\n\n    return {\n      partial: partial.length && partial,\n      full: full.length && full\n    };\n  }\n\n  function commandMatch(pressed, mapped) {\n    if (mapped.slice(-11) == '<character>') {\n      // Last character matches anything.\n      var prefixLen = mapped.length - 11;\n      var pressedPrefix = pressed.slice(0, prefixLen);\n      var mappedPrefix = mapped.slice(0, prefixLen);\n      return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' : mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;\n    } else {\n      return pressed == mapped ? 'full' : mapped.indexOf(pressed) == 0 ? 'partial' : false;\n    }\n  }\n\n  function lastChar(keys) {\n    var match = /^.*(<[^>]+>)$/.exec(keys);\n    var selectedCharacter = match ? match[1] : keys.slice(-1);\n\n    if (selectedCharacter.length > 1) {\n      switch (selectedCharacter) {\n        case '<CR>':\n          selectedCharacter = '\\n';\n          break;\n\n        case '<Space>':\n          selectedCharacter = ' ';\n          break;\n\n        default:\n          selectedCharacter = '';\n          break;\n      }\n    }\n\n    return selectedCharacter;\n  }\n\n  function repeatFn(cm, fn, repeat) {\n    return function () {\n      for (var i = 0; i < repeat; i++) {\n        fn(cm);\n      }\n    };\n  }\n\n  function copyCursor(cur) {\n    return Pos(cur.line, cur.ch);\n  }\n\n  function cursorEqual(cur1, cur2) {\n    return cur1.ch == cur2.ch && cur1.line == cur2.line;\n  }\n\n  function cursorIsBefore(cur1, cur2) {\n    if (cur1.line < cur2.line) {\n      return true;\n    }\n\n    if (cur1.line == cur2.line && cur1.ch < cur2.ch) {\n      return true;\n    }\n\n    return false;\n  }\n\n  function cursorMin(cur1, cur2) {\n    if (arguments.length > 2) {\n      cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));\n    }\n\n    return cursorIsBefore(cur1, cur2) ? cur1 : cur2;\n  }\n\n  function cursorMax(cur1, cur2) {\n    if (arguments.length > 2) {\n      cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));\n    }\n\n    return cursorIsBefore(cur1, cur2) ? cur2 : cur1;\n  }\n\n  function cursorIsBetween(cur1, cur2, cur3) {\n    // returns true if cur2 is between cur1 and cur3.\n    var cur1before2 = cursorIsBefore(cur1, cur2);\n    var cur2before3 = cursorIsBefore(cur2, cur3);\n    return cur1before2 && cur2before3;\n  }\n\n  function lineLength(cm, lineNum) {\n    return cm.getLine(lineNum).length;\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  function escapeRegex(s) {\n    return s.replace(/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g, '\\\\$1');\n  }\n\n  function extendLineToColumn(cm, lineNum, column) {\n    var endCh = lineLength(cm, lineNum);\n    var spaces = new Array(column - endCh + 1).join(' ');\n    cm.setCursor(Pos(lineNum, endCh));\n    cm.replaceRange(spaces, cm.getCursor());\n  } // This functions selects a rectangular block\n  // of text with selectionEnd as any of its corner\n  // Height of block:\n  // Difference in selectionEnd.line and first/last selection.line\n  // Width of the block:\n  // Distance between selectionEnd.ch and any(first considered here) selection.ch\n\n\n  function selectBlock(cm, selectionEnd) {\n    var selections = [],\n        ranges = cm.listSelections();\n    var head = copyCursor(cm.clipPos(selectionEnd));\n    var isClipped = !cursorEqual(selectionEnd, head);\n    var curHead = cm.getCursor('head');\n    var primIndex = getIndex(ranges, curHead);\n    var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);\n    var max = ranges.length - 1;\n    var index = max - primIndex > primIndex ? max : 0;\n    var base = ranges[index].anchor;\n    var firstLine = Math.min(base.line, head.line);\n    var lastLine = Math.max(base.line, head.line);\n    var baseCh = base.ch,\n        headCh = head.ch;\n    var dir = ranges[index].head.ch - baseCh;\n    var newDir = headCh - baseCh;\n\n    if (dir > 0 && newDir <= 0) {\n      baseCh++;\n\n      if (!isClipped) {\n        headCh--;\n      }\n    } else if (dir < 0 && newDir >= 0) {\n      baseCh--;\n\n      if (!wasClipped) {\n        headCh++;\n      }\n    } else if (dir < 0 && newDir == -1) {\n      baseCh--;\n      headCh++;\n    }\n\n    for (var line = firstLine; line <= lastLine; line++) {\n      var range = {\n        anchor: new Pos(line, baseCh),\n        head: new Pos(line, headCh)\n      };\n      selections.push(range);\n    }\n\n    cm.setSelections(selections);\n    selectionEnd.ch = headCh;\n    base.ch = baseCh;\n    return base;\n  }\n\n  function selectForInsert(cm, head, height) {\n    var sel = [];\n\n    for (var i = 0; i < height; i++) {\n      var lineHead = offsetCursor(head, i, 0);\n      sel.push({\n        anchor: lineHead,\n        head: lineHead\n      });\n    }\n\n    cm.setSelections(sel, 0);\n  } // getIndex returns the index of the cursor in the selections.\n\n\n  function getIndex(ranges, cursor, end) {\n    for (var i = 0; i < ranges.length; i++) {\n      var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);\n      var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);\n\n      if (atAnchor || atHead) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  function getSelectedAreaRange(cm, vim) {\n    var lastSelection = vim.lastSelection;\n\n    var getCurrentSelectedAreaRange = function getCurrentSelectedAreaRange() {\n      var selections = cm.listSelections();\n      var start = selections[0];\n      var end = selections[selections.length - 1];\n      var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;\n      var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;\n      return [selectionStart, selectionEnd];\n    };\n\n    var getLastSelectedAreaRange = function getLastSelectedAreaRange() {\n      var selectionStart = cm.getCursor();\n      var selectionEnd = cm.getCursor();\n      var block = lastSelection.visualBlock;\n\n      if (block) {\n        var width = block.width;\n        var height = block.height;\n        selectionEnd = Pos(selectionStart.line + height, selectionStart.ch + width);\n        var selections = []; // selectBlock creates a 'proper' rectangular block.\n        // We do not want that in all cases, so we manually set selections.\n\n        for (var i = selectionStart.line; i < selectionEnd.line; i++) {\n          var anchor = Pos(i, selectionStart.ch);\n          var head = Pos(i, selectionEnd.ch);\n          var range = {\n            anchor: anchor,\n            head: head\n          };\n          selections.push(range);\n        }\n\n        cm.setSelections(selections);\n      } else {\n        var start = lastSelection.anchorMark.find();\n        var end = lastSelection.headMark.find();\n        var line = end.line - start.line;\n        var ch = end.ch - start.ch;\n        selectionEnd = {\n          line: selectionEnd.line + line,\n          ch: line ? selectionEnd.ch : ch + selectionEnd.ch\n        };\n\n        if (lastSelection.visualLine) {\n          selectionStart = Pos(selectionStart.line, 0);\n          selectionEnd = Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));\n        }\n\n        cm.setSelection(selectionStart, selectionEnd);\n      }\n\n      return [selectionStart, selectionEnd];\n    };\n\n    if (!vim.visualMode) {\n      // In case of replaying the action.\n      return getLastSelectedAreaRange();\n    } else {\n      return getCurrentSelectedAreaRange();\n    }\n  } // Updates the previous selection with the current selection's values. This\n  // should only be called in visual mode.\n\n\n  function updateLastSelection(cm, vim) {\n    var anchor = vim.sel.anchor;\n    var head = vim.sel.head; // To accommodate the effect of lastPastedText in the last selection\n\n    if (vim.lastPastedText) {\n      head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);\n      vim.lastPastedText = null;\n    }\n\n    vim.lastSelection = {\n      'anchorMark': cm.setBookmark(anchor),\n      'headMark': cm.setBookmark(head),\n      'anchor': copyCursor(anchor),\n      'head': copyCursor(head),\n      'visualMode': vim.visualMode,\n      'visualLine': vim.visualLine,\n      'visualBlock': vim.visualBlock\n    };\n  }\n\n  function expandSelection(cm, start, end) {\n    var sel = cm.state.vim.sel;\n    var head = sel.head;\n    var anchor = sel.anchor;\n    var tmp;\n\n    if (cursorIsBefore(end, start)) {\n      tmp = end;\n      end = start;\n      start = tmp;\n    }\n\n    if (cursorIsBefore(head, anchor)) {\n      head = cursorMin(start, head);\n      anchor = cursorMax(anchor, end);\n    } else {\n      anchor = cursorMin(start, anchor);\n      head = cursorMax(head, end);\n      head = offsetCursor(head, 0, -1);\n\n      if (head.ch == -1 && head.line != cm.firstLine()) {\n        head = Pos(head.line - 1, lineLength(cm, head.line - 1));\n      }\n    }\n\n    return [anchor, head];\n  }\n  /**\n   * Updates the CodeMirror selection to match the provided vim selection.\n   * If no arguments are given, it uses the current vim selection state.\n   */\n\n\n  function updateCmSelection(cm, sel, mode) {\n    var vim = cm.state.vim;\n    sel = sel || vim.sel;\n    var mode = mode || vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';\n    var cmSel = makeCmSelection(cm, sel, mode, vim.visualMode && mode === 'char');\n    cm.setSelections(cmSel.ranges, cmSel.primary);\n    updateFakeCursor(cm);\n  }\n\n  function makeCmSelection(cm, sel, mode, exclusive) {\n    var head = copyCursor(sel.head);\n    var anchor = copyCursor(sel.anchor);\n\n    if (mode == 'char') {\n      var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n      var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n      head = offsetCursor(sel.head, 0, headOffset);\n      anchor = offsetCursor(sel.anchor, 0, anchorOffset);\n      return {\n        ranges: [{\n          anchor: anchor,\n          head: head\n        }],\n        primary: 0\n      };\n    } else if (mode == 'line') {\n      if (!cursorIsBefore(sel.head, sel.anchor)) {\n        anchor.ch = 0;\n        var lastLine = cm.lastLine();\n\n        if (head.line > lastLine) {\n          head.line = lastLine;\n        }\n\n        head.ch = lineLength(cm, head.line);\n      } else {\n        head.ch = 0;\n        anchor.ch = lineLength(cm, anchor.line);\n      }\n\n      return {\n        ranges: [{\n          anchor: anchor,\n          head: head\n        }],\n        primary: 0\n      };\n    } else if (mode == 'block') {\n      var top = Math.min(anchor.line, head.line),\n          left = Math.min(anchor.ch, head.ch),\n          bottom = Math.max(anchor.line, head.line),\n          right = Math.max(anchor.ch, head.ch) + 1;\n      var height = bottom - top + 1;\n      var primary = head.line == top ? 0 : height - 1;\n      var ranges = [];\n\n      for (var i = 0; i < height; i++) {\n        ranges.push({\n          anchor: Pos(top + i, left),\n          head: Pos(top + i, right)\n        });\n      }\n\n      return {\n        ranges: ranges,\n        primary: primary\n      };\n    }\n  }\n\n  function getHead(cm) {\n    var cur = cm.getCursor('head');\n\n    if (cm.getSelection().length == 1) {\n      // Small corner case when only 1 character is selected. The \"real\"\n      // head is the left of head and anchor.\n      cur = cursorMin(cur, cm.getCursor('anchor'));\n    }\n\n    return cur;\n  }\n  /**\n   * If moveHead is set to false, the CodeMirror selection will not be\n   * touched. The caller assumes the responsibility of putting the cursor\n  * in the right place.\n   */\n\n\n  function exitVisualMode(cm, moveHead) {\n    var vim = cm.state.vim;\n\n    if (moveHead !== false) {\n      cm.setCursor(clipCursorToContent(cm, vim.sel.head));\n    }\n\n    updateLastSelection(cm, vim);\n    vim.visualMode = false;\n    vim.visualLine = false;\n    vim.visualBlock = false;\n\n    _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n      mode: \"normal\"\n    });\n\n    if (vim.fakeCursor) {\n      vim.fakeCursor.clear();\n    }\n  } // Remove any trailing newlines from the selection. For\n  // example, with the caret at the start of the last word on the line,\n  // 'dw' should word, but not the newline, while 'w' should advance the\n  // caret to the first character of the next line.\n\n\n  function clipToLine(cm, curStart, curEnd) {\n    var selection = cm.getRange(curStart, curEnd); // Only clip if the selection ends with trailing newline + whitespace\n\n    if (/\\n\\s*$/.test(selection)) {\n      var lines = selection.split('\\n'); // We know this is all whitespace.\n\n      lines.pop(); // Cases:\n      // 1. Last word is an empty line - do not clip the trailing '\\n'\n      // 2. Last word is not an empty line - clip the trailing '\\n'\n\n      var line; // Find the line containing the last word, and clip all whitespace up\n      // to it.\n\n      for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {\n        curEnd.line--;\n        curEnd.ch = 0;\n      } // If the last word is not an empty line, clip an additional newline\n\n\n      if (line) {\n        curEnd.line--;\n        curEnd.ch = lineLength(cm, curEnd.line);\n      } else {\n        curEnd.ch = 0;\n      }\n    }\n  } // Expand the selection to line ends.\n\n\n  function expandSelectionToLine(_cm, curStart, curEnd) {\n    curStart.ch = 0;\n    curEnd.ch = 0;\n    curEnd.line++;\n  } // function findFirstNonWhiteSpaceCharacter(text) {\n  //   if (!text) {\n  //     return 0;\n  //   }\n  //   var firstNonWS = text.search(/\\S/);\n  //   return firstNonWS == -1 ? text.length : firstNonWS;\n  // }\n\n\n  function expandWordUnderCursor(cm, inclusive, _forward, bigWord, noSymbol) {\n    var cur = getHead(cm);\n    var line = cm.getLine(cur.line);\n    var idx = cur.ch; // Seek to first word or non-whitespace character, depending on if\n    // noSymbol is true.\n\n    var test = noSymbol ? wordCharTest[0] : bigWordCharTest[0];\n\n    while (!test(line.charAt(idx))) {\n      idx++;\n\n      if (idx >= line.length) {\n        return null;\n      }\n    }\n\n    if (bigWord) {\n      test = bigWordCharTest[0];\n    } else {\n      test = wordCharTest[0];\n\n      if (!test(line.charAt(idx))) {\n        test = wordCharTest[1];\n      }\n    }\n\n    var end = idx,\n        start = idx;\n\n    while (test(line.charAt(end)) && end < line.length) {\n      end++;\n    }\n\n    while (test(line.charAt(start)) && start >= 0) {\n      start--;\n    }\n\n    start++;\n\n    if (inclusive) {\n      // If present, include all whitespace after word.\n      // Otherwise, include all whitespace before word, except indentation.\n      var wordEnd = end;\n\n      while (/\\s/.test(line.charAt(end)) && end < line.length) {\n        end++;\n      }\n\n      if (wordEnd == end) {\n        var wordStart = start;\n\n        while (/\\s/.test(line.charAt(start - 1)) && start > 0) {\n          start--;\n        }\n\n        if (!start) {\n          start = wordStart;\n        }\n      }\n    }\n\n    return {\n      start: Pos(cur.line, start),\n      end: Pos(cur.line, end)\n    };\n  }\n\n  function recordJumpPosition(cm, oldCur, newCur) {\n    if (!cursorEqual(oldCur, newCur)) {\n      vimGlobalState.jumpList.add(cm, oldCur, newCur);\n    }\n  }\n\n  function recordLastCharacterSearch(increment, args) {\n    vimGlobalState.lastCharacterSearch.increment = increment;\n    vimGlobalState.lastCharacterSearch.forward = args.forward;\n    vimGlobalState.lastCharacterSearch.selectedCharacter = args.selectedCharacter;\n  }\n\n  var symbolToMode = {\n    '(': 'bracket',\n    ')': 'bracket',\n    '{': 'bracket',\n    '}': 'bracket',\n    '[': 'section',\n    ']': 'section',\n    '*': 'comment',\n    '/': 'comment',\n    'm': 'method',\n    'M': 'method',\n    '#': 'preprocess'\n  };\n  var findSymbolModes = {\n    bracket: {\n      isComplete: function isComplete(state) {\n        if (state.nextCh === state.symb) {\n          state.depth++;\n          if (state.depth >= 1) return true;\n        } else if (state.nextCh === state.reverseSymb) {\n          state.depth--;\n        }\n\n        return false;\n      }\n    },\n    section: {\n      init: function init(state) {\n        state.curMoveThrough = true;\n        state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';\n      },\n      isComplete: function isComplete(state) {\n        return state.index === 0 && state.nextCh === state.symb;\n      }\n    },\n    comment: {\n      isComplete: function isComplete(state) {\n        var found = state.lastCh === '*' && state.nextCh === '/';\n        state.lastCh = state.nextCh;\n        return found;\n      }\n    },\n    // TODO: The original Vim implementation only operates on level 1 and 2.\n    // The current implementation doesn't check for code block level and\n    // therefore it operates on any levels.\n    method: {\n      init: function init(state) {\n        state.symb = state.symb === 'm' ? '{' : '}';\n        state.reverseSymb = state.symb === '{' ? '}' : '{';\n      },\n      isComplete: function isComplete(state) {\n        if (state.nextCh === state.symb) return true;\n        return false;\n      }\n    },\n    preprocess: {\n      init: function init(state) {\n        state.index = 0;\n      },\n      isComplete: function isComplete(state) {\n        if (state.nextCh === '#') {\n          var token = state.lineText.match(/#(\\w+)/)[1];\n\n          if (token === 'endif') {\n            if (state.forward && state.depth === 0) {\n              return true;\n            }\n\n            state.depth++;\n          } else if (token === 'if') {\n            if (!state.forward && state.depth === 0) {\n              return true;\n            }\n\n            state.depth--;\n          }\n\n          if (token === 'else' && state.depth === 0) return true;\n        }\n\n        return false;\n      }\n    }\n  };\n\n  function findSymbol(cm, repeat, forward, symb) {\n    var cur = copyCursor(cm.getCursor());\n    var increment = forward ? 1 : -1;\n    var endLine = forward ? cm.lineCount() : -1;\n    var curCh = cur.ch;\n    var line = cur.line;\n    var lineText = cm.getLine(line);\n    var state = {\n      lineText: lineText,\n      nextCh: lineText.charAt(curCh),\n      lastCh: null,\n      index: curCh,\n      symb: symb,\n      reverseSymb: (forward ? {\n        ')': '(',\n        '}': '{'\n      } : {\n        '(': ')',\n        '{': '}'\n      })[symb],\n      forward: forward,\n      depth: 0,\n      curMoveThrough: false\n    };\n    var mode = symbolToMode[symb];\n    if (!mode) return cur;\n    var init = findSymbolModes[mode].init;\n    var isComplete = findSymbolModes[mode].isComplete;\n\n    if (init) {\n      init(state);\n    }\n\n    while (line !== endLine && repeat) {\n      state.index += increment;\n      state.nextCh = state.lineText.charAt(state.index);\n\n      if (!state.nextCh) {\n        line += increment;\n        state.lineText = cm.getLine(line) || '';\n\n        if (increment > 0) {\n          state.index = 0;\n        } else {\n          var lineLen = state.lineText.length;\n          state.index = lineLen > 0 ? lineLen - 1 : 0;\n        }\n\n        state.nextCh = state.lineText.charAt(state.index);\n      }\n\n      if (isComplete(state)) {\n        cur.line = line;\n        cur.ch = state.index;\n        repeat--;\n      }\n    }\n\n    if (state.nextCh || state.curMoveThrough) {\n      return Pos(line, state.index);\n    }\n\n    return cur;\n  }\n  /*\n   * Returns the boundaries of the next word. If the cursor in the middle of\n   * the word, then returns the boundaries of the current word, starting at\n   * the cursor. If the cursor is at the start/end of a word, and we are going\n   * forward/backward, respectively, find the boundaries of the next word.\n   *\n   * @param {CodeMirror} cm CodeMirror object.\n   * @param {Cursor} cur The cursor position.\n   * @param {boolean} forward True to search forward. False to search\n   *     backward.\n   * @param {boolean} bigWord True if punctuation count as part of the word.\n   *     False if only [a-zA-Z0-9] characters count as part of the word.\n   * @param {boolean} emptyLineIsWord True if empty lines should be treated\n   *     as words.\n   * @return {Object{from:number, to:number, line: number}} The boundaries of\n   *     the word, or null if there are no more words.\n   */\n\n\n  function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {\n    var lineNum = cur.line;\n    var pos = cur.ch;\n    var line = cm.getLine(lineNum);\n    var dir = forward ? 1 : -1;\n    var charTests = bigWord ? bigWordCharTest : wordCharTest;\n\n    if (emptyLineIsWord && line == '') {\n      lineNum += dir;\n      line = cm.getLine(lineNum);\n\n      if (!isLine(cm, lineNum)) {\n        return null;\n      }\n\n      pos = forward ? 0 : line.length;\n    }\n\n    while (true) {\n      if (emptyLineIsWord && line == '') {\n        return {\n          from: 0,\n          to: 0,\n          line: lineNum\n        };\n      }\n\n      var stop = dir > 0 ? line.length : -1;\n      var wordStart = stop,\n          wordEnd = stop; // Find bounds of next word.\n\n      while (pos != stop) {\n        var foundWord = false;\n\n        for (var i = 0; i < charTests.length && !foundWord; ++i) {\n          if (charTests[i](line.charAt(pos))) {\n            wordStart = pos; // Advance to end of word.\n\n            while (pos != stop && charTests[i](line.charAt(pos))) {\n              pos += dir;\n            }\n\n            wordEnd = pos;\n            foundWord = wordStart != wordEnd;\n\n            if (wordStart == cur.ch && lineNum == cur.line && wordEnd == wordStart + dir) {\n              // We started at the end of a word. Find the next one.\n              continue;\n            } else {\n              return {\n                from: Math.min(wordStart, wordEnd + 1),\n                to: Math.max(wordStart, wordEnd),\n                line: lineNum\n              };\n            }\n          }\n        }\n\n        if (!foundWord) {\n          pos += dir;\n        }\n      } // Advance to next/prev line.\n\n\n      lineNum += dir;\n\n      if (!isLine(cm, lineNum)) {\n        return null;\n      }\n\n      line = cm.getLine(lineNum);\n      pos = dir > 0 ? 0 : line.length;\n    }\n  }\n  /**\n   * @param {CodeMirror} cm CodeMirror object.\n   * @param {Pos} cur The position to start from.\n   * @param {int} repeat Number of words to move past.\n   * @param {boolean} forward True to search forward. False to search\n   *     backward.\n   * @param {boolean} wordEnd True to move to end of word. False to move to\n   *     beginning of word.\n   * @param {boolean} bigWord True if punctuation count as part of the word.\n   *     False if only alphabet characters count as part of the word.\n   * @return {Cursor} The position the cursor should move to.\n   */\n\n\n  function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {\n    var curStart = copyCursor(cur);\n    var words = [];\n\n    if (forward && !wordEnd || !forward && wordEnd) {\n      repeat++;\n    } // For 'e', empty lines are not considered words, go figure.\n\n\n    var emptyLineIsWord = !(forward && wordEnd);\n\n    for (var i = 0; i < repeat; i++) {\n      var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);\n\n      if (!word) {\n        var eodCh = lineLength(cm, cm.lastLine());\n        words.push(forward ? {\n          line: cm.lastLine(),\n          from: eodCh,\n          to: eodCh\n        } : {\n          line: 0,\n          from: 0,\n          to: 0\n        });\n        break;\n      }\n\n      words.push(word);\n      cur = Pos(word.line, forward ? word.to - 1 : word.from);\n    }\n\n    var shortCircuit = words.length != repeat;\n    var firstWord = words[0];\n    var lastWord = words.pop();\n\n    if (forward && !wordEnd) {\n      // w\n      if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {\n        // We did not start in the middle of a word. Discard the extra word at the end.\n        lastWord = words.pop();\n      }\n\n      return Pos(lastWord.line, lastWord.from);\n    } else if (forward && wordEnd) {\n      return Pos(lastWord.line, lastWord.to - 1);\n    } else if (!forward && wordEnd) {\n      // ge\n      if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {\n        // We did not start in the middle of a word. Discard the extra word at the end.\n        lastWord = words.pop();\n      }\n\n      return Pos(lastWord.line, lastWord.to);\n    } else {\n      // b\n      return Pos(lastWord.line, lastWord.from);\n    }\n  }\n\n  function _moveToCharacter(cm, repeat, forward, character) {\n    var cur = cm.getCursor();\n    var start = cur.ch;\n    var idx;\n\n    for (var i = 0; i < repeat; i++) {\n      var line = cm.getLine(cur.line);\n      idx = charIdxInLine(start, line, character, forward, true);\n\n      if (idx == -1) {\n        return null;\n      }\n\n      start = idx;\n    }\n\n    return Pos(cm.getCursor().line, idx);\n  }\n\n  function _moveToColumn(cm, repeat) {\n    // repeat is always >= 1, so repeat - 1 always corresponds\n    // to the column we want to go to.\n    var line = cm.getCursor().line;\n    return clipCursorToContent(cm, Pos(line, repeat - 1));\n  }\n\n  function updateMark(cm, vim, markName, pos) {\n    if (!inArray(markName, validMarks)) {\n      return;\n    }\n\n    if (vim.marks[markName]) {\n      vim.marks[markName].clear();\n    }\n\n    vim.marks[markName] = cm.setBookmark(pos);\n  }\n\n  function charIdxInLine(start, line, character, forward, includeChar) {\n    // Search for char in line.\n    // motion_options: {forward, includeChar}\n    // If includeChar = true, include it too.\n    // If forward = true, search forward, else search backwards.\n    // If char is not found on this line, do nothing\n    var idx;\n\n    if (forward) {\n      idx = line.indexOf(character, start + 1);\n\n      if (idx != -1 && !includeChar) {\n        idx -= 1;\n      }\n    } else {\n      idx = line.lastIndexOf(character, start - 1);\n\n      if (idx != -1 && !includeChar) {\n        idx += 1;\n      }\n    }\n\n    return idx;\n  }\n\n  function findParagraph(cm, head, repeat, dir, inclusive) {\n    var line = head.line;\n    var min = cm.firstLine();\n    var max = cm.lastLine();\n    var start,\n        end,\n        i = line;\n\n    function isEmpty(i) {\n      return !cm.getLine(i);\n    }\n\n    function isBoundary(i, dir, any) {\n      if (any) {\n        return isEmpty(i) != isEmpty(i + dir);\n      }\n\n      return !isEmpty(i) && isEmpty(i + dir);\n    }\n\n    if (dir) {\n      while (min <= i && i <= max && repeat > 0) {\n        if (isBoundary(i, dir)) {\n          repeat--;\n        }\n\n        i += dir;\n      }\n\n      return new Pos(i, 0);\n    }\n\n    var vim = cm.state.vim;\n\n    if (vim.visualLine && isBoundary(line, 1, true)) {\n      var anchor = vim.sel.anchor;\n\n      if (isBoundary(anchor.line, -1, true)) {\n        if (!inclusive || anchor.line != line) {\n          line += 1;\n        }\n      }\n    }\n\n    var startState = isEmpty(line);\n\n    for (i = line; i <= max && repeat; i++) {\n      if (isBoundary(i, 1, true)) {\n        if (!inclusive || isEmpty(i) != startState) {\n          repeat--;\n        }\n      }\n    }\n\n    end = new Pos(i, 0); // select boundary before paragraph for the last one\n\n    if (i > max && !startState) {\n      startState = true;\n    } else {\n      inclusive = false;\n    }\n\n    for (i = line; i > min; i--) {\n      if (!inclusive || isEmpty(i) == startState || i == line) {\n        if (isBoundary(i, -1, true)) {\n          break;\n        }\n      }\n    }\n\n    start = new Pos(i, 0);\n    return {\n      start: start,\n      end: end\n    };\n  }\n\n  function findSentence(cm, cur, repeat, dir) {\n    /*\n      Takes an index object\n      {\n        line: the line string,\n        ln: line number,\n        pos: index in line,\n        dir: direction of traversal (-1 or 1)\n      }\n      and modifies the line, ln, and pos members to represent the\n      next valid position or sets them to null if there are\n      no more valid positions.\n     */\n    function nextChar(cm, idx) {\n      if (idx.pos + idx.dir < 0 || idx.pos + idx.dir >= idx.line.length) {\n        idx.ln += idx.dir;\n\n        if (!isLine(cm, idx.ln)) {\n          idx.line = null;\n          idx.ln = null;\n          idx.pos = null;\n          return;\n        }\n\n        idx.line = cm.getLine(idx.ln);\n        idx.pos = idx.dir > 0 ? 0 : idx.line.length - 1;\n      } else {\n        idx.pos += idx.dir;\n      }\n    }\n    /*\n      Performs one iteration of traversal in forward direction\n      Returns an index object of the new location\n     */\n\n\n    function forward(cm, ln, pos, dir) {\n      var line = cm.getLine(ln);\n      var stop = line === \"\";\n      var curr = {\n        line: line,\n        ln: ln,\n        pos: pos,\n        dir: dir\n      };\n      var last_valid = {\n        ln: curr.ln,\n        pos: curr.pos\n      };\n      var skip_empty_lines = curr.line === \"\"; // Move one step to skip character we start on\n\n      nextChar(cm, curr);\n\n      while (curr.line !== null) {\n        last_valid.ln = curr.ln;\n        last_valid.pos = curr.pos;\n\n        if (curr.line === \"\" && !skip_empty_lines) {\n          return {\n            ln: curr.ln,\n            pos: curr.pos\n          };\n        } else if (stop && curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n          return {\n            ln: curr.ln,\n            pos: curr.pos\n          };\n        } else if (isEndOfSentenceSymbol(curr.line[curr.pos]) && !stop && (curr.pos === curr.line.length - 1 || isWhiteSpaceString(curr.line[curr.pos + 1]))) {\n          stop = true;\n        }\n\n        nextChar(cm, curr);\n      }\n      /*\n        Set the position to the last non whitespace character on the last\n        valid line in the case that we reach the end of the document.\n      */\n\n\n      var line = cm.getLine(last_valid.ln);\n      last_valid.pos = 0;\n\n      for (var i = line.length - 1; i >= 0; --i) {\n        if (!isWhiteSpaceString(line[i])) {\n          last_valid.pos = i;\n          break;\n        }\n      }\n\n      return last_valid;\n    }\n    /*\n      Performs one iteration of traversal in reverse direction\n      Returns an index object of the new location\n     */\n\n\n    function reverse(cm, ln, pos, dir) {\n      var line = cm.getLine(ln);\n      var curr = {\n        line: line,\n        ln: ln,\n        pos: pos,\n        dir: dir\n      };\n      var last_valid = {\n        ln: curr.ln,\n        pos: null\n      };\n      var skip_empty_lines = curr.line === \"\"; // Move one step to skip character we start on\n\n      nextChar(cm, curr);\n\n      while (curr.line !== null) {\n        if (curr.line === \"\" && !skip_empty_lines) {\n          if (last_valid.pos !== null) {\n            return last_valid;\n          } else {\n            return {\n              ln: curr.ln,\n              pos: curr.pos\n            };\n          }\n        } else if (isEndOfSentenceSymbol(curr.line[curr.pos]) && last_valid.pos !== null && !(curr.ln === last_valid.ln && curr.pos + 1 === last_valid.pos)) {\n          return last_valid;\n        } else if (curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n          skip_empty_lines = false;\n          last_valid = {\n            ln: curr.ln,\n            pos: curr.pos\n          };\n        }\n\n        nextChar(cm, curr);\n      }\n      /*\n        Set the position to the first non whitespace character on the last\n        valid line in the case that we reach the beginning of the document.\n      */\n\n\n      var line = cm.getLine(last_valid.ln);\n      last_valid.pos = 0;\n\n      for (var i = 0; i < line.length; ++i) {\n        if (!isWhiteSpaceString(line[i])) {\n          last_valid.pos = i;\n          break;\n        }\n      }\n\n      return last_valid;\n    }\n\n    var curr_index = {\n      ln: cur.line,\n      pos: cur.ch\n    };\n\n    while (repeat > 0) {\n      if (dir < 0) {\n        curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n      } else {\n        curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n      }\n\n      repeat--;\n    }\n\n    return Pos(curr_index.ln, curr_index.pos);\n  } // TODO: perhaps this finagling of start and end positions belonds\n  // in codemirror/replaceRange?\n\n\n  function selectCompanionObject(cm, head, symb, inclusive) {\n    var cur = head,\n        start,\n        end;\n    var bracketRegexp = {\n      '(': /[()]/,\n      ')': /[()]/,\n      '[': /[[\\]]/,\n      ']': /[[\\]]/,\n      '{': /[{}]/,\n      '}': /[{}]/\n    }[symb];\n    var openSym = {\n      '(': '(',\n      ')': '(',\n      '[': '[',\n      ']': '[',\n      '{': '{',\n      '}': '{'\n    }[symb];\n    var curChar = cm.getLine(cur.line).charAt(cur.ch); // Due to the behavior of scanForBracket, we need to add an offset if the\n    // cursor is on a matching open bracket.\n\n    var offset = curChar === openSym ? 1 : 0;\n    start = cm.scanForBracket(Pos(cur.line, cur.ch + offset), -1, undefined, {\n      'bracketRegex': bracketRegexp\n    });\n    end = cm.scanForBracket(Pos(cur.line, cur.ch + offset), 1, undefined, {\n      'bracketRegex': bracketRegexp\n    });\n\n    if (!start || !end) {\n      return {\n        start: cur,\n        end: cur\n      };\n    }\n\n    start = start.pos;\n    end = end.pos;\n\n    if (start.line == end.line && start.ch > end.ch || start.line > end.line) {\n      var tmp = start;\n      start = end;\n      end = tmp;\n    }\n\n    if (inclusive) {\n      end.ch += 1;\n    } else {\n      start.ch += 1;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  } // Takes in a symbol and a cursor and tries to simulate text objects that\n  // have identical opening and closing symbols\n  // TODO support across multiple lines\n\n\n  function findBeginningAndEnd(cm, head, symb, inclusive) {\n    var cur = copyCursor(head);\n    var line = cm.getLine(cur.line);\n    var chars = line.split('');\n    var start, end, i, len;\n    var firstIndex = chars.indexOf(symb); // the decision tree is to always look backwards for the beginning first,\n    // but if the cursor is in front of the first instance of the symb,\n    // then move the cursor forward\n\n    if (cur.ch < firstIndex) {\n      cur.ch = firstIndex; // Why is this line even here???\n      // cm.setCursor(cur.line, firstIndex+1);\n    } // otherwise if the cursor is currently on the closing symbol\n    else if (firstIndex < cur.ch && chars[cur.ch] == symb) {\n        end = cur.ch; // assign end to the current cursor\n\n        --cur.ch; // make sure to look backwards\n      } // if we're currently on the symbol, we've got a start\n\n\n    if (chars[cur.ch] == symb && !end) {\n      start = cur.ch + 1; // assign start to ahead of the cursor\n    } else {\n      // go backwards to find the start\n      for (i = cur.ch; i > -1 && !start; i--) {\n        if (chars[i] == symb) {\n          start = i + 1;\n        }\n      }\n    } // look forwards for the end symbol\n\n\n    if (start && !end) {\n      for (i = start, len = chars.length; i < len && !end; i++) {\n        if (chars[i] == symb) {\n          end = i;\n        }\n      }\n    } // nothing found\n\n\n    if (!start || !end) {\n      return {\n        start: cur,\n        end: cur\n      };\n    } // include the symbols\n\n\n    if (inclusive) {\n      --start;\n      ++end;\n    }\n\n    return {\n      start: Pos(cur.line, start),\n      end: Pos(cur.line, end)\n    };\n  } // Search functions\n\n\n  defineOption('pcre', true, 'boolean');\n\n  function SearchState() {}\n\n  SearchState.prototype = {\n    getQuery: function getQuery() {\n      return vimGlobalState.query;\n    },\n    setQuery: function setQuery(query) {\n      vimGlobalState.query = query;\n    },\n    getOverlay: function getOverlay() {\n      return this.searchOverlay;\n    },\n    setOverlay: function setOverlay(overlay) {\n      this.searchOverlay = overlay;\n    },\n    isReversed: function isReversed() {\n      return vimGlobalState.isReversed;\n    },\n    setReversed: function setReversed(reversed) {\n      vimGlobalState.isReversed = reversed;\n    },\n    getScrollbarAnnotate: function getScrollbarAnnotate() {\n      return this.annotate;\n    },\n    setScrollbarAnnotate: function setScrollbarAnnotate(annotate) {\n      this.annotate = annotate;\n    }\n  };\n\n  function getSearchState(cm) {\n    var vim = cm.state.vim;\n    return vim.searchState_ || (vim.searchState_ = new SearchState());\n  }\n\n  function dialog(cm, template, shortText, onClose, options) {\n    if (cm.openDialog) {\n      cm.openDialog(template, onClose, {\n        bottom: true,\n        value: options.value,\n        onKeyDown: options.onKeyDown,\n        onKeyUp: options.onKeyUp,\n        selectValueOnOpen: false\n      });\n    } else {\n      onClose(prompt(shortText, ''));\n    }\n  }\n\n  function splitBySlash(argString) {\n    return splitBySeparator(argString, '/');\n  }\n\n  function findUnescapedSlashes(argString) {\n    return findUnescapedSeparators(argString, '/');\n  }\n\n  function splitBySeparator(argString, separator) {\n    var slashes = findUnescapedSeparators(argString, separator) || [];\n    if (!slashes.length) return [];\n    var tokens = []; // in case of strings like foo/bar\n\n    if (slashes[0] !== 0) return;\n\n    for (var i = 0; i < slashes.length; i++) {\n      if (typeof slashes[i] == 'number') tokens.push(argString.substring(slashes[i] + 1, slashes[i + 1]));\n    }\n\n    return tokens;\n  }\n\n  function findUnescapedSeparators(str, separator) {\n    if (!separator) separator = '/';\n    var escapeNextChar = false;\n    var slashes = [];\n\n    for (var i = 0; i < str.length; i++) {\n      var c = str.charAt(i);\n\n      if (!escapeNextChar && c == separator) {\n        slashes.push(i);\n      }\n\n      escapeNextChar = !escapeNextChar && c == '\\\\';\n    }\n\n    return slashes;\n  } // Translates a search string from ex (vim) syntax into javascript form.\n\n\n  function translateRegex(str) {\n    // When these match, add a '\\' if unescaped or remove one if escaped.\n    var specials = '|(){'; // Remove, but never add, a '\\' for these.\n\n    var unescape = '}';\n    var escapeNextChar = false;\n    var out = [];\n\n    for (var i = -1; i < str.length; i++) {\n      var c = str.charAt(i) || '';\n      var n = str.charAt(i + 1) || '';\n      var specialComesNext = n && specials.indexOf(n) != -1;\n\n      if (escapeNextChar) {\n        if (c !== '\\\\' || !specialComesNext) {\n          out.push(c);\n        }\n\n        escapeNextChar = false;\n      } else {\n        if (c === '\\\\') {\n          escapeNextChar = true; // Treat the unescape list as special for removing, but not adding '\\'.\n\n          if (n && unescape.indexOf(n) != -1) {\n            specialComesNext = true;\n          } // Not passing this test means removing a '\\'.\n\n\n          if (!specialComesNext || n === '\\\\') {\n            out.push(c);\n          }\n        } else {\n          out.push(c);\n\n          if (specialComesNext && n !== '\\\\') {\n            out.push('\\\\');\n          }\n        }\n      }\n    }\n\n    return out.join('');\n  } // Translates the replace part of a search and replace from ex (vim) syntax into\n  // javascript form.  Similar to translateRegex, but additionally fixes back references\n  // (translates '\\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.\n\n\n  var charUnescapes = {\n    '\\\\n': '\\n',\n    '\\\\r': '\\r',\n    '\\\\t': '\\t'\n  };\n\n  function translateRegexReplace(str) {\n    var escapeNextChar = false;\n    var out = [];\n\n    for (var i = -1; i < str.length; i++) {\n      var c = str.charAt(i) || '';\n      var n = str.charAt(i + 1) || '';\n\n      if (charUnescapes[c + n]) {\n        out.push(charUnescapes[c + n]);\n        i++;\n      } else if (escapeNextChar) {\n        // At any point in the loop, escapeNextChar is true if the previous\n        // character was a '\\' and was not escaped.\n        out.push(c);\n        escapeNextChar = false;\n      } else {\n        if (c === '\\\\') {\n          escapeNextChar = true;\n\n          if (isNumber(n) || n === '$') {\n            out.push('$');\n          } else if (n !== '/' && n !== '\\\\') {\n            out.push('\\\\');\n          }\n        } else {\n          if (c === '$') {\n            out.push('$');\n          }\n\n          out.push(c);\n\n          if (n === '/') {\n            out.push('\\\\');\n          }\n        }\n      }\n    }\n\n    return out.join('');\n  } // Unescape \\ and / in the replace part, for PCRE mode.\n\n\n  var unescapes = {\n    '\\\\/': '/',\n    '\\\\\\\\': '\\\\',\n    '\\\\n': '\\n',\n    '\\\\r': '\\r',\n    '\\\\t': '\\t'\n  };\n\n  function unescapeRegexReplace(str) {\n    var stream = new _cm_adapter[\"default\"].StringStream(str);\n    var output = [];\n\n    while (!stream.eol()) {\n      // Search for \\.\n      while (stream.peek() && stream.peek() != '\\\\') {\n        output.push(stream.next());\n      }\n\n      var matched = false;\n\n      for (var matcher in unescapes) {\n        if (stream.match(matcher, true)) {\n          matched = true;\n          output.push(unescapes[matcher]);\n          break;\n        }\n      }\n\n      if (!matched) {\n        // Don't change anything\n        output.push(stream.next());\n      }\n    }\n\n    return output.join('');\n  }\n  /**\n   * Extract the regular expression from the query and return a Regexp object.\n   * Returns null if the query is blank.\n   * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.\n   * If smartCase is passed in, and the query contains upper case letters,\n   *   then ignoreCase is overridden, and the 'i' flag will not be set.\n   * If the query contains the /i in the flag part of the regular expression,\n   *   then both ignoreCase and smartCase are ignored, and 'i' will be passed\n   *   through to the Regex object.\n   */\n\n\n  function parseQuery(query, ignoreCase, smartCase) {\n    // First update the last search register\n    var lastSearchRegister = vimGlobalState.registerController.getRegister('/');\n    lastSearchRegister.setText(query); // Check if the query is already a regex.\n\n    if (query instanceof RegExp) {\n      return query;\n    } // First try to extract regex + flags from the input. If no flags found,\n    // extract just the regex. IE does not accept flags directly defined in\n    // the regex string in the form /regex/flags\n\n\n    var slashes = findUnescapedSlashes(query);\n    var regexPart;\n    var forceIgnoreCase;\n\n    if (!slashes.length) {\n      // Query looks like 'regexp'\n      regexPart = query;\n    } else {\n      // Query looks like 'regexp/...'\n      regexPart = query.substring(0, slashes[0]);\n      var flagsPart = query.substring(slashes[0]);\n      forceIgnoreCase = flagsPart.indexOf('i') != -1;\n    }\n\n    if (!regexPart) {\n      return null;\n    }\n\n    if (!getOption('pcre')) {\n      regexPart = translateRegex(regexPart);\n    }\n\n    if (smartCase) {\n      ignoreCase = /^[^A-Z]*$/.test(regexPart);\n    }\n\n    var regexp = new RegExp(regexPart, ignoreCase || forceIgnoreCase ? 'i' : undefined);\n    return regexp;\n  }\n\n  function showConfirm(cm, text) {\n    if (cm.openNotification) {\n      cm.openNotification('<span style=\"color: red\">' + text + '</span>', {\n        bottom: true,\n        duration: 5000\n      });\n    } else {\n      alert(text);\n    }\n  }\n\n  function makePrompt(prefix, desc) {\n    var raw = '<span style=\"font-family: monospace; white-space: pre\">' + (prefix || \"\") + '<input type=\"text\"></span>';\n    if (desc) raw += ' <span style=\"color: #888\">' + desc + '</span>';\n    return raw;\n  }\n\n  var searchPromptDesc = '(Javascript regexp)';\n\n  function showPrompt(cm, options) {\n    var shortText = (options.prefix || '') + ' ' + (options.desc || '');\n    var prompt = makePrompt(options.prefix, options.desc);\n    dialog(cm, prompt, shortText, options.onClose, options);\n  }\n\n  function regexEqual(r1, r2) {\n    if (r1 instanceof RegExp && r2 instanceof RegExp) {\n      var props = ['global', 'multiline', 'ignoreCase', 'source'];\n\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n\n        if (r1[prop] !== r2[prop]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  } // Returns true if the query is valid.\n\n\n  function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {\n    if (!rawQuery) {\n      return;\n    }\n\n    var state = getSearchState(cm);\n    var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);\n\n    if (!query) {\n      return;\n    }\n\n    highlightSearchMatches(cm, query);\n\n    if (regexEqual(query, state.getQuery())) {\n      return query;\n    }\n\n    state.setQuery(query);\n    return query;\n  }\n\n  function searchOverlay(query) {\n    if (query.source.charAt(0) == '^') {\n      var matchSol = true;\n    }\n\n    return {\n      token: function token(stream) {\n        if (matchSol && !stream.sol()) {\n          stream.skipToEnd();\n          return;\n        }\n\n        var match = stream.match(query, false);\n\n        if (match) {\n          if (match[0].length == 0) {\n            // Matched empty string, skip to next.\n            stream.next();\n            return 'searching';\n          }\n\n          if (!stream.sol()) {\n            // Backtrack 1 to match \\b\n            stream.backUp(1);\n\n            if (!query.exec(stream.next() + match[0])) {\n              stream.next();\n              return null;\n            }\n          }\n\n          stream.match(query);\n          return 'searching';\n        }\n\n        while (!stream.eol()) {\n          stream.next();\n          if (stream.match(query, false)) break;\n        }\n      },\n      query: query\n    };\n  }\n\n  function highlightSearchMatches(cm, query) {\n    var searchState = getSearchState(cm);\n    var overlay = searchState.getOverlay();\n\n    if (!overlay || query != overlay.query) {\n      if (overlay) {\n        cm.removeOverlay(overlay);\n      }\n\n      overlay = searchOverlay(query);\n      cm.addOverlay(overlay);\n\n      if (cm.showMatchesOnScrollbar) {\n        if (searchState.getScrollbarAnnotate()) {\n          searchState.getScrollbarAnnotate().clear();\n        }\n\n        searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));\n      }\n\n      searchState.setOverlay(overlay);\n    }\n  }\n\n  function _findNext(cm, prev, query, repeat) {\n    if (repeat === undefined) {\n      repeat = 1;\n    }\n\n    return cm.operation(function () {\n      var pos = cm.getCursor();\n      var cursor = cm.getSearchCursor(query, pos);\n\n      for (var i = 0; i < repeat; i++) {\n        var found = cursor.find(prev);\n\n        if (i == 0 && found && cursorEqual(cursor.from(), pos)) {\n          found = cursor.find(prev);\n        }\n\n        if (!found) {\n          // SearchCursor may have returned null because it hit EOF, wrap\n          // around and try again.\n          cursor = cm.getSearchCursor(query, prev ? Pos(cm.lastLine()) : Pos(cm.firstLine(), 0));\n\n          if (!cursor.find(prev)) {\n            return;\n          }\n        }\n      }\n\n      return cursor.from();\n    });\n  }\n\n  function clearSearchHighlight(cm) {\n    var state = getSearchState(cm);\n    cm.removeOverlay(getSearchState(cm).getOverlay());\n    state.setOverlay(null);\n\n    if (state.getScrollbarAnnotate()) {\n      state.getScrollbarAnnotate().clear();\n      state.setScrollbarAnnotate(null);\n    }\n  }\n  /**\n   * Check if pos is in the specified range, INCLUSIVE.\n   * Range can be specified with 1 or 2 arguments.\n   * If the first range argument is an array, treat it as an array of line\n   * numbers. Match pos against any of the lines.\n   * If the first range argument is a number,\n   *   if there is only 1 range argument, check if pos has the same line\n   *       number\n   *   if there are 2 range arguments, then check if pos is in between the two\n   *       range arguments.\n   */\n\n\n  function isInRange(pos, start, end) {\n    if (typeof pos != 'number') {\n      // Assume it is a cursor position. Get the line number.\n      pos = pos.line;\n    }\n\n    if (start instanceof Array) {\n      return inArray(pos, start);\n    } else {\n      if (end) {\n        return pos >= start && pos <= end;\n      } else {\n        return pos == start;\n      }\n    }\n  }\n\n  function getUserVisibleLines(cm) {\n    // var scrollInfo = cm.getScrollInfo();\n    // var occludeToleranceTop = 6;\n    // var occludeToleranceBottom = 10;\n    // var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');\n    // var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;\n    // var to = cm.coordsChar({left:0, top: bottomY}, 'local');\n    // return {top: from.line, bottom: to.line};\n    return cm.getUserVisibleLines();\n  }\n\n  function getMarkPos(cm, vim, markName) {\n    if (markName == '\\'') {\n      var history = cm.doc.history.done;\n      var event = history[history.length - 2];\n      return event && event.ranges && event.ranges[0].head;\n    } else if (markName == '.') {\n      if (cm.doc.history.lastModTime == 0) {\n        return; // If no changes, bail out; don't bother to copy or reverse history array.\n      } else {\n        var changeHistory = cm.doc.history.done.filter(function (el) {\n          if (el.changes !== undefined) {\n            return el;\n          }\n        });\n        changeHistory.reverse();\n        var lastEditPos = changeHistory[0].changes[0].to;\n      }\n\n      return lastEditPos;\n    }\n\n    var mark = vim.marks[markName];\n    return mark && mark.find();\n  }\n\n  var ExCommandDispatcher = function ExCommandDispatcher() {\n    this.buildCommandMap_();\n  };\n\n  ExCommandDispatcher.prototype = {\n    processCommand: function processCommand(cm, input, opt_params) {\n      var that = this;\n      cm.operation(function () {\n        cm.curOp.isVimOp = true;\n\n        that._processCommand(cm, input, opt_params);\n      });\n    },\n    _processCommand: function _processCommand(cm, input, opt_params) {\n      var vim = cm.state.vim;\n      var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');\n      var previousCommand = commandHistoryRegister.toString();\n\n      if (vim.visualMode) {\n        exitVisualMode(cm);\n      }\n\n      var inputStream = new _cm_adapter[\"default\"].StringStream(input); // update \": with the latest command whether valid or invalid\n\n      commandHistoryRegister.setText(input);\n      var params = opt_params || {};\n      params.input = input;\n\n      try {\n        this.parseInput_(cm, inputStream, params);\n      } catch (e) {\n        showConfirm(cm, e);\n        throw e;\n      }\n\n      var command;\n      var commandName;\n\n      if (!params.commandName) {\n        // If only a line range is defined, move to the line.\n        if (params.line !== undefined) {\n          commandName = 'move';\n        }\n      } else {\n        command = this.matchCommand_(params.commandName);\n\n        if (command) {\n          commandName = command.name;\n\n          if (command.excludeFromCommandHistory) {\n            commandHistoryRegister.setText(previousCommand);\n          }\n\n          this.parseCommandArgs_(inputStream, params, command);\n\n          if (command.type == 'exToKey') {\n            // Handle Ex to Key mapping.\n            for (var i = 0; i < command.toKeys.length; i++) {\n              _cm_adapter[\"default\"].Vim.handleKey(cm, command.toKeys[i], 'mapping');\n            }\n\n            return;\n          } else if (command.type == 'exToEx') {\n            // Handle Ex to Ex mapping.\n            this.processCommand(cm, command.toInput);\n            return;\n          }\n        }\n      }\n\n      if (!commandName) {\n        showConfirm(cm, 'Not an editor command \":' + input + '\"');\n        return;\n      }\n\n      try {\n        exCommands[commandName](cm, params); // Possibly asynchronous commands (e.g. substitute, which might have a\n        // user confirmation), are responsible for calling the callback when\n        // done. All others have it taken care of for them here.\n\n        if ((!command || !command.possiblyAsync) && params.callback) {\n          params.callback();\n        }\n      } catch (e) {\n        showConfirm(cm, e);\n        throw e;\n      }\n    },\n    parseInput_: function parseInput_(cm, inputStream, result) {\n      inputStream.eatWhile(':'); // Parse range.\n\n      if (inputStream.eat('%')) {\n        result.line = cm.firstLine();\n        result.lineEnd = cm.lastLine();\n      } else {\n        result.line = this.parseLineSpec_(cm, inputStream);\n\n        if (result.line !== undefined && inputStream.eat(',')) {\n          result.lineEnd = this.parseLineSpec_(cm, inputStream);\n        }\n      } // Parse command name.\n\n\n      var commandMatch = inputStream.match(/^(\\w+)/);\n\n      if (commandMatch) {\n        result.commandName = commandMatch[1];\n      } else {\n        result.commandName = inputStream.match(/.*/)[0];\n      }\n\n      return result;\n    },\n    parseLineSpec_: function parseLineSpec_(cm, inputStream) {\n      var numberMatch = inputStream.match(/^(\\d+)/);\n\n      if (numberMatch) {\n        // Absolute line number plus offset (N+M or N-M) is probably a typo,\n        // not something the user actually wanted. (NB: vim does allow this.)\n        return parseInt(numberMatch[1], 10) - 1;\n      }\n\n      switch (inputStream.next()) {\n        case '.':\n          return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n\n        case '$':\n          return this.parseLineSpecOffset_(inputStream, cm.lastLine());\n\n        case '\\'':\n          var markName = inputStream.next();\n          var markPos = getMarkPos(cm, cm.state.vim, markName);\n          if (!markPos) throw new Error('Mark not set');\n          return this.parseLineSpecOffset_(inputStream, markPos.line);\n\n        case '-':\n        case '+':\n          inputStream.backUp(1); // Offset is relative to current line if not otherwise specified.\n\n          return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n\n        default:\n          inputStream.backUp(1);\n          return undefined;\n      }\n    },\n    parseLineSpecOffset_: function parseLineSpecOffset_(inputStream, line) {\n      var offsetMatch = inputStream.match(/^([+-])?(\\d+)/);\n\n      if (offsetMatch) {\n        var offset = parseInt(offsetMatch[2], 10);\n\n        if (offsetMatch[1] == \"-\") {\n          line -= offset;\n        } else {\n          line += offset;\n        }\n      }\n\n      return line;\n    },\n    parseCommandArgs_: function parseCommandArgs_(inputStream, params, command) {\n      if (inputStream.eol()) {\n        return;\n      }\n\n      params.argString = inputStream.match(/.*/)[0]; // Parse command-line arguments\n\n      var delim = command.argDelimiter || /\\s+/;\n      var args = trim(params.argString).split(delim);\n\n      if (args.length && args[0]) {\n        params.args = args;\n      }\n    },\n    matchCommand_: function matchCommand_(commandName) {\n      // Return the command in the command map that matches the shortest\n      // prefix of the passed in command name. The match is guaranteed to be\n      // unambiguous if the defaultExCommandMap's shortNames are set up\n      // correctly. (see @code{defaultExCommandMap}).\n      for (var i = commandName.length; i > 0; i--) {\n        var prefix = commandName.substring(0, i);\n\n        if (this.commandMap_[prefix]) {\n          var command = this.commandMap_[prefix];\n\n          if (command.name.indexOf(commandName) === 0) {\n            return command;\n          }\n        }\n      }\n\n      return null;\n    },\n    buildCommandMap_: function buildCommandMap_() {\n      this.commandMap_ = {};\n\n      for (var i = 0; i < defaultExCommandMap.length; i++) {\n        var command = defaultExCommandMap[i];\n        var key = command.shortName || command.name;\n        this.commandMap_[key] = command;\n      }\n    },\n    map: function map(lhs, rhs, ctx) {\n      if (lhs != ':' && lhs.charAt(0) == ':') {\n        if (ctx) {\n          throw Error('Mode not supported for ex mappings');\n        }\n\n        var commandName = lhs.substring(1);\n\n        if (rhs != ':' && rhs.charAt(0) == ':') {\n          // Ex to Ex mapping\n          this.commandMap_[commandName] = {\n            name: commandName,\n            type: 'exToEx',\n            toInput: rhs.substring(1),\n            user: true\n          };\n        } else {\n          // Ex to key mapping\n          this.commandMap_[commandName] = {\n            name: commandName,\n            type: 'exToKey',\n            toKeys: rhs,\n            user: true\n          };\n        }\n      } else {\n        if (rhs != ':' && rhs.charAt(0) == ':') {\n          // Key to Ex mapping.\n          var mapping = {\n            keys: lhs,\n            type: 'keyToEx',\n            exArgs: {\n              input: rhs.substring(1)\n            }\n          };\n\n          if (ctx) {\n            mapping.context = ctx;\n          }\n\n          defaultKeymap.unshift(mapping);\n        } else {\n          // Key to key mapping\n          var mapping = {\n            keys: lhs,\n            type: 'keyToKey',\n            toKeys: rhs\n          };\n\n          if (ctx) {\n            mapping.context = ctx;\n          }\n\n          defaultKeymap.unshift(mapping);\n        }\n      }\n    },\n    unmap: function unmap(lhs, ctx) {\n      if (lhs != ':' && lhs.charAt(0) == ':') {\n        // Ex to Ex or Ex to key mapping\n        if (ctx) {\n          throw Error('Mode not supported for ex mappings');\n        }\n\n        var commandName = lhs.substring(1);\n\n        if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {\n          delete this.commandMap_[commandName];\n          return;\n        }\n      } else {\n        // Key to Ex or key to key mapping\n        var keys = lhs;\n\n        for (var i = 0; i < defaultKeymap.length; i++) {\n          if (keys == defaultKeymap[i].keys && defaultKeymap[i].context === ctx) {\n            defaultKeymap.splice(i, 1);\n            return;\n          }\n        }\n      }\n\n      throw Error('No such mapping.');\n    }\n  };\n  var exCommands = {\n    colorscheme: function colorscheme(cm, params) {\n      if (!params.args || params.args.length < 1) {\n        showConfirm(cm, cm.getOption('theme'));\n        return;\n      }\n\n      cm.setOption('theme', params.args[0]);\n    },\n    map: function map(cm, params, ctx) {\n      var mapArgs = params.args;\n\n      if (!mapArgs || mapArgs.length < 2) {\n        if (cm) {\n          showConfirm(cm, 'Invalid mapping: ' + params.input);\n        }\n\n        return;\n      }\n\n      exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx);\n    },\n    imap: function imap(cm, params) {\n      this.map(cm, params, 'insert');\n    },\n    nmap: function nmap(cm, params) {\n      this.map(cm, params, 'normal');\n    },\n    vmap: function vmap(cm, params) {\n      this.map(cm, params, 'visual');\n    },\n    unmap: function unmap(cm, params, ctx) {\n      var mapArgs = params.args;\n\n      if (!mapArgs || mapArgs.length < 1) {\n        if (cm) {\n          showConfirm(cm, 'No such mapping: ' + params.input);\n        }\n\n        return;\n      }\n\n      exCommandDispatcher.unmap(mapArgs[0], ctx);\n    },\n    move: function move(cm, params) {\n      commandDispatcher.processCommand(cm, cm.state.vim, {\n        type: 'motion',\n        motion: 'moveToLineOrEdgeOfDocument',\n        motionArgs: {\n          forward: false,\n          explicitRepeat: true,\n          linewise: true\n        },\n        repeatOverride: params.line + 1\n      });\n    },\n    set: function set(cm, params) {\n      var setArgs = params.args; // Options passed through to the setOption/getOption calls. May be passed in by the\n      // local/global versions of the set command\n\n      var setCfg = params.setCfg || {};\n\n      if (!setArgs || setArgs.length < 1) {\n        if (cm) {\n          showConfirm(cm, 'Invalid mapping: ' + params.input);\n        }\n\n        return;\n      }\n\n      var expr = setArgs[0].split('=');\n      var optionName = expr[0];\n      var value = expr[1];\n      var forceGet = false;\n\n      if (optionName.charAt(optionName.length - 1) == '?') {\n        // If post-fixed with ?, then the set is actually a get.\n        if (value) {\n          throw Error('Trailing characters: ' + params.argString);\n        }\n\n        optionName = optionName.substring(0, optionName.length - 1);\n        forceGet = true;\n      }\n\n      if (value === undefined && optionName.substring(0, 2) == 'no') {\n        // To set boolean options to false, the option name is prefixed with\n        // 'no'.\n        optionName = optionName.substring(2);\n        value = false;\n      }\n\n      var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';\n\n      if (optionIsBoolean && value == undefined) {\n        // Calling set with a boolean option sets it to true.\n        value = true;\n      } // If no value is provided, then we assume this is a get.\n\n\n      if (!optionIsBoolean && value === undefined || forceGet) {\n        var oldValue = getOption(optionName, cm, setCfg);\n\n        if (oldValue instanceof Error) {\n          showConfirm(cm, oldValue.message);\n        } else if (oldValue === true || oldValue === false) {\n          showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);\n        } else {\n          showConfirm(cm, '  ' + optionName + '=' + oldValue);\n        }\n      } else {\n        var setOptionReturn = setOption(optionName, value, cm, setCfg);\n\n        if (setOptionReturn instanceof Error) {\n          showConfirm(cm, setOptionReturn.message);\n        }\n      }\n    },\n    setlocal: function setlocal(cm, params) {\n      // setCfg is passed through to setOption\n      params.setCfg = {\n        scope: 'local'\n      };\n      this.set(cm, params);\n    },\n    setglobal: function setglobal(cm, params) {\n      // setCfg is passed through to setOption\n      params.setCfg = {\n        scope: 'global'\n      };\n      this.set(cm, params);\n    },\n    registers: function registers(cm, params) {\n      var regArgs = params.args;\n      var registers = vimGlobalState.registerController.registers;\n      var regInfo = '----------Registers----------<br><br>';\n\n      if (!regArgs) {\n        for (var registerName in registers) {\n          var text = registers[registerName].toString();\n\n          if (text.length) {\n            regInfo += '\"' + registerName + '    ' + text + '<br>';\n          }\n        }\n      } else {\n        var registerName;\n        regArgs = regArgs.join('');\n\n        for (var i = 0; i < regArgs.length; i++) {\n          registerName = regArgs.charAt(i);\n\n          if (!vimGlobalState.registerController.isValidRegister(registerName)) {\n            continue;\n          }\n\n          var register = registers[registerName] || new Register();\n          regInfo += '\"' + registerName + '    ' + register.toString() + '<br>';\n        }\n      }\n\n      showConfirm(cm, regInfo);\n    },\n    sort: function sort(cm, params) {\n      var reverse, ignoreCase, unique, number, pattern;\n\n      function parseArgs() {\n        if (params.argString) {\n          var args = new _cm_adapter[\"default\"].StringStream(params.argString);\n\n          if (args.eat('!')) {\n            reverse = true;\n          }\n\n          if (args.eol()) {\n            return;\n          }\n\n          if (!args.eatSpace()) {\n            return 'Invalid arguments';\n          }\n\n          var opts = args.match(/([dinuox]+)?\\s*(\\/.+\\/)?\\s*/);\n\n          if (!opts && !args.eol()) {\n            return 'Invalid arguments';\n          }\n\n          if (opts[1]) {\n            ignoreCase = opts[1].indexOf('i') != -1;\n            unique = opts[1].indexOf('u') != -1;\n            var decimal = opts[1].indexOf('d') != -1 || opts[1].indexOf('n') != -1 && 1;\n            var hex = opts[1].indexOf('x') != -1 && 1;\n            var octal = opts[1].indexOf('o') != -1 && 1;\n\n            if (decimal + hex + octal > 1) {\n              return 'Invalid arguments';\n            }\n\n            number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';\n          }\n\n          if (opts[2]) {\n            pattern = new RegExp(opts[2].substr(1, opts[2].length - 2), ignoreCase ? 'i' : '');\n          }\n        }\n      }\n\n      var err = parseArgs();\n\n      if (err) {\n        showConfirm(cm, err + ': ' + params.argString);\n        return;\n      }\n\n      var lineStart = params.line || cm.firstLine();\n      var lineEnd = params.lineEnd || params.line || cm.lastLine();\n\n      if (lineStart == lineEnd) {\n        return;\n      }\n\n      var curStart = Pos(lineStart, 0);\n      var curEnd = Pos(lineEnd, lineLength(cm, lineEnd));\n      var text = cm.getRange(curStart, curEnd).split('\\n');\n      var numberRegex = pattern ? pattern : number == 'decimal' ? /(-?)([\\d]+)/ : number == 'hex' ? /(-?)(?:0x)?([0-9a-f]+)/i : number == 'octal' ? /([0-7]+)/ : null;\n      var radix = number == 'decimal' ? 10 : number == 'hex' ? 16 : number == 'octal' ? 8 : null;\n      var numPart = [],\n          textPart = [];\n\n      if (number || pattern) {\n        for (var i = 0; i < text.length; i++) {\n          var matchPart = pattern ? text[i].match(pattern) : null;\n\n          if (matchPart && matchPart[0] != '') {\n            numPart.push(matchPart);\n          } else if (!pattern && numberRegex.exec(text[i])) {\n            numPart.push(text[i]);\n          } else {\n            textPart.push(text[i]);\n          }\n        }\n      } else {\n        textPart = text;\n      }\n\n      function compareFn(a, b) {\n        if (reverse) {\n          var tmp;\n          tmp = a;\n          a = b;\n          b = tmp;\n        }\n\n        if (ignoreCase) {\n          a = a.toLowerCase();\n          b = b.toLowerCase();\n        }\n\n        var anum = number && numberRegex.exec(a);\n        var bnum = number && numberRegex.exec(b);\n\n        if (!anum) {\n          return a < b ? -1 : 1;\n        }\n\n        anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);\n        bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);\n        return anum - bnum;\n      }\n\n      function comparePatternFn(a, b) {\n        if (reverse) {\n          var tmp;\n          tmp = a;\n          a = b;\n          b = tmp;\n        }\n\n        if (ignoreCase) {\n          a[0] = a[0].toLowerCase();\n          b[0] = b[0].toLowerCase();\n        }\n\n        return a[0] < b[0] ? -1 : 1;\n      }\n\n      numPart.sort(pattern ? comparePatternFn : compareFn);\n\n      if (pattern) {\n        for (var i = 0; i < numPart.length; i++) {\n          numPart[i] = numPart[i].input;\n        }\n      } else if (!number) {\n        textPart.sort(compareFn);\n      }\n\n      text = !reverse ? textPart.concat(numPart) : numPart.concat(textPart);\n\n      if (unique) {\n        // Remove duplicate lines\n        var textOld = text;\n        var lastLine;\n        text = [];\n\n        for (var i = 0; i < textOld.length; i++) {\n          if (textOld[i] != lastLine) {\n            text.push(textOld[i]);\n          }\n\n          lastLine = textOld[i];\n        }\n      }\n\n      cm.replaceRange(text.join('\\n'), curStart, curEnd);\n    },\n    global: function global(cm, params) {\n      // a global command is of the form\n      // :[range]g/pattern/[cmd]\n      // argString holds the string /pattern/[cmd]\n      var argString = params.argString;\n\n      if (!argString) {\n        showConfirm(cm, 'Regular Expression missing from global');\n        return;\n      } // range is specified here\n\n\n      var lineStart = params.line !== undefined ? params.line : cm.firstLine();\n      var lineEnd = params.lineEnd || params.line || cm.lastLine(); // get the tokens from argString\n\n      var tokens = splitBySlash(argString);\n      var regexPart = argString,\n          cmd;\n\n      if (tokens.length) {\n        regexPart = tokens[0];\n        cmd = tokens.slice(1, tokens.length).join('/');\n      }\n\n      if (regexPart) {\n        // If regex part is empty, then use the previous query. Otherwise\n        // use the regex part as the new query.\n        try {\n          updateSearchQuery(cm, regexPart, true\n          /** ignoreCase */\n          , true\n          /** smartCase */\n          );\n        } catch (e) {\n          showConfirm(cm, 'Invalid regex: ' + regexPart);\n          return;\n        }\n      } // now that we have the regexPart, search for regex matches in the\n      // specified range of lines\n\n\n      var query = getSearchState(cm).getQuery();\n      var matchedLines = [],\n          content = '';\n\n      for (var i = lineStart; i <= lineEnd; i++) {\n        var matched = query.test(cm.getLine(i));\n\n        if (matched) {\n          matchedLines.push(i + 1);\n          content += cm.getLine(i) + '<br>';\n        }\n      } // if there is no [cmd], just display the list of matched lines\n\n\n      if (!cmd) {\n        showConfirm(cm, content);\n        return;\n      }\n\n      var index = 0;\n\n      var nextCommand = function nextCommand() {\n        if (index < matchedLines.length) {\n          var command = matchedLines[index] + cmd;\n          exCommandDispatcher.processCommand(cm, command, {\n            callback: nextCommand\n          });\n        }\n\n        index++;\n      };\n\n      nextCommand();\n    },\n    substitute: function substitute(cm, params) {\n      if (!cm.getSearchCursor) {\n        throw new Error('Search feature not available. Requires searchcursor.js or ' + 'any other getSearchCursor implementation.');\n      }\n\n      var argString = params.argString;\n      var tokens = argString ? splitBySeparator(argString, argString[0]) : [];\n      var regexPart,\n          replacePart = '',\n          trailing,\n          flagsPart,\n          count;\n      var confirm = false; // Whether to confirm each replace.\n\n      var global = false; // True to replace all instances on a line, false to replace only 1.\n\n      if (tokens.length) {\n        regexPart = tokens[0];\n        replacePart = tokens[1];\n\n        if (regexPart && regexPart[regexPart.length - 1] === '$') {\n          regexPart = regexPart.slice(0, regexPart.length - 1) + '\\\\n';\n          replacePart = replacePart ? replacePart + '\\n' : '\\n';\n        }\n\n        if (replacePart !== undefined) {\n          if (getOption('pcre')) {\n            replacePart = unescapeRegexReplace(replacePart);\n          } else {\n            replacePart = translateRegexReplace(replacePart);\n          }\n\n          vimGlobalState.lastSubstituteReplacePart = replacePart;\n        }\n\n        trailing = tokens[2] ? tokens[2].split(' ') : [];\n      } else {\n        // either the argString is empty or its of the form ' hello/world'\n        // actually splitBySlash returns a list of tokens\n        // only if the string starts with a '/'\n        if (argString && argString.length) {\n          showConfirm(cm, 'Substitutions should be of the form ' + ':s/pattern/replace/');\n          return;\n        }\n      } // After the 3rd slash, we can have flags followed by a space followed\n      // by count.\n\n\n      if (trailing) {\n        flagsPart = trailing[0];\n        count = parseInt(trailing[1]);\n\n        if (flagsPart) {\n          if (flagsPart.indexOf('c') != -1) {\n            confirm = true;\n            flagsPart.replace('c', '');\n          }\n\n          if (flagsPart.indexOf('g') != -1) {\n            global = true;\n            flagsPart.replace('g', '');\n          }\n\n          regexPart = regexPart.replace(/\\//g, \"\\\\/\") + '/' + flagsPart;\n        }\n      }\n\n      if (regexPart) {\n        // If regex part is empty, then use the previous query. Otherwise use\n        // the regex part as the new query.\n        try {\n          updateSearchQuery(cm, regexPart, true\n          /** ignoreCase */\n          , true\n          /** smartCase */\n          );\n        } catch (e) {\n          showConfirm(cm, 'Invalid regex: ' + regexPart);\n          return;\n        }\n      }\n\n      replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;\n\n      if (replacePart === undefined) {\n        showConfirm(cm, 'No previous substitute regular expression');\n        return;\n      }\n\n      var state = getSearchState(cm);\n      var query = state.getQuery();\n      var lineStart = params.line !== undefined ? params.line : cm.getCursor().line;\n      var lineEnd = params.lineEnd || lineStart;\n\n      if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {\n        lineEnd = Infinity;\n      }\n\n      if (count) {\n        lineStart = lineEnd;\n        lineEnd = lineStart + count - 1;\n      }\n\n      var startPos = clipCursorToContent(cm, Pos(lineStart, 0));\n      var cursor = cm.getSearchCursor(query, startPos);\n      doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);\n    },\n    redo: _cm_adapter[\"default\"].commands.redo,\n    undo: _cm_adapter[\"default\"].commands.undo,\n    write: function write(cm) {\n      if (_cm_adapter[\"default\"].commands.save) {\n        // If a save command is defined, call it.\n        _cm_adapter[\"default\"].commands.save(cm);\n      } else if (cm.save) {\n        // Saves to text area if no save command is defined and cm.save() is available.\n        cm.save();\n      }\n    },\n    nohlsearch: function nohlsearch(cm) {\n      clearSearchHighlight(cm);\n    },\n    yank: function yank(cm) {\n      var cur = copyCursor(cm.getCursor());\n      var line = cur.line;\n      var lineText = cm.getLine(line);\n      vimGlobalState.registerController.pushText('0', 'yank', lineText, true, true);\n    },\n    delmarks: function delmarks(cm, params) {\n      if (!params.argString || !trim(params.argString)) {\n        showConfirm(cm, 'Argument required');\n        return;\n      }\n\n      var state = cm.state.vim;\n      var stream = new _cm_adapter[\"default\"].StringStream(trim(params.argString));\n\n      while (!stream.eol()) {\n        stream.eatSpace(); // Record the streams position at the beginning of the loop for use\n        // in error messages.\n\n        var count = stream.pos;\n\n        if (!stream.match(/[a-zA-Z]/, false)) {\n          showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n          return;\n        }\n\n        var sym = stream.next(); // Check if this symbol is part of a range\n\n        if (stream.match('-', true)) {\n          // This symbol is part of a range.\n          // The range must terminate at an alphabetic character.\n          if (!stream.match(/[a-zA-Z]/, false)) {\n            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n            return;\n          }\n\n          var startMark = sym;\n          var finishMark = stream.next(); // The range must terminate at an alphabetic character which\n          // shares the same case as the start of the range.\n\n          if (isLowerCase(startMark) && isLowerCase(finishMark) || isUpperCase(startMark) && isUpperCase(finishMark)) {\n            var start = startMark.charCodeAt(0);\n            var finish = finishMark.charCodeAt(0);\n\n            if (start >= finish) {\n              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n              return;\n            } // Because marks are always ASCII values, and we have\n            // determined that they are the same case, we can use\n            // their char codes to iterate through the defined range.\n\n\n            for (var j = 0; j <= finish - start; j++) {\n              var mark = String.fromCharCode(start + j);\n              delete state.marks[mark];\n            }\n          } else {\n            showConfirm(cm, 'Invalid argument: ' + startMark + '-');\n            return;\n          }\n        } else {\n          // This symbol is a valid mark, and is not part of a range.\n          delete state.marks[sym];\n        }\n      }\n    }\n  };\n  var exCommandDispatcher = new ExCommandDispatcher();\n  /**\n  * @param {CodeMirror} cm CodeMirror instance we are in.\n  * @param {boolean} confirm Whether to confirm each replace.\n  * @param {Cursor} lineStart Line to start replacing from.\n  * @param {Cursor} lineEnd Line to stop replacing at.\n  * @param {RegExp} query Query for performing matches with.\n  * @param {string} replaceWith Text to replace matches with. May contain $1,\n  *     $2, etc for replacing captured groups using Javascript replace.\n  * @param {function()} callback A callback for when the replace is done.\n  */\n\n  function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query, replaceWith, callback) {\n    // Set up all the functions.\n    cm.state.vim.exMode = true;\n    var done = false;\n    var lastPos = searchCursor.from();\n\n    function replaceAll() {\n      var matches = searchCursor.getMatches();\n      var matchesLength = matches.length;\n      cm.operation(function (matches, matchesLength) {\n        for (var i = matchesLength - 1; i >= 0; i--) {\n          replace();\n          replaceAllNext(matches, i);\n        }\n\n        done = true;\n        stop();\n      }.bind(this, matches, matchesLength));\n    }\n\n    function replace() {\n      var text = cm.getRange(searchCursor.from(), searchCursor.to());\n      var newText = text.replace(query, replaceWith);\n      searchCursor.replace(newText);\n    }\n\n    function replaceAllNext(matches, index) {\n      var hasNext = searchCursor.jumpTo(index) && isInRange(searchCursor.from(), lineStart, lineEnd);\n      var match = matches.pop();\n\n      if (hasNext && !global && lastPos && searchCursor.from().line == lastPos.line) {\n        // Skip over multiple occurrences on the same line when 'global' is\n        // not true.\n        return;\n      }\n\n      cm.scrollIntoView(searchCursor.from(), 30);\n      lastPos = searchCursor.from();\n      done = false;\n      return;\n    }\n\n    function next() {\n      // The below only loops to skip over multiple occurrences on the same\n      // line when 'global' is not true.\n      while (searchCursor.findNext() && isInRange(searchCursor.from(), lineStart, lineEnd)) {\n        if (!global && lastPos && searchCursor.from().line == lastPos.line) {\n          continue;\n        }\n\n        cm.scrollIntoView(searchCursor.from(), 30);\n        cm.setSelection(searchCursor.from(), searchCursor.to());\n        lastPos = searchCursor.from();\n        done = false;\n        return;\n      }\n\n      done = true;\n    }\n\n    function stop(close) {\n      if (close) {\n        close();\n      }\n\n      cm.focus();\n\n      if (lastPos) {\n        cm.setCursor(lastPos);\n        var vim = cm.state.vim;\n        vim.exMode = false;\n        vim.lastHPos = vim.lastHSPos = lastPos.ch;\n      }\n\n      if (callback) {\n        callback();\n      }\n    }\n\n    function onPromptKeyDown(e, _value, close) {\n      // Swallow all keys.\n      _cm_adapter[\"default\"].e_stop(e);\n\n      var keyName = _cm_adapter[\"default\"].keyName(e);\n\n      switch (keyName) {\n        case 'y':\n        case 'Y':\n          replace();\n          next();\n          break;\n\n        case 'n':\n        case 'N':\n          next();\n          break;\n\n        case 'a':\n        case 'A':\n          // replaceAll contains a call to close of its own. We don't want it\n          // to fire too early or multiple times.\n          var savedCallback = callback;\n          callback = undefined;\n          cm.operation(replaceAll);\n          callback = savedCallback;\n          break;\n\n        case 'l':\n        case 'L':\n          replace();\n        // fall through and exit.\n\n        case 'q':\n        case 'Q':\n        case 'Esc':\n        case 'Ctrl-C':\n        case 'Ctrl-[':\n          stop(close);\n          break;\n      }\n\n      if (done) {\n        stop(close);\n      }\n\n      return true;\n    } // Actually do replace.\n\n\n    next();\n\n    if (done) {\n      showConfirm(cm, 'No matches for ' + query.source);\n      return;\n    }\n\n    if (!confirm) {\n      replaceAll();\n\n      if (callback) {\n        callback();\n      }\n\n      return;\n    }\n\n    showPrompt(cm, {\n      prefix: 'replace with <strong>' + replaceWith + '</strong> (y/n/a/q/l)',\n      onKeyDown: onPromptKeyDown\n    });\n  }\n\n  _cm_adapter[\"default\"].keyMap.vim = {\n    attach: attachVimMap,\n    detach: detachVimMap,\n    call: cmKey\n  };\n\n  function exitInsertMode(cm) {\n    var vim = cm.state.vim;\n    var macroModeState = vimGlobalState.macroModeState;\n    var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');\n    var isPlaying = macroModeState.isPlaying;\n    var lastChange = macroModeState.lastInsertModeChanges; // In case of visual block, the insertModeChanges are not saved as a\n    // single word, so we convert them to a single word\n    // so as to update the \". register as expected in real vim.\n\n    var text = [];\n\n    if (!isPlaying) {\n      var selLength = lastChange.inVisualBlock && vim.lastSelection ? vim.lastSelection.visualBlock.height : 1;\n      var changes = lastChange.changes;\n      var text = [];\n      var i = 0; // In case of multiple selections in blockwise visual,\n      // the inserted text, for example: 'f<Backspace>oo', is stored as\n      // 'f', 'f', InsertModeKey 'o', 'o', 'o', 'o'. (if you have a block with 2 lines).\n      // We push the contents of the changes array as per the following:\n      // 1. In case of InsertModeKey, just increment by 1.\n      // 2. In case of a character, jump by selLength (2 in the example).\n\n      while (i < changes.length) {\n        // This loop will convert 'ff<bs>oooo' to 'f<bs>oo'.\n        text.push(changes[i]);\n\n        if (changes[i] instanceof InsertModeKey) {\n          i++;\n        } else {\n          i += selLength;\n        }\n      }\n\n      lastChange.changes = text;\n      cm.off('change', onChange);\n\n      _cm_adapter[\"default\"].off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n    }\n\n    if (!isPlaying && vim.insertModeRepeat > 1) {\n      // Perform insert mode repeat for commands like 3,a and 3,o.\n      _repeatLastEdit(cm, vim, vim.insertModeRepeat - 1, true\n      /** repeatForInsert */\n      );\n\n      vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;\n    }\n\n    delete vim.insertModeRepeat;\n    vim.insertMode = false;\n    cm.setCursor(cm.getCursor().line, cm.getCursor().ch - 1);\n    cm.setOption('keyMap', 'vim');\n    cm.setOption('disableInput', true);\n    cm.toggleOverwrite(false); // exit replace mode if we were in it.\n    // update the \". register before exiting insert mode\n\n    insertModeChangeRegister.setText(lastChange.changes.join(''));\n\n    _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n      mode: \"normal\"\n    });\n\n    if (macroModeState.isRecording) {\n      logInsertModeChange(macroModeState);\n    }\n\n    cm.enterVimMode();\n  }\n\n  function _mapCommand(command) {\n    defaultKeymap.unshift(command);\n  }\n\n  function mapCommand(keys, type, name, args, extra) {\n    var command = {\n      keys: keys,\n      type: type\n    };\n    command[type] = name;\n    command[type + \"Args\"] = args;\n\n    for (var key in extra) {\n      command[key] = extra[key];\n    }\n\n    _mapCommand(command);\n  } // The timeout in milliseconds for the two-character ESC keymap should be\n  // adjusted according to your typing speed to prevent false positives.\n\n\n  defineOption('insertModeEscKeysTimeout', 200, 'number');\n  _cm_adapter[\"default\"].keyMap['vim-insert'] = {\n    // TODO: override navigation keys so that Esc will cancel automatic\n    // indentation from o, O, i_<CR>\n    fallthrough: ['default'],\n    attach: attachVimMap,\n    detach: detachVimMap,\n    call: cmKey\n  };\n  _cm_adapter[\"default\"].keyMap['vim-replace'] = {\n    'Backspace': 'goCharLeft',\n    fallthrough: ['vim-insert'],\n    attach: attachVimMap,\n    detach: detachVimMap,\n    call: cmKey\n  };\n\n  function executeMacroRegister(cm, vim, macroModeState, registerName) {\n    var register = vimGlobalState.registerController.getRegister(registerName);\n\n    if (registerName == ':') {\n      // Read-only register containing last Ex command.\n      if (register.keyBuffer[0]) {\n        exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);\n      }\n\n      macroModeState.isPlaying = false;\n      return;\n    }\n\n    var keyBuffer = register.keyBuffer;\n    var imc = 0;\n    macroModeState.isPlaying = true;\n    macroModeState.replaySearchQueries = register.searchQueries.slice(0);\n\n    for (var i = 0; i < keyBuffer.length; i++) {\n      var text = keyBuffer[i];\n      var match, key;\n\n      while (text) {\n        // Pull off one command key, which is either a single character\n        // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n        match = /<\\w+-.+?>|<\\w+>|./.exec(text);\n        key = match[0];\n        text = text.substring(match.index + key.length);\n\n        _cm_adapter[\"default\"].Vim.handleKey(cm, key, 'macro');\n\n        if (vim.insertMode) {\n          var changes = register.insertModeChanges[imc++].changes;\n          vimGlobalState.macroModeState.lastInsertModeChanges.changes = changes;\n          repeatInsertModeChanges(cm, changes, 1);\n          exitInsertMode(cm);\n        }\n      }\n    }\n\n    macroModeState.isPlaying = false;\n  }\n\n  function logKey(macroModeState, key) {\n    if (macroModeState.isPlaying) {\n      return;\n    }\n\n    var registerName = macroModeState.latestRegister;\n    var register = vimGlobalState.registerController.getRegister(registerName);\n\n    if (register) {\n      register.pushText(key);\n    }\n  }\n\n  function logInsertModeChange(macroModeState) {\n    if (macroModeState.isPlaying) {\n      return;\n    }\n\n    var registerName = macroModeState.latestRegister;\n    var register = vimGlobalState.registerController.getRegister(registerName);\n\n    if (register && register.pushInsertModeChanges) {\n      register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);\n    }\n  }\n\n  function logSearchQuery(macroModeState, query) {\n    if (macroModeState.isPlaying) {\n      return;\n    }\n\n    var registerName = macroModeState.latestRegister;\n    var register = vimGlobalState.registerController.getRegister(registerName);\n\n    if (register && register.pushSearchQuery) {\n      register.pushSearchQuery(query);\n    }\n  }\n  /**\n   * Listens for changes made in insert mode.\n   * Should only be active in insert mode.\n   */\n\n\n  function onChange(cm, changeObj) {\n    var macroModeState = vimGlobalState.macroModeState;\n    var lastChange = macroModeState.lastInsertModeChanges;\n\n    if (!macroModeState.isPlaying) {\n      while (changeObj) {\n        lastChange.expectCursorActivityForChange = true;\n\n        if (changeObj.origin == '+input' || changeObj.origin == 'paste' || changeObj.origin === undefined\n        /* only in testing */\n        ) {\n            var text = changeObj.text.join('\\n');\n\n            if (lastChange.maybeReset) {\n              lastChange.changes = [];\n              lastChange.maybeReset = false;\n            }\n\n            if (cm.state.overwrite && !/\\n/.test(text)) {\n              lastChange.changes.push([text]);\n            } else {\n              lastChange.changes.push(text);\n            }\n          } // Change objects may be chained with next.\n\n\n        changeObj = changeObj.next;\n      }\n    }\n  }\n  /**\n  * Listens for any kind of cursor activity on CodeMirror.\n  */\n\n\n  function onCursorActivity(cm) {\n    var vim = cm.state.vim;\n\n    if (vim.insertMode) {\n      // Tracking cursor activity in insert mode (for macro support).\n      var macroModeState = vimGlobalState.macroModeState;\n\n      if (macroModeState.isPlaying) {\n        return;\n      }\n\n      var lastChange = macroModeState.lastInsertModeChanges;\n\n      if (lastChange.expectCursorActivityForChange) {\n        lastChange.expectCursorActivityForChange = false;\n      } else {\n        // Cursor moved outside the context of an edit. Reset the change.\n        lastChange.maybeReset = true;\n      }\n    } else if (!cm.curOp.isVimOp) {\n      handleExternalSelection(cm, vim);\n    }\n\n    if (vim.visualMode) {\n      updateFakeCursor(cm);\n    }\n  }\n\n  function updateFakeCursor(cm) {\n    var vim = cm.state.vim;\n    var from = clipCursorToContent(cm, copyCursor(vim.sel.head));\n    var to = offsetCursor(from, 0, 1);\n\n    if (vim.fakeCursor) {\n      vim.fakeCursor.clear();\n    }\n\n    vim.fakeCursor = cm.markText(from, to, {\n      className: 'cm-animate-fat-cursor'\n    });\n  }\n\n  function handleExternalSelection(cm, vim) {\n    var anchor = cm.getCursor('anchor');\n    var head = cm.getCursor('head'); // Enter or exit visual mode to match mouse selection.\n\n    if (vim.visualMode && !cm.somethingSelected()) {\n      exitVisualMode(cm, false);\n    } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {\n      vim.visualMode = true;\n      vim.visualLine = false;\n\n      _cm_adapter[\"default\"].signal(cm, \"vim-mode-change\", {\n        mode: \"visual\"\n      });\n    }\n\n    if (vim.visualMode) {\n      // Bind CodeMirror selection model to vim selection model.\n      // Mouse selections are considered visual characterwise.\n      var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n      var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n      head = offsetCursor(head, 0, headOffset);\n      anchor = offsetCursor(anchor, 0, anchorOffset);\n      vim.sel = {\n        anchor: anchor,\n        head: head\n      };\n      updateMark(cm, vim, '<', cursorMin(head, anchor));\n      updateMark(cm, vim, '>', cursorMax(head, anchor));\n    } else if (!vim.insertMode) {\n      // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.\n      vim.lastHPos = cm.getCursor().ch;\n    }\n  }\n  /** Wrapper for special keys pressed in insert mode */\n\n\n  function InsertModeKey(keyName) {\n    this.keyName = keyName;\n  }\n  /**\n  * Handles raw key down events from the text area.\n  * - Should only be active in insert mode.\n  * - For recording deletes in insert mode.\n  */\n\n\n  function onKeyEventTargetKeyDown(e) {\n    var macroModeState = vimGlobalState.macroModeState;\n    var lastChange = macroModeState.lastInsertModeChanges;\n\n    var keyName = _cm_adapter[\"default\"].keyName(e);\n\n    if (!keyName) {\n      return;\n    }\n\n    function onKeyFound() {\n      if (lastChange.maybeReset) {\n        lastChange.changes = [];\n        lastChange.maybeReset = false;\n      }\n\n      lastChange.changes.push(new InsertModeKey(keyName));\n      return true;\n    }\n\n    if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {\n      _cm_adapter[\"default\"].lookupKey(keyName, 'vim-insert', onKeyFound);\n    }\n  }\n  /**\n   * Repeats the last edit, which includes exactly 1 command and at most 1\n   * insert. Operator and motion commands are read from lastEditInputState,\n   * while action commands are read from lastEditActionCommand.\n   *\n   * If repeatForInsert is true, then the function was called by\n   * exitInsertMode to repeat the insert mode changes the user just made. The\n   * corresponding enterInsertMode call was made with a count.\n   */\n\n\n  function _repeatLastEdit(cm, vim, repeat, repeatForInsert) {\n    var macroModeState = vimGlobalState.macroModeState;\n    macroModeState.isPlaying = true;\n    var isAction = !!vim.lastEditActionCommand;\n    var cachedInputState = vim.inputState;\n\n    function repeatCommand() {\n      if (isAction) {\n        commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);\n      } else {\n        commandDispatcher.evalInput(cm, vim);\n      }\n    }\n\n    function repeatInsert(repeat) {\n      if (macroModeState.lastInsertModeChanges.changes.length > 0) {\n        // For some reason, repeat cw in desktop VIM does not repeat\n        // insert mode changes. Will conform to that behavior.\n        repeat = !vim.lastEditActionCommand ? 1 : repeat;\n        var changeObject = macroModeState.lastInsertModeChanges;\n        repeatInsertModeChanges(cm, changeObject.changes, repeat);\n      }\n    }\n\n    vim.inputState = vim.lastEditInputState;\n\n    if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {\n      // o and O repeat have to be interlaced with insert repeats so that the\n      // insertions appear on separate lines instead of the last line.\n      for (var i = 0; i < repeat; i++) {\n        repeatCommand();\n        repeatInsert(1);\n      }\n    } else {\n      if (!repeatForInsert) {\n        // Hack to get the cursor to end up at the right place. If I is\n        // repeated in insert mode repeat, cursor will be 1 insert\n        // change set left of where it should be.\n        repeatCommand();\n      }\n\n      repeatInsert(repeat);\n    }\n\n    vim.inputState = cachedInputState;\n\n    if (vim.insertMode && !repeatForInsert) {\n      // Don't exit insert mode twice. If repeatForInsert is set, then we\n      // were called by an exitInsertMode call lower on the stack.\n      exitInsertMode(cm);\n    }\n\n    macroModeState.isPlaying = false;\n  }\n\n  function repeatInsertModeChanges(cm, changes, repeat) {\n    function keyHandler(binding) {\n      if (typeof binding == 'string') {\n        _cm_adapter[\"default\"].commands[binding](cm);\n      } else {\n        binding(cm);\n      }\n\n      return true;\n    }\n\n    var head = cm.getCursor('head');\n    var inVisualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock;\n\n    if (inVisualBlock) {\n      // Set up block selection again for repeating the changes.\n      var vim = cm.state.vim;\n      var lastSel = vim.lastSelection;\n      var offset = getOffset(lastSel.anchor, lastSel.head);\n      selectForInsert(cm, head, offset.line + 1);\n      repeat = cm.listSelections().length;\n      cm.setCursor(head);\n    }\n\n    for (var i = 0; i < repeat; i++) {\n      if (inVisualBlock) {\n        cm.setCursor(offsetCursor(head, i, 0));\n      }\n\n      for (var j = 0; j < changes.length; j++) {\n        var change = changes[j];\n\n        if (change instanceof InsertModeKey) {\n          _cm_adapter[\"default\"].lookupKey(change.keyName, 'vim-insert', keyHandler);\n        } else if (typeof change == \"string\") {\n          var cur = cm.getCursor();\n          cm.replaceRange(change, cur, cur);\n        } else {\n          var start = cm.getCursor();\n          var end = offsetCursor(start, 0, change[0].length);\n          cm.replaceRange(change[0], start, end);\n        }\n      }\n    }\n\n    if (inVisualBlock) {\n      cm.setCursor(offsetCursor(head, 0, 1));\n    }\n  }\n\n  resetVimGlobalState();\n  return vimApi;\n};\n\nexports.Vim = Vim;\n_cm_adapter[\"default\"].Vim = Vim();\nvar _default = _cm_adapter[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _monacoEditor = require(\"monaco-editor\");\n\nvar _cursorTypeOperations = require(\"monaco-editor/esm/vs/editor/common/controller/cursorTypeOperations\");\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar VerticalRevealType = {\n  Bottom: 4\n}; // for monaco 0.19.x where x < 3\n\nvar EditorOptConstants = {\n  readOnly: 65,\n  cursorWidth: 20,\n  fontInfo: 32\n};\nvar _window$navigator = window.navigator,\n    userAgent = _window$navigator.userAgent,\n    platform = _window$navigator.platform;\nvar edge = /Edge\\/(\\d+)/.exec(userAgent);\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\nvar mac = ios || /Mac/.test(platform);\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n}\n\nfunction Pos(line, column) {\n  if (!(this instanceof Pos)) {\n    return new Pos(line, column);\n  }\n\n  this.line = line;\n  this.ch = column;\n}\n\nfunction signal(cm, signal, args) {\n  cm.dispatch(signal, args);\n}\n\nfunction dummy(key) {\n  return function () {// console.log(key, 'dummy function called with', Array.prototype.slice.call(arguments));\n  };\n}\n\nvar doFold, noFold;\n\nif (String.prototype.normalize) {\n  doFold = function doFold(str) {\n    return str.normalize(\"NFD\").toLowerCase();\n  };\n\n  noFold = function noFold(str) {\n    return str.normalize(\"NFD\");\n  };\n} else {\n  doFold = function doFold(str) {\n    return str.toLowerCase();\n  };\n\n  noFold = function noFold(str) {\n    return str;\n  };\n}\n\nvar StringStream = function StringStream(string, tabSize) {\n  this.pos = this.start = 0;\n  this.string = string;\n  this.tabSize = tabSize || 8;\n  this.lastColumnPos = this.lastColumnValue = 0;\n  this.lineStart = 0;\n};\n\nStringStream.prototype = {\n  eol: function eol() {\n    return this.pos >= this.string.length;\n  },\n  sol: function sol() {\n    return this.pos == this.lineStart;\n  },\n  peek: function peek() {\n    return this.string.charAt(this.pos) || undefined;\n  },\n  next: function next() {\n    if (this.pos < this.string.length) return this.string.charAt(this.pos++);\n  },\n  eat: function eat(match) {\n    var ch = this.string.charAt(this.pos);\n    if (typeof match == \"string\") var ok = ch == match;else var ok = ch && (match.test ? match.test(ch) : match(ch));\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  },\n  eatWhile: function eatWhile(match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  },\n  eatSpace: function eatSpace() {\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this.pos;\n    }\n\n    return this.pos > start;\n  },\n  skipToEnd: function skipToEnd() {\n    this.pos = this.string.length;\n  },\n  skipTo: function skipTo(ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  },\n  backUp: function backUp(n) {\n    this.pos -= n;\n  },\n  column: function column() {\n    throw \"not implemented\";\n  },\n  indentation: function indentation() {\n    throw \"not implemented\";\n  },\n  match: function match(pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function cased(str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) this.pos += pattern.length;\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) return null;\n      if (match && consume !== false) this.pos += match[0].length;\n      return match;\n    }\n  },\n  current: function current() {\n    return this.string.slice(this.start, this.pos);\n  },\n  hideFirstChars: function hideFirstChars(n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  }\n};\n\nfunction toCmPos(pos) {\n  return new Pos(pos.lineNumber - 1, pos.column - 1);\n}\n\nfunction toMonacoPos(pos) {\n  return new _monacoEditor.Position(pos.line + 1, pos.ch + 1);\n}\n\nvar Marker =\n/*#__PURE__*/\nfunction () {\n  function Marker(cm, id, line, ch) {\n    _classCallCheck(this, Marker);\n\n    this.cm = cm;\n    this.id = id;\n    this.lineNumber = line + 1;\n    this.column = ch + 1;\n    cm.marks[this.id] = this;\n  }\n\n  _createClass(Marker, [{\n    key: \"clear\",\n    value: function clear() {\n      delete this.cm.marks[this.id];\n    }\n  }, {\n    key: \"find\",\n    value: function find() {\n      return toCmPos(this);\n    }\n  }]);\n\n  return Marker;\n}();\n\nfunction monacoToCmKey(e) {\n  var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var addQuotes = true;\n  var keyName = monaco.KeyCode[e.keyCode];\n\n  if (e.key) {\n    keyName = e.key;\n    addQuotes = false;\n  }\n\n  var key = keyName;\n  var skipOnlyShiftCheck = skip;\n\n  switch (e.keyCode) {\n    case _monacoEditor.KeyCode.Shift:\n    case _monacoEditor.KeyCode.Meta:\n    case _monacoEditor.KeyCode.Alt:\n    case _monacoEditor.KeyCode.Ctrl:\n      return key;\n\n    case _monacoEditor.KeyCode.Escape:\n      skipOnlyShiftCheck = true;\n      key = 'Esc';\n      break;\n  }\n\n  if (keyName.startsWith('KEY_')) {\n    key = keyName[keyName.length - 1].toLowerCase();\n  } else if (keyName.endsWith('Arrow')) {\n    skipOnlyShiftCheck = true;\n    key = keyName.substr(0, keyName.length - 5);\n  } else if (keyName.startsWith('US_')) {\n    key = e.browserEvent.key;\n  }\n\n  if (!skipOnlyShiftCheck && !e.altKey && !e.ctrlKey && !e.metaKey) {\n    key = e.key || e.browserEvent.key;\n  } else {\n    if (e.altKey) {\n      key = \"Alt-\".concat(key);\n    }\n\n    if (e.ctrlKey) {\n      key = \"Ctrl-\".concat(key);\n    }\n\n    if (e.metaKey) {\n      key = \"Meta-\".concat(key);\n    }\n\n    if (e.shiftKey) {\n      key = \"Shift-\".concat(key);\n    }\n  }\n\n  if (key.length === 1 && addQuotes) {\n    key = \"'\".concat(key, \"'\");\n  }\n\n  return key;\n}\n\nvar CMAdapter =\n/*#__PURE__*/\nfunction () {\n  function CMAdapter(editor) {\n    _classCallCheck(this, CMAdapter);\n\n    _initialiseProps.call(this);\n\n    this.editor = editor;\n    this.state = {};\n    this.marks = {};\n    this.$uid = 0;\n    this.disposables = [];\n    this.listeners = {};\n    this.curOp = {};\n    this.attached = false;\n    this.statusBar = null;\n    this.addLocalListeners();\n    this.ctxInsert = this.editor.createContextKey('insertMode', true);\n  }\n\n  _createClass(CMAdapter, [{\n    key: \"attach\",\n    value: function attach() {\n      CMAdapter.keyMap.vim.attach(this);\n    }\n  }, {\n    key: \"addLocalListeners\",\n    value: function addLocalListeners() {\n      this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange), this.editor.onDidChangeModelContent(this.handleChange), this.editor.onKeyDown(this.handleKeyDown));\n    }\n  }, {\n    key: \"handleReplaceMode\",\n    value: function handleReplaceMode(key, e) {\n      var fromReplace = false;\n      var _char = key;\n      var pos = this.editor.getPosition();\n      var range = new _monacoEditor.Range(pos.lineNumber, pos.column, pos.lineNumber, pos.column + 1);\n      var forceMoveMarkers = true;\n\n      if (key.startsWith('\\'')) {\n        _char = key[1];\n      } else if (_char === 'Enter') {\n        _char = '\\n';\n      } else if (_char === 'Backspace') {\n        var lastItem = this.replaceStack.pop();\n\n        if (!lastItem) {\n          return;\n        }\n\n        fromReplace = true;\n        _char = lastItem;\n        range = new _monacoEditor.Range(pos.lineNumber, pos.column, pos.lineNumber, pos.column - 1);\n      } else {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!this.replaceStack) {\n        this.replaceStack = [];\n      }\n\n      if (!fromReplace) {\n        this.replaceStack.push(this.editor.getModel().getValueInRange(range));\n      }\n\n      this.editor.executeEdits('vim', [{\n        text: _char,\n        range: range,\n        forceMoveMarkers: forceMoveMarkers\n      }]);\n\n      if (fromReplace) {\n        this.editor.setPosition(range.getStartPosition());\n      }\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(key, value) {\n      this.state[key] = value;\n\n      if (key === 'theme') {\n        _monacoEditor.editor.setTheme(value);\n      }\n    }\n  }, {\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      var editor = this.editor;\n      var opts = EditorOptConstants;\n\n      if (typeof editor.getConfiguration === 'function') {\n        return editor.getConfiguration();\n      } else if ('EditorOption' in _monacoEditor.editor) {\n        // for monaco 0.19.3 onwards\n        opts = _monacoEditor.editor.EditorOption;\n      }\n\n      return {\n        readOnly: editor.getOption(opts.readOnly),\n        viewInfo: {\n          cursorWidth: editor.getOption(opts.cursorWidth)\n        },\n        fontInfo: editor.getOption(opts.fontInfo)\n      };\n    }\n  }, {\n    key: \"getOption\",\n    value: function getOption(key) {\n      if (key === 'readOnly') {\n        return this.getConfiguration().readOnly;\n      } else if (key === 'firstLineNumber') {\n        return this.firstLine() + 1;\n      } else if (key === 'indentWithTabs') {\n        return !this.editor.getModel().getOptions().insertSpaces;\n      } else {\n        if (typeof this.editor.getConfiguration === 'function') {\n          return this.editor.getRawConfiguration()[key];\n        }\n\n        return this.editor.getRawOptions()[key];\n      }\n\n      return this.state[key];\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(signal) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this.listeners[signal];\n\n      if (!listeners) {\n        return;\n      }\n\n      listeners.forEach(function (handler) {\n        return handler.apply(void 0, args);\n      });\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.listeners[event]) {\n        this.listeners[event] = [];\n      }\n\n      this.listeners[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      var listeners = this.listeners[event];\n\n      if (!listeners) {\n        return;\n      }\n\n      this.listeners[event] = listeners.filter(function (l) {\n        return l !== handler;\n      });\n    }\n  }, {\n    key: \"firstLine\",\n    value: function firstLine() {\n      return 0;\n    }\n  }, {\n    key: \"lastLine\",\n    value: function lastLine() {\n      return this.lineCount() - 1;\n    }\n  }, {\n    key: \"lineCount\",\n    value: function lineCount() {\n      return this.editor.getModel().getLineCount();\n    }\n  }, {\n    key: \"defaultTextHeight\",\n    value: function defaultTextHeight() {\n      return 1;\n    }\n  }, {\n    key: \"getLine\",\n    value: function getLine(line) {\n      if (line < 0) {\n        return '';\n      }\n\n      var model = this.editor.getModel();\n      var maxLines = model.getLineCount();\n\n      if (line + 1 > maxLines) {\n        line = maxLines - 1;\n      }\n\n      return this.editor.getModel().getLineContent(line + 1);\n    }\n  }, {\n    key: \"getAnchorForSelection\",\n    value: function getAnchorForSelection(selection) {\n      if (selection.isEmpty()) {\n        return selection.getPosition();\n      }\n\n      var selDir = selection.getDirection();\n      return selDir === _monacoEditor.SelectionDirection.LTR ? selection.getStartPosition() : selection.getEndPosition();\n    }\n  }, {\n    key: \"getHeadForSelection\",\n    value: function getHeadForSelection(selection) {\n      if (selection.isEmpty()) {\n        return selection.getPosition();\n      }\n\n      var selDir = selection.getDirection();\n      return selDir === _monacoEditor.SelectionDirection.LTR ? selection.getEndPosition() : selection.getStartPosition();\n    }\n  }, {\n    key: \"getCursor\",\n    value: function getCursor() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (!type) {\n        return toCmPos(this.editor.getPosition());\n      }\n\n      var sel = this.editor.getSelection();\n      var pos;\n\n      if (sel.isEmpty()) {\n        pos = sel.getPosition();\n      } else if (type === 'anchor') {\n        pos = this.getAnchorForSelection(sel);\n      } else {\n        pos = this.getHeadForSelection(sel);\n      }\n\n      return toCmPos(pos);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(start, end) {\n      var p1 = toMonacoPos(start);\n      var p2 = toMonacoPos(end);\n      return this.editor.getModel().getValueInRange(_monacoEditor.Range.fromPositions(p1, p2));\n    }\n  }, {\n    key: \"getSelection\",\n    value: function getSelection() {\n      return this.editor.getModel().getValueInRange(this.editor.getSelection());\n    }\n  }, {\n    key: \"replaceRange\",\n    value: function replaceRange(text, start, end) {\n      var p1 = toMonacoPos(start);\n      var p2 = !end ? p1 : toMonacoPos(end);\n      this.editor.executeEdits('vim', [{\n        text: text,\n        range: _monacoEditor.Range.fromPositions(p1, p2)\n      }]); // @TODO - Check if this breaks any other expectation\n\n      this.pushUndoStop();\n    }\n  }, {\n    key: \"pushUndoStop\",\n    value: function pushUndoStop() {\n      this.editor.pushUndoStop();\n    }\n  }, {\n    key: \"setCursor\",\n    value: function setCursor(line, ch) {\n      var pos = line;\n\n      if (_typeof(line) !== 'object') {\n        pos = {};\n        pos.line = line;\n        pos.ch = ch;\n      }\n\n      var monacoPos = this.editor.getModel().validatePosition(toMonacoPos(pos));\n      this.editor.setPosition(toMonacoPos(pos));\n      this.editor.revealPosition(monacoPos);\n    }\n  }, {\n    key: \"somethingSelected\",\n    value: function somethingSelected() {\n      return !this.editor.getSelection().isEmpty();\n    }\n  }, {\n    key: \"operation\",\n    value: function operation(fn, force) {\n      return fn();\n    }\n  }, {\n    key: \"listSelections\",\n    value: function listSelections() {\n      var _this = this;\n\n      var selections = this.editor.getSelections();\n\n      if (!selections.length || this.inVirtualSelectionMode) {\n        return [{\n          anchor: this.getCursor('anchor'),\n          head: this.getCursor('head')\n        }];\n      }\n\n      return selections.map(function (sel) {\n        var pos = sel.getPosition();\n        var start = sel.getStartPosition();\n        var end = sel.getEndPosition();\n        return {\n          anchor: _this.clipPos(toCmPos(_this.getAnchorForSelection(sel))),\n          head: _this.clipPos(toCmPos(_this.getHeadForSelection(sel)))\n        };\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.editor.focus();\n    }\n  }, {\n    key: \"setSelections\",\n    value: function setSelections(selections, primIndex) {\n      var hasSel = !!this.editor.getSelections().length;\n      var sels = selections.map(function (sel, index) {\n        var anchor = sel.anchor,\n            head = sel.head;\n\n        if (hasSel) {\n          return _monacoEditor.Selection.fromPositions(toMonacoPos(anchor), toMonacoPos(head));\n        } else {\n          return _monacoEditor.Selection.fromPositions(toMonacoPos(head), toMonacoPos(anchor));\n        }\n      });\n\n      if (!primIndex) {\n        sels.reverse();\n      } else if (sels[primIndex]) {\n        sels.push(sels.splice(primIndex, 1)[0]);\n      }\n\n      if (!sels.length) {\n        return;\n      }\n\n      var sel = sels[0];\n      var posToReveal;\n\n      if (sel.getDirection() === _monacoEditor.SelectionDirection.LTR) {\n        posToReveal = sel.getEndPosition();\n      } else {\n        posToReveal = sel.getStartPosition();\n      }\n\n      this.editor.setSelections(sels);\n      this.editor.revealPosition(posToReveal);\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(frm, to) {\n      var range = _monacoEditor.Range.fromPositions(toMonacoPos(frm), toMonacoPos(to));\n\n      this.editor.setSelection(range);\n    }\n  }, {\n    key: \"getSelections\",\n    value: function getSelections() {\n      var editor = this.editor;\n      return editor.getSelections().map(function (sel) {\n        return editor.getModel().getValueInRange(sel);\n      });\n    }\n  }, {\n    key: \"replaceSelections\",\n    value: function replaceSelections(texts) {\n      var editor = this.editor;\n      editor.getSelections().forEach(function (sel, index) {\n        editor.executeEdits('vim', [{\n          range: sel,\n          text: texts[index],\n          forceMoveMarkers: false\n        }]);\n      });\n    }\n  }, {\n    key: \"toggleOverwrite\",\n    value: function toggleOverwrite(toggle) {\n      if (toggle) {\n        this.enterVimMode();\n        this.replaceMode = true;\n      } else {\n        this.leaveVimMode();\n        this.replaceMode = false;\n        this.replaceStack = [];\n      }\n    }\n  }, {\n    key: \"charCoords\",\n    value: function charCoords(pos, mode) {\n      return {\n        top: pos.line,\n        left: pos.ch\n      };\n    }\n  }, {\n    key: \"coordsChar\",\n    value: function coordsChar(pos, mode) {\n      if (mode === 'local') {}\n    }\n  }, {\n    key: \"clipPos\",\n    value: function clipPos(p) {\n      var pos = this.editor.getModel().validatePosition(toMonacoPos(p));\n      return toCmPos(pos);\n    }\n  }, {\n    key: \"setBookmark\",\n    value: function setBookmark(cursor, options) {\n      var bm = new Marker(this, this.$uid++, cursor.line, cursor.ch);\n\n      if (!options || !options.insertLeft) {\n        bm.$insertRight = true;\n      }\n\n      this.marks[bm.id] = bm;\n      return bm;\n    }\n  }, {\n    key: \"getScrollInfo\",\n    value: function getScrollInfo() {\n      var editor = this.editor;\n\n      var _editor$getVisibleRan = editor.getVisibleRanges(),\n          _editor$getVisibleRan2 = _slicedToArray(_editor$getVisibleRan, 1),\n          range = _editor$getVisibleRan2[0];\n\n      return {\n        left: 0,\n        top: range.startLineNumber - 1,\n        height: editor.getModel().getLineCount(),\n        clientHeight: range.endLineNumber - range.startLineNumber + 1\n      };\n    }\n  }, {\n    key: \"triggerEditorAction\",\n    value: function triggerEditorAction(action) {\n      this.editor.trigger('vim', action);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.dispatch('dispose');\n      this.removeOverlay();\n\n      if (CMAdapter.keyMap.vim) {\n        CMAdapter.keyMap.vim.detach(this);\n      }\n\n      this.disposables.forEach(function (d) {\n        return d.dispose();\n      });\n    }\n  }, {\n    key: \"getInputField\",\n    value: function getInputField() {}\n  }, {\n    key: \"getWrapperElement\",\n    value: function getWrapperElement() {}\n  }, {\n    key: \"enterVimMode\",\n    value: function enterVimMode() {\n      var toVim = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.ctxInsert.set(false);\n      var config = this.getConfiguration();\n      this.initialCursorWidth = config.viewInfo.cursorWidth || 0;\n      this.editor.updateOptions({\n        cursorWidth: config.fontInfo.typicalFullwidthCharacterWidth,\n        cursorBlinking: 'solid'\n      });\n    }\n  }, {\n    key: \"leaveVimMode\",\n    value: function leaveVimMode() {\n      this.ctxInsert.set(true);\n      this.editor.updateOptions({\n        cursorWidth: this.initialCursorWidth || 0,\n        cursorBlinking: 'blink'\n      });\n    }\n  }, {\n    key: \"virtualSelectionMode\",\n    value: function virtualSelectionMode() {\n      return this.inVirtualSelectionMode;\n    }\n  }, {\n    key: \"markText\",\n    value: function markText() {\n      // only used for fat-cursor, not needed\n      return {\n        clear: function clear() {},\n        find: function find() {}\n      };\n    }\n  }, {\n    key: \"getUserVisibleLines\",\n    value: function getUserVisibleLines() {\n      var ranges = this.editor.getVisibleRanges();\n\n      if (!ranges.length) {\n        return {\n          top: 0,\n          bottom: 0\n        };\n      }\n\n      var res = {\n        top: Infinity,\n        bottom: 0\n      };\n      ranges.reduce(function (acc, range) {\n        if (range.startLineNumber < acc.top) {\n          acc.top = range.startLineNumber;\n        }\n\n        if (range.endLineNumber > acc.bottom) {\n          acc.bottom = range.endLineNumber;\n        }\n\n        return acc;\n      }, res);\n      res.top -= 1;\n      res.bottom -= 1;\n      return res;\n    }\n  }, {\n    key: \"findPosV\",\n    value: function findPosV(startPos, amount, unit) {\n      var editor = this.editor;\n      var finalAmount = amount;\n      var finalUnit = unit;\n      var pos = toMonacoPos(startPos);\n\n      if (unit === 'page') {\n        var editorHeight = editor.getLayoutInfo().height;\n        var lineHeight = this.getConfiguration().fontInfo.lineHeight;\n        finalAmount = finalAmount * Math.floor(editorHeight / lineHeight);\n        finalUnit = 'line';\n      }\n\n      if (unit === 'line') {\n        pos.lineNumber += finalAmount;\n      }\n\n      return toCmPos(pos);\n    }\n  }, {\n    key: \"findMatchingBracket\",\n    value: function findMatchingBracket(pos) {\n      var mPos = toMonacoPos(pos);\n      var res = this.editor.getModel().matchBracket(mPos);\n\n      if (!res || !(res.length === 2)) {\n        return {\n          to: null\n        };\n      }\n\n      return {\n        to: toCmPos(res[1].getStartPosition())\n      };\n    }\n  }, {\n    key: \"findFirstNonWhiteSpaceCharacter\",\n    value: function findFirstNonWhiteSpaceCharacter(line) {\n      return this.editor.getModel().getLineFirstNonWhitespaceColumn(line + 1) - 1;\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(x, y) {\n      if (!x && !y) {\n        return;\n      }\n\n      if (!x) {\n        if (y < 0) {\n          y = this.editor.getPosition().lineNumber - y;\n        }\n\n        this.editor.setScrollTop(this.editor.getTopForLineNumber(y + 1));\n      }\n    }\n  }, {\n    key: \"moveCurrentLineTo\",\n    value: function moveCurrentLineTo(viewPosition) {\n      var editor = this.editor;\n      var pos = editor.getPosition();\n\n      var range = _monacoEditor.Range.fromPositions(pos, pos);\n\n      switch (viewPosition) {\n        case 'top':\n          editor.revealRangeAtTop(range);\n          return;\n\n        case 'center':\n          editor.revealRangeInCenter(range);\n          return;\n\n        case 'bottom':\n          // private api. no other way\n          editor._revealRange(range, VerticalRevealType.Bottom);\n\n          return;\n      }\n    }\n  }, {\n    key: \"getSearchCursor\",\n    value: function getSearchCursor(query, pos, caseFold) {\n      var matchCase = false;\n      var isRegex = false;\n\n      if (query instanceof RegExp && !query.global) {\n        matchCase = !query.ignoreCase;\n        query = query.source;\n        isRegex = true;\n      }\n\n      if (pos.ch == undefined) pos.ch = Number.MAX_VALUE;\n      var monacoPos = toMonacoPos(pos);\n      var context = this;\n      var editor = this.editor;\n      var lastSearch = null;\n      var model = editor.getModel();\n      var matches = model.findMatches(query, false, isRegex, matchCase) || [];\n      return {\n        getMatches: function getMatches() {\n          return matches;\n        },\n        findNext: function findNext() {\n          return this.find(false);\n        },\n        findPrevious: function findPrevious() {\n          return this.find(true);\n        },\n        jumpTo: function jumpTo(index) {\n          if (!matches || !matches.length) {\n            return false;\n          }\n\n          var match = matches[index];\n          lastSearch = match.range;\n          context.highlightRanges([lastSearch], 'currentFindMatch');\n          context.highlightRanges(matches.map(function (m) {\n            return m.range;\n          }).filter(function (r) {\n            return !r.equalsRange(lastSearch);\n          }));\n          return lastSearch;\n        },\n        find: function find(back) {\n          if (!matches || !matches.length) {\n            return false;\n          }\n\n          var match;\n\n          if (back) {\n            var _pos = lastSearch ? lastSearch.getStartPosition() : monacoPos;\n\n            match = model.findPreviousMatch(query, _pos, isRegex, matchCase);\n\n            if (!match || !match.range.getStartPosition().isBeforeOrEqual(_pos)) {\n              return false;\n            }\n          } else {\n            var _pos2 = lastSearch ? lastSearch.getEndPosition() : monacoPos;\n\n            match = model.findNextMatch(query, _pos2, isRegex, matchCase);\n\n            if (!match || !_pos2.isBeforeOrEqual(match.range.getStartPosition())) {\n              return false;\n            }\n          }\n\n          lastSearch = match.range;\n          context.highlightRanges([lastSearch], 'currentFindMatch');\n          context.highlightRanges(matches.map(function (m) {\n            return m.range;\n          }).filter(function (r) {\n            return !r.equalsRange(lastSearch);\n          }));\n          return lastSearch;\n        },\n        from: function from() {\n          return lastSearch && toCmPos(lastSearch.getStartPosition());\n        },\n        to: function to() {\n          return lastSearch && toCmPos(lastSearch.getEndPosition());\n        },\n        replace: function replace(text) {\n          if (lastSearch) {\n            editor.executeEdits('vim', [{\n              range: lastSearch,\n              text: text,\n              forceMoveMarkers: true\n            }]);\n            lastSearch.setEndPosition(editor.getPosition());\n            editor.setPosition(lastSearch.getStartPosition());\n          }\n        }\n      };\n    }\n  }, {\n    key: \"highlightRanges\",\n    value: function highlightRanges(ranges) {\n      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'findMatch';\n      var decorationKey = \"decoration\".concat(className);\n      this[decorationKey] = this.editor.deltaDecorations(this[decorationKey] || [], ranges.map(function (range) {\n        return {\n          range: range,\n          options: {\n            stickiness: _monacoEditor.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n            zIndex: 13,\n            className: className,\n            showIfCollapsed: true\n          }\n        };\n      }));\n      return this[decorationKey];\n    }\n  }, {\n    key: \"addOverlay\",\n    value: function addOverlay(_ref, hasBoundary, style) {\n      var query = _ref.query;\n      var matchCase = false;\n      var isRegex = false;\n\n      if (query && query instanceof RegExp && !query.global) {\n        isRegex = true;\n        matchCase = !query.ignoreCase;\n        query = query.source;\n      }\n\n      var match = this.editor.getModel().findNextMatch(query, this.editor.getPosition(), isRegex, matchCase);\n\n      if (!match || !match.range) {\n        return;\n      }\n\n      this.highlightRanges([match.range]);\n    }\n  }, {\n    key: \"removeOverlay\",\n    value: function removeOverlay() {\n      var _this2 = this;\n\n      ['currentFindMatch', 'findMatch'].forEach(function (key) {\n        _this2.editor.deltaDecorations(_this2[\"decoration\".concat(key)] || [], []);\n      });\n    }\n  }, {\n    key: \"scrollIntoView\",\n    value: function scrollIntoView(pos) {\n      if (!pos) {\n        return;\n      }\n\n      this.editor.revealPosition(toMonacoPos(pos));\n    }\n  }, {\n    key: \"moveH\",\n    value: function moveH(units, type) {\n      if (type !== 'char') {\n        return;\n      }\n\n      var pos = this.editor.getPosition();\n      this.editor.setPosition(new _monacoEditor.Position(pos.lineNumber, pos.column + units));\n    }\n    /**\n     * Uses internal apis which not sure why is internal\n     */\n\n  }, {\n    key: \"scanForBracket\",\n    value: function scanForBracket(pos, dir, dd, config) {\n      var mPos = toMonacoPos(pos);\n      var model = this.editor.getModel();\n      var range = model.matchBracket(mPos);\n\n      if (!range || range.length !== 2) {\n        var bracket = '{([';\n\n        for (var i = 0; i < bracket.length; i++) {\n          var bracketRange = model.findMatchingBracketUp(bracket[i], mPos);\n\n          if (bracketRange) {\n            range = model.matchBracket(bracketRange.getEndPosition());\n            break;\n          }\n        }\n      }\n\n      if (!range || range.length !== 2) {\n        return null;\n      }\n\n      var res;\n\n      if (dir === -1) {\n        res = range[1].getStartPosition();\n      } else {\n        res = range[0].getStartPosition();\n      }\n\n      return {\n        pos: toCmPos(res),\n        ch: model.getValueInRange(dir === -1 ? range[0] : range[1])\n      };\n    }\n  }, {\n    key: \"indexFromPos\",\n    value: function indexFromPos(pos) {\n      return this.editor.getModel().getOffsetAt(toMonacoPos(pos));\n    }\n  }, {\n    key: \"posFromIndex\",\n    value: function posFromIndex(offset) {\n      return toCmPos(this.editor.getModel().getPositionAt(offset));\n    }\n  }, {\n    key: \"indentLine\",\n    value: function indentLine(line) {\n      var indentRight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var editor = this.editor;\n\n      var cursors = editor._getCursors();\n\n      var pos = new _monacoEditor.Position(line + 1, 1);\n\n      var sel = _monacoEditor.Selection.fromPositions(pos, pos); // no other way than to use internal apis to preserve the undoStack for a batch of indents\n\n\n      editor.executeCommands(\"editor.action.\".concat(indentRight ? 'indent' : 'outdent', \"Lines\"), _cursorTypeOperations.TypeOperations[indentRight ? 'indent' : 'outdent'](cursors.context.config, this.editor.getModel(), [sel]));\n    }\n  }, {\n    key: \"setStatusBar\",\n    value: function setStatusBar(statusBar) {\n      this.statusBar = statusBar;\n    }\n  }, {\n    key: \"openDialog\",\n    value: function openDialog(html, callback, options) {\n      if (!this.statusBar) {\n        return;\n      }\n\n      return this.statusBar.setSec(html, callback, options);\n    }\n  }, {\n    key: \"openNotification\",\n    value: function openNotification(html) {\n      if (!this.statusBar) {\n        return;\n      }\n\n      this.statusBar.showNotification(html);\n    }\n  }]);\n\n  return CMAdapter;\n}();\n\nCMAdapter.Pos = Pos;\nCMAdapter.signal = signal;\nCMAdapter.on = dummy('on');\nCMAdapter.off = dummy('off');\nCMAdapter.addClass = dummy('addClass');\nCMAdapter.rmClass = dummy('rmClass');\nCMAdapter.defineOption = dummy('defineOption');\nCMAdapter.keyMap = {\n  'default': function _default(key) {\n    return function (cm) {\n      return true;\n    };\n  }\n};\nCMAdapter.isWordChar = isWordCharBasic;\nCMAdapter.keyName = monacoToCmKey;\nCMAdapter.StringStream = StringStream;\n\nCMAdapter.e_stop = function (e) {\n  if (e.stopPropagation) {\n    e.stopPropagation();\n  } else {\n    e.cancelBubble = true;\n  }\n\n  CMAdapter.e_preventDefault(e);\n  return false;\n};\n\nCMAdapter.e_preventDefault = function (e) {\n  if (e.preventDefault) {\n    e.preventDefault();\n\n    if (e.browserEvent) {\n      e.browserEvent.preventDefault();\n    }\n  } else {\n    e.returnValue = false;\n  }\n\n  return false;\n};\n\nCMAdapter.commands = {\n  redo: function redo(cm) {\n    cm.triggerEditorAction('redo');\n  },\n  undo: function undo(cm) {\n    cm.triggerEditorAction('undo');\n  },\n  newlineAndIndent: function newlineAndIndent(cm) {\n    cm.triggerEditorAction('editor.action.insertLineAfter');\n  }\n};\n\nCMAdapter.lookupKey = function lookupKey(key, map, handle) {\n  if (typeof map === 'string') {\n    map = CMAdapter.keyMap[map];\n  }\n\n  var found = typeof map == \"function\" ? map(key) : map[key];\n  if (found === false) return \"nothing\";\n  if (found === \"...\") return \"multi\";\n  if (found != null && handle(found)) return \"handled\";\n\n  if (map.fallthrough) {\n    if (!Array.isArray(map.fallthrough)) return lookupKey(key, map.fallthrough, handle);\n\n    for (var i = 0; i < map.fallthrough.length; i++) {\n      var result = lookupKey(key, map.fallthrough[i], handle);\n      if (result) return result;\n    }\n  }\n};\n\nCMAdapter.defineExtension = function (name, fn) {\n  CMAdapter.prototype[name] = fn;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.handleKeyDown = function (e) {\n    // Allow previously registered keydown listeners to handle the event and\n    // prevent this extension from also handling it.\n    if (e.browserEvent.defaultPrevented & e.keyCode !== _monacoEditor.KeyCode.Escape) {\n      return;\n    }\n\n    if (!_this3.attached) {\n      return;\n    }\n\n    var key = monacoToCmKey(e);\n\n    if (_this3.replaceMode) {\n      _this3.handleReplaceMode(key, e);\n    }\n\n    if (!key) {\n      return;\n    }\n\n    if (CMAdapter.keyMap.vim && CMAdapter.keyMap.vim.call) {\n      var cmd = CMAdapter.keyMap.vim.call(key, _this3);\n\n      if (cmd) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n          cmd();\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n  };\n\n  this.handleCursorChange = function (e) {\n    var position = e.position,\n        source = e.source;\n    var editor = _this3.editor;\n    var selection = editor.getSelection();\n\n    if (!_this3.ctxInsert.get() && e.source === 'mouse' && selection.isEmpty()) {\n      var maxCol = editor.getModel().getLineMaxColumn(position.lineNumber);\n\n      if (e.position.column === maxCol) {\n        editor.setPosition(new _monacoEditor.Position(e.position.lineNumber, maxCol - 1));\n        return;\n      }\n    }\n\n    _this3.dispatch('cursorActivity', _this3, e);\n  };\n\n  this.handleChange = function (e) {\n    var changes = e.changes;\n    var change = {\n      text: changes.reduce(function (acc, change) {\n        acc.push(change.text);\n        return acc;\n      }, []),\n      origin: '+input'\n    };\n    var curOp = _this3.curOp = _this3.curOp || {};\n\n    if (!curOp.changeHandlers) {\n      curOp.changeHandlers = _this3.listeners['change'] && _this3.listeners['change'].slice();\n    }\n\n    if (_this3.virtualSelectionMode()) {\n      return;\n    }\n\n    if (!curOp.lastChange) {\n      curOp.lastChange = curOp.change = change;\n    } else {\n      curOp.lastChange.next = curOp.lastChange = change;\n    }\n\n    _this3.dispatch('change', _this3, change);\n  };\n};\n\nvar _default2 = CMAdapter;\nexports[\"default\"] = _default2;","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"/dist/\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^(http:)|(https:)|(file:)/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              return 'data:text/javascript;charset=utf-8,' + encodeURIComponent(js);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"typescript\": \"ts.worker.js\",\n  \"javascript\": \"ts.worker.js\"\n});\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionContributions.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensController.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorDetector.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/comment/comment.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/browser/controller/coreCommands.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/find/findController.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/fontZoom/fontZoom.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/format/formatActions.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoError.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToCommands.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplace.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/linesOperations.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/links/links.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/multicursor.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/smartSelect.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetController2.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestController.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/transpose.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/wordPartOperations.js\");\nmodule.exports = require(\"!!./editor.main.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/basic-languages/typescript/typescript.contribution.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/language/typescript/monaco.contribution.js\");\nrequire(\"../../../../../../../node_modules/monaco-editor/esm/vs/basic-languages/javascript/javascript.contribution.js\");","import '../language/typescript/monaco.contribution';\nimport '../language/css/monaco.contribution';\nimport '../language/json/monaco.contribution';\nimport '../language/html/monaco.contribution';\nimport '../basic-languages/monaco.contribution';\n\nexport * from './edcore.main';","import '../../editor/editor.api.js';\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar Emitter = monaco.Emitter;\r\n// --- CSS configuration and defaults ---------\r\nvar LanguageServiceDefaultsImpl = /** @class */ (function () {\r\n    function LanguageServiceDefaultsImpl(languageId, diagnosticsOptions, modeConfiguration) {\r\n        this._onDidChange = new Emitter();\r\n        this._languageId = languageId;\r\n        this.setDiagnosticsOptions(diagnosticsOptions);\r\n        this.setModeConfiguration(modeConfiguration);\r\n    }\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"onDidChange\", {\r\n        get: function () {\r\n            return this._onDidChange.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"modeConfiguration\", {\r\n        get: function () {\r\n            return this._modeConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"diagnosticsOptions\", {\r\n        get: function () {\r\n            return this._diagnosticsOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LanguageServiceDefaultsImpl.prototype.setDiagnosticsOptions = function (options) {\r\n        this._diagnosticsOptions = options || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setModeConfiguration = function (modeConfiguration) {\r\n        this._modeConfiguration = modeConfiguration || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    ;\r\n    return LanguageServiceDefaultsImpl;\r\n}());\r\nexport { LanguageServiceDefaultsImpl };\r\nvar diagnosticDefault = {\r\n    validate: true,\r\n    lint: {\r\n        compatibleVendorPrefixes: 'ignore',\r\n        vendorPrefix: 'warning',\r\n        duplicateProperties: 'warning',\r\n        emptyRules: 'warning',\r\n        importStatement: 'ignore',\r\n        boxModel: 'ignore',\r\n        universalSelector: 'ignore',\r\n        zeroUnits: 'ignore',\r\n        fontFaceProperties: 'warning',\r\n        hexColorLength: 'error',\r\n        argumentsInColorFunction: 'error',\r\n        unknownProperties: 'warning',\r\n        ieHack: 'ignore',\r\n        unknownVendorSpecificProperties: 'ignore',\r\n        propertyIgnoredDueToDisplay: 'warning',\r\n        important: 'ignore',\r\n        float: 'ignore',\r\n        idSelector: 'ignore'\r\n    }\r\n};\r\nvar modeConfigurationDefault = {\r\n    completionItems: true,\r\n    hovers: true,\r\n    documentSymbols: true,\r\n    definitions: true,\r\n    references: true,\r\n    documentHighlights: true,\r\n    rename: true,\r\n    colors: true,\r\n    foldingRanges: true,\r\n    diagnostics: true,\r\n    selectionRanges: true\r\n};\r\nvar cssDefaults = new LanguageServiceDefaultsImpl('css', diagnosticDefault, modeConfigurationDefault);\r\nvar scssDefaults = new LanguageServiceDefaultsImpl('scss', diagnosticDefault, modeConfigurationDefault);\r\nvar lessDefaults = new LanguageServiceDefaultsImpl('less', diagnosticDefault, modeConfigurationDefault);\r\n// Export API\r\nfunction createAPI() {\r\n    return {\r\n        cssDefaults: cssDefaults,\r\n        lessDefaults: lessDefaults,\r\n        scssDefaults: scssDefaults\r\n    };\r\n}\r\nmonaco.languages.css = createAPI();\r\n// --- Registration to monaco editor ---\r\nfunction getMode() {\r\n    return import('./cssMode.js');\r\n}\r\nmonaco.languages.onLanguage('less', function () {\r\n    getMode().then(function (mode) { return mode.setupMode(lessDefaults); });\r\n});\r\nmonaco.languages.onLanguage('scss', function () {\r\n    getMode().then(function (mode) { return mode.setupMode(scssDefaults); });\r\n});\r\nmonaco.languages.onLanguage('css', function () {\r\n    getMode().then(function (mode) { return mode.setupMode(cssDefaults); });\r\n});\r\n","import '../../editor/editor.api.js';\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar Emitter = monaco.Emitter;\r\n// --- JSON configuration and defaults ---------\r\nvar LanguageServiceDefaultsImpl = /** @class */ (function () {\r\n    function LanguageServiceDefaultsImpl(languageId, diagnosticsOptions, modeConfiguration) {\r\n        this._onDidChange = new Emitter();\r\n        this._languageId = languageId;\r\n        this.setDiagnosticsOptions(diagnosticsOptions);\r\n        this.setModeConfiguration(modeConfiguration);\r\n    }\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"onDidChange\", {\r\n        get: function () {\r\n            return this._onDidChange.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"modeConfiguration\", {\r\n        get: function () {\r\n            return this._modeConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"diagnosticsOptions\", {\r\n        get: function () {\r\n            return this._diagnosticsOptions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LanguageServiceDefaultsImpl.prototype.setDiagnosticsOptions = function (options) {\r\n        this._diagnosticsOptions = options || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setModeConfiguration = function (modeConfiguration) {\r\n        this._modeConfiguration = modeConfiguration || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    ;\r\n    return LanguageServiceDefaultsImpl;\r\n}());\r\nexport { LanguageServiceDefaultsImpl };\r\nvar diagnosticDefault = {\r\n    validate: true,\r\n    allowComments: true,\r\n    schemas: [],\r\n    enableSchemaRequest: false\r\n};\r\nvar modeConfigurationDefault = {\r\n    documentFormattingEdits: true,\r\n    documentRangeFormattingEdits: true,\r\n    completionItems: true,\r\n    hovers: true,\r\n    documentSymbols: true,\r\n    tokens: true,\r\n    colors: true,\r\n    foldingRanges: true,\r\n    diagnostics: true,\r\n    selectionRanges: true\r\n};\r\nvar jsonDefaults = new LanguageServiceDefaultsImpl('json', diagnosticDefault, modeConfigurationDefault);\r\n// Export API\r\nfunction createAPI() {\r\n    return {\r\n        jsonDefaults: jsonDefaults\r\n    };\r\n}\r\nmonaco.languages.json = createAPI();\r\n// --- Registration to monaco editor ---\r\nfunction getMode() {\r\n    return import('./jsonMode.js');\r\n}\r\nmonaco.languages.register({\r\n    id: 'json',\r\n    extensions: ['.json', '.bowerrc', '.jshintrc', '.jscsrc', '.eslintrc', '.babelrc', '.har'],\r\n    aliases: ['JSON', 'json'],\r\n    mimetypes: ['application/json'],\r\n});\r\nmonaco.languages.onLanguage('json', function () {\r\n    getMode().then(function (mode) { return mode.setupMode(jsonDefaults); });\r\n});\r\n","import '../../editor/editor.api.js';\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar Emitter = monaco.Emitter;\r\n// --- HTML configuration and defaults ---------\r\nvar LanguageServiceDefaultsImpl = /** @class */ (function () {\r\n    function LanguageServiceDefaultsImpl(languageId, options, modeConfiguration) {\r\n        this._onDidChange = new Emitter();\r\n        this._languageId = languageId;\r\n        this.setOptions(options);\r\n        this.setModeConfiguration(modeConfiguration);\r\n    }\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"onDidChange\", {\r\n        get: function () {\r\n            return this._onDidChange.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"options\", {\r\n        get: function () {\r\n            return this._options;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"modeConfiguration\", {\r\n        get: function () {\r\n            return this._modeConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LanguageServiceDefaultsImpl.prototype.setOptions = function (options) {\r\n        this._options = options || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setModeConfiguration = function (modeConfiguration) {\r\n        this._modeConfiguration = modeConfiguration || Object.create(null);\r\n        this._onDidChange.fire(this);\r\n    };\r\n    ;\r\n    return LanguageServiceDefaultsImpl;\r\n}());\r\nexport { LanguageServiceDefaultsImpl };\r\nvar formatDefaults = {\r\n    tabSize: 4,\r\n    insertSpaces: false,\r\n    wrapLineLength: 120,\r\n    unformatted: 'default\": \"a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',\r\n    contentUnformatted: 'pre',\r\n    indentInnerHtml: false,\r\n    preserveNewLines: true,\r\n    maxPreserveNewLines: null,\r\n    indentHandlebars: false,\r\n    endWithNewline: false,\r\n    extraLiners: 'head, body, /html',\r\n    wrapAttributes: 'auto'\r\n};\r\nvar htmlOptionsDefault = {\r\n    format: formatDefaults,\r\n    suggest: { html5: true, angular1: true, ionic: true }\r\n};\r\nvar handlebarOptionsDefault = {\r\n    format: formatDefaults,\r\n    suggest: { html5: true }\r\n};\r\nvar razorOptionsDefault = {\r\n    format: formatDefaults,\r\n    suggest: { html5: true, razor: true }\r\n};\r\nfunction getConfigurationDefault(languageId) {\r\n    return {\r\n        completionItems: true,\r\n        hovers: true,\r\n        documentSymbols: true,\r\n        links: true,\r\n        documentHighlights: true,\r\n        rename: true,\r\n        colors: true,\r\n        foldingRanges: true,\r\n        selectionRanges: true,\r\n        diagnostics: languageId === htmlLanguageId,\r\n        documentFormattingEdits: languageId === htmlLanguageId,\r\n        documentRangeFormattingEdits: languageId === htmlLanguageId // turned off for Razor and Handlebar\r\n    };\r\n}\r\nvar htmlLanguageId = 'html';\r\nvar handlebarsLanguageId = 'handlebars';\r\nvar razorLanguageId = 'razor';\r\nvar htmlDefaults = new LanguageServiceDefaultsImpl(htmlLanguageId, htmlOptionsDefault, getConfigurationDefault(htmlLanguageId));\r\nvar handlebarDefaults = new LanguageServiceDefaultsImpl(handlebarsLanguageId, handlebarOptionsDefault, getConfigurationDefault(handlebarsLanguageId));\r\nvar razorDefaults = new LanguageServiceDefaultsImpl(razorLanguageId, razorOptionsDefault, getConfigurationDefault(razorLanguageId));\r\n// Export API\r\nfunction createAPI() {\r\n    return {\r\n        htmlDefaults: htmlDefaults,\r\n        razorDefaults: razorDefaults,\r\n        handlebarDefaults: handlebarDefaults\r\n    };\r\n}\r\nmonaco.languages.html = createAPI();\r\n// --- Registration to monaco editor ---\r\nfunction getMode() {\r\n    return import('./htmlMode.js');\r\n}\r\nmonaco.languages.onLanguage(htmlLanguageId, function () {\r\n    getMode().then(function (mode) { return mode.setupMode(htmlDefaults); });\r\n});\r\nmonaco.languages.onLanguage(handlebarsLanguageId, function () {\r\n    getMode().then(function (mode) { return mode.setupMode(handlebarDefaults); });\r\n});\r\nmonaco.languages.onLanguage(razorLanguageId, function () {\r\n    getMode().then(function (mode) { return mode.setupMode(razorDefaults); });\r\n});\r\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./bracketMatching.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./bracketMatching.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./bracketMatching.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .bracket-match {\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,+BAAuB;SAAvB,uBAAuB;CACvB\",\"file\":\"bracketMatching.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .bracket-match {\\r\\n\\tbox-sizing: border-box;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./clipboard.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./clipboard.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./clipboard.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-menu .monaco-action-bar.vertical .action-label.hover {\\r\\n\\tbackground-color: #EEE;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,uBAAuB;CACvB\",\"file\":\"clipboard.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-menu .monaco-action-bar.vertical .action-label.hover {\\r\\n\\tbackground-color: #EEE;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./messageController.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./messageController.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./messageController.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage {\\r\\n\\tpadding-bottom: 8px;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeIn {\\r\\n\\tfrom { opacity: 0; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n\\r\\n@keyframes fadeIn {\\r\\n\\tfrom { opacity: 0; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\\r\\n\\t-webkit-animation: fadeIn 150ms ease-out;\\r\\n\\t        animation: fadeIn 150ms ease-out;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeOut {\\r\\n\\tfrom { opacity: 1; }\\r\\n\\tto { opacity: 0; }\\r\\n}\\r\\n\\r\\n@keyframes fadeOut {\\r\\n\\tfrom { opacity: 1; }\\r\\n\\tto { opacity: 0; }\\r\\n}\\r\\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\\r\\n\\t-webkit-animation: fadeOut 100ms ease-out;\\r\\n\\t        animation: fadeOut 100ms ease-out;\\r\\n}\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage .message {\\r\\n\\tpadding: 1px 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage .anchor {\\r\\n\\twidth: 0 !important;\\r\\n\\theight: 0 !important;\\r\\n\\tborder-color: transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tz-index: 1000;\\r\\n\\tborder-width: 8px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,oBAAoB;CACpB;;AAED;CACC,OAAO,WAAW,EAAE;CACpB,KAAK,WAAW,EAAE;CAClB;;AAHD;CACC,OAAO,WAAW,EAAE;CACpB,KAAK,WAAW,EAAE;CAClB;AACD;CACC,yCAAiC;SAAjC,iCAAiC;CACjC;;AAED;CACC,OAAO,WAAW,EAAE;CACpB,KAAK,WAAW,EAAE;CAClB;;AAHD;CACC,OAAO,WAAW,EAAE;CACpB,KAAK,WAAW,EAAE;CAClB;AACD;CACC,0CAAkC;SAAlC,kCAAkC;CAClC;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,oBAAoB;CACpB,qBAAqB;CACrB,0BAA0B;CAC1B,oBAAoB;CACpB,cAAc;CACd,kBAAkB;CAClB,mBAAmB;CACnB\",\"file\":\"messageController.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage {\\r\\n\\tpadding-bottom: 8px;\\r\\n}\\r\\n\\r\\n@keyframes fadeIn {\\r\\n\\tfrom { opacity: 0; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\\r\\n\\tanimation: fadeIn 150ms ease-out;\\r\\n}\\r\\n\\r\\n@keyframes fadeOut {\\r\\n\\tfrom { opacity: 1; }\\r\\n\\tto { opacity: 0; }\\r\\n}\\r\\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\\r\\n\\tanimation: fadeOut 100ms ease-out;\\r\\n}\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage .message {\\r\\n\\tpadding: 1px 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .monaco-editor-overlaymessage .anchor {\\r\\n\\twidth: 0 !important;\\r\\n\\theight: 0 !important;\\r\\n\\tborder-color: transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tz-index: 1000;\\r\\n\\tborder-width: 8px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./lightBulbWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./lightBulbWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./lightBulbWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .lightbulb-glyph,\\r\\n.monaco-editor .codicon-lightbulb {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\t-ms-flex-pack: center;\\r\\n\\t    justify-content: center;\\r\\n\\theight: 16px;\\r\\n\\twidth: 20px;\\r\\n\\tpadding-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .lightbulb-glyph:hover,\\r\\n.monaco-editor .codicon-lightbulb:hover {\\r\\n\\tcursor: pointer;\\r\\n\\t/* transform: scale(1.3, 1.3); */\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;;CAEC,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,sBAAwB;KAAxB,wBAAwB;CACxB,aAAa;CACb,YAAY;CACZ,kBAAkB;CAClB;;AAED;;CAEC,gBAAgB;CAChB,iCAAiC;CACjC\",\"file\":\"lightBulbWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .lightbulb-glyph,\\r\\n.monaco-editor .codicon-lightbulb {\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tjustify-content: center;\\r\\n\\theight: 16px;\\r\\n\\twidth: 20px;\\r\\n\\tpadding-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .lightbulb-glyph:hover,\\r\\n.monaco-editor .codicon-lightbulb:hover {\\r\\n\\tcursor: pointer;\\r\\n\\t/* transform: scale(1.3, 1.3); */\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codelensWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codelensWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codelensWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .codelens-decoration {\\r\\n\\toverflow: hidden;\\r\\n\\tdisplay: inline-block;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > span,\\r\\n.monaco-editor .codelens-decoration > a {\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\twhite-space: nowrap;\\r\\n\\tvertical-align: sub;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a {\\r\\n\\ttext-decoration: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a:hover {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration .codicon {\\r\\n\\tvertical-align: middle;\\r\\n\\tcolor: currentColor !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadein {\\r\\n\\t0% { opacity: 0; visibility: visible;}\\r\\n\\t100% { opacity: 1; }\\r\\n}\\r\\n\\r\\n@keyframes fadein {\\r\\n\\t0% { opacity: 0; visibility: visible;}\\r\\n\\t100% { opacity: 1; }\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration.fadein {\\r\\n\\t-webkit-animation: fadein 0.1s linear;\\r\\n\\t        animation: fadein 0.1s linear;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,iBAAiB;CACjB,sBAAsB;CACtB,2BAAwB;IAAxB,wBAAwB;CACxB;;AAED;;CAEC,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB,oBAAoB;CACpB,oBAAoB;CACpB;;AAED;CACC,sBAAsB;CACtB;;AAED;CACC,gBAAgB;CAChB;;AAED;CACC,uBAAuB;CACvB,+BAA+B;CAC/B;;AAED;CACC,gBAAgB;CAChB;;AAED;CACC,KAAK,WAAW,CAAC,oBAAoB,CAAC;CACtC,OAAO,WAAW,EAAE;CACpB;;AAHD;CACC,KAAK,WAAW,CAAC,oBAAoB,CAAC;CACtC,OAAO,WAAW,EAAE;CACpB;;AAED;CACC,sCAA8B;SAA9B,8BAA8B;CAC9B\",\"file\":\"codelensWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .codelens-decoration {\\r\\n\\toverflow: hidden;\\r\\n\\tdisplay: inline-block;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > span,\\r\\n.monaco-editor .codelens-decoration > a {\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\twhite-space: nowrap;\\r\\n\\tvertical-align: sub;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a {\\r\\n\\ttext-decoration: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a:hover {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration .codicon {\\r\\n\\tvertical-align: middle;\\r\\n\\tcolor: currentColor !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n@keyframes fadein {\\r\\n\\t0% { opacity: 0; visibility: visible;}\\r\\n\\t100% { opacity: 1; }\\r\\n}\\r\\n\\r\\n.monaco-editor .codelens-decoration.fadein {\\r\\n\\tanimation: fadein 0.1s linear;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./dnd.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./dnd.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./dnd.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor.vs .dnd-target {\\r\\n\\tborder-right: 2px dotted black;\\r\\n\\tcolor: white; /* opposite of black */\\r\\n}\\r\\n.monaco-editor.vs-dark .dnd-target {\\r\\n\\tborder-right: 2px dotted #AEAFAD;\\r\\n\\tcolor: #51504f; /* opposite of #AEAFAD */\\r\\n}\\r\\n.monaco-editor.hc-black .dnd-target {\\r\\n\\tborder-right: 2px dotted #fff;\\r\\n\\tcolor: #000; /* opposite of #fff */\\r\\n}\\r\\n\\r\\n.monaco-editor.mouse-default .view-lines,\\r\\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\\r\\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\\r\\n\\tcursor: default;\\r\\n}\\r\\n.monaco-editor.mouse-copy .view-lines,\\r\\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\\r\\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\\r\\n\\tcursor: copy;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,+BAA+B;CAC/B,aAAa,CAAC,uBAAuB;CACrC;AACD;CACC,iCAAiC;CACjC,eAAe,CAAC,yBAAyB;CACzC;AACD;CACC,8BAA8B;CAC9B,YAAY,CAAC,sBAAsB;CACnC;;AAED;;;CAGC,gBAAgB;CAChB;AACD;;;CAGC,aAAa;CACb\",\"file\":\"dnd.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor.vs .dnd-target {\\r\\n\\tborder-right: 2px dotted black;\\r\\n\\tcolor: white; /* opposite of black */\\r\\n}\\r\\n.monaco-editor.vs-dark .dnd-target {\\r\\n\\tborder-right: 2px dotted #AEAFAD;\\r\\n\\tcolor: #51504f; /* opposite of #AEAFAD */\\r\\n}\\r\\n.monaco-editor.hc-black .dnd-target {\\r\\n\\tborder-right: 2px dotted #fff;\\r\\n\\tcolor: #000; /* opposite of #fff */\\r\\n}\\r\\n\\r\\n.monaco-editor.mouse-default .view-lines,\\r\\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\\r\\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\\r\\n\\tcursor: default;\\r\\n}\\r\\n.monaco-editor.mouse-copy .view-lines,\\r\\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\\r\\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\\r\\n\\tcursor: copy;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./checkbox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./checkbox.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./checkbox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-custom-checkbox {\\r\\n\\tmargin-left: 2px;\\r\\n\\tfloat: left;\\r\\n\\tcursor: pointer;\\r\\n\\toverflow: hidden;\\r\\n\\topacity: 0.7;\\r\\n\\twidth: 20px;\\r\\n\\theight: 20px;\\r\\n\\tborder: 1px solid transparent;\\r\\n\\tpadding: 1px;\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n.monaco-custom-checkbox:hover,\\r\\n.monaco-custom-checkbox.checked {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-custom-checkbox {\\r\\n\\tbackground: none;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-custom-checkbox:hover {\\r\\n\\tbackground: none;\\r\\n}\\r\\n\\r\\n.monaco-custom-checkbox.monaco-simple-checkbox {\\r\\n\\theight: 18px;\\r\\n\\twidth: 18px;\\r\\n\\tborder: 1px solid transparent;\\r\\n\\tborder-radius: 3px;\\r\\n\\tmargin-right: 9px;\\r\\n\\tmargin-left: 0px;\\r\\n\\tpadding: 0px;\\r\\n\\topacity: 1;\\r\\n\\tbackground-size: 16px !important;\\r\\n}\\r\\n\\r\\n/* hide check when unchecked */\\r\\n.monaco-custom-checkbox.monaco-simple-checkbox.unchecked:not(.checked)::before {\\r\\n\\tvisibility: hidden;;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,iBAAiB;CACjB,YAAY;CACZ,gBAAgB;CAChB,iBAAiB;CACjB,aAAa;CACb,YAAY;CACZ,aAAa;CACb,8BAA8B;CAC9B,aAAa;CACb,+BAAuB;SAAvB,uBAAuB;CACvB,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB;;AAED;;CAEC,WAAW;CACX;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,aAAa;CACb,YAAY;CACZ,8BAA8B;CAC9B,mBAAmB;CACnB,kBAAkB;CAClB,iBAAiB;CACjB,aAAa;CACb,WAAW;CACX,iCAAiC;CACjC;;AAED,+BAA+B;AAC/B;CACC,mBAAmB;CACnB\",\"file\":\"checkbox.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-custom-checkbox {\\r\\n\\tmargin-left: 2px;\\r\\n\\tfloat: left;\\r\\n\\tcursor: pointer;\\r\\n\\toverflow: hidden;\\r\\n\\topacity: 0.7;\\r\\n\\twidth: 20px;\\r\\n\\theight: 20px;\\r\\n\\tborder: 1px solid transparent;\\r\\n\\tpadding: 1px;\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n.monaco-custom-checkbox:hover,\\r\\n.monaco-custom-checkbox.checked {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-custom-checkbox {\\r\\n\\tbackground: none;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-custom-checkbox:hover {\\r\\n\\tbackground: none;\\r\\n}\\r\\n\\r\\n.monaco-custom-checkbox.monaco-simple-checkbox {\\r\\n\\theight: 18px;\\r\\n\\twidth: 18px;\\r\\n\\tborder: 1px solid transparent;\\r\\n\\tborder-radius: 3px;\\r\\n\\tmargin-right: 9px;\\r\\n\\tmargin-left: 0px;\\r\\n\\tpadding: 0px;\\r\\n\\topacity: 1;\\r\\n\\tbackground-size: 16px !important;\\r\\n}\\r\\n\\r\\n/* hide check when unchecked */\\r\\n.monaco-custom-checkbox.monaco-simple-checkbox.unchecked:not(.checked)::before {\\r\\n\\tvisibility: hidden;;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./findWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* Find widget */\\r\\n.monaco-editor .find-widget {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 10;\\r\\n\\theight: 33px;\\r\\n\\toverflow: hidden;\\r\\n\\tline-height: 19px;\\r\\n\\t-webkit-transition: -webkit-transform 200ms linear;\\r\\n\\ttransition: -webkit-transform 200ms linear;\\r\\n\\t-o-transition: transform 200ms linear;\\r\\n\\ttransition: transform 200ms linear;\\r\\n\\ttransition: transform 200ms linear, -webkit-transform 200ms linear;\\r\\n\\tpadding: 0 4px;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\t-webkit-transform: translateY(calc(-100% - 10px));\\r\\n\\t    -ms-transform: translateY(calc(-100% - 10px));\\r\\n\\t        transform: translateY(calc(-100% - 10px)); /* shadow (10px) */\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget textarea {\\r\\n\\tmargin: 0px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.hiddenEditor {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n/* Find widget when replace is toggled on */\\r\\n.monaco-editor .find-widget.replaceToggled > .replace-part {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.visible  {\\r\\n\\t-webkit-transform: translateY(0);\\r\\n\\t    -ms-transform: translateY(0);\\r\\n\\t        transform: translateY(0);\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\\r\\n\\toutline: 1px solid -webkit-focus-ring-color;\\r\\n\\toutline-offset: -1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-inputbox .input {\\r\\n\\tbackground-color: transparent;\\r\\n\\tmin-height: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .input {\\r\\n\\tfont-size: 13px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part,\\r\\n.monaco-editor .find-widget > .replace-part {\\r\\n\\tmargin: 4px 0 0 17px;\\r\\n\\tfont-size: 12px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\\r\\n\\tmin-height: 25px;\\r\\n}\\r\\n\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\\r\\n\\tpadding-right: 22px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .input,\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .mirror,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .input,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\\r\\n\\tpadding-top: 2px;\\r\\n\\tpadding-bottom: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .find-actions {\\r\\n\\theight: 25px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part .replace-actions {\\r\\n\\theight: 25px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput {\\r\\n\\tvertical-align: middle;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex:1 1;\\r\\n\\t    flex:1 1;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\\r\\n\\t/* Make sure textarea inherits the width correctly */\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\\r\\n\\t/* Hide vertical scrollbar */\\r\\n\\topacity: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .matchesCount {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex: initial;\\r\\n\\t    flex: initial;\\r\\n\\tmargin: 0 0 0 3px;\\r\\n\\tpadding: 2px 0 0 2px;\\r\\n\\theight: 25px;\\r\\n\\tvertical-align: middle;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\ttext-align: center;\\r\\n\\tline-height: 23px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button {\\r\\n\\twidth: 20px;\\r\\n\\theight: 20px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex: initial;\\r\\n\\t    flex: initial;\\r\\n\\tmargin-left: 3px;\\r\\n\\tbackground-position: center center;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tcursor: pointer;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\t-ms-flex-pack: center;\\r\\n\\t    justify-content: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button:not(.disabled):hover {\\r\\n\\tbackground-color: rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.left {\\r\\n\\tmargin-left: 0;\\r\\n\\tmargin-right: 3px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.wide {\\r\\n\\twidth: auto;\\r\\n\\tpadding: 1px 6px;\\r\\n\\ttop: -1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.toggle {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: 3px;\\r\\n\\twidth: 18px;\\r\\n\\theight: 100%;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.toggle.disabled {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .disabled {\\r\\n\\topacity: 0.3;\\r\\n\\tcursor: default;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\tvertical-align: middle;\\r\\n\\t-ms-flex: auto;\\r\\n\\t    flex: auto;\\r\\n\\t-ms-flex-positive: 0;\\r\\n\\t    flex-grow: 0;\\r\\n\\t-ms-flex-negative: 0;\\r\\n\\t    flex-shrink: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 3px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n/* REDUCED */\\r\\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\\r\\n\\tdisplay:none;\\r\\n}\\r\\n\\r\\n/* NARROW (SMALLER THAN REDUCED) */\\r\\n.monaco-editor .find-widget.narrow-find-widget {\\r\\n\\tmax-width: 257px !important;\\r\\n}\\r\\n\\r\\n/* COLLAPSED (SMALLER THAN NARROW) */\\r\\n.monaco-editor .find-widget.collapsed-find-widget {\\r\\n\\tmax-width: 170px !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\\r\\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\\r\\n\\tdisplay:none;\\r\\n}\\r\\n\\r\\n.monaco-editor .findMatch {\\r\\n\\t-webkit-animation-duration: 0;\\r\\n\\t        animation-duration: 0;\\r\\n\\t-webkit-animation-name: inherit !important;\\r\\n\\t        animation-name: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-sash {\\r\\n\\twidth: 2px !important;\\r\\n\\tmargin-left: -4px;\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .find-widget .button:not(.disabled):hover,\\r\\n.monaco-editor.vs-dark .find-widget .button:not(.disabled):hover {\\r\\n\\tbackground-color: rgba(255, 255, 255, 0.1);\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .find-widget .button:before {\\r\\n\\tposition: relative;\\r\\n\\ttop: 1px;\\r\\n\\tleft: 2px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG,iBAAiB;AACjB;CACC,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb,iBAAiB;CACjB,kBAAkB;CAClB,mDAAmC;CAAnC,2CAAmC;CAAnC,sCAAmC;CAAnC,mCAAmC;CAAnC,mEAAmC;CACnC,eAAe;CACf,+BAAuB;SAAvB,uBAAuB;CACvB,kDAA0C;KAA1C,8CAA0C;SAA1C,0CAA0C,CAAC,mBAAmB;CAC9D;;AAED;CACC,YAAY;CACZ;;AAED;CACC,cAAc;CACd;;AAED,4CAA4C;AAC5C;CACC,qBAAc;CAAd,cAAc;CACd;;AAED;CACC,iCAAyB;KAAzB,6BAAyB;SAAzB,yBAAyB;CACzB;;AAED;CACC,4CAA4C;CAC5C,qBAAqB;CACrB;;AAED;CACC,8BAA8B;CAC9B,cAAc;CACd;;AAED;CACC,gBAAgB;CAChB;;AAED;;CAEC,qBAAqB;CACrB,gBAAgB;CAChB,qBAAc;CAAd,cAAc;CACd;;AAED;;CAEC,iBAAiB;CACjB;;;AAGD;CACC,oBAAoB;CACpB;;AAED;;;;CAIC,iBAAiB;CACjB,oBAAoB;CACpB;;AAED;CACC,aAAa;CACb,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB;;AAED;CACC,aAAa;CACb,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB;;AAED;CACC,uBAAuB;CACvB,qBAAc;CAAd,cAAc;CACd,aAAO;KAAP,SAAO;CACP;;AAED;CACC,qDAAqD;CACrD,YAAY;CACZ;;AAED;CACC,6BAA6B;CAC7B,WAAW;CACX;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,kBAAc;KAAd,cAAc;CACd,kBAAkB;CAClB,qBAAqB;CACrB,aAAa;CACb,uBAAuB;CACvB,+BAAuB;SAAvB,uBAAuB;CACvB,mBAAmB;CACnB,kBAAkB;CAClB;;AAED;CACC,YAAY;CACZ,aAAa;CACb,qBAAc;CAAd,cAAc;CACd,kBAAc;KAAd,cAAc;CACd,iBAAiB;CACjB,mCAAmC;CACnC,6BAA6B;CAC7B,gBAAgB;CAChB,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,sBAAwB;KAAxB,wBAAwB;CACxB;;AAED;CACC,qCAAqC;CACrC;;AAED;CACC,eAAe;CACf,kBAAkB;CAClB;;AAED;CACC,YAAY;CACZ,iBAAiB;CACjB,UAAU;CACV;;AAED;CACC,mBAAmB;CACnB,OAAO;CACP,UAAU;CACV,YAAY;CACZ,aAAa;CACb,+BAAuB;SAAvB,uBAAuB;CACvB;;AAED;CACC,cAAc;CACd;;AAED;CACC,aAAa;CACb,gBAAgB;CAChB;;AAED;CACC,cAAc;CACd;;AAED;CACC,mBAAmB;CACnB,qBAAc;CAAd,cAAc;CACd,uBAAuB;CACvB,eAAW;KAAX,WAAW;CACX,qBAAa;KAAb,aAAa;CACb,qBAAe;KAAf,eAAe;CACf;;AAED;CACC,mBAAmB;CACnB,SAAS;CACT,WAAW;CACX;;AAED,aAAa;AACb;CACC,aAAa;CACb;;AAED,mCAAmC;AACnC;CACC,4BAA4B;CAC5B;;AAED,qCAAqC;AACrC;CACC,4BAA4B;CAC5B;;AAED;;;;;CAKC,aAAa;CACb;;AAED;CACC,8BAAsB;SAAtB,sBAAsB;CACtB,2CAAmC;SAAnC,mCAAmC;CACnC;;AAED;CACC,sBAAsB;CACtB,kBAAkB;CAClB;;AAED;;CAEC,2CAA2C;CAC3C;;AAED;CACC,mBAAmB;CACnB,SAAS;CACT,UAAU;CACV\",\"file\":\"findWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* Find widget */\\r\\n.monaco-editor .find-widget {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 10;\\r\\n\\theight: 33px;\\r\\n\\toverflow: hidden;\\r\\n\\tline-height: 19px;\\r\\n\\ttransition: transform 200ms linear;\\r\\n\\tpadding: 0 4px;\\r\\n\\tbox-sizing: border-box;\\r\\n\\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget textarea {\\r\\n\\tmargin: 0px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.hiddenEditor {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n/* Find widget when replace is toggled on */\\r\\n.monaco-editor .find-widget.replaceToggled > .replace-part {\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.visible  {\\r\\n\\ttransform: translateY(0);\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\\r\\n\\toutline: 1px solid -webkit-focus-ring-color;\\r\\n\\toutline-offset: -1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-inputbox .input {\\r\\n\\tbackground-color: transparent;\\r\\n\\tmin-height: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .input {\\r\\n\\tfont-size: 13px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part,\\r\\n.monaco-editor .find-widget > .replace-part {\\r\\n\\tmargin: 4px 0 0 17px;\\r\\n\\tfont-size: 12px;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\\r\\n\\tmin-height: 25px;\\r\\n}\\r\\n\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\\r\\n\\tpadding-right: 22px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .input,\\r\\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .mirror,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .input,\\r\\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\\r\\n\\tpadding-top: 2px;\\r\\n\\tpadding-bottom: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .find-part .find-actions {\\r\\n\\theight: 25px;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part .replace-actions {\\r\\n\\theight: 25px;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput {\\r\\n\\tvertical-align: middle;\\r\\n\\tdisplay: flex;\\r\\n\\tflex:1;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\\r\\n\\t/* Make sure textarea inherits the width correctly */\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\\r\\n\\t/* Hide vertical scrollbar */\\r\\n\\topacity: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .matchesCount {\\r\\n\\tdisplay: flex;\\r\\n\\tflex: initial;\\r\\n\\tmargin: 0 0 0 3px;\\r\\n\\tpadding: 2px 0 0 2px;\\r\\n\\theight: 25px;\\r\\n\\tvertical-align: middle;\\r\\n\\tbox-sizing: border-box;\\r\\n\\ttext-align: center;\\r\\n\\tline-height: 23px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button {\\r\\n\\twidth: 20px;\\r\\n\\theight: 20px;\\r\\n\\tdisplay: flex;\\r\\n\\tflex: initial;\\r\\n\\tmargin-left: 3px;\\r\\n\\tbackground-position: center center;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tcursor: pointer;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tjustify-content: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button:not(.disabled):hover {\\r\\n\\tbackground-color: rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.left {\\r\\n\\tmargin-left: 0;\\r\\n\\tmargin-right: 3px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.wide {\\r\\n\\twidth: auto;\\r\\n\\tpadding: 1px 6px;\\r\\n\\ttop: -1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.toggle {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: 3px;\\r\\n\\twidth: 18px;\\r\\n\\theight: 100%;\\r\\n\\tbox-sizing: border-box;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .button.toggle.disabled {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .disabled {\\r\\n\\topacity: 0.3;\\r\\n\\tcursor: default;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: flex;\\r\\n\\tvertical-align: middle;\\r\\n\\tflex: auto;\\r\\n\\tflex-grow: 0;\\r\\n\\tflex-shrink: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 3px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n/* REDUCED */\\r\\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\\r\\n\\tdisplay:none;\\r\\n}\\r\\n\\r\\n/* NARROW (SMALLER THAN REDUCED) */\\r\\n.monaco-editor .find-widget.narrow-find-widget {\\r\\n\\tmax-width: 257px !important;\\r\\n}\\r\\n\\r\\n/* COLLAPSED (SMALLER THAN NARROW) */\\r\\n.monaco-editor .find-widget.collapsed-find-widget {\\r\\n\\tmax-width: 170px !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\\r\\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\\r\\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\\r\\n\\tdisplay:none;\\r\\n}\\r\\n\\r\\n.monaco-editor .findMatch {\\r\\n\\tanimation-duration: 0;\\r\\n\\tanimation-name: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .find-widget .monaco-sash {\\r\\n\\twidth: 2px !important;\\r\\n\\tmargin-left: -4px;\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .find-widget .button:not(.disabled):hover,\\r\\n.monaco-editor.vs-dark .find-widget .button:not(.disabled):hover {\\r\\n\\tbackground-color: rgba(255, 255, 255, 0.1);\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .find-widget .button:before {\\r\\n\\tposition: relative;\\r\\n\\ttop: 1px;\\r\\n\\tleft: 2px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n/* ---------- Find input ---------- */\\r\\n\\r\\n.monaco-findInput {\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-findInput .monaco-inputbox {\\r\\n\\tfont-size: 13px;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-findInput > .controls {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 3px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n.vs .monaco-findInput.disabled {\\r\\n\\tbackground-color: #E1E1E1;\\r\\n}\\r\\n\\r\\n/* Theming */\\r\\n.vs-dark .monaco-findInput.disabled {\\r\\n\\tbackground-color: #333;\\r\\n}\\r\\n\\r\\n/* Highlighting */\\r\\n.monaco-findInput.highlight-0 .controls {\\r\\n\\t-webkit-animation: monaco-findInput-highlight-0 100ms linear 0s;\\r\\n\\t        animation: monaco-findInput-highlight-0 100ms linear 0s;\\r\\n}\\r\\n.monaco-findInput.highlight-1 .controls {\\r\\n\\t-webkit-animation: monaco-findInput-highlight-1 100ms linear 0s;\\r\\n\\t        animation: monaco-findInput-highlight-1 100ms linear 0s;\\r\\n}\\r\\n.hc-black .monaco-findInput.highlight-0 .controls,\\r\\n.vs-dark  .monaco-findInput.highlight-0 .controls {\\r\\n\\t-webkit-animation: monaco-findInput-highlight-dark-0 100ms linear 0s;\\r\\n\\t        animation: monaco-findInput-highlight-dark-0 100ms linear 0s;\\r\\n}\\r\\n.hc-black .monaco-findInput.highlight-1 .controls,\\r\\n.vs-dark  .monaco-findInput.highlight-1 .controls {\\r\\n\\t-webkit-animation: monaco-findInput-highlight-dark-1 100ms linear 0s;\\r\\n\\t        animation: monaco-findInput-highlight-dark-1 100ms linear 0s;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes monaco-findInput-highlight-0 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n\\r\\n@keyframes monaco-findInput-highlight-0 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n@-webkit-keyframes monaco-findInput-highlight-1 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\\r\\n@keyframes monaco-findInput-highlight-1 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes monaco-findInput-highlight-dark-0 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n\\r\\n@keyframes monaco-findInput-highlight-dark-0 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n@-webkit-keyframes monaco-findInput-highlight-dark-1 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\\r\\n@keyframes monaco-findInput-highlight-dark-1 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;AAChG,sCAAsC;;AAEtC;CACC,mBAAmB;CACnB;;AAED;CACC,gBAAgB;CAChB,YAAY;CACZ;;AAED;CACC,mBAAmB;CACnB,SAAS;CACT,WAAW;CACX;;AAED;CACC,0BAA0B;CAC1B;;AAED,aAAa;AACb;CACC,uBAAuB;CACvB;;AAED,kBAAkB;AAClB;CACC,gEAAwD;SAAxD,wDAAwD;CACxD;AACD;CACC,gEAAwD;SAAxD,wDAAwD;CACxD;AACD;;CAEC,qEAA6D;SAA7D,6DAA6D;CAC7D;AACD;;CAEC,qEAA6D;SAA7D,6DAA6D;CAC7D;;AAED;CACC,KAAK,mCAAmC,EAAE;CAC1C,OAAO,wBAAwB,EAAE;CACjC;;AAHD;CACC,KAAK,mCAAmC,EAAE;CAC1C,OAAO,wBAAwB,EAAE;CACjC;AACD;CACC,KAAK,mCAAmC,EAAE;CAC1C,mHAAmH;CACnH,MAAM,wBAAwB,EAAE;CAChC;AAJD;CACC,KAAK,mCAAmC,EAAE;CAC1C,mHAAmH;CACnH,MAAM,wBAAwB,EAAE;CAChC;;AAED;CACC,KAAK,sCAAsC,EAAE;CAC7C,OAAO,wBAAwB,EAAE;CACjC;;AAHD;CACC,KAAK,sCAAsC,EAAE;CAC7C,OAAO,wBAAwB,EAAE;CACjC;AACD;CACC,KAAK,sCAAsC,EAAE;CAC7C,mHAAmH;CACnH,MAAM,wBAAwB,EAAE;CAChC;AAJD;CACC,KAAK,sCAAsC,EAAE;CAC7C,mHAAmH;CACnH,MAAM,wBAAwB,EAAE;CAChC\",\"file\":\"findInput.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n/* ---------- Find input ---------- */\\r\\n\\r\\n.monaco-findInput {\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-findInput .monaco-inputbox {\\r\\n\\tfont-size: 13px;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-findInput > .controls {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 3px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n.vs .monaco-findInput.disabled {\\r\\n\\tbackground-color: #E1E1E1;\\r\\n}\\r\\n\\r\\n/* Theming */\\r\\n.vs-dark .monaco-findInput.disabled {\\r\\n\\tbackground-color: #333;\\r\\n}\\r\\n\\r\\n/* Highlighting */\\r\\n.monaco-findInput.highlight-0 .controls {\\r\\n\\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\\r\\n}\\r\\n.monaco-findInput.highlight-1 .controls {\\r\\n\\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\\r\\n}\\r\\n.hc-black .monaco-findInput.highlight-0 .controls,\\r\\n.vs-dark  .monaco-findInput.highlight-0 .controls {\\r\\n\\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\\r\\n}\\r\\n.hc-black .monaco-findInput.highlight-1 .controls,\\r\\n.vs-dark  .monaco-findInput.highlight-1 .controls {\\r\\n\\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\\r\\n}\\r\\n\\r\\n@keyframes monaco-findInput-highlight-0 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n@keyframes monaco-findInput-highlight-1 {\\r\\n\\t0% { background: rgba(253, 255, 0, 0.8); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\\r\\n\\r\\n@keyframes monaco-findInput-highlight-dark-0 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t100% { background: transparent; }\\r\\n}\\r\\n@keyframes monaco-findInput-highlight-dark-1 {\\r\\n\\t0% { background: rgba(255, 255, 255, 0.44); }\\r\\n\\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\\r\\n\\t99% { background: transparent; }\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inputBox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inputBox.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inputBox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-inputbox {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: block;\\r\\n\\tpadding: 0;\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\r\\n\\t/* Customizable */\\r\\n\\tfont-size: inherit;\\r\\n}\\r\\n\\r\\n.monaco-inputbox.idle {\\r\\n\\tborder: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .input,\\r\\n.monaco-inputbox > .wrapper > .mirror {\\r\\n\\r\\n\\t/* Customizable */\\r\\n\\tpadding: 4px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper {\\r\\n\\tposition: relative;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .input {\\r\\n\\tdisplay: inline-block;\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\tline-height: inherit;\\r\\n\\tborder: none;\\r\\n\\tfont-family: inherit;\\r\\n\\tfont-size: inherit;\\r\\n\\tresize: none;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > input {\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input {\\r\\n\\tdisplay: block;\\r\\n\\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\\r\\n\\tscrollbar-width: none; /* Firefox: hide scrollbars */\\r\\n\\toutline: none;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input::-webkit-scrollbar {\\r\\n\\tdisplay: none; /* Chrome + Safari: hide scrollbar */\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input.empty {\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .mirror {\\r\\n\\tposition: absolute;\\r\\n\\tdisplay: inline-block;\\r\\n\\twidth: 100%;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tvisibility: hidden;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n/* Context view */\\r\\n\\r\\n.monaco-inputbox-container {\\r\\n\\ttext-align: right;\\r\\n}\\r\\n\\r\\n.monaco-inputbox-container .monaco-inputbox-message {\\r\\n\\tdisplay: inline-block;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-align: left;\\r\\n\\twidth: 100%;\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\tpadding: 0.4em;\\r\\n\\tfont-size: 12px;\\r\\n\\tline-height: 17px;\\r\\n\\tmin-height: 34px;\\r\\n\\tmargin-top: -1px;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n/* Action bar support */\\r\\n.monaco-inputbox .monaco-action-bar {\\r\\n\\tposition: absolute;\\r\\n\\tright: 2px;\\r\\n\\ttop: 4px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox .monaco-action-bar .action-item {\\r\\n\\tmargin-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,mBAAmB;CACnB,eAAe;CACf,WAAW;CACX,+BAAuB;SAAvB,uBAAuB;;CAEvB,kBAAkB;CAClB,mBAAmB;CACnB;;AAED;CACC,8BAA8B;CAC9B;;AAED;;;CAGC,kBAAkB;CAClB,aAAa;CACb;;AAED;CACC,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb;;AAED;CACC,sBAAsB;CACtB,+BAAuB;SAAvB,uBAAuB;CACvB,YAAY;CACZ,aAAa;CACb,qBAAqB;CACrB,aAAa;CACb,qBAAqB;CACrB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf;;AAED;CACC,2BAAwB;IAAxB,wBAAwB;CACxB;;AAED;CACC,eAAe;CACf,yBAAyB,CAAC,6BAA6B;CACvD,sBAAsB,CAAC,8BAA8B;CACrD,cAAc;CACd;;AAED;CACC,cAAc,CAAC,qCAAqC;CACpD;;AAED;CACC,oBAAoB;CACpB;;AAED;CACC,mBAAmB;CACnB,sBAAsB;CACtB,YAAY;CACZ,OAAO;CACP,QAAQ;CACR,+BAAuB;SAAvB,uBAAuB;CACvB,sBAAsB;CACtB,mBAAmB;CACnB,sBAAsB;CACtB;;AAED,kBAAkB;;AAElB;CACC,kBAAkB;CAClB;;AAED;CACC,sBAAsB;CACtB,iBAAiB;CACjB,iBAAiB;CACjB,YAAY;CACZ,+BAAuB;SAAvB,uBAAuB;CACvB,eAAe;CACf,gBAAgB;CAChB,kBAAkB;CAClB,iBAAiB;CACjB,iBAAiB;CACjB,sBAAsB;CACtB;;AAED,wBAAwB;AACxB;CACC,mBAAmB;CACnB,WAAW;CACX,SAAS;CACT;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,6BAA6B;CAC7B,YAAY;CACZ,aAAa;CACb\",\"file\":\"inputBox.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-inputbox {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: block;\\r\\n\\tpadding: 0;\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\r\\n\\t/* Customizable */\\r\\n\\tfont-size: inherit;\\r\\n}\\r\\n\\r\\n.monaco-inputbox.idle {\\r\\n\\tborder: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .input,\\r\\n.monaco-inputbox > .wrapper > .mirror {\\r\\n\\r\\n\\t/* Customizable */\\r\\n\\tpadding: 4px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper {\\r\\n\\tposition: relative;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .input {\\r\\n\\tdisplay: inline-block;\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\tline-height: inherit;\\r\\n\\tborder: none;\\r\\n\\tfont-family: inherit;\\r\\n\\tfont-size: inherit;\\r\\n\\tresize: none;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > input {\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input {\\r\\n\\tdisplay: block;\\r\\n\\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\\r\\n\\tscrollbar-width: none; /* Firefox: hide scrollbars */\\r\\n\\toutline: none;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input::-webkit-scrollbar {\\r\\n\\tdisplay: none; /* Chrome + Safari: hide scrollbar */\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > textarea.input.empty {\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-inputbox > .wrapper > .mirror {\\r\\n\\tposition: absolute;\\r\\n\\tdisplay: inline-block;\\r\\n\\twidth: 100%;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tbox-sizing: border-box;\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tvisibility: hidden;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n/* Context view */\\r\\n\\r\\n.monaco-inputbox-container {\\r\\n\\ttext-align: right;\\r\\n}\\r\\n\\r\\n.monaco-inputbox-container .monaco-inputbox-message {\\r\\n\\tdisplay: inline-block;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-align: left;\\r\\n\\twidth: 100%;\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\tpadding: 0.4em;\\r\\n\\tfont-size: 12px;\\r\\n\\tline-height: 17px;\\r\\n\\tmin-height: 34px;\\r\\n\\tmargin-top: -1px;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n/* Action bar support */\\r\\n.monaco-inputbox .monaco-action-bar {\\r\\n\\tposition: absolute;\\r\\n\\tright: 2px;\\r\\n\\ttop: 4px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox .monaco-action-bar .action-item {\\r\\n\\tmargin-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./folding.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./folding.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./folding.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .margin-view-overlays .codicon-chevron-right,\\r\\n.monaco-editor .margin-view-overlays .codicon-chevron-down {\\r\\n\\tcursor: pointer;\\r\\n\\topacity: 0;\\r\\n\\t-webkit-transition: opacity 0.5s;\\r\\n\\t-o-transition: opacity 0.5s;\\r\\n\\ttransition: opacity 0.5s;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\t-ms-flex-pack: center;\\r\\n\\t    justify-content: center;\\r\\n\\tfont-size: 140%;\\r\\n\\tmargin-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .margin-view-overlays:hover .codicon,\\r\\n.monaco-editor .margin-view-overlays .codicon.codicon-chevron-right,\\r\\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.monaco-editor .inline-folded:after {\\r\\n\\tcolor: grey;\\r\\n\\tmargin: 0.1em 0.2em 0 0.2em;\\r\\n\\tcontent: \\\"\\\\22EF\\\";\\r\\n\\tdisplay: inline;\\r\\n\\tline-height: 1em;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;;CAEC,gBAAgB;CAChB,WAAW;CACX,iCAAyB;CAAzB,4BAAyB;CAAzB,yBAAyB;CACzB,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,sBAAwB;KAAxB,wBAAwB;CACxB,gBAAgB;CAChB,iBAAiB;CACjB;;AAED;;;CAGC,WAAW;CACX;;AAED;CACC,YAAY;CACZ,4BAA4B;CAC5B,iBAAa;CACb,gBAAgB;CAChB,iBAAiB;CACjB,gBAAgB;CAChB\",\"file\":\"folding.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .margin-view-overlays .codicon-chevron-right,\\r\\n.monaco-editor .margin-view-overlays .codicon-chevron-down {\\r\\n\\tcursor: pointer;\\r\\n\\topacity: 0;\\r\\n\\ttransition: opacity 0.5s;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tjustify-content: center;\\r\\n\\tfont-size: 140%;\\r\\n\\tmargin-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .margin-view-overlays:hover .codicon,\\r\\n.monaco-editor .margin-view-overlays .codicon.codicon-chevron-right,\\r\\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.monaco-editor .inline-folded:after {\\r\\n\\tcolor: grey;\\r\\n\\tmargin: 0.1em 0.2em 0 0.2em;\\r\\n\\tcontent: \\\"⋯\\\";\\r\\n\\tdisplay: inline;\\r\\n\\tline-height: 1em;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./peekViewWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./peekViewWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./peekViewWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .peekview-widget .head {\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\tfont-size: 13px;\\r\\n\\tmargin-left: 20px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\\r\\n\\tfont-size: 0.9em;\\r\\n\\tmargin-left: 0.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .meta {\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\\r\\n\\tcontent: '-';\\r\\n\\tpadding: 0 0.3em;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions {\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n\\ttext-align: right;\\r\\n\\tpadding-right: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-item {\\r\\n\\tmargin-left: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label {\\r\\n\\twidth: 16px;\\r\\n\\theight: 100%;\\r\\n\\tmargin: 0;\\r\\n\\tline-height: inherit;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position: center center;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label.codicon {\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget > .body {\\r\\n\\tborder-top: 1px solid;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/media/peekViewWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,+BAAuB;SAAvB,uBAAuB;CACvB,qBAAc;CAAd,cAAc;CACd;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,gBAAgB;CAChB,kBAAkB;CAClB,gBAAgB;CAChB;;AAED;CACC,iBAAiB;CACjB,mBAAmB;CACnB;;AAED;CACC,oBAAoB;CACpB;;AAED;CACC,aAAa;CACb,iBAAiB;CACjB;;AAED;CACC,cAAQ;KAAR,UAAQ;CACR,kBAAkB;CAClB,mBAAmB;CACnB;;AAED;CACC,sBAAsB;CACtB;;AAED;;CAEC,aAAa;CACb;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,YAAY;CACZ,aAAa;CACb,UAAU;CACV,qBAAqB;CACrB,6BAA6B;CAC7B,mCAAmC;CACnC;;AAED;CACC,UAAU;CACV;;AAED;CACC,sBAAsB;CACtB,mBAAmB;CACnB;;AAED;CACC,kBAAkB;CAClB\",\"file\":\"peekViewWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .peekview-widget .head {\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title {\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tfont-size: 13px;\\r\\n\\tmargin-left: 20px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\\r\\n\\tfont-size: 0.9em;\\r\\n\\tmargin-left: 0.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .meta {\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\\r\\n\\tcontent: '-';\\r\\n\\tpadding: 0 0.3em;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions {\\r\\n\\tflex: 1;\\r\\n\\ttext-align: right;\\r\\n\\tpadding-right: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-item {\\r\\n\\tmargin-left: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label {\\r\\n\\twidth: 16px;\\r\\n\\theight: 100%;\\r\\n\\tmargin: 0;\\r\\n\\tline-height: inherit;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position: center center;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label.codicon {\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget > .body {\\r\\n\\tborder-top: 1px solid;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./zoneWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./zoneWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./zoneWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-editor .zone-widget {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 10;\\r\\n}\\r\\n\\r\\n\\r\\n.monaco-editor .zone-widget .zone-widget-container {\\r\\n\\tborder-top-style: solid;\\r\\n\\tborder-bottom-style: solid;\\r\\n\\tborder-top-width: 0;\\r\\n\\tborder-bottom-width: 0;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;AAChG;CACC,mBAAmB;CACnB,YAAY;CACZ;;;AAGD;CACC,wBAAwB;CACxB,2BAA2B;CAC3B,oBAAoB;CACpB,uBAAuB;CACvB,mBAAmB;CACnB\",\"file\":\"zoneWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-editor .zone-widget {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 10;\\r\\n}\\r\\n\\r\\n\\r\\n.monaco-editor .zone-widget .zone-widget-container {\\r\\n\\tborder-top-style: solid;\\r\\n\\tborder-bottom-style: solid;\\r\\n\\tborder-top-width: 0;\\r\\n\\tborder-bottom-width: 0;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./referencesWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./referencesWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./referencesWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* -- zone widget */\\r\\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\\r\\n\\tborder-top-width: 1px;\\r\\n\\tborder-bottom-width: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .inline {\\r\\n\\tdisplay: inline-block;\\r\\n\\tvertical-align: top;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .messages {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\ttext-align: center;\\r\\n\\tpadding: 3em 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree {\\r\\n\\tline-height: 23px;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference {\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\\r\\n\\tdisplay: -ms-inline-flexbox;\\r\\n\\tdisplay: inline-flex;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\\r\\n\\tmargin-right: 12px;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n/* High Contrast Theming */\\r\\n\\r\\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG,oBAAoB;AACpB;CACC,sBAAsB;CACtB,yBAAyB;CACzB;;AAED;CACC,sBAAsB;CACtB,oBAAoB;CACpB;;AAED;CACC,aAAa;CACb,YAAY;CACZ,mBAAmB;CACnB,eAAe;CACf;;AAED;CACC,kBAAkB;CAClB;;AAED;CACC,2BAAwB;IAAxB,wBAAwB;CACxB,iBAAiB;CACjB;;AAED;CACC,4BAAqB;CAArB,qBAAqB;CACrB,YAAY;CACZ,aAAa;CACb;;AAED;CACC,0BAA0B;CAC1B;;AAED;CACC,mBAAmB;CACnB,kBAAkB;CAClB;;AAED,2BAA2B;;AAE3B;CACC,kBAAkB;CAClB\",\"file\":\"referencesWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* -- zone widget */\\r\\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\\r\\n\\tborder-top-width: 1px;\\r\\n\\tborder-bottom-width: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .inline {\\r\\n\\tdisplay: inline-block;\\r\\n\\tvertical-align: top;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .messages {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\ttext-align: center;\\r\\n\\tpadding: 3em 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree {\\r\\n\\tline-height: 23px;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference {\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\\r\\n\\tdisplay: inline-flex;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\\r\\n\\tmargin-right: 12px;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n/* High Contrast Theming */\\r\\n\\r\\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iconlabel.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iconlabel.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iconlabel.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* ---------- Icon label ---------- */\\r\\n\\r\\n.monaco-icon-label {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex; /* required for icons support :before rule */\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-icon-label::before {\\r\\n\\r\\n\\t/* svg icons rendered as background image */\\r\\n\\tbackground-size: 16px;\\r\\n\\tbackground-position: left center;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tpadding-right: 6px;\\r\\n\\twidth: 16px;\\r\\n\\theight: 22px;\\r\\n\\tline-height: inherit !important;\\r\\n\\tdisplay: inline-block;\\r\\n\\r\\n\\t/* fonts icons */\\r\\n\\t-webkit-font-smoothing: antialiased;\\r\\n\\t-moz-osx-font-smoothing: grayscale;\\r\\n\\tvertical-align: top;\\r\\n\\r\\n\\t-ms-flex-negative: 0;\\r\\n\\r\\n\\t    flex-shrink: 0; /* fix for https://github.com/Microsoft/vscode/issues/13787 */\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container {\\r\\n\\tmin-width: 0;\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\\r\\n\\tcolor: inherit;\\r\\n\\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\\r\\n\\tmargin: 0 2px;\\r\\n\\topacity: 0.5;\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\\r\\n\\topacity: .7;\\r\\n\\tmargin-left: 0.5em;\\r\\n\\tfont-size: 0.9em;\\r\\n\\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\\r\\n}\\r\\n\\r\\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\\r\\n.monaco-icon-label.italic > .monaco-icon-description-container > .label-description {\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.monaco-icon-label::after {\\r\\n\\topacity: 0.75;\\r\\n\\tfont-size: 90%;\\r\\n\\tfont-weight: 600;\\r\\n\\tpadding: 0 16px 0 5px;\\r\\n\\ttext-align: center;\\r\\n}\\r\\n\\r\\n/* make sure selection color wins when a label is being selected */\\r\\n.monaco-tree.focused .selected .monaco-icon-label, /* tree */\\r\\n.monaco-tree.focused .selected .monaco-icon-label::after,\\r\\n.monaco-list:focus .selected .monaco-icon-label, /* list */\\r\\n.monaco-list:focus .selected .monaco-icon-label::after\\r\\n{\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-tree-row.focused.selected .label-description,\\r\\n.monaco-tree-row.selected .label-description,\\r\\n.monaco-list-row.focused.selected .label-description,\\r\\n.monaco-list-row.selected .label-description {\\r\\n\\topacity: .8;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconlabel.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG,sCAAsC;;AAEtC;CACC,qBAAc;CAAd,cAAc,CAAC,6CAA6C;CAC5D,iBAAiB;CACjB,2BAAwB;IAAxB,wBAAwB;CACxB;;AAED;;CAEC,4CAA4C;CAC5C,sBAAsB;CACtB,iCAAiC;CACjC,6BAA6B;CAC7B,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb,gCAAgC;CAChC,sBAAsB;;CAEtB,iBAAiB;CACjB,oCAAoC;CACpC,mCAAmC;CACnC,oBAAoB;;CAEpB,qBAAe;;KAAf,eAAe,CAAC,8DAA8D;CAC9E;;AAED;CACC,aAAa;CACb,iBAAiB;CACjB,2BAAwB;IAAxB,wBAAwB;CACxB,cAAQ;KAAR,UAAQ;CACR;;AAED;CACC,eAAe;CACf,iBAAiB,CAAC,6DAA6D;CAC/E;;AAED;CACC,cAAc;CACd,aAAa;CACb;;AAED;CACC,YAAY;CACZ,mBAAmB;CACnB,iBAAiB;CACjB,iBAAiB,CAAC,6DAA6D;CAC/E;;AAED;;CAEC,mBAAmB;CACnB;;AAED;CACC,cAAc;CACd,eAAe;CACf,iBAAiB;CACjB,sBAAsB;CACtB,mBAAmB;CACnB;;AAED,mEAAmE;AACnE;;;;;CAKC,0BAA0B;CAC1B;;AAED;;;;CAIC,YAAY;CACZ\",\"file\":\"iconlabel.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* ---------- Icon label ---------- */\\r\\n\\r\\n.monaco-icon-label {\\r\\n\\tdisplay: flex; /* required for icons support :before rule */\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.monaco-icon-label::before {\\r\\n\\r\\n\\t/* svg icons rendered as background image */\\r\\n\\tbackground-size: 16px;\\r\\n\\tbackground-position: left center;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tpadding-right: 6px;\\r\\n\\twidth: 16px;\\r\\n\\theight: 22px;\\r\\n\\tline-height: inherit !important;\\r\\n\\tdisplay: inline-block;\\r\\n\\r\\n\\t/* fonts icons */\\r\\n\\t-webkit-font-smoothing: antialiased;\\r\\n\\t-moz-osx-font-smoothing: grayscale;\\r\\n\\tvertical-align: top;\\r\\n\\r\\n\\tflex-shrink: 0; /* fix for https://github.com/Microsoft/vscode/issues/13787 */\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container {\\r\\n\\tmin-width: 0;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\tflex: 1;\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\\r\\n\\tcolor: inherit;\\r\\n\\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\\r\\n\\tmargin: 0 2px;\\r\\n\\topacity: 0.5;\\r\\n}\\r\\n\\r\\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\\r\\n\\topacity: .7;\\r\\n\\tmargin-left: 0.5em;\\r\\n\\tfont-size: 0.9em;\\r\\n\\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\\r\\n}\\r\\n\\r\\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\\r\\n.monaco-icon-label.italic > .monaco-icon-description-container > .label-description {\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.monaco-icon-label::after {\\r\\n\\topacity: 0.75;\\r\\n\\tfont-size: 90%;\\r\\n\\tfont-weight: 600;\\r\\n\\tpadding: 0 16px 0 5px;\\r\\n\\ttext-align: center;\\r\\n}\\r\\n\\r\\n/* make sure selection color wins when a label is being selected */\\r\\n.monaco-tree.focused .selected .monaco-icon-label, /* tree */\\r\\n.monaco-tree.focused .selected .monaco-icon-label::after,\\r\\n.monaco-list:focus .selected .monaco-icon-label, /* list */\\r\\n.monaco-list:focus .selected .monaco-icon-label::after\\r\\n{\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-tree-row.focused.selected .label-description,\\r\\n.monaco-tree-row.selected .label-description,\\r\\n.monaco-list-row.focused.selected .label-description,\\r\\n.monaco-list-row.selected .label-description {\\r\\n\\topacity: .8;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./countBadge.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./countBadge.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./countBadge.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-count-badge {\\r\\n\\tpadding: 3px 5px;\\r\\n\\tborder-radius: 11px;\\r\\n\\tfont-size: 11px;\\r\\n\\tmin-width: 18px;\\r\\n\\tmin-height: 18px;\\r\\n\\tline-height: 11px;\\r\\n\\tfont-weight: normal;\\r\\n\\ttext-align: center;\\r\\n\\tdisplay: inline-block;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,iBAAiB;CACjB,oBAAoB;CACpB,gBAAgB;CAChB,gBAAgB;CAChB,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;CACpB,mBAAmB;CACnB,sBAAsB;CACtB,+BAAuB;SAAvB,uBAAuB;CACvB\",\"file\":\"countBadge.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-count-badge {\\r\\n\\tpadding: 3px 5px;\\r\\n\\tborder-radius: 11px;\\r\\n\\tfont-size: 11px;\\r\\n\\tmin-width: 18px;\\r\\n\\tmin-height: 18px;\\r\\n\\tline-height: 11px;\\r\\n\\tfont-weight: normal;\\r\\n\\ttext-align: center;\\r\\n\\tdisplay: inline-block;\\r\\n\\tbox-sizing: border-box;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./splitview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./splitview.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./splitview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-split-view2 {\\r\\n\\tposition: relative;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .sash-container {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\tpointer-events: none;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .sash-container > .monaco-sash {\\r\\n\\tpointer-events: initial;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container {\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\twhite-space: nowrap;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container > .split-view-view {\\r\\n\\twhite-space: initial;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container > .split-view-view:not(.visible) {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.vertical > .split-view-container > .split-view-view {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.horizontal > .split-view-container > .split-view-view {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\tcontent: ' ';\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tz-index: 5;\\r\\n\\tpointer-events: none;\\r\\n\\tbackground-color: var(--separator-border);\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border.horizontal > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\theight: 100%;\\r\\n\\twidth: 1px;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border.vertical > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\theight: 1px;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb;;AAED;CACC,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb,qBAAqB;CACrB;;AAED;CACC,wBAAwB;CACxB;;AAED;CACC,YAAY;CACZ,aAAa;CACb,oBAAoB;CACpB,mBAAmB;CACnB;;AAED;CACC,qBAAqB;CACrB,mBAAmB;CACnB;;AAED;CACC,cAAc;CACd;;AAED;CACC,YAAY;CACZ;;AAED;CACC,aAAa;CACb;;AAED;CACC,aAAa;CACb,mBAAmB;CACnB,OAAO;CACP,QAAQ;CACR,WAAW;CACX,qBAAqB;CACrB,0CAA0C;CAC1C;;AAED;CACC,aAAa;CACb,WAAW;CACX;;AAED;CACC,YAAY;CACZ,YAAY;CACZ\",\"file\":\"splitview.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-split-view2 {\\r\\n\\tposition: relative;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .sash-container {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\tpointer-events: none;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .sash-container > .monaco-sash {\\r\\n\\tpointer-events: initial;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container {\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n\\twhite-space: nowrap;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container > .split-view-view {\\r\\n\\twhite-space: initial;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.monaco-split-view2 > .split-view-container > .split-view-view:not(.visible) {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.vertical > .split-view-container > .split-view-view {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.horizontal > .split-view-container > .split-view-view {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\tcontent: ' ';\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tz-index: 5;\\r\\n\\tpointer-events: none;\\r\\n\\tbackground-color: var(--separator-border);\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border.horizontal > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\theight: 100%;\\r\\n\\twidth: 1px;\\r\\n}\\r\\n\\r\\n.monaco-split-view2.separator-border.vertical > .split-view-container > .split-view-view:not(:first-child)::before {\\r\\n\\theight: 1px;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./goToDefinitionAtPosition.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./goToDefinitionAtPosition.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./goToDefinitionAtPosition.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .goto-definition-link {\\r\\n\\ttext-decoration: underline;\\r\\n\\tcursor: pointer;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,2BAA2B;CAC3B,gBAAgB;CAChB\",\"file\":\"goToDefinitionAtPosition.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .goto-definition-link {\\r\\n\\ttext-decoration: underline;\\r\\n\\tcursor: pointer;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoErrorWidget.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoErrorWidget.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoErrorWidget.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* marker zone */\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\\r\\n\\tdisplay: inline-block;\\r\\n\\tvertical-align: text-top;\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget {\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget > .stale {\\r\\n\\topacity: 0.6;\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .title {\\r\\n\\tdisplay: inline-block;\\r\\n\\tpadding-right: 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer {\\r\\n\\tposition: absolute;\\r\\n\\twhite-space: pre;\\r\\n\\t-moz-user-select: text;\\r\\n\\t     user-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\tpadding: 8px 12px 0px 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\\r\\n\\tpadding-left: 6px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\\r\\n\\topacity: 0.6;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\\r\\n\\topacity: 0.6;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\\r\\n\\tcontent: '(';\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\\r\\n\\tcontent: ')';\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\\r\\n\\ttext-decoration: underline;\\r\\n\\t/** Hack to force underline to show **/\\r\\n\\tborder-bottom: 1px solid transparent;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .filename {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/media/gotoErrorWidget.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG,iBAAiB;;AAEjB;CACC,sBAAsB;CACtB,yBAAyB;CACzB,kBAAkB;CAClB;;AAED;CACC,2BAAwB;IAAxB,wBAAwB;CACxB,oBAAoB;CACpB;;AAED;CACC,aAAa;CACb,mBAAmB;CACnB;;AAED;CACC,sBAAsB;CACtB,mBAAmB;CACnB;;AAED;CACC,mBAAmB;CACnB,iBAAiB;CACjB,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB,2BAA2B;CAC3B;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,2BAAuB;KAAvB,uBAAuB;CACvB;;AAED;CACC,kBAAkB;CAClB;;AAED;;CAEC,aAAa;CACb;;AAED;CACC,aAAa;CACb,eAAe;CACf;AACD;CACC,aAAa;CACb;AACD;CACC,aAAa;CACb;AACD;CACC,2BAA2B;CAC3B,uCAAuC;CACvC,qCAAqC;CACrC,+BAA+B;CAC/B;;AAED;CACC,gBAAgB;CAChB\",\"file\":\"gotoErrorWidget.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* marker zone */\\r\\n\\r\\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\\r\\n\\tdisplay: inline-block;\\r\\n\\tvertical-align: text-top;\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget {\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget > .stale {\\r\\n\\topacity: 0.6;\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .title {\\r\\n\\tdisplay: inline-block;\\r\\n\\tpadding-right: 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer {\\r\\n\\tposition: absolute;\\r\\n\\twhite-space: pre;\\r\\n\\tuser-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\tpadding: 8px 12px 0px 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\\r\\n\\tpadding-left: 6px;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\\r\\n\\topacity: 0.6;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\\r\\n\\topacity: 0.6;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\\r\\n\\tcontent: '(';\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\\r\\n\\tcontent: ')';\\r\\n}\\r\\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\\r\\n\\ttext-decoration: underline;\\r\\n\\t/** Hack to force underline to show **/\\r\\n\\tborder-bottom: 1px solid transparent;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\\r\\n.monaco-editor .marker-widget .descriptioncontainer .filename {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./hover.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./hover.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./hover.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor-hover {\\r\\n\\tcursor: default;\\r\\n\\tposition: absolute;\\r\\n\\toverflow: hidden;\\r\\n\\tz-index: 50;\\r\\n\\t-moz-user-select: text;\\r\\n\\t     user-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\t-webkit-box-sizing: initial;\\r\\n\\t        box-sizing: initial;\\r\\n\\t-webkit-animation: fadein 100ms linear;\\r\\n\\t        animation: fadein 100ms linear;\\r\\n\\tline-height: 1.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover.hidden {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents {\\r\\n\\tpadding: 4px 8px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\\r\\n\\tmax-width: 500px;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\\r\\n\\tmin-width: 100vw;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p,\\r\\n.monaco-editor-hover ul {\\r\\n\\tmargin: 8px 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor-hover hr {\\r\\n\\tmargin-top: 4px;\\r\\n\\tmargin-bottom: -6px;\\r\\n\\tmargin-left: -10px;\\r\\n\\tmargin-right: -10px;\\r\\n\\theight: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p:first-child,\\r\\n.monaco-editor-hover ul:first-child {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p:last-child,\\r\\n.monaco-editor-hover ul:last-child {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n/* MarkupContent Layout */\\r\\n.monaco-editor-hover ul {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n.monaco-editor-hover ol {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover li > p {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover li > ul {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .monaco-tokenized-source {\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tword-break: break-all;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar {\\r\\n\\tfont-size: 12px;\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 0px 8px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions .action-container {\\r\\n\\tmargin-right: 16px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions .action-container .action .icon {\\r\\n\\tpadding-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover .hover-contents .codicon {\\r\\n\\tcolor: inherit;\\r\\n\\tfont-size: inherit;\\r\\n\\tvertical-align: middle;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents a.code-link:before {\\r\\n\\tcontent: '(';\\r\\n}\\r\\n.monaco-editor-hover .hover-contents a.code-link:after {\\r\\n\\tcontent: ')';\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents a.code-link {\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n.monaco-editor-hover .hover-contents a.code-link > span {\\r\\n\\ttext-decoration: underline;\\r\\n\\t/** Hack to force underline to show **/\\r\\n\\tborder-bottom: 1px solid transparent;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,gBAAgB;CAChB,mBAAmB;CACnB,iBAAiB;CACjB,YAAY;CACZ,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB,4BAAoB;SAApB,oBAAoB;CACpB,uCAA+B;SAA/B,+BAA+B;CAC/B,mBAAmB;CACnB;;AAED;CACC,cAAc;CACd;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,iBAAiB;CACjB,sBAAsB;CACtB;;AAED;CACC,iBAAiB;CACjB;;AAED;;CAEC,cAAc;CACd;;AAED;CACC,0CAA0C;CAC1C;;AAED;CACC,gBAAgB;CAChB,oBAAoB;CACpB,mBAAmB;CACnB,oBAAoB;CACpB,YAAY;CACZ;;AAED;;CAEC,cAAc;CACd;;AAED;;CAEC,iBAAiB;CACjB;;AAED,0BAA0B;AAC1B;CACC,mBAAmB;CACnB;AACD;CACC,mBAAmB;CACnB;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,cAAc;CACd;;AAED;CACC,mBAAmB;CACnB,iBAAiB;CACjB;;AAED;CACC,sBAAsB;CACtB,sBAAsB;CACtB;;AAED;CACC,gBAAgB;CAChB,kBAAkB;CAClB;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,iBAAiB;CACjB;;AAED;CACC,mBAAmB;CACnB,gBAAgB;CAChB;;AAED;CACC,mBAAmB;CACnB;;AAED;CACC,eAAe;CACf,mBAAmB;CACnB,uBAAuB;CACvB;;AAED;CACC,aAAa;CACb;AACD;CACC,aAAa;CACb;;AAED;CACC,eAAe;CACf;AACD;CACC,2BAA2B;CAC3B,uCAAuC;CACvC,qCAAqC;CACrC,+BAA+B;CAC/B\",\"file\":\"hover.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor-hover {\\r\\n\\tcursor: default;\\r\\n\\tposition: absolute;\\r\\n\\toverflow: hidden;\\r\\n\\tz-index: 50;\\r\\n\\tuser-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\tbox-sizing: initial;\\r\\n\\tanimation: fadein 100ms linear;\\r\\n\\tline-height: 1.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover.hidden {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents {\\r\\n\\tpadding: 4px 8px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\\r\\n\\tmax-width: 500px;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\\r\\n\\tmin-width: 100vw;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p,\\r\\n.monaco-editor-hover ul {\\r\\n\\tmargin: 8px 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor-hover hr {\\r\\n\\tmargin-top: 4px;\\r\\n\\tmargin-bottom: -6px;\\r\\n\\tmargin-left: -10px;\\r\\n\\tmargin-right: -10px;\\r\\n\\theight: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p:first-child,\\r\\n.monaco-editor-hover ul:first-child {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover p:last-child,\\r\\n.monaco-editor-hover ul:last-child {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n/* MarkupContent Layout */\\r\\n.monaco-editor-hover ul {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n.monaco-editor-hover ol {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover li > p {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover li > ul {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .monaco-tokenized-source {\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tword-break: break-all;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar {\\r\\n\\tfont-size: 12px;\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions {\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 0px 8px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions .action-container {\\r\\n\\tmargin-right: 16px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-row.status-bar .actions .action-container .action .icon {\\r\\n\\tpadding-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .markdown-hover .hover-contents .codicon {\\r\\n\\tcolor: inherit;\\r\\n\\tfont-size: inherit;\\r\\n\\tvertical-align: middle;\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents a.code-link:before {\\r\\n\\tcontent: '(';\\r\\n}\\r\\n.monaco-editor-hover .hover-contents a.code-link:after {\\r\\n\\tcontent: ')';\\r\\n}\\r\\n\\r\\n.monaco-editor-hover .hover-contents a.code-link {\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n.monaco-editor-hover .hover-contents a.code-link > span {\\r\\n\\ttext-decoration: underline;\\r\\n\\t/** Hack to force underline to show **/\\r\\n\\tborder-bottom: 1px solid transparent;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./colorPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./colorPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./colorPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.colorpicker-widget {\\r\\n\\theight: 190px;\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .colorpicker-hover:focus {\\r\\n\\toutline: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* Header */\\r\\n\\r\\n.colorpicker-header {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\theight: 24px;\\r\\n\\tposition: relative;\\r\\n\\tbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=\\\");\\r\\n\\tbackground-size: 9px 9px;\\r\\n\\t-ms-interpolation-mode: nearest-neighbor;\\r\\n\\t    image-rendering: -webkit-optimize-contrast;\\r\\n\\t    image-rendering: -moz-crisp-edges;\\r\\n\\t    image-rendering: -o-pixelated;\\r\\n\\t    image-rendering: pixelated;\\r\\n}\\r\\n\\r\\n.colorpicker-header .picked-color {\\r\\n\\twidth: 216px;\\r\\n\\ttext-align: center;\\r\\n\\tline-height: 24px;\\r\\n\\tcursor: pointer;\\r\\n\\tcolor: white;\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n\\ttext-align: center;\\r\\n}\\r\\n\\r\\n.colorpicker-header .picked-color.light {\\r\\n\\tcolor: black;\\r\\n}\\r\\n\\r\\n.colorpicker-header .original-color {\\r\\n\\twidth: 74px;\\r\\n\\tz-index: inherit;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n/* Body */\\r\\n\\r\\n.colorpicker-body {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 8px;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-wrap {\\r\\n\\toverflow: hidden;\\r\\n\\theight: 150px;\\r\\n\\tposition: relative;\\r\\n\\tmin-width: 220px;\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-box {\\r\\n\\theight: 150px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-selection {\\r\\n\\twidth: 9px;\\r\\n\\theight: 9px;\\r\\n\\tmargin: -5px 0 0 -5px;\\r\\n\\tborder: 1px solid rgb(255, 255, 255);\\r\\n\\tborder-radius: 100%;\\r\\n\\t-webkit-box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\\r\\n\\t        box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip {\\r\\n\\twidth: 25px;\\r\\n\\theight: 150px;\\r\\n}\\r\\n\\r\\n.colorpicker-body .hue-strip {\\r\\n\\tposition: relative;\\r\\n\\tmargin-left: 8px;\\r\\n\\tcursor: -webkit-grab;\\r\\n\\tcursor: grab;\\r\\n\\tbackground: -webkit-gradient(linear, left top, left bottom, from(#ff0000), color-stop(17%, #ffff00), color-stop(33%, #00ff00), color-stop(50%, #00ffff), color-stop(67%, #0000ff), color-stop(83%, #ff00ff), to(#ff0000));\\r\\n\\tbackground: -webkit-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\\r\\n\\tbackground: -o-linear-gradient(top, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\\r\\n\\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\\r\\n}\\r\\n\\r\\n.colorpicker-body .opacity-strip {\\r\\n\\tposition: relative;\\r\\n\\tmargin-left: 8px;\\r\\n\\tcursor: -webkit-grab;\\r\\n\\tcursor: grab;\\r\\n\\tbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=\\\");\\r\\n\\tbackground-size: 9px 9px;\\r\\n\\t-ms-interpolation-mode: nearest-neighbor;\\r\\n\\t    image-rendering: -webkit-optimize-contrast;\\r\\n\\t    image-rendering: -moz-crisp-edges;\\r\\n\\t    image-rendering: -o-pixelated;\\r\\n\\t    image-rendering: pixelated;\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip.grabbing {\\r\\n\\tcursor: -webkit-grabbing;\\r\\n\\tcursor: grabbing;\\r\\n}\\r\\n\\r\\n.colorpicker-body .slider {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: -2px;\\r\\n\\twidth: calc(100% + 4px);\\r\\n\\theight: 4px;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\tborder: 1px solid rgba(255, 255, 255, 0.71);\\r\\n\\t-webkit-box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\\r\\n\\t        box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip .overlay {\\r\\n\\theight: 150px;\\r\\n\\tpointer-events: none;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPicker.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,cAAc;CACd,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB;;AAED;CACC,cAAc;CACd;;;AAGD,YAAY;;AAEZ;CACC,qBAAc;CAAd,cAAc;CACd,aAAa;CACb,mBAAmB;CACnB,kRAAkR;CAClR,yBAAyB;CACzB,yCAA2B;KAA3B,2CAA2B;KAA3B,kCAA2B;KAA3B,8BAA2B;KAA3B,2BAA2B;CAC3B;;AAED;CACC,aAAa;CACb,mBAAmB;CACnB,kBAAkB;CAClB,gBAAgB;CAChB,aAAa;CACb,cAAQ;KAAR,UAAQ;CACR,mBAAmB;CACnB;;AAED;CACC,aAAa;CACb;;AAED;CACC,YAAY;CACZ,iBAAiB;CACjB,gBAAgB;CAChB;;;AAGD,UAAU;;AAEV;CACC,qBAAc;CAAd,cAAc;CACd,aAAa;CACb,mBAAmB;CACnB;;AAED;CACC,iBAAiB;CACjB,cAAc;CACd,mBAAmB;CACnB,iBAAiB;CACjB,cAAQ;KAAR,UAAQ;CACR;;AAED;CACC,cAAc;CACd,mBAAmB;CACnB;;AAED;CACC,WAAW;CACX,YAAY;CACZ,sBAAsB;CACtB,qCAAqC;CACrC,oBAAoB;CACpB,mDAA2C;SAA3C,2CAA2C;CAC3C,mBAAmB;CACnB;;AAED;CACC,YAAY;CACZ,cAAc;CACd;;AAED;CACC,mBAAmB;CACnB,iBAAiB;CACjB,qBAAa;CAAb,aAAa;CACb,0NAAkI;CAAlI,oIAAkI;CAAlI,+HAAkI;CAAlI,kIAAkI;CAClI;;AAED;CACC,mBAAmB;CACnB,iBAAiB;CACjB,qBAAa;CAAb,aAAa;CACb,kRAAkR;CAClR,yBAAyB;CACzB,yCAA2B;KAA3B,2CAA2B;KAA3B,kCAA2B;KAA3B,8BAA2B;KAA3B,2BAA2B;CAC3B;;AAED;CACC,yBAAiB;CAAjB,iBAAiB;CACjB;;AAED;CACC,mBAAmB;CACnB,OAAO;CACP,WAAW;CACX,wBAAwB;CACxB,YAAY;CACZ,+BAAuB;SAAvB,uBAAuB;CACvB,4CAA4C;CAC5C,oDAA4C;SAA5C,4CAA4C;CAC5C;;AAED;CACC,cAAc;CACd,qBAAqB;CACrB\",\"file\":\"colorPicker.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.colorpicker-widget {\\r\\n\\theight: 190px;\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .colorpicker-hover:focus {\\r\\n\\toutline: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* Header */\\r\\n\\r\\n.colorpicker-header {\\r\\n\\tdisplay: flex;\\r\\n\\theight: 24px;\\r\\n\\tposition: relative;\\r\\n\\tbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=\\\");\\r\\n\\tbackground-size: 9px 9px;\\r\\n\\timage-rendering: pixelated;\\r\\n}\\r\\n\\r\\n.colorpicker-header .picked-color {\\r\\n\\twidth: 216px;\\r\\n\\ttext-align: center;\\r\\n\\tline-height: 24px;\\r\\n\\tcursor: pointer;\\r\\n\\tcolor: white;\\r\\n\\tflex: 1;\\r\\n\\ttext-align: center;\\r\\n}\\r\\n\\r\\n.colorpicker-header .picked-color.light {\\r\\n\\tcolor: black;\\r\\n}\\r\\n\\r\\n.colorpicker-header .original-color {\\r\\n\\twidth: 74px;\\r\\n\\tz-index: inherit;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n/* Body */\\r\\n\\r\\n.colorpicker-body {\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 8px;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-wrap {\\r\\n\\toverflow: hidden;\\r\\n\\theight: 150px;\\r\\n\\tposition: relative;\\r\\n\\tmin-width: 220px;\\r\\n\\tflex: 1;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-box {\\r\\n\\theight: 150px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.colorpicker-body .saturation-selection {\\r\\n\\twidth: 9px;\\r\\n\\theight: 9px;\\r\\n\\tmargin: -5px 0 0 -5px;\\r\\n\\tborder: 1px solid rgb(255, 255, 255);\\r\\n\\tborder-radius: 100%;\\r\\n\\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip {\\r\\n\\twidth: 25px;\\r\\n\\theight: 150px;\\r\\n}\\r\\n\\r\\n.colorpicker-body .hue-strip {\\r\\n\\tposition: relative;\\r\\n\\tmargin-left: 8px;\\r\\n\\tcursor: grab;\\r\\n\\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\\r\\n}\\r\\n\\r\\n.colorpicker-body .opacity-strip {\\r\\n\\tposition: relative;\\r\\n\\tmargin-left: 8px;\\r\\n\\tcursor: grab;\\r\\n\\tbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=\\\");\\r\\n\\tbackground-size: 9px 9px;\\r\\n\\timage-rendering: pixelated;\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip.grabbing {\\r\\n\\tcursor: grabbing;\\r\\n}\\r\\n\\r\\n.colorpicker-body .slider {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tleft: -2px;\\r\\n\\twidth: calc(100% + 4px);\\r\\n\\theight: 4px;\\r\\n\\tbox-sizing: border-box;\\r\\n\\tborder: 1px solid rgba(255, 255, 255, 0.71);\\r\\n\\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\\r\\n}\\r\\n\\r\\n.colorpicker-body .strip .overlay {\\r\\n\\theight: 150px;\\r\\n\\tpointer-events: none;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./links.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./links.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./links.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-editor .detected-link,\\r\\n.monaco-editor .detected-link-active {\\r\\n\\ttext-decoration: underline;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\\r\\n.monaco-editor .detected-link-active {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/links/links.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;AAChG;;CAEC,2BAA2B;CAC3B,+BAA+B;CAC/B;;AAED;CACC,gBAAgB;CAChB\",\"file\":\"links.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-editor .detected-link,\\r\\n.monaco-editor .detected-link-active {\\r\\n\\ttext-decoration: underline;\\r\\n\\ttext-underline-position: under;\\r\\n}\\r\\n\\r\\n.monaco-editor .detected-link-active {\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./parameterHints.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./parameterHints.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./parameterHints.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .parameter-hints-widget {\\r\\n\\tz-index: 10;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\tline-height: 1.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget > .wrapper {\\r\\n\\tmax-width: 440px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: row;\\r\\n\\t    flex-direction: row;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple {\\r\\n\\tmin-height: 3.3em;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.visible {\\r\\n\\t-webkit-transition: left .05s ease-in-out;\\r\\n\\t-o-transition: left .05s ease-in-out;\\r\\n\\ttransition: left .05s ease-in-out;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget p,\\r\\n.monaco-editor .parameter-hints-widget ul {\\r\\n\\tmargin: 8px 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\\r\\n.monaco-editor .parameter-hints-widget .body {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\tmin-height: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .signature {\\r\\n\\tpadding: 4px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs {\\r\\n\\tpadding: 0 10px 0 5px;\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs.empty {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\\r\\n\\twhite-space: initial;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .code {\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .controls {\\r\\n\\tdisplay: none;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\tmin-width: 22px;\\r\\n\\t-ms-flex-pack: end;\\r\\n\\t    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple .controls {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 0 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple .button {\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .button.previous {\\r\\n\\tbottom: 24px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .overloads {\\r\\n\\ttext-align: center;\\r\\n\\theight: 12px;\\r\\n\\tline-height: 12px;\\r\\n\\topacity: 0.5;\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\\r\\n\\tfont-weight: bold;\\r\\n\\ttext-decoration: underline;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\\r\\n\\tfont-weight: bold;\\r\\n\\tmargin-right: 0.5em;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,YAAY;CACZ,qBAAc;CAAd,cAAc;CACd,2BAAuB;KAAvB,uBAAuB;CACvB,mBAAmB;CACnB;;AAED;CACC,iBAAiB;CACjB,qBAAc;CAAd,cAAc;CACd,wBAAoB;KAApB,oBAAoB;CACpB;;AAED;CACC,kBAAkB;CAClB,WAAW;CACX;;AAED;CACC,0CAAkC;CAAlC,qCAAkC;CAAlC,kCAAkC;CAClC;;AAED;;CAEC,cAAc;CACd;;AAED;;CAEC,qBAAc;CAAd,cAAc;CACd,2BAAuB;KAAvB,uBAAuB;CACvB,iBAAiB;CACjB;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,sBAAsB;CACtB,sBAAsB;CACtB;;AAED;CACC,cAAc;CACd;;AAED;CACC,qBAAqB;CACrB;;AAED;CACC,0CAA0C;CAC1C;;AAED;CACC,sBAAsB;CACtB;;AAED;CACC,mBAAmB;CACnB,iBAAiB;CACjB;;AAED;CACC,cAAc;CACd,2BAAuB;KAAvB,uBAAuB;CACvB,uBAAoB;KAApB,oBAAoB;CACpB,gBAAgB;CAChB,mBAA0B;KAA1B,0BAA0B;CAC1B;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,eAAe;CACf;;AAED;CACC,YAAY;CACZ,aAAa;CACb,6BAA6B;CAC7B,gBAAgB;CAChB;;AAED;CACC,aAAa;CACb;;AAED;CACC,mBAAmB;CACnB,aAAa;CACb,kBAAkB;CAClB,aAAa;CACb,0CAA0C;CAC1C;;AAED;CACC,kBAAkB;CAClB,2BAA2B;CAC3B;;AAED;CACC,kBAAkB;CAClB,oBAAoB;CACpB\",\"file\":\"parameterHints.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .parameter-hints-widget {\\r\\n\\tz-index: 10;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\tline-height: 1.5em;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget > .wrapper {\\r\\n\\tmax-width: 440px;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: row;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple {\\r\\n\\tmin-height: 3.3em;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.visible {\\r\\n\\ttransition: left .05s ease-in-out;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget p,\\r\\n.monaco-editor .parameter-hints-widget ul {\\r\\n\\tmargin: 8px 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\\r\\n.monaco-editor .parameter-hints-widget .body {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\tmin-height: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .signature {\\r\\n\\tpadding: 4px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs {\\r\\n\\tpadding: 0 10px 0 5px;\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs.empty {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\\r\\n\\twhite-space: initial;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs .code {\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .docs code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .controls {\\r\\n\\tdisplay: none;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n\\tmin-width: 22px;\\r\\n\\tjustify-content: flex-end;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple .controls {\\r\\n\\tdisplay: flex;\\r\\n\\tpadding: 0 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget.multiple .button {\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .button.previous {\\r\\n\\tbottom: 24px;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .overloads {\\r\\n\\ttext-align: center;\\r\\n\\theight: 12px;\\r\\n\\tline-height: 12px;\\r\\n\\topacity: 0.5;\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\\r\\n\\tfont-weight: bold;\\r\\n\\ttext-decoration: underline;\\r\\n}\\r\\n\\r\\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\\r\\n\\tfont-weight: bold;\\r\\n\\tmargin-right: 0.5em;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./renameInputField.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./renameInputField.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./renameInputField.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .rename-box {\\r\\n\\tz-index: 100;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box.preview {\\r\\n\\tpadding: 3px 3px 0 3px;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box .rename-input {\\r\\n\\tpadding: 3px;\\r\\n\\twidth: calc(100% - 6px);\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box .rename-label {\\r\\n\\tdisplay: none;\\r\\n\\topacity: .8;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box.preview .rename-label {\\r\\n\\tdisplay: inherit;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,aAAa;CACb,eAAe;CACf;;AAED;CACC,uBAAuB;CACvB;;AAED;CACC,aAAa;CACb,wBAAwB;CACxB;;AAED;CACC,cAAc;CACd,YAAY;CACZ;;AAED;CACC,iBAAiB;CACjB\",\"file\":\"renameInputField.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .rename-box {\\r\\n\\tz-index: 100;\\r\\n\\tcolor: inherit;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box.preview {\\r\\n\\tpadding: 3px 3px 0 3px;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box .rename-input {\\r\\n\\tpadding: 3px;\\r\\n\\twidth: calc(100% - 6px);\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box .rename-label {\\r\\n\\tdisplay: none;\\r\\n\\topacity: .8;\\r\\n}\\r\\n\\r\\n.monaco-editor .rename-box.preview .rename-label {\\r\\n\\tdisplay: inherit;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./snippetSession.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./snippetSession.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./snippetSession.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .snippet-placeholder {\\r\\n\\tmin-width: 2px;\\r\\n\\toutline-style: solid;\\r\\n\\toutline-width: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .finish-snippet-placeholder {\\r\\n\\toutline-style: solid;\\r\\n\\toutline-width: 1px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,eAAe;CACf,qBAAqB;CACrB,mBAAmB;CACnB;;AAED;CACC,qBAAqB;CACrB,mBAAmB;CACnB\",\"file\":\"snippetSession.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .snippet-placeholder {\\r\\n\\tmin-width: 2px;\\r\\n\\toutline-style: solid;\\r\\n\\toutline-width: 1px;\\r\\n}\\r\\n\\r\\n.monaco-editor .finish-snippet-placeholder {\\r\\n\\toutline-style: solid;\\r\\n\\toutline-width: 1px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggest.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggest.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggest.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* Suggest widget*/\\r\\n.monaco-editor .suggest-widget {\\r\\n\\tz-index: 40;\\r\\n}\\r\\n\\r\\n/** Initial widths **/\\r\\n\\r\\n.monaco-editor .suggest-widget {\\r\\n\\twidth: 430px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget > .message,\\r\\n.monaco-editor .suggest-widget > .tree,\\r\\n.monaco-editor .suggest-widget > .details {\\r\\n\\twidth: 100%;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 1px;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .suggest-widget > .message,\\r\\n.monaco-editor.hc-black .suggest-widget > .tree,\\r\\n.monaco-editor.hc-black .suggest-widget > .details {\\r\\n\\tborder-width: 2px;\\r\\n}\\r\\n\\r\\n/** Adjust width when docs are expanded to the side **/\\r\\n.monaco-editor .suggest-widget.docs-side {\\r\\n\\twidth: 660px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side > .tree,\\r\\n.monaco-editor .suggest-widget.docs-side > .details {\\r\\n\\twidth: 50%;\\r\\n\\tfloat: left;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side.list-right > .tree,\\r\\n.monaco-editor .suggest-widget.docs-side.list-right > .details  {\\r\\n\\tfloat: right;\\r\\n}\\r\\n\\r\\n/* MarkupContent Layout */\\r\\n.monaco-editor .suggest-widget > .details ul {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n.monaco-editor .suggest-widget > .details ol {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget > .details p code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n/* Styles for Message element for when widget is loading or is empty */\\r\\n.monaco-editor .suggest-widget > .message {\\r\\n\\tpadding-left: 22px;\\r\\n}\\r\\n\\r\\n/** Styles for the list element **/\\r\\n.monaco-editor .suggest-widget > .tree {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list {\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n/** Styles for each row in the list element **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-mox-box-sizing: border-box;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\tpadding-right: 10px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position: 2px 2px;\\r\\n\\twhite-space: nowrap;\\r\\n\\tcursor: pointer;\\r\\n\\t-ms-touch-action: none;\\r\\n\\t    touch-action: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents {\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n\\theight: 100%;\\r\\n\\toverflow: hidden;\\r\\n\\tpadding-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\twhite-space: pre;\\r\\n\\t-ms-flex-pack: justify;\\r\\n\\t    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\\r\\n/** Status Bar **/\\r\\n\\r\\n.monaco-editor .suggest-widget > .suggest-status-bar {\\r\\n\\tvisibility: hidden;\\r\\n\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\r\\n\\t        box-sizing: border-box;\\r\\n\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-flow: row nowrap;\\r\\n\\t    flex-flow: row nowrap;\\r\\n\\t-ms-flex-pack: justify;\\r\\n\\t    justify-content: space-between;\\r\\n\\r\\n\\twidth: 100%;\\r\\n\\r\\n\\tfont-size: 80%;\\r\\n\\r\\n\\tborder-left-width: 1px;\\r\\n\\tborder-left-style: solid;\\r\\n\\tborder-right-width: 1px;\\r\\n\\tborder-right-style: solid;\\r\\n\\tborder-bottom-width: 1px;\\r\\n\\tborder-bottom-style: solid;\\r\\n\\r\\n\\tpadding: 1px 8px 1px 4px;\\r\\n\\r\\n\\t-webkit-box-shadow: 0 -.5px 3px #ddd;\\r\\n\\r\\n\\t        box-shadow: 0 -.5px 3px #ddd;\\r\\n}\\r\\n.monaco-editor .suggest-widget > .suggest-status-bar span {\\r\\n\\topacity: 0.7;\\r\\n}\\r\\n.monaco-editor .suggest-widget.list-right.docs-side > .suggest-status-bar {\\r\\n\\tleft: auto;\\r\\n\\tright: 0;\\r\\n}\\r\\n.monaco-editor .suggest-widget.docs-side > .suggest-status-bar {\\r\\n\\twidth: 50%;\\r\\n}\\r\\n\\r\\n/** ReadMore Icon styles **/\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore::before {\\r\\n\\tcolor: inherit;\\r\\n\\topacity: 1;\\r\\n\\tfont-size: 14px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 2px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close:hover,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore:hover {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n/** signature, qualifier, type/details opacity **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .signature-label,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\\r\\n\\topacity: 0.7;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label {\\r\\n\\tmargin-left: 4px;\\r\\n\\topacity: 0.4;\\r\\n\\tfont-size: 90%;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\toverflow: hidden;\\r\\n\\tline-height: 17px;\\r\\n\\t-ms-flex-item-align: center;\\r\\n\\t    align-self: center;\\r\\n}\\r\\n\\r\\n/** Type Info and icon next to the label in the focused completion item **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\\r\\n\\tmargin-left: 0.8em;\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label > .monaco-tokenized-source {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Details: if using CompletionItem#details, show on focus **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label,\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Details: if using CompletionItemLabel#details, always show **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right.always-show-details > .details-label,\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused > .contents > .main > .right.always-show-details > .details-label {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Ellipsis on hover **/\\r\\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\\r\\n\\twidth: calc(100% - 26px);\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left {\\r\\n\\t-ms-flex-negative: 1;\\r\\n\\t    flex-shrink: 1;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .monaco-icon-label {\\r\\n\\t-ms-flex-negative: 1;\\r\\n\\t    flex-shrink: 1;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\\r\\n\\toverflow: hidden;\\r\\n\\t-ms-flex-negative: 0;\\r\\n\\t    flex-shrink: 0;\\r\\n\\tmax-width: 45%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: inline-block;\\r\\n\\tposition: absolute;\\r\\n\\tright: 10px;\\r\\n\\twidth: 18px;\\r\\n\\theight: 18px;\\r\\n\\tvisibility: hidden;\\r\\n}\\r\\n\\r\\n/** Do NOT display ReadMore when docs is side/below **/\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: none !important;\\r\\n}\\r\\n\\r\\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n/** Focused item can show ReadMore, but can't when docs is side/below **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover > .contents > .main > .right > .readMore {\\r\\n\\tvisibility: visible;\\r\\n}\\r\\n\\r\\n/** Styles for each row in the list **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\\r\\n\\topacity: 0.66;\\r\\n\\ttext-decoration: unset;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated > .monaco-icon-label-container > .monaco-icon-name-container {\\r\\n\\ttext-decoration: line-through;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\\r\\n\\tdisplay: block;\\r\\n\\theight: 16px;\\r\\n\\twidth: 16px;\\r\\n\\tmargin-left: 2px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-size: 80%;\\r\\n\\tbackground-position: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\\r\\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\\r\\n\\tmargin: 0 0 0 0.3em;\\r\\n\\tborder: 0.1em solid #000;\\r\\n\\twidth: 0.7em;\\r\\n\\theight: 0.7em;\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n/** Styles for the docs of the completion item in focus **/\\r\\n.monaco-editor .suggest-widget .details {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\tcursor: default;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details.no-docs {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-below .details {\\r\\n\\tborder-top-width: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element {\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body {\\r\\n\\tposition: absolute;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .type {\\r\\n\\t-ms-flex: 2 1;\\r\\n\\t    flex: 2 1;\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\topacity: 0.7;\\r\\n\\tword-break: break-all;\\r\\n\\tmargin: 0 24px 0 0;\\r\\n\\tpadding: 4px 0 12px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs {\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 4px 5px;\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs {\\r\\n\\tpadding: 0;\\r\\n\\twhite-space: initial;\\r\\n\\tmin-height: calc(1rem + 8px);\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div,\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > span:not(:empty) {\\r\\n\\tpadding: 4px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:first-child {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:last-child\\t {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs .code {\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > p:empty {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n\\r\\n/* replace/insert decorations */\\r\\n\\r\\n.monaco-editor .suggest-insert-unexpected {\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggest.css\"],\"names\":[],\"mappings\":\"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\",\"file\":\"suggest.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n/* Suggest widget*/\\r\\n.monaco-editor .suggest-widget {\\r\\n\\tz-index: 40;\\r\\n}\\r\\n\\r\\n/** Initial widths **/\\r\\n\\r\\n.monaco-editor .suggest-widget {\\r\\n\\twidth: 430px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget > .message,\\r\\n.monaco-editor .suggest-widget > .tree,\\r\\n.monaco-editor .suggest-widget > .details {\\r\\n\\twidth: 100%;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 1px;\\r\\n\\tbox-sizing: border-box;\\r\\n}\\r\\n\\r\\n.monaco-editor.hc-black .suggest-widget > .message,\\r\\n.monaco-editor.hc-black .suggest-widget > .tree,\\r\\n.monaco-editor.hc-black .suggest-widget > .details {\\r\\n\\tborder-width: 2px;\\r\\n}\\r\\n\\r\\n/** Adjust width when docs are expanded to the side **/\\r\\n.monaco-editor .suggest-widget.docs-side {\\r\\n\\twidth: 660px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side > .tree,\\r\\n.monaco-editor .suggest-widget.docs-side > .details {\\r\\n\\twidth: 50%;\\r\\n\\tfloat: left;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side.list-right > .tree,\\r\\n.monaco-editor .suggest-widget.docs-side.list-right > .details  {\\r\\n\\tfloat: right;\\r\\n}\\r\\n\\r\\n/* MarkupContent Layout */\\r\\n.monaco-editor .suggest-widget > .details ul {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n.monaco-editor .suggest-widget > .details ol {\\r\\n\\tpadding-left: 20px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget > .details p code {\\r\\n\\tfont-family: var(--monaco-monospace-font);\\r\\n}\\r\\n\\r\\n/* Styles for Message element for when widget is loading or is empty */\\r\\n.monaco-editor .suggest-widget > .message {\\r\\n\\tpadding-left: 22px;\\r\\n}\\r\\n\\r\\n/** Styles for the list element **/\\r\\n.monaco-editor .suggest-widget > .tree {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list {\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n/** Styles for each row in the list element **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\\r\\n\\tdisplay: flex;\\r\\n\\t-mox-box-sizing: border-box;\\r\\n\\tbox-sizing: border-box;\\r\\n\\tpadding-right: 10px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position: 2px 2px;\\r\\n\\twhite-space: nowrap;\\r\\n\\tcursor: pointer;\\r\\n\\ttouch-action: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents {\\r\\n\\tflex: 1;\\r\\n\\theight: 100%;\\r\\n\\toverflow: hidden;\\r\\n\\tpadding-left: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main {\\r\\n\\tdisplay: flex;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\twhite-space: pre;\\r\\n\\tjustify-content: space-between;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\\r\\n/** Status Bar **/\\r\\n\\r\\n.monaco-editor .suggest-widget > .suggest-status-bar {\\r\\n\\tvisibility: hidden;\\r\\n\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\r\\n\\tbox-sizing: border-box;\\r\\n\\r\\n\\tdisplay: flex;\\r\\n\\tflex-flow: row nowrap;\\r\\n\\tjustify-content: space-between;\\r\\n\\r\\n\\twidth: 100%;\\r\\n\\r\\n\\tfont-size: 80%;\\r\\n\\r\\n\\tborder-left-width: 1px;\\r\\n\\tborder-left-style: solid;\\r\\n\\tborder-right-width: 1px;\\r\\n\\tborder-right-style: solid;\\r\\n\\tborder-bottom-width: 1px;\\r\\n\\tborder-bottom-style: solid;\\r\\n\\r\\n\\tpadding: 1px 8px 1px 4px;\\r\\n\\r\\n\\tbox-shadow: 0 -.5px 3px #ddd;\\r\\n}\\r\\n.monaco-editor .suggest-widget > .suggest-status-bar span {\\r\\n\\topacity: 0.7;\\r\\n}\\r\\n.monaco-editor .suggest-widget.list-right.docs-side > .suggest-status-bar {\\r\\n\\tleft: auto;\\r\\n\\tright: 0;\\r\\n}\\r\\n.monaco-editor .suggest-widget.docs-side > .suggest-status-bar {\\r\\n\\twidth: 50%;\\r\\n}\\r\\n\\r\\n/** ReadMore Icon styles **/\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore::before {\\r\\n\\tcolor: inherit;\\r\\n\\topacity: 1;\\r\\n\\tfont-size: 14px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 2px;\\r\\n\\tright: 2px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close:hover,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore:hover {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n/** signature, qualifier, type/details opacity **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .signature-label,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label,\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\\r\\n\\topacity: 0.7;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label {\\r\\n\\tmargin-left: 4px;\\r\\n\\topacity: 0.4;\\r\\n\\tfont-size: 90%;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\toverflow: hidden;\\r\\n\\tline-height: 17px;\\r\\n\\talign-self: center;\\r\\n}\\r\\n\\r\\n/** Type Info and icon next to the label in the focused completion item **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\\r\\n\\tmargin-left: 0.8em;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label > .monaco-tokenized-source {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Details: if using CompletionItem#details, show on focus **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label,\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Details: if using CompletionItemLabel#details, always show **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right.always-show-details > .details-label,\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused > .contents > .main > .right.always-show-details > .details-label {\\r\\n\\tdisplay: inline;\\r\\n}\\r\\n\\r\\n/** Ellipsis on hover **/\\r\\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\\r\\n\\twidth: calc(100% - 26px);\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left {\\r\\n\\tflex-shrink: 1;\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .monaco-icon-label {\\r\\n\\tflex-shrink: 1;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\\r\\n\\toverflow: hidden;\\r\\n\\tflex-shrink: 0;\\r\\n\\tmax-width: 45%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: inline-block;\\r\\n\\tposition: absolute;\\r\\n\\tright: 10px;\\r\\n\\twidth: 18px;\\r\\n\\theight: 18px;\\r\\n\\tvisibility: hidden;\\r\\n}\\r\\n\\r\\n/** Do NOT display ReadMore when docs is side/below **/\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: none !important;\\r\\n}\\r\\n\\r\\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n/** Focused item can show ReadMore, but can't when docs is side/below **/\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover > .contents > .main > .right > .readMore {\\r\\n\\tvisibility: visible;\\r\\n}\\r\\n\\r\\n/** Styles for each row in the list **/\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\\r\\n\\topacity: 0.66;\\r\\n\\ttext-decoration: unset;\\r\\n}\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated > .monaco-icon-label-container > .monaco-icon-name-container {\\r\\n\\ttext-decoration: line-through;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\\r\\n\\tdisplay: block;\\r\\n\\theight: 16px;\\r\\n\\twidth: 16px;\\r\\n\\tmargin-left: 2px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-size: 80%;\\r\\n\\tbackground-position: center;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\\r\\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\\r\\n\\tmargin: 0 0 0 0.3em;\\r\\n\\tborder: 0.1em solid #000;\\r\\n\\twidth: 0.7em;\\r\\n\\theight: 0.7em;\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n/** Styles for the docs of the completion item in focus **/\\r\\n.monaco-editor .suggest-widget .details {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\tcursor: default;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details.no-docs {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.docs-below .details {\\r\\n\\tborder-top-width: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element {\\r\\n\\tflex: 1;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body {\\r\\n\\tposition: absolute;\\r\\n\\tbox-sizing: border-box;\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .type {\\r\\n\\tflex: 2;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\topacity: 0.7;\\r\\n\\tword-break: break-all;\\r\\n\\tmargin: 0 24px 0 0;\\r\\n\\tpadding: 4px 0 12px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs {\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 4px 5px;\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs {\\r\\n\\tpadding: 0;\\r\\n\\twhite-space: initial;\\r\\n\\tmin-height: calc(1rem + 8px);\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div,\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > span:not(:empty) {\\r\\n\\tpadding: 4px 5px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:first-child {\\r\\n\\tmargin-top: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:last-child\\t {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs .code {\\r\\n\\twhite-space: pre-wrap;\\r\\n\\tword-wrap: break-word;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > p:empty {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget .details code {\\r\\n\\tborder-radius: 3px;\\r\\n\\tpadding: 0 0.4em;\\r\\n}\\r\\n\\r\\n\\r\\n/* replace/insert decorations */\\r\\n\\r\\n.monaco-editor .suggest-insert-unexpected {\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggestStatusBar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggestStatusBar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./suggestStatusBar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\\r\\n\\tvisibility: visible;\\r\\n}\\r\\n.monaco-editor .suggest-widget.with-status-bar > .tree {\\r\\n\\tmargin-bottom: 18px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar span {\\r\\n\\tmin-height: 18px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/media/suggestStatusBar.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,oBAAoB;CACpB;AACD;CACC,oBAAoB;CACpB;;AAED;CACC,iBAAiB;CACjB;;AAED;;CAEC,cAAc;CACd;;AAED;CACC,YAAY;CACZ\",\"file\":\"suggestStatusBar.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\\r\\n\\tvisibility: visible;\\r\\n}\\r\\n.monaco-editor .suggest-widget.with-status-bar > .tree {\\r\\n\\tmargin-bottom: 18px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar span {\\r\\n\\tmin-height: 18px;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\\r\\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused > .contents > .main > .right:not(.always-show-details) > .readMore {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var escape = require(\"../../../../../../../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n@font-face {\\r\\n\\tfont-family: \\\"codicon\\\";\\r\\n\\tsrc: url(\" + escape(require(\"./codicon.ttf\")) + \") format(\\\"truetype\\\");\\r\\n}\\r\\n\\r\\n.codicon[class*='codicon-'] {\\r\\n\\tfont: normal normal normal 16px/1 codicon;\\r\\n\\tdisplay: inline-block;\\r\\n\\ttext-decoration: none;\\r\\n\\ttext-rendering: auto;\\r\\n\\ttext-align: center;\\r\\n\\t-webkit-font-smoothing: antialiased;\\r\\n\\t-moz-osx-font-smoothing: grayscale;\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n\\r\\n.codicon-add:before { content: \\\"\\\\EA60\\\" }\\r\\n.codicon-plus:before { content: \\\"\\\\EA60\\\" }\\r\\n.codicon-gist-new:before { content: \\\"\\\\EA60\\\" }\\r\\n.codicon-repo-create:before { content: \\\"\\\\EA60\\\" }\\r\\n.codicon-lightbulb:before { content: \\\"\\\\EA61\\\" }\\r\\n.codicon-light-bulb:before { content: \\\"\\\\EA61\\\" }\\r\\n.codicon-repo:before { content: \\\"\\\\EA62\\\" }\\r\\n.codicon-repo-delete:before { content: \\\"\\\\EA62\\\" }\\r\\n.codicon-gist-fork:before { content: \\\"\\\\EA63\\\" }\\r\\n.codicon-repo-forked:before { content: \\\"\\\\EA63\\\" }\\r\\n.codicon-git-pull-request:before { content: \\\"\\\\EA64\\\" }\\r\\n.codicon-git-pull-request-abandoned:before { content: \\\"\\\\EA64\\\" }\\r\\n.codicon-record-keys:before { content: \\\"\\\\EA65\\\" }\\r\\n.codicon-keyboard:before { content: \\\"\\\\EA65\\\" }\\r\\n.codicon-tag:before { content: \\\"\\\\EA66\\\" }\\r\\n.codicon-tag-add:before { content: \\\"\\\\EA66\\\" }\\r\\n.codicon-tag-remove:before { content: \\\"\\\\EA66\\\" }\\r\\n.codicon-person:before { content: \\\"\\\\EA67\\\" }\\r\\n.codicon-person-add:before { content: \\\"\\\\EA67\\\" }\\r\\n.codicon-person-follow:before { content: \\\"\\\\EA67\\\" }\\r\\n.codicon-person-outline:before { content: \\\"\\\\EA67\\\" }\\r\\n.codicon-person-filled:before { content: \\\"\\\\EA67\\\" }\\r\\n.codicon-git-branch:before { content: \\\"\\\\EA68\\\" }\\r\\n.codicon-git-branch-create:before { content: \\\"\\\\EA68\\\" }\\r\\n.codicon-git-branch-delete:before { content: \\\"\\\\EA68\\\" }\\r\\n.codicon-source-control:before { content: \\\"\\\\EA68\\\" }\\r\\n.codicon-mirror:before { content: \\\"\\\\EA69\\\" }\\r\\n.codicon-mirror-public:before { content: \\\"\\\\EA69\\\" }\\r\\n.codicon-star:before { content: \\\"\\\\EA6A\\\" }\\r\\n.codicon-star-add:before { content: \\\"\\\\EA6A\\\" }\\r\\n.codicon-star-delete:before { content: \\\"\\\\EA6A\\\" }\\r\\n.codicon-star-empty:before { content: \\\"\\\\EA6A\\\" }\\r\\n.codicon-comment:before { content: \\\"\\\\EA6B\\\" }\\r\\n.codicon-comment-add:before { content: \\\"\\\\EA6B\\\" }\\r\\n.codicon-alert:before { content: \\\"\\\\EA6C\\\" }\\r\\n.codicon-warning:before { content: \\\"\\\\EA6C\\\" }\\r\\n.codicon-search:before { content: \\\"\\\\EA6D\\\" }\\r\\n.codicon-search-save:before { content: \\\"\\\\EA6D\\\" }\\r\\n.codicon-log-out:before { content: \\\"\\\\EA6E\\\" }\\r\\n.codicon-sign-out:before { content: \\\"\\\\EA6E\\\" }\\r\\n.codicon-log-in:before { content: \\\"\\\\EA6F\\\" }\\r\\n.codicon-sign-in:before { content: \\\"\\\\EA6F\\\" }\\r\\n.codicon-eye:before { content: \\\"\\\\EA70\\\" }\\r\\n.codicon-eye-unwatch:before { content: \\\"\\\\EA70\\\" }\\r\\n.codicon-eye-watch:before { content: \\\"\\\\EA70\\\" }\\r\\n.codicon-circle-filled:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-primitive-dot:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-close-dirty:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-debug-breakpoint:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-debug-breakpoint-disabled:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-debug-hint:before { content: \\\"\\\\EA71\\\" }\\r\\n.codicon-primitive-square:before { content: \\\"\\\\EA72\\\" }\\r\\n.codicon-edit:before { content: \\\"\\\\EA73\\\" }\\r\\n.codicon-pencil:before { content: \\\"\\\\EA73\\\" }\\r\\n.codicon-info:before { content: \\\"\\\\EA74\\\" }\\r\\n.codicon-issue-opened:before { content: \\\"\\\\EA74\\\" }\\r\\n.codicon-gist-private:before { content: \\\"\\\\EA75\\\" }\\r\\n.codicon-git-fork-private:before { content: \\\"\\\\EA75\\\" }\\r\\n.codicon-lock:before { content: \\\"\\\\EA75\\\" }\\r\\n.codicon-mirror-private:before { content: \\\"\\\\EA75\\\" }\\r\\n.codicon-close:before { content: \\\"\\\\EA76\\\" }\\r\\n.codicon-remove-close:before { content: \\\"\\\\EA76\\\" }\\r\\n.codicon-x:before { content: \\\"\\\\EA76\\\" }\\r\\n.codicon-repo-sync:before { content: \\\"\\\\EA77\\\" }\\r\\n.codicon-sync:before { content: \\\"\\\\EA77\\\" }\\r\\n.codicon-clone:before { content: \\\"\\\\EA78\\\" }\\r\\n.codicon-desktop-download:before { content: \\\"\\\\EA78\\\" }\\r\\n.codicon-beaker:before { content: \\\"\\\\EA79\\\" }\\r\\n.codicon-microscope:before { content: \\\"\\\\EA79\\\" }\\r\\n.codicon-vm:before { content: \\\"\\\\EA7A\\\" }\\r\\n.codicon-device-desktop:before { content: \\\"\\\\EA7A\\\" }\\r\\n.codicon-file:before { content: \\\"\\\\EA7B\\\" }\\r\\n.codicon-file-text:before { content: \\\"\\\\EA7B\\\" }\\r\\n.codicon-more:before { content: \\\"\\\\EA7C\\\" }\\r\\n.codicon-ellipsis:before { content: \\\"\\\\EA7C\\\" }\\r\\n.codicon-kebab-horizontal:before { content: \\\"\\\\EA7C\\\" }\\r\\n.codicon-mail-reply:before { content: \\\"\\\\EA7D\\\" }\\r\\n.codicon-reply:before { content: \\\"\\\\EA7D\\\" }\\r\\n.codicon-organization:before { content: \\\"\\\\EA7E\\\" }\\r\\n.codicon-organization-filled:before { content: \\\"\\\\EA7E\\\" }\\r\\n.codicon-organization-outline:before { content: \\\"\\\\EA7E\\\" }\\r\\n.codicon-new-file:before { content: \\\"\\\\EA7F\\\" }\\r\\n.codicon-file-add:before { content: \\\"\\\\EA7F\\\" }\\r\\n.codicon-new-folder:before { content: \\\"\\\\EA80\\\" }\\r\\n.codicon-file-directory-create:before { content: \\\"\\\\EA80\\\" }\\r\\n.codicon-trash:before { content: \\\"\\\\EA81\\\" }\\r\\n.codicon-trashcan:before { content: \\\"\\\\EA81\\\" }\\r\\n.codicon-history:before { content: \\\"\\\\EA82\\\" }\\r\\n.codicon-clock:before { content: \\\"\\\\EA82\\\" }\\r\\n.codicon-folder:before { content: \\\"\\\\EA83\\\" }\\r\\n.codicon-file-directory:before { content: \\\"\\\\EA83\\\" }\\r\\n.codicon-symbol-folder:before { content: \\\"\\\\EA83\\\" }\\r\\n.codicon-logo-github:before { content: \\\"\\\\EA84\\\" }\\r\\n.codicon-mark-github:before { content: \\\"\\\\EA84\\\" }\\r\\n.codicon-github:before { content: \\\"\\\\EA84\\\" }\\r\\n.codicon-terminal:before { content: \\\"\\\\EA85\\\" }\\r\\n.codicon-console:before { content: \\\"\\\\EA85\\\" }\\r\\n.codicon-repl:before { content: \\\"\\\\EA85\\\" }\\r\\n.codicon-zap:before { content: \\\"\\\\EA86\\\" }\\r\\n.codicon-symbol-event:before { content: \\\"\\\\EA86\\\" }\\r\\n.codicon-error:before { content: \\\"\\\\EA87\\\" }\\r\\n.codicon-stop:before { content: \\\"\\\\EA87\\\" }\\r\\n.codicon-variable:before { content: \\\"\\\\EA88\\\" }\\r\\n.codicon-symbol-variable:before { content: \\\"\\\\EA88\\\" }\\r\\n.codicon-array:before { content: \\\"\\\\EA8A\\\" }\\r\\n.codicon-symbol-array:before { content: \\\"\\\\EA8A\\\" }\\r\\n.codicon-symbol-module:before { content: \\\"\\\\EA8B\\\" }\\r\\n.codicon-symbol-package:before { content: \\\"\\\\EA8B\\\" }\\r\\n.codicon-symbol-namespace:before { content: \\\"\\\\EA8B\\\" }\\r\\n.codicon-symbol-object:before { content: \\\"\\\\EA8B\\\" }\\r\\n.codicon-symbol-method:before { content: \\\"\\\\EA8C\\\" }\\r\\n.codicon-symbol-function:before { content: \\\"\\\\EA8C\\\" }\\r\\n.codicon-symbol-constructor:before { content: \\\"\\\\EA8C\\\" }\\r\\n.codicon-symbol-boolean:before { content: \\\"\\\\EA8F\\\" }\\r\\n.codicon-symbol-null:before { content: \\\"\\\\EA8F\\\" }\\r\\n.codicon-symbol-numeric:before { content: \\\"\\\\EA90\\\" }\\r\\n.codicon-symbol-number:before { content: \\\"\\\\EA90\\\" }\\r\\n.codicon-symbol-structure:before { content: \\\"\\\\EA91\\\" }\\r\\n.codicon-symbol-struct:before { content: \\\"\\\\EA91\\\" }\\r\\n.codicon-symbol-parameter:before { content: \\\"\\\\EA92\\\" }\\r\\n.codicon-symbol-type-parameter:before { content: \\\"\\\\EA92\\\" }\\r\\n.codicon-symbol-key:before { content: \\\"\\\\EA93\\\" }\\r\\n.codicon-symbol-text:before { content: \\\"\\\\EA93\\\" }\\r\\n.codicon-symbol-reference:before { content: \\\"\\\\EA94\\\" }\\r\\n.codicon-go-to-file:before { content: \\\"\\\\EA94\\\" }\\r\\n.codicon-symbol-enum:before { content: \\\"\\\\EA95\\\" }\\r\\n.codicon-symbol-value:before { content: \\\"\\\\EA95\\\" }\\r\\n.codicon-symbol-ruler:before { content: \\\"\\\\EA96\\\" }\\r\\n.codicon-symbol-unit:before { content: \\\"\\\\EA96\\\" }\\r\\n.codicon-activate-breakpoints:before { content: \\\"\\\\EA97\\\" }\\r\\n.codicon-archive:before { content: \\\"\\\\EA98\\\" }\\r\\n.codicon-arrow-both:before { content: \\\"\\\\EA99\\\" }\\r\\n.codicon-arrow-down:before { content: \\\"\\\\EA9A\\\" }\\r\\n.codicon-arrow-left:before { content: \\\"\\\\EA9B\\\" }\\r\\n.codicon-arrow-right:before { content: \\\"\\\\EA9C\\\" }\\r\\n.codicon-arrow-small-down:before { content: \\\"\\\\EA9D\\\" }\\r\\n.codicon-arrow-small-left:before { content: \\\"\\\\EA9E\\\" }\\r\\n.codicon-arrow-small-right:before { content: \\\"\\\\EA9F\\\" }\\r\\n.codicon-arrow-small-up:before { content: \\\"\\\\EAA0\\\" }\\r\\n.codicon-arrow-up:before { content: \\\"\\\\EAA1\\\" }\\r\\n.codicon-bell:before { content: \\\"\\\\EAA2\\\" }\\r\\n.codicon-bold:before { content: \\\"\\\\EAA3\\\" }\\r\\n.codicon-book:before { content: \\\"\\\\EAA4\\\" }\\r\\n.codicon-bookmark:before { content: \\\"\\\\EAA5\\\" }\\r\\n.codicon-debug-breakpoint-conditional-unverified:before { content: \\\"\\\\EAA6\\\" }\\r\\n.codicon-debug-breakpoint-conditional:before { content: \\\"\\\\EAA7\\\" }\\r\\n.codicon-debug-breakpoint-conditional-disabled:before { content: \\\"\\\\EAA7\\\" }\\r\\n.codicon-debug-breakpoint-data-unverified:before { content: \\\"\\\\EAA8\\\" }\\r\\n.codicon-debug-breakpoint-data:before { content: \\\"\\\\EAA9\\\" }\\r\\n.codicon-debug-breakpoint-data-disabled:before { content: \\\"\\\\EAA9\\\" }\\r\\n.codicon-debug-breakpoint-log-unverified:before { content: \\\"\\\\EAAA\\\" }\\r\\n.codicon-debug-breakpoint-log:before { content: \\\"\\\\EAAB\\\" }\\r\\n.codicon-debug-breakpoint-log-disabled:before { content: \\\"\\\\EAAB\\\" }\\r\\n.codicon-briefcase:before { content: \\\"\\\\EAAC\\\" }\\r\\n.codicon-broadcast:before { content: \\\"\\\\EAAD\\\" }\\r\\n.codicon-browser:before { content: \\\"\\\\EAAE\\\" }\\r\\n.codicon-bug:before { content: \\\"\\\\EAAF\\\" }\\r\\n.codicon-calendar:before { content: \\\"\\\\EAB0\\\" }\\r\\n.codicon-case-sensitive:before { content: \\\"\\\\EAB1\\\" }\\r\\n.codicon-check:before { content: \\\"\\\\EAB2\\\" }\\r\\n.codicon-checklist:before { content: \\\"\\\\EAB3\\\" }\\r\\n.codicon-chevron-down:before { content: \\\"\\\\EAB4\\\" }\\r\\n.codicon-chevron-left:before { content: \\\"\\\\EAB5\\\" }\\r\\n.codicon-chevron-right:before { content: \\\"\\\\EAB6\\\" }\\r\\n.codicon-chevron-up:before { content: \\\"\\\\EAB7\\\" }\\r\\n.codicon-chrome-close:before { content: \\\"\\\\EAB8\\\" }\\r\\n.codicon-chrome-maximize:before { content: \\\"\\\\EAB9\\\" }\\r\\n.codicon-chrome-minimize:before { content: \\\"\\\\EABA\\\" }\\r\\n.codicon-chrome-restore:before { content: \\\"\\\\EABB\\\" }\\r\\n.codicon-circle-outline:before { content: \\\"\\\\EABC\\\" }\\r\\n.codicon-debug-breakpoint-unverified:before { content: \\\"\\\\EABC\\\" }\\r\\n.codicon-circle-slash:before { content: \\\"\\\\EABD\\\" }\\r\\n.codicon-circuit-board:before { content: \\\"\\\\EABE\\\" }\\r\\n.codicon-clear-all:before { content: \\\"\\\\EABF\\\" }\\r\\n.codicon-clippy:before { content: \\\"\\\\EAC0\\\" }\\r\\n.codicon-close-all:before { content: \\\"\\\\EAC1\\\" }\\r\\n.codicon-cloud-download:before { content: \\\"\\\\EAC2\\\" }\\r\\n.codicon-cloud-upload:before { content: \\\"\\\\EAC3\\\" }\\r\\n.codicon-code:before { content: \\\"\\\\EAC4\\\" }\\r\\n.codicon-collapse-all:before { content: \\\"\\\\EAC5\\\" }\\r\\n.codicon-color-mode:before { content: \\\"\\\\EAC6\\\" }\\r\\n.codicon-comment-discussion:before { content: \\\"\\\\EAC7\\\" }\\r\\n.codicon-compare-changes:before { content: \\\"\\\\EAC8\\\" }\\r\\n.codicon-credit-card:before { content: \\\"\\\\EAC9\\\" }\\r\\n.codicon-dash:before { content: \\\"\\\\EACC\\\" }\\r\\n.codicon-dashboard:before { content: \\\"\\\\EACD\\\" }\\r\\n.codicon-database:before { content: \\\"\\\\EACE\\\" }\\r\\n.codicon-debug-continue:before { content: \\\"\\\\EACF\\\" }\\r\\n.codicon-debug-disconnect:before { content: \\\"\\\\EAD0\\\" }\\r\\n.codicon-debug-pause:before { content: \\\"\\\\EAD1\\\" }\\r\\n.codicon-debug-restart:before { content: \\\"\\\\EAD2\\\" }\\r\\n.codicon-debug-start:before { content: \\\"\\\\EAD3\\\" }\\r\\n.codicon-debug-step-into:before { content: \\\"\\\\EAD4\\\" }\\r\\n.codicon-debug-step-out:before { content: \\\"\\\\EAD5\\\" }\\r\\n.codicon-debug-step-over:before { content: \\\"\\\\EAD6\\\" }\\r\\n.codicon-debug-stop:before { content: \\\"\\\\EAD7\\\" }\\r\\n.codicon-debug:before { content: \\\"\\\\EAD8\\\" }\\r\\n.codicon-device-camera-video:before { content: \\\"\\\\EAD9\\\" }\\r\\n.codicon-device-camera:before { content: \\\"\\\\EADA\\\" }\\r\\n.codicon-device-mobile:before { content: \\\"\\\\EADB\\\" }\\r\\n.codicon-diff-added:before { content: \\\"\\\\EADC\\\" }\\r\\n.codicon-diff-ignored:before { content: \\\"\\\\EADD\\\" }\\r\\n.codicon-diff-modified:before { content: \\\"\\\\EADE\\\" }\\r\\n.codicon-diff-removed:before { content: \\\"\\\\EADF\\\" }\\r\\n.codicon-diff-renamed:before { content: \\\"\\\\EAE0\\\" }\\r\\n.codicon-diff:before { content: \\\"\\\\EAE1\\\" }\\r\\n.codicon-discard:before { content: \\\"\\\\EAE2\\\" }\\r\\n.codicon-editor-layout:before { content: \\\"\\\\EAE3\\\" }\\r\\n.codicon-empty-window:before { content: \\\"\\\\EAE4\\\" }\\r\\n.codicon-exclude:before { content: \\\"\\\\EAE5\\\" }\\r\\n.codicon-extensions:before { content: \\\"\\\\EAE6\\\" }\\r\\n.codicon-eye-closed:before { content: \\\"\\\\EAE7\\\" }\\r\\n.codicon-file-binary:before { content: \\\"\\\\EAE8\\\" }\\r\\n.codicon-file-code:before { content: \\\"\\\\EAE9\\\" }\\r\\n.codicon-file-media:before { content: \\\"\\\\EAEA\\\" }\\r\\n.codicon-file-pdf:before { content: \\\"\\\\EAEB\\\" }\\r\\n.codicon-file-submodule:before { content: \\\"\\\\EAEC\\\" }\\r\\n.codicon-file-symlink-directory:before { content: \\\"\\\\EAED\\\" }\\r\\n.codicon-file-symlink-file:before { content: \\\"\\\\EAEE\\\" }\\r\\n.codicon-file-zip:before { content: \\\"\\\\EAEF\\\" }\\r\\n.codicon-files:before { content: \\\"\\\\EAF0\\\" }\\r\\n.codicon-filter:before { content: \\\"\\\\EAF1\\\" }\\r\\n.codicon-flame:before { content: \\\"\\\\EAF2\\\" }\\r\\n.codicon-fold-down:before { content: \\\"\\\\EAF3\\\" }\\r\\n.codicon-fold-up:before { content: \\\"\\\\EAF4\\\" }\\r\\n.codicon-fold:before { content: \\\"\\\\EAF5\\\" }\\r\\n.codicon-folder-active:before { content: \\\"\\\\EAF6\\\" }\\r\\n.codicon-folder-opened:before { content: \\\"\\\\EAF7\\\" }\\r\\n.codicon-gear:before { content: \\\"\\\\EAF8\\\" }\\r\\n.codicon-gift:before { content: \\\"\\\\EAF9\\\" }\\r\\n.codicon-gist-secret:before { content: \\\"\\\\EAFA\\\" }\\r\\n.codicon-gist:before { content: \\\"\\\\EAFB\\\" }\\r\\n.codicon-git-commit:before { content: \\\"\\\\EAFC\\\" }\\r\\n.codicon-git-compare:before { content: \\\"\\\\EAFD\\\" }\\r\\n.codicon-git-merge:before { content: \\\"\\\\EAFE\\\" }\\r\\n.codicon-github-action:before { content: \\\"\\\\EAFF\\\" }\\r\\n.codicon-github-alt:before { content: \\\"\\\\EB00\\\" }\\r\\n.codicon-globe:before { content: \\\"\\\\EB01\\\" }\\r\\n.codicon-grabber:before { content: \\\"\\\\EB02\\\" }\\r\\n.codicon-graph:before { content: \\\"\\\\EB03\\\" }\\r\\n.codicon-gripper:before { content: \\\"\\\\EB04\\\" }\\r\\n.codicon-heart:before { content: \\\"\\\\EB05\\\" }\\r\\n.codicon-home:before { content: \\\"\\\\EB06\\\" }\\r\\n.codicon-horizontal-rule:before { content: \\\"\\\\EB07\\\" }\\r\\n.codicon-hubot:before { content: \\\"\\\\EB08\\\" }\\r\\n.codicon-inbox:before { content: \\\"\\\\EB09\\\" }\\r\\n.codicon-issue-closed:before { content: \\\"\\\\EB0A\\\" }\\r\\n.codicon-issue-reopened:before { content: \\\"\\\\EB0B\\\" }\\r\\n.codicon-issues:before { content: \\\"\\\\EB0C\\\" }\\r\\n.codicon-italic:before { content: \\\"\\\\EB0D\\\" }\\r\\n.codicon-jersey:before { content: \\\"\\\\EB0E\\\" }\\r\\n.codicon-json:before { content: \\\"\\\\EB0F\\\" }\\r\\n.codicon-kebab-vertical:before { content: \\\"\\\\EB10\\\" }\\r\\n.codicon-key:before { content: \\\"\\\\EB11\\\" }\\r\\n.codicon-law:before { content: \\\"\\\\EB12\\\" }\\r\\n.codicon-lightbulb-autofix:before { content: \\\"\\\\EB13\\\" }\\r\\n.codicon-link-external:before { content: \\\"\\\\EB14\\\" }\\r\\n.codicon-link:before { content: \\\"\\\\EB15\\\" }\\r\\n.codicon-list-ordered:before { content: \\\"\\\\EB16\\\" }\\r\\n.codicon-list-unordered:before { content: \\\"\\\\EB17\\\" }\\r\\n.codicon-live-share:before { content: \\\"\\\\EB18\\\" }\\r\\n.codicon-loading:before { content: \\\"\\\\EB19\\\" }\\r\\n.codicon-location:before { content: \\\"\\\\EB1A\\\" }\\r\\n.codicon-mail-read:before { content: \\\"\\\\EB1B\\\" }\\r\\n.codicon-mail:before { content: \\\"\\\\EB1C\\\" }\\r\\n.codicon-markdown:before { content: \\\"\\\\EB1D\\\" }\\r\\n.codicon-megaphone:before { content: \\\"\\\\EB1E\\\" }\\r\\n.codicon-mention:before { content: \\\"\\\\EB1F\\\" }\\r\\n.codicon-milestone:before { content: \\\"\\\\EB20\\\" }\\r\\n.codicon-mortar-board:before { content: \\\"\\\\EB21\\\" }\\r\\n.codicon-move:before { content: \\\"\\\\EB22\\\" }\\r\\n.codicon-multiple-windows:before { content: \\\"\\\\EB23\\\" }\\r\\n.codicon-mute:before { content: \\\"\\\\EB24\\\" }\\r\\n.codicon-no-newline:before { content: \\\"\\\\EB25\\\" }\\r\\n.codicon-note:before { content: \\\"\\\\EB26\\\" }\\r\\n.codicon-octoface:before { content: \\\"\\\\EB27\\\" }\\r\\n.codicon-open-preview:before { content: \\\"\\\\EB28\\\" }\\r\\n.codicon-package:before { content: \\\"\\\\EB29\\\" }\\r\\n.codicon-paintcan:before { content: \\\"\\\\EB2A\\\" }\\r\\n.codicon-pin:before { content: \\\"\\\\EB2B\\\" }\\r\\n.codicon-play:before { content: \\\"\\\\EB2C\\\" }\\r\\n.codicon-plug:before { content: \\\"\\\\EB2D\\\" }\\r\\n.codicon-preserve-case:before { content: \\\"\\\\EB2E\\\" }\\r\\n.codicon-preview:before { content: \\\"\\\\EB2F\\\" }\\r\\n.codicon-project:before { content: \\\"\\\\EB30\\\" }\\r\\n.codicon-pulse:before { content: \\\"\\\\EB31\\\" }\\r\\n.codicon-question:before { content: \\\"\\\\EB32\\\" }\\r\\n.codicon-quote:before { content: \\\"\\\\EB33\\\" }\\r\\n.codicon-radio-tower:before { content: \\\"\\\\EB34\\\" }\\r\\n.codicon-reactions:before { content: \\\"\\\\EB35\\\" }\\r\\n.codicon-references:before { content: \\\"\\\\EB36\\\" }\\r\\n.codicon-refresh:before { content: \\\"\\\\EB37\\\" }\\r\\n.codicon-regex:before { content: \\\"\\\\EB38\\\" }\\r\\n.codicon-remote-explorer:before { content: \\\"\\\\EB39\\\" }\\r\\n.codicon-remote:before { content: \\\"\\\\EB3A\\\" }\\r\\n.codicon-remove:before { content: \\\"\\\\EB3B\\\" }\\r\\n.codicon-replace-all:before { content: \\\"\\\\EB3C\\\" }\\r\\n.codicon-replace:before { content: \\\"\\\\EB3D\\\" }\\r\\n.codicon-repo-clone:before { content: \\\"\\\\EB3E\\\" }\\r\\n.codicon-repo-force-push:before { content: \\\"\\\\EB3F\\\" }\\r\\n.codicon-repo-pull:before { content: \\\"\\\\EB40\\\" }\\r\\n.codicon-repo-push:before { content: \\\"\\\\EB41\\\" }\\r\\n.codicon-report:before { content: \\\"\\\\EB42\\\" }\\r\\n.codicon-request-changes:before { content: \\\"\\\\EB43\\\" }\\r\\n.codicon-rocket:before { content: \\\"\\\\EB44\\\" }\\r\\n.codicon-root-folder-opened:before { content: \\\"\\\\EB45\\\" }\\r\\n.codicon-root-folder:before { content: \\\"\\\\EB46\\\" }\\r\\n.codicon-rss:before { content: \\\"\\\\EB47\\\" }\\r\\n.codicon-ruby:before { content: \\\"\\\\EB48\\\" }\\r\\n.codicon-save-all:before { content: \\\"\\\\EB49\\\" }\\r\\n.codicon-save-as:before { content: \\\"\\\\EB4A\\\" }\\r\\n.codicon-save:before { content: \\\"\\\\EB4B\\\" }\\r\\n.codicon-screen-full:before { content: \\\"\\\\EB4C\\\" }\\r\\n.codicon-screen-normal:before { content: \\\"\\\\EB4D\\\" }\\r\\n.codicon-search-stop:before { content: \\\"\\\\EB4E\\\" }\\r\\n.codicon-server:before { content: \\\"\\\\EB50\\\" }\\r\\n.codicon-settings-gear:before { content: \\\"\\\\EB51\\\" }\\r\\n.codicon-settings:before { content: \\\"\\\\EB52\\\" }\\r\\n.codicon-shield:before { content: \\\"\\\\EB53\\\" }\\r\\n.codicon-smiley:before { content: \\\"\\\\EB54\\\" }\\r\\n.codicon-sort-precedence:before { content: \\\"\\\\EB55\\\" }\\r\\n.codicon-split-horizontal:before { content: \\\"\\\\EB56\\\" }\\r\\n.codicon-split-vertical:before { content: \\\"\\\\EB57\\\" }\\r\\n.codicon-squirrel:before { content: \\\"\\\\EB58\\\" }\\r\\n.codicon-star-full:before { content: \\\"\\\\EB59\\\" }\\r\\n.codicon-star-half:before { content: \\\"\\\\EB5A\\\" }\\r\\n.codicon-symbol-class:before { content: \\\"\\\\EB5B\\\" }\\r\\n.codicon-symbol-color:before { content: \\\"\\\\EB5C\\\" }\\r\\n.codicon-symbol-constant:before { content: \\\"\\\\EB5D\\\" }\\r\\n.codicon-symbol-enum-member:before { content: \\\"\\\\EB5E\\\" }\\r\\n.codicon-symbol-field:before { content: \\\"\\\\EB5F\\\" }\\r\\n.codicon-symbol-file:before { content: \\\"\\\\EB60\\\" }\\r\\n.codicon-symbol-interface:before { content: \\\"\\\\EB61\\\" }\\r\\n.codicon-symbol-keyword:before { content: \\\"\\\\EB62\\\" }\\r\\n.codicon-symbol-misc:before { content: \\\"\\\\EB63\\\" }\\r\\n.codicon-symbol-operator:before { content: \\\"\\\\EB64\\\" }\\r\\n.codicon-symbol-property:before { content: \\\"\\\\EB65\\\" }\\r\\n.codicon-symbol-snippet:before { content: \\\"\\\\EB66\\\" }\\r\\n.codicon-tasklist:before { content: \\\"\\\\EB67\\\" }\\r\\n.codicon-telescope:before { content: \\\"\\\\EB68\\\" }\\r\\n.codicon-text-size:before { content: \\\"\\\\EB69\\\" }\\r\\n.codicon-three-bars:before { content: \\\"\\\\EB6A\\\" }\\r\\n.codicon-thumbsdown:before { content: \\\"\\\\EB6B\\\" }\\r\\n.codicon-thumbsup:before { content: \\\"\\\\EB6C\\\" }\\r\\n.codicon-tools:before { content: \\\"\\\\EB6D\\\" }\\r\\n.codicon-triangle-down:before { content: \\\"\\\\EB6E\\\" }\\r\\n.codicon-triangle-left:before { content: \\\"\\\\EB6F\\\" }\\r\\n.codicon-triangle-right:before { content: \\\"\\\\EB70\\\" }\\r\\n.codicon-triangle-up:before { content: \\\"\\\\EB71\\\" }\\r\\n.codicon-twitter:before { content: \\\"\\\\EB72\\\" }\\r\\n.codicon-unfold:before { content: \\\"\\\\EB73\\\" }\\r\\n.codicon-unlock:before { content: \\\"\\\\EB74\\\" }\\r\\n.codicon-unmute:before { content: \\\"\\\\EB75\\\" }\\r\\n.codicon-unverified:before { content: \\\"\\\\EB76\\\" }\\r\\n.codicon-verified:before { content: \\\"\\\\EB77\\\" }\\r\\n.codicon-versions:before { content: \\\"\\\\EB78\\\" }\\r\\n.codicon-vm-active:before { content: \\\"\\\\EB79\\\" }\\r\\n.codicon-vm-outline:before { content: \\\"\\\\EB7A\\\" }\\r\\n.codicon-vm-running:before { content: \\\"\\\\EB7B\\\" }\\r\\n.codicon-watch:before { content: \\\"\\\\EB7C\\\" }\\r\\n.codicon-whitespace:before { content: \\\"\\\\EB7D\\\" }\\r\\n.codicon-whole-word:before { content: \\\"\\\\EB7E\\\" }\\r\\n.codicon-window:before { content: \\\"\\\\EB7F\\\" }\\r\\n.codicon-word-wrap:before { content: \\\"\\\\EB80\\\" }\\r\\n.codicon-zoom-in:before { content: \\\"\\\\EB81\\\" }\\r\\n.codicon-zoom-out:before { content: \\\"\\\\EB82\\\" }\\r\\n.codicon-list-filter:before { content: \\\"\\\\EB83\\\" }\\r\\n.codicon-list-flat:before { content: \\\"\\\\EB84\\\" }\\r\\n.codicon-list-selection:before { content: \\\"\\\\EB85\\\" }\\r\\n.codicon-selection:before { content: \\\"\\\\EB85\\\" }\\r\\n.codicon-list-tree:before { content: \\\"\\\\EB86\\\" }\\r\\n.codicon-debug-breakpoint-function-unverified:before { content: \\\"\\\\EB87\\\" }\\r\\n.codicon-debug-breakpoint-function:before { content: \\\"\\\\EB88\\\" }\\r\\n.codicon-debug-breakpoint-function-disabled:before { content: \\\"\\\\EB88\\\" }\\r\\n.codicon-debug-stackframe-active:before { content: \\\"\\\\EB89\\\" }\\r\\n.codicon-debug-stackframe-dot:before { content: \\\"\\\\EB8A\\\" }\\r\\n.codicon-debug-stackframe:before { content: \\\"\\\\EB8B\\\" }\\r\\n.codicon-debug-stackframe-focused:before { content: \\\"\\\\EB8B\\\" }\\r\\n.codicon-debug-breakpoint-unsupported:before { content: \\\"\\\\EB8C\\\" }\\r\\n.codicon-symbol-string:before { content: \\\"\\\\EB8D\\\" }\\r\\n.codicon-debug-reverse-continue:before { content: \\\"\\\\EB8E\\\" }\\r\\n.codicon-debug-step-back:before { content: \\\"\\\\EB8F\\\" }\\r\\n.codicon-debug-restart-frame:before { content: \\\"\\\\EB90\\\" }\\r\\n.codicon-debug-alternate:before { content: \\\"\\\\EB91\\\" }\\r\\n.codicon-call-incoming:before { content: \\\"\\\\EB92\\\" }\\r\\n.codicon-call-outgoing:before { content: \\\"\\\\EB93\\\" }\\r\\n.codicon-menu:before { content: \\\"\\\\EB94\\\" }\\r\\n.codicon-expand-all:before { content: \\\"\\\\EB95\\\" }\\r\\n.codicon-feedback:before { content: \\\"\\\\EB96\\\" }\\r\\n.codicon-group-by-ref-type:before { content: \\\"\\\\EB97\\\" }\\r\\n.codicon-ungroup-by-ref-type:before { content: \\\"\\\\EB98\\\" }\\r\\n.codicon-debug-alt:before { content: \\\"\\\\F101\\\" }\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon.css\"],\"names\":[],\"mappings\":\"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\",\"file\":\"codicon.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n@font-face {\\r\\n\\tfont-family: \\\"codicon\\\";\\r\\n\\tsrc: url(./codicon.ttf) format(\\\"truetype\\\");\\r\\n}\\r\\n\\r\\n.codicon[class*='codicon-'] {\\r\\n\\tfont: normal normal normal 16px/1 codicon;\\r\\n\\tdisplay: inline-block;\\r\\n\\ttext-decoration: none;\\r\\n\\ttext-rendering: auto;\\r\\n\\ttext-align: center;\\r\\n\\t-webkit-font-smoothing: antialiased;\\r\\n\\t-moz-osx-font-smoothing: grayscale;\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n}\\r\\n\\r\\n\\r\\n.codicon-add:before { content: \\\"\\\\ea60\\\" }\\r\\n.codicon-plus:before { content: \\\"\\\\ea60\\\" }\\r\\n.codicon-gist-new:before { content: \\\"\\\\ea60\\\" }\\r\\n.codicon-repo-create:before { content: \\\"\\\\ea60\\\" }\\r\\n.codicon-lightbulb:before { content: \\\"\\\\ea61\\\" }\\r\\n.codicon-light-bulb:before { content: \\\"\\\\ea61\\\" }\\r\\n.codicon-repo:before { content: \\\"\\\\ea62\\\" }\\r\\n.codicon-repo-delete:before { content: \\\"\\\\ea62\\\" }\\r\\n.codicon-gist-fork:before { content: \\\"\\\\ea63\\\" }\\r\\n.codicon-repo-forked:before { content: \\\"\\\\ea63\\\" }\\r\\n.codicon-git-pull-request:before { content: \\\"\\\\ea64\\\" }\\r\\n.codicon-git-pull-request-abandoned:before { content: \\\"\\\\ea64\\\" }\\r\\n.codicon-record-keys:before { content: \\\"\\\\ea65\\\" }\\r\\n.codicon-keyboard:before { content: \\\"\\\\ea65\\\" }\\r\\n.codicon-tag:before { content: \\\"\\\\ea66\\\" }\\r\\n.codicon-tag-add:before { content: \\\"\\\\ea66\\\" }\\r\\n.codicon-tag-remove:before { content: \\\"\\\\ea66\\\" }\\r\\n.codicon-person:before { content: \\\"\\\\ea67\\\" }\\r\\n.codicon-person-add:before { content: \\\"\\\\ea67\\\" }\\r\\n.codicon-person-follow:before { content: \\\"\\\\ea67\\\" }\\r\\n.codicon-person-outline:before { content: \\\"\\\\ea67\\\" }\\r\\n.codicon-person-filled:before { content: \\\"\\\\ea67\\\" }\\r\\n.codicon-git-branch:before { content: \\\"\\\\ea68\\\" }\\r\\n.codicon-git-branch-create:before { content: \\\"\\\\ea68\\\" }\\r\\n.codicon-git-branch-delete:before { content: \\\"\\\\ea68\\\" }\\r\\n.codicon-source-control:before { content: \\\"\\\\ea68\\\" }\\r\\n.codicon-mirror:before { content: \\\"\\\\ea69\\\" }\\r\\n.codicon-mirror-public:before { content: \\\"\\\\ea69\\\" }\\r\\n.codicon-star:before { content: \\\"\\\\ea6a\\\" }\\r\\n.codicon-star-add:before { content: \\\"\\\\ea6a\\\" }\\r\\n.codicon-star-delete:before { content: \\\"\\\\ea6a\\\" }\\r\\n.codicon-star-empty:before { content: \\\"\\\\ea6a\\\" }\\r\\n.codicon-comment:before { content: \\\"\\\\ea6b\\\" }\\r\\n.codicon-comment-add:before { content: \\\"\\\\ea6b\\\" }\\r\\n.codicon-alert:before { content: \\\"\\\\ea6c\\\" }\\r\\n.codicon-warning:before { content: \\\"\\\\ea6c\\\" }\\r\\n.codicon-search:before { content: \\\"\\\\ea6d\\\" }\\r\\n.codicon-search-save:before { content: \\\"\\\\ea6d\\\" }\\r\\n.codicon-log-out:before { content: \\\"\\\\ea6e\\\" }\\r\\n.codicon-sign-out:before { content: \\\"\\\\ea6e\\\" }\\r\\n.codicon-log-in:before { content: \\\"\\\\ea6f\\\" }\\r\\n.codicon-sign-in:before { content: \\\"\\\\ea6f\\\" }\\r\\n.codicon-eye:before { content: \\\"\\\\ea70\\\" }\\r\\n.codicon-eye-unwatch:before { content: \\\"\\\\ea70\\\" }\\r\\n.codicon-eye-watch:before { content: \\\"\\\\ea70\\\" }\\r\\n.codicon-circle-filled:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-primitive-dot:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-close-dirty:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-debug-breakpoint:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-debug-breakpoint-disabled:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-debug-hint:before { content: \\\"\\\\ea71\\\" }\\r\\n.codicon-primitive-square:before { content: \\\"\\\\ea72\\\" }\\r\\n.codicon-edit:before { content: \\\"\\\\ea73\\\" }\\r\\n.codicon-pencil:before { content: \\\"\\\\ea73\\\" }\\r\\n.codicon-info:before { content: \\\"\\\\ea74\\\" }\\r\\n.codicon-issue-opened:before { content: \\\"\\\\ea74\\\" }\\r\\n.codicon-gist-private:before { content: \\\"\\\\ea75\\\" }\\r\\n.codicon-git-fork-private:before { content: \\\"\\\\ea75\\\" }\\r\\n.codicon-lock:before { content: \\\"\\\\ea75\\\" }\\r\\n.codicon-mirror-private:before { content: \\\"\\\\ea75\\\" }\\r\\n.codicon-close:before { content: \\\"\\\\ea76\\\" }\\r\\n.codicon-remove-close:before { content: \\\"\\\\ea76\\\" }\\r\\n.codicon-x:before { content: \\\"\\\\ea76\\\" }\\r\\n.codicon-repo-sync:before { content: \\\"\\\\ea77\\\" }\\r\\n.codicon-sync:before { content: \\\"\\\\ea77\\\" }\\r\\n.codicon-clone:before { content: \\\"\\\\ea78\\\" }\\r\\n.codicon-desktop-download:before { content: \\\"\\\\ea78\\\" }\\r\\n.codicon-beaker:before { content: \\\"\\\\ea79\\\" }\\r\\n.codicon-microscope:before { content: \\\"\\\\ea79\\\" }\\r\\n.codicon-vm:before { content: \\\"\\\\ea7a\\\" }\\r\\n.codicon-device-desktop:before { content: \\\"\\\\ea7a\\\" }\\r\\n.codicon-file:before { content: \\\"\\\\ea7b\\\" }\\r\\n.codicon-file-text:before { content: \\\"\\\\ea7b\\\" }\\r\\n.codicon-more:before { content: \\\"\\\\ea7c\\\" }\\r\\n.codicon-ellipsis:before { content: \\\"\\\\ea7c\\\" }\\r\\n.codicon-kebab-horizontal:before { content: \\\"\\\\ea7c\\\" }\\r\\n.codicon-mail-reply:before { content: \\\"\\\\ea7d\\\" }\\r\\n.codicon-reply:before { content: \\\"\\\\ea7d\\\" }\\r\\n.codicon-organization:before { content: \\\"\\\\ea7e\\\" }\\r\\n.codicon-organization-filled:before { content: \\\"\\\\ea7e\\\" }\\r\\n.codicon-organization-outline:before { content: \\\"\\\\ea7e\\\" }\\r\\n.codicon-new-file:before { content: \\\"\\\\ea7f\\\" }\\r\\n.codicon-file-add:before { content: \\\"\\\\ea7f\\\" }\\r\\n.codicon-new-folder:before { content: \\\"\\\\ea80\\\" }\\r\\n.codicon-file-directory-create:before { content: \\\"\\\\ea80\\\" }\\r\\n.codicon-trash:before { content: \\\"\\\\ea81\\\" }\\r\\n.codicon-trashcan:before { content: \\\"\\\\ea81\\\" }\\r\\n.codicon-history:before { content: \\\"\\\\ea82\\\" }\\r\\n.codicon-clock:before { content: \\\"\\\\ea82\\\" }\\r\\n.codicon-folder:before { content: \\\"\\\\ea83\\\" }\\r\\n.codicon-file-directory:before { content: \\\"\\\\ea83\\\" }\\r\\n.codicon-symbol-folder:before { content: \\\"\\\\ea83\\\" }\\r\\n.codicon-logo-github:before { content: \\\"\\\\ea84\\\" }\\r\\n.codicon-mark-github:before { content: \\\"\\\\ea84\\\" }\\r\\n.codicon-github:before { content: \\\"\\\\ea84\\\" }\\r\\n.codicon-terminal:before { content: \\\"\\\\ea85\\\" }\\r\\n.codicon-console:before { content: \\\"\\\\ea85\\\" }\\r\\n.codicon-repl:before { content: \\\"\\\\ea85\\\" }\\r\\n.codicon-zap:before { content: \\\"\\\\ea86\\\" }\\r\\n.codicon-symbol-event:before { content: \\\"\\\\ea86\\\" }\\r\\n.codicon-error:before { content: \\\"\\\\ea87\\\" }\\r\\n.codicon-stop:before { content: \\\"\\\\ea87\\\" }\\r\\n.codicon-variable:before { content: \\\"\\\\ea88\\\" }\\r\\n.codicon-symbol-variable:before { content: \\\"\\\\ea88\\\" }\\r\\n.codicon-array:before { content: \\\"\\\\ea8a\\\" }\\r\\n.codicon-symbol-array:before { content: \\\"\\\\ea8a\\\" }\\r\\n.codicon-symbol-module:before { content: \\\"\\\\ea8b\\\" }\\r\\n.codicon-symbol-package:before { content: \\\"\\\\ea8b\\\" }\\r\\n.codicon-symbol-namespace:before { content: \\\"\\\\ea8b\\\" }\\r\\n.codicon-symbol-object:before { content: \\\"\\\\ea8b\\\" }\\r\\n.codicon-symbol-method:before { content: \\\"\\\\ea8c\\\" }\\r\\n.codicon-symbol-function:before { content: \\\"\\\\ea8c\\\" }\\r\\n.codicon-symbol-constructor:before { content: \\\"\\\\ea8c\\\" }\\r\\n.codicon-symbol-boolean:before { content: \\\"\\\\ea8f\\\" }\\r\\n.codicon-symbol-null:before { content: \\\"\\\\ea8f\\\" }\\r\\n.codicon-symbol-numeric:before { content: \\\"\\\\ea90\\\" }\\r\\n.codicon-symbol-number:before { content: \\\"\\\\ea90\\\" }\\r\\n.codicon-symbol-structure:before { content: \\\"\\\\ea91\\\" }\\r\\n.codicon-symbol-struct:before { content: \\\"\\\\ea91\\\" }\\r\\n.codicon-symbol-parameter:before { content: \\\"\\\\ea92\\\" }\\r\\n.codicon-symbol-type-parameter:before { content: \\\"\\\\ea92\\\" }\\r\\n.codicon-symbol-key:before { content: \\\"\\\\ea93\\\" }\\r\\n.codicon-symbol-text:before { content: \\\"\\\\ea93\\\" }\\r\\n.codicon-symbol-reference:before { content: \\\"\\\\ea94\\\" }\\r\\n.codicon-go-to-file:before { content: \\\"\\\\ea94\\\" }\\r\\n.codicon-symbol-enum:before { content: \\\"\\\\ea95\\\" }\\r\\n.codicon-symbol-value:before { content: \\\"\\\\ea95\\\" }\\r\\n.codicon-symbol-ruler:before { content: \\\"\\\\ea96\\\" }\\r\\n.codicon-symbol-unit:before { content: \\\"\\\\ea96\\\" }\\r\\n.codicon-activate-breakpoints:before { content: \\\"\\\\ea97\\\" }\\r\\n.codicon-archive:before { content: \\\"\\\\ea98\\\" }\\r\\n.codicon-arrow-both:before { content: \\\"\\\\ea99\\\" }\\r\\n.codicon-arrow-down:before { content: \\\"\\\\ea9a\\\" }\\r\\n.codicon-arrow-left:before { content: \\\"\\\\ea9b\\\" }\\r\\n.codicon-arrow-right:before { content: \\\"\\\\ea9c\\\" }\\r\\n.codicon-arrow-small-down:before { content: \\\"\\\\ea9d\\\" }\\r\\n.codicon-arrow-small-left:before { content: \\\"\\\\ea9e\\\" }\\r\\n.codicon-arrow-small-right:before { content: \\\"\\\\ea9f\\\" }\\r\\n.codicon-arrow-small-up:before { content: \\\"\\\\eaa0\\\" }\\r\\n.codicon-arrow-up:before { content: \\\"\\\\eaa1\\\" }\\r\\n.codicon-bell:before { content: \\\"\\\\eaa2\\\" }\\r\\n.codicon-bold:before { content: \\\"\\\\eaa3\\\" }\\r\\n.codicon-book:before { content: \\\"\\\\eaa4\\\" }\\r\\n.codicon-bookmark:before { content: \\\"\\\\eaa5\\\" }\\r\\n.codicon-debug-breakpoint-conditional-unverified:before { content: \\\"\\\\eaa6\\\" }\\r\\n.codicon-debug-breakpoint-conditional:before { content: \\\"\\\\eaa7\\\" }\\r\\n.codicon-debug-breakpoint-conditional-disabled:before { content: \\\"\\\\eaa7\\\" }\\r\\n.codicon-debug-breakpoint-data-unverified:before { content: \\\"\\\\eaa8\\\" }\\r\\n.codicon-debug-breakpoint-data:before { content: \\\"\\\\eaa9\\\" }\\r\\n.codicon-debug-breakpoint-data-disabled:before { content: \\\"\\\\eaa9\\\" }\\r\\n.codicon-debug-breakpoint-log-unverified:before { content: \\\"\\\\eaaa\\\" }\\r\\n.codicon-debug-breakpoint-log:before { content: \\\"\\\\eaab\\\" }\\r\\n.codicon-debug-breakpoint-log-disabled:before { content: \\\"\\\\eaab\\\" }\\r\\n.codicon-briefcase:before { content: \\\"\\\\eaac\\\" }\\r\\n.codicon-broadcast:before { content: \\\"\\\\eaad\\\" }\\r\\n.codicon-browser:before { content: \\\"\\\\eaae\\\" }\\r\\n.codicon-bug:before { content: \\\"\\\\eaaf\\\" }\\r\\n.codicon-calendar:before { content: \\\"\\\\eab0\\\" }\\r\\n.codicon-case-sensitive:before { content: \\\"\\\\eab1\\\" }\\r\\n.codicon-check:before { content: \\\"\\\\eab2\\\" }\\r\\n.codicon-checklist:before { content: \\\"\\\\eab3\\\" }\\r\\n.codicon-chevron-down:before { content: \\\"\\\\eab4\\\" }\\r\\n.codicon-chevron-left:before { content: \\\"\\\\eab5\\\" }\\r\\n.codicon-chevron-right:before { content: \\\"\\\\eab6\\\" }\\r\\n.codicon-chevron-up:before { content: \\\"\\\\eab7\\\" }\\r\\n.codicon-chrome-close:before { content: \\\"\\\\eab8\\\" }\\r\\n.codicon-chrome-maximize:before { content: \\\"\\\\eab9\\\" }\\r\\n.codicon-chrome-minimize:before { content: \\\"\\\\eaba\\\" }\\r\\n.codicon-chrome-restore:before { content: \\\"\\\\eabb\\\" }\\r\\n.codicon-circle-outline:before { content: \\\"\\\\eabc\\\" }\\r\\n.codicon-debug-breakpoint-unverified:before { content: \\\"\\\\eabc\\\" }\\r\\n.codicon-circle-slash:before { content: \\\"\\\\eabd\\\" }\\r\\n.codicon-circuit-board:before { content: \\\"\\\\eabe\\\" }\\r\\n.codicon-clear-all:before { content: \\\"\\\\eabf\\\" }\\r\\n.codicon-clippy:before { content: \\\"\\\\eac0\\\" }\\r\\n.codicon-close-all:before { content: \\\"\\\\eac1\\\" }\\r\\n.codicon-cloud-download:before { content: \\\"\\\\eac2\\\" }\\r\\n.codicon-cloud-upload:before { content: \\\"\\\\eac3\\\" }\\r\\n.codicon-code:before { content: \\\"\\\\eac4\\\" }\\r\\n.codicon-collapse-all:before { content: \\\"\\\\eac5\\\" }\\r\\n.codicon-color-mode:before { content: \\\"\\\\eac6\\\" }\\r\\n.codicon-comment-discussion:before { content: \\\"\\\\eac7\\\" }\\r\\n.codicon-compare-changes:before { content: \\\"\\\\eac8\\\" }\\r\\n.codicon-credit-card:before { content: \\\"\\\\eac9\\\" }\\r\\n.codicon-dash:before { content: \\\"\\\\eacc\\\" }\\r\\n.codicon-dashboard:before { content: \\\"\\\\eacd\\\" }\\r\\n.codicon-database:before { content: \\\"\\\\eace\\\" }\\r\\n.codicon-debug-continue:before { content: \\\"\\\\eacf\\\" }\\r\\n.codicon-debug-disconnect:before { content: \\\"\\\\ead0\\\" }\\r\\n.codicon-debug-pause:before { content: \\\"\\\\ead1\\\" }\\r\\n.codicon-debug-restart:before { content: \\\"\\\\ead2\\\" }\\r\\n.codicon-debug-start:before { content: \\\"\\\\ead3\\\" }\\r\\n.codicon-debug-step-into:before { content: \\\"\\\\ead4\\\" }\\r\\n.codicon-debug-step-out:before { content: \\\"\\\\ead5\\\" }\\r\\n.codicon-debug-step-over:before { content: \\\"\\\\ead6\\\" }\\r\\n.codicon-debug-stop:before { content: \\\"\\\\ead7\\\" }\\r\\n.codicon-debug:before { content: \\\"\\\\ead8\\\" }\\r\\n.codicon-device-camera-video:before { content: \\\"\\\\ead9\\\" }\\r\\n.codicon-device-camera:before { content: \\\"\\\\eada\\\" }\\r\\n.codicon-device-mobile:before { content: \\\"\\\\eadb\\\" }\\r\\n.codicon-diff-added:before { content: \\\"\\\\eadc\\\" }\\r\\n.codicon-diff-ignored:before { content: \\\"\\\\eadd\\\" }\\r\\n.codicon-diff-modified:before { content: \\\"\\\\eade\\\" }\\r\\n.codicon-diff-removed:before { content: \\\"\\\\eadf\\\" }\\r\\n.codicon-diff-renamed:before { content: \\\"\\\\eae0\\\" }\\r\\n.codicon-diff:before { content: \\\"\\\\eae1\\\" }\\r\\n.codicon-discard:before { content: \\\"\\\\eae2\\\" }\\r\\n.codicon-editor-layout:before { content: \\\"\\\\eae3\\\" }\\r\\n.codicon-empty-window:before { content: \\\"\\\\eae4\\\" }\\r\\n.codicon-exclude:before { content: \\\"\\\\eae5\\\" }\\r\\n.codicon-extensions:before { content: \\\"\\\\eae6\\\" }\\r\\n.codicon-eye-closed:before { content: \\\"\\\\eae7\\\" }\\r\\n.codicon-file-binary:before { content: \\\"\\\\eae8\\\" }\\r\\n.codicon-file-code:before { content: \\\"\\\\eae9\\\" }\\r\\n.codicon-file-media:before { content: \\\"\\\\eaea\\\" }\\r\\n.codicon-file-pdf:before { content: \\\"\\\\eaeb\\\" }\\r\\n.codicon-file-submodule:before { content: \\\"\\\\eaec\\\" }\\r\\n.codicon-file-symlink-directory:before { content: \\\"\\\\eaed\\\" }\\r\\n.codicon-file-symlink-file:before { content: \\\"\\\\eaee\\\" }\\r\\n.codicon-file-zip:before { content: \\\"\\\\eaef\\\" }\\r\\n.codicon-files:before { content: \\\"\\\\eaf0\\\" }\\r\\n.codicon-filter:before { content: \\\"\\\\eaf1\\\" }\\r\\n.codicon-flame:before { content: \\\"\\\\eaf2\\\" }\\r\\n.codicon-fold-down:before { content: \\\"\\\\eaf3\\\" }\\r\\n.codicon-fold-up:before { content: \\\"\\\\eaf4\\\" }\\r\\n.codicon-fold:before { content: \\\"\\\\eaf5\\\" }\\r\\n.codicon-folder-active:before { content: \\\"\\\\eaf6\\\" }\\r\\n.codicon-folder-opened:before { content: \\\"\\\\eaf7\\\" }\\r\\n.codicon-gear:before { content: \\\"\\\\eaf8\\\" }\\r\\n.codicon-gift:before { content: \\\"\\\\eaf9\\\" }\\r\\n.codicon-gist-secret:before { content: \\\"\\\\eafa\\\" }\\r\\n.codicon-gist:before { content: \\\"\\\\eafb\\\" }\\r\\n.codicon-git-commit:before { content: \\\"\\\\eafc\\\" }\\r\\n.codicon-git-compare:before { content: \\\"\\\\eafd\\\" }\\r\\n.codicon-git-merge:before { content: \\\"\\\\eafe\\\" }\\r\\n.codicon-github-action:before { content: \\\"\\\\eaff\\\" }\\r\\n.codicon-github-alt:before { content: \\\"\\\\eb00\\\" }\\r\\n.codicon-globe:before { content: \\\"\\\\eb01\\\" }\\r\\n.codicon-grabber:before { content: \\\"\\\\eb02\\\" }\\r\\n.codicon-graph:before { content: \\\"\\\\eb03\\\" }\\r\\n.codicon-gripper:before { content: \\\"\\\\eb04\\\" }\\r\\n.codicon-heart:before { content: \\\"\\\\eb05\\\" }\\r\\n.codicon-home:before { content: \\\"\\\\eb06\\\" }\\r\\n.codicon-horizontal-rule:before { content: \\\"\\\\eb07\\\" }\\r\\n.codicon-hubot:before { content: \\\"\\\\eb08\\\" }\\r\\n.codicon-inbox:before { content: \\\"\\\\eb09\\\" }\\r\\n.codicon-issue-closed:before { content: \\\"\\\\eb0a\\\" }\\r\\n.codicon-issue-reopened:before { content: \\\"\\\\eb0b\\\" }\\r\\n.codicon-issues:before { content: \\\"\\\\eb0c\\\" }\\r\\n.codicon-italic:before { content: \\\"\\\\eb0d\\\" }\\r\\n.codicon-jersey:before { content: \\\"\\\\eb0e\\\" }\\r\\n.codicon-json:before { content: \\\"\\\\eb0f\\\" }\\r\\n.codicon-kebab-vertical:before { content: \\\"\\\\eb10\\\" }\\r\\n.codicon-key:before { content: \\\"\\\\eb11\\\" }\\r\\n.codicon-law:before { content: \\\"\\\\eb12\\\" }\\r\\n.codicon-lightbulb-autofix:before { content: \\\"\\\\eb13\\\" }\\r\\n.codicon-link-external:before { content: \\\"\\\\eb14\\\" }\\r\\n.codicon-link:before { content: \\\"\\\\eb15\\\" }\\r\\n.codicon-list-ordered:before { content: \\\"\\\\eb16\\\" }\\r\\n.codicon-list-unordered:before { content: \\\"\\\\eb17\\\" }\\r\\n.codicon-live-share:before { content: \\\"\\\\eb18\\\" }\\r\\n.codicon-loading:before { content: \\\"\\\\eb19\\\" }\\r\\n.codicon-location:before { content: \\\"\\\\eb1a\\\" }\\r\\n.codicon-mail-read:before { content: \\\"\\\\eb1b\\\" }\\r\\n.codicon-mail:before { content: \\\"\\\\eb1c\\\" }\\r\\n.codicon-markdown:before { content: \\\"\\\\eb1d\\\" }\\r\\n.codicon-megaphone:before { content: \\\"\\\\eb1e\\\" }\\r\\n.codicon-mention:before { content: \\\"\\\\eb1f\\\" }\\r\\n.codicon-milestone:before { content: \\\"\\\\eb20\\\" }\\r\\n.codicon-mortar-board:before { content: \\\"\\\\eb21\\\" }\\r\\n.codicon-move:before { content: \\\"\\\\eb22\\\" }\\r\\n.codicon-multiple-windows:before { content: \\\"\\\\eb23\\\" }\\r\\n.codicon-mute:before { content: \\\"\\\\eb24\\\" }\\r\\n.codicon-no-newline:before { content: \\\"\\\\eb25\\\" }\\r\\n.codicon-note:before { content: \\\"\\\\eb26\\\" }\\r\\n.codicon-octoface:before { content: \\\"\\\\eb27\\\" }\\r\\n.codicon-open-preview:before { content: \\\"\\\\eb28\\\" }\\r\\n.codicon-package:before { content: \\\"\\\\eb29\\\" }\\r\\n.codicon-paintcan:before { content: \\\"\\\\eb2a\\\" }\\r\\n.codicon-pin:before { content: \\\"\\\\eb2b\\\" }\\r\\n.codicon-play:before { content: \\\"\\\\eb2c\\\" }\\r\\n.codicon-plug:before { content: \\\"\\\\eb2d\\\" }\\r\\n.codicon-preserve-case:before { content: \\\"\\\\eb2e\\\" }\\r\\n.codicon-preview:before { content: \\\"\\\\eb2f\\\" }\\r\\n.codicon-project:before { content: \\\"\\\\eb30\\\" }\\r\\n.codicon-pulse:before { content: \\\"\\\\eb31\\\" }\\r\\n.codicon-question:before { content: \\\"\\\\eb32\\\" }\\r\\n.codicon-quote:before { content: \\\"\\\\eb33\\\" }\\r\\n.codicon-radio-tower:before { content: \\\"\\\\eb34\\\" }\\r\\n.codicon-reactions:before { content: \\\"\\\\eb35\\\" }\\r\\n.codicon-references:before { content: \\\"\\\\eb36\\\" }\\r\\n.codicon-refresh:before { content: \\\"\\\\eb37\\\" }\\r\\n.codicon-regex:before { content: \\\"\\\\eb38\\\" }\\r\\n.codicon-remote-explorer:before { content: \\\"\\\\eb39\\\" }\\r\\n.codicon-remote:before { content: \\\"\\\\eb3a\\\" }\\r\\n.codicon-remove:before { content: \\\"\\\\eb3b\\\" }\\r\\n.codicon-replace-all:before { content: \\\"\\\\eb3c\\\" }\\r\\n.codicon-replace:before { content: \\\"\\\\eb3d\\\" }\\r\\n.codicon-repo-clone:before { content: \\\"\\\\eb3e\\\" }\\r\\n.codicon-repo-force-push:before { content: \\\"\\\\eb3f\\\" }\\r\\n.codicon-repo-pull:before { content: \\\"\\\\eb40\\\" }\\r\\n.codicon-repo-push:before { content: \\\"\\\\eb41\\\" }\\r\\n.codicon-report:before { content: \\\"\\\\eb42\\\" }\\r\\n.codicon-request-changes:before { content: \\\"\\\\eb43\\\" }\\r\\n.codicon-rocket:before { content: \\\"\\\\eb44\\\" }\\r\\n.codicon-root-folder-opened:before { content: \\\"\\\\eb45\\\" }\\r\\n.codicon-root-folder:before { content: \\\"\\\\eb46\\\" }\\r\\n.codicon-rss:before { content: \\\"\\\\eb47\\\" }\\r\\n.codicon-ruby:before { content: \\\"\\\\eb48\\\" }\\r\\n.codicon-save-all:before { content: \\\"\\\\eb49\\\" }\\r\\n.codicon-save-as:before { content: \\\"\\\\eb4a\\\" }\\r\\n.codicon-save:before { content: \\\"\\\\eb4b\\\" }\\r\\n.codicon-screen-full:before { content: \\\"\\\\eb4c\\\" }\\r\\n.codicon-screen-normal:before { content: \\\"\\\\eb4d\\\" }\\r\\n.codicon-search-stop:before { content: \\\"\\\\eb4e\\\" }\\r\\n.codicon-server:before { content: \\\"\\\\eb50\\\" }\\r\\n.codicon-settings-gear:before { content: \\\"\\\\eb51\\\" }\\r\\n.codicon-settings:before { content: \\\"\\\\eb52\\\" }\\r\\n.codicon-shield:before { content: \\\"\\\\eb53\\\" }\\r\\n.codicon-smiley:before { content: \\\"\\\\eb54\\\" }\\r\\n.codicon-sort-precedence:before { content: \\\"\\\\eb55\\\" }\\r\\n.codicon-split-horizontal:before { content: \\\"\\\\eb56\\\" }\\r\\n.codicon-split-vertical:before { content: \\\"\\\\eb57\\\" }\\r\\n.codicon-squirrel:before { content: \\\"\\\\eb58\\\" }\\r\\n.codicon-star-full:before { content: \\\"\\\\eb59\\\" }\\r\\n.codicon-star-half:before { content: \\\"\\\\eb5a\\\" }\\r\\n.codicon-symbol-class:before { content: \\\"\\\\eb5b\\\" }\\r\\n.codicon-symbol-color:before { content: \\\"\\\\eb5c\\\" }\\r\\n.codicon-symbol-constant:before { content: \\\"\\\\eb5d\\\" }\\r\\n.codicon-symbol-enum-member:before { content: \\\"\\\\eb5e\\\" }\\r\\n.codicon-symbol-field:before { content: \\\"\\\\eb5f\\\" }\\r\\n.codicon-symbol-file:before { content: \\\"\\\\eb60\\\" }\\r\\n.codicon-symbol-interface:before { content: \\\"\\\\eb61\\\" }\\r\\n.codicon-symbol-keyword:before { content: \\\"\\\\eb62\\\" }\\r\\n.codicon-symbol-misc:before { content: \\\"\\\\eb63\\\" }\\r\\n.codicon-symbol-operator:before { content: \\\"\\\\eb64\\\" }\\r\\n.codicon-symbol-property:before { content: \\\"\\\\eb65\\\" }\\r\\n.codicon-symbol-snippet:before { content: \\\"\\\\eb66\\\" }\\r\\n.codicon-tasklist:before { content: \\\"\\\\eb67\\\" }\\r\\n.codicon-telescope:before { content: \\\"\\\\eb68\\\" }\\r\\n.codicon-text-size:before { content: \\\"\\\\eb69\\\" }\\r\\n.codicon-three-bars:before { content: \\\"\\\\eb6a\\\" }\\r\\n.codicon-thumbsdown:before { content: \\\"\\\\eb6b\\\" }\\r\\n.codicon-thumbsup:before { content: \\\"\\\\eb6c\\\" }\\r\\n.codicon-tools:before { content: \\\"\\\\eb6d\\\" }\\r\\n.codicon-triangle-down:before { content: \\\"\\\\eb6e\\\" }\\r\\n.codicon-triangle-left:before { content: \\\"\\\\eb6f\\\" }\\r\\n.codicon-triangle-right:before { content: \\\"\\\\eb70\\\" }\\r\\n.codicon-triangle-up:before { content: \\\"\\\\eb71\\\" }\\r\\n.codicon-twitter:before { content: \\\"\\\\eb72\\\" }\\r\\n.codicon-unfold:before { content: \\\"\\\\eb73\\\" }\\r\\n.codicon-unlock:before { content: \\\"\\\\eb74\\\" }\\r\\n.codicon-unmute:before { content: \\\"\\\\eb75\\\" }\\r\\n.codicon-unverified:before { content: \\\"\\\\eb76\\\" }\\r\\n.codicon-verified:before { content: \\\"\\\\eb77\\\" }\\r\\n.codicon-versions:before { content: \\\"\\\\eb78\\\" }\\r\\n.codicon-vm-active:before { content: \\\"\\\\eb79\\\" }\\r\\n.codicon-vm-outline:before { content: \\\"\\\\eb7a\\\" }\\r\\n.codicon-vm-running:before { content: \\\"\\\\eb7b\\\" }\\r\\n.codicon-watch:before { content: \\\"\\\\eb7c\\\" }\\r\\n.codicon-whitespace:before { content: \\\"\\\\eb7d\\\" }\\r\\n.codicon-whole-word:before { content: \\\"\\\\eb7e\\\" }\\r\\n.codicon-window:before { content: \\\"\\\\eb7f\\\" }\\r\\n.codicon-word-wrap:before { content: \\\"\\\\eb80\\\" }\\r\\n.codicon-zoom-in:before { content: \\\"\\\\eb81\\\" }\\r\\n.codicon-zoom-out:before { content: \\\"\\\\eb82\\\" }\\r\\n.codicon-list-filter:before { content: \\\"\\\\eb83\\\" }\\r\\n.codicon-list-flat:before { content: \\\"\\\\eb84\\\" }\\r\\n.codicon-list-selection:before { content: \\\"\\\\eb85\\\" }\\r\\n.codicon-selection:before { content: \\\"\\\\eb85\\\" }\\r\\n.codicon-list-tree:before { content: \\\"\\\\eb86\\\" }\\r\\n.codicon-debug-breakpoint-function-unverified:before { content: \\\"\\\\eb87\\\" }\\r\\n.codicon-debug-breakpoint-function:before { content: \\\"\\\\eb88\\\" }\\r\\n.codicon-debug-breakpoint-function-disabled:before { content: \\\"\\\\eb88\\\" }\\r\\n.codicon-debug-stackframe-active:before { content: \\\"\\\\eb89\\\" }\\r\\n.codicon-debug-stackframe-dot:before { content: \\\"\\\\eb8a\\\" }\\r\\n.codicon-debug-stackframe:before { content: \\\"\\\\eb8b\\\" }\\r\\n.codicon-debug-stackframe-focused:before { content: \\\"\\\\eb8b\\\" }\\r\\n.codicon-debug-breakpoint-unsupported:before { content: \\\"\\\\eb8c\\\" }\\r\\n.codicon-symbol-string:before { content: \\\"\\\\eb8d\\\" }\\r\\n.codicon-debug-reverse-continue:before { content: \\\"\\\\eb8e\\\" }\\r\\n.codicon-debug-step-back:before { content: \\\"\\\\eb8f\\\" }\\r\\n.codicon-debug-restart-frame:before { content: \\\"\\\\eb90\\\" }\\r\\n.codicon-debug-alternate:before { content: \\\"\\\\eb91\\\" }\\r\\n.codicon-call-incoming:before { content: \\\"\\\\eb92\\\" }\\r\\n.codicon-call-outgoing:before { content: \\\"\\\\eb93\\\" }\\r\\n.codicon-menu:before { content: \\\"\\\\eb94\\\" }\\r\\n.codicon-expand-all:before { content: \\\"\\\\eb95\\\" }\\r\\n.codicon-feedback:before { content: \\\"\\\\eb96\\\" }\\r\\n.codicon-group-by-ref-type:before { content: \\\"\\\\eb97\\\" }\\r\\n.codicon-ungroup-by-ref-type:before { content: \\\"\\\\eb98\\\" }\\r\\n.codicon-debug-alt:before { content: \\\"\\\\f101\\\" }\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"a609dc0f334a7d4e64205247c4e8b97c.ttf\";","\nvar content = require(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon-animations.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon-animations.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./codicon-animations.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n@-webkit-keyframes codicon-spin {\\r\\n\\t100% {\\r\\n\\t\\t-webkit-transform:rotate(360deg);\\r\\n\\t\\t        transform:rotate(360deg);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n@keyframes codicon-spin {\\r\\n\\t100% {\\r\\n\\t\\t-webkit-transform:rotate(360deg);\\r\\n\\t\\t        transform:rotate(360deg);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.codicon-animation-spin {\\r\\n\\t-webkit-animation: codicon-spin 1.5s linear infinite;\\r\\n\\t        animation: codicon-spin 1.5s linear infinite;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codicon/codicon-animations.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC;EACC,iCAAyB;UAAzB,yBAAyB;EACzB;CACD;;AAJD;CACC;EACC,iCAAyB;UAAzB,yBAAyB;EACzB;CACD;;AAED;CACC,qDAA6C;SAA7C,6CAA6C;CAC7C\",\"file\":\"codicon-animations.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n@keyframes codicon-spin {\\r\\n\\t100% {\\r\\n\\t\\ttransform:rotate(360deg);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.codicon-animation-spin {\\r\\n\\tanimation: codicon-spin 1.5s linear infinite;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./outlineTree.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./outlineTree.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./outlineTree.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-list .monaco-list-row.focused.selected .outline-element .monaco-highlighted-label,\\r\\n.monaco-list .monaco-list-row.focused.selected .outline-element-decoration {\\r\\n\\t/* make sure selection color wins when a label is being selected */\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n\\t-ms-flex-flow: row nowrap;\\r\\n\\t    flex-flow: row nowrap;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .monaco-highlighted-label {\\r\\n\\tcolor: var(--outline-element-color);\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row.focused .outline-element .outline-element-detail {\\r\\n\\tvisibility: inherit;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-decoration {\\r\\n\\topacity: 0.75;\\r\\n\\tfont-size: 90%;\\r\\n\\tfont-weight: 600;\\r\\n\\tpadding: 0 12px 0 5px;\\r\\n\\tmargin-left: auto;\\r\\n\\ttext-align: center;\\r\\n\\tcolor: var(--outline-element-color);\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-decoration.bubble {\\r\\n\\tfont-family: codicon;\\r\\n\\tfont-size: 14px;\\r\\n\\topacity: 0.4;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-icon {\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/outlineTree.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;;CAEC,mEAAmE;CACnE,0BAA0B;CAC1B;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,cAAQ;KAAR,UAAQ;CACR,0BAAsB;KAAtB,sBAAsB;CACtB,uBAAoB;KAApB,oBAAoB;CACpB;;AAED;CACC,oCAAoC;CACpC;;AAED;CACC,oBAAoB;CACpB;;AAED;CACC,cAAc;CACd,eAAe;CACf,iBAAiB;CACjB,sBAAsB;CACtB,kBAAkB;CAClB,mBAAmB;CACnB,oCAAoC;CACpC;;AAED;CACC,qBAAqB;CACrB,gBAAgB;CAChB,aAAa;CACb;;AAED;CACC,kBAAkB;CAClB\",\"file\":\"outlineTree.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-list .monaco-list-row.focused.selected .outline-element .monaco-highlighted-label,\\r\\n.monaco-list .monaco-list-row.focused.selected .outline-element-decoration {\\r\\n\\t/* make sure selection color wins when a label is being selected */\\r\\n\\tcolor: inherit !important;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element {\\r\\n\\tdisplay: flex;\\r\\n\\tflex: 1;\\r\\n\\tflex-flow: row nowrap;\\r\\n\\talign-items: center;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .monaco-highlighted-label {\\r\\n\\tcolor: var(--outline-element-color);\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row.focused .outline-element .outline-element-detail {\\r\\n\\tvisibility: inherit;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-decoration {\\r\\n\\topacity: 0.75;\\r\\n\\tfont-size: 90%;\\r\\n\\tfont-weight: 600;\\r\\n\\tpadding: 0 12px 0 5px;\\r\\n\\tmargin-left: auto;\\r\\n\\ttext-align: center;\\r\\n\\tcolor: var(--outline-element-color);\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-decoration.bubble {\\r\\n\\tfont-family: codicon;\\r\\n\\tfont-size: 14px;\\r\\n\\topacity: 0.4;\\r\\n}\\r\\n\\r\\n.monaco-list .outline-element .outline-element-icon {\\r\\n\\tmargin-right: 4px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./symbol-icons.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./symbol-icons.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./symbol-icons.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-icon-label.deprecated {\\r\\n\\ttext-decoration: line-through;\\r\\n\\topacity: 0.66;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/media/symbol-icons.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,8BAA8B;CAC9B,cAAc;CACd\",\"file\":\"symbol-icons.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-icon-label.deprecated {\\r\\n\\ttext-decoration: line-through;\\r\\n\\topacity: 0.66;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './accessibilityHelp.css';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { renderFormattedText } from '../../../../base/browser/formattedTextRenderer.js';\r\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\r\nimport { Widget } from '../../../../base/browser/ui/widget.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../../base/common/platform.js';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { URI } from '../../../../base/common/uri.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { ToggleTabFocusModeAction } from '../../../contrib/toggleTabFocusMode/toggleTabFocusMode.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\r\nimport { contrastBorder, editorWidgetBackground, widgetShadow, editorWidgetForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { AccessibilityHelpNLS } from '../../../common/standaloneStrings.js';\r\nvar CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE = new RawContextKey('accessibilityHelpWidgetVisible', false);\r\nvar AccessibilityHelpController = /** @class */ (function (_super) {\r\n    __extends(AccessibilityHelpController, _super);\r\n    function AccessibilityHelpController(editor, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._widget = _this._register(instantiationService.createInstance(AccessibilityHelpWidget, _this._editor));\r\n        return _this;\r\n    }\r\n    AccessibilityHelpController.get = function (editor) {\r\n        return editor.getContribution(AccessibilityHelpController.ID);\r\n    };\r\n    AccessibilityHelpController.prototype.show = function () {\r\n        this._widget.show();\r\n    };\r\n    AccessibilityHelpController.prototype.hide = function () {\r\n        this._widget.hide();\r\n    };\r\n    AccessibilityHelpController.ID = 'editor.contrib.accessibilityHelpController';\r\n    AccessibilityHelpController = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], AccessibilityHelpController);\r\n    return AccessibilityHelpController;\r\n}(Disposable));\r\nfunction getSelectionLabel(selections, charactersSelected) {\r\n    if (!selections || selections.length === 0) {\r\n        return AccessibilityHelpNLS.noSelection;\r\n    }\r\n    if (selections.length === 1) {\r\n        if (charactersSelected) {\r\n            return strings.format(AccessibilityHelpNLS.singleSelectionRange, selections[0].positionLineNumber, selections[0].positionColumn, charactersSelected);\r\n        }\r\n        return strings.format(AccessibilityHelpNLS.singleSelection, selections[0].positionLineNumber, selections[0].positionColumn);\r\n    }\r\n    if (charactersSelected) {\r\n        return strings.format(AccessibilityHelpNLS.multiSelectionRange, selections.length, charactersSelected);\r\n    }\r\n    if (selections.length > 0) {\r\n        return strings.format(AccessibilityHelpNLS.multiSelection, selections.length);\r\n    }\r\n    return '';\r\n}\r\nvar AccessibilityHelpWidget = /** @class */ (function (_super) {\r\n    __extends(AccessibilityHelpWidget, _super);\r\n    function AccessibilityHelpWidget(editor, _contextKeyService, _keybindingService, _openerService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._contextKeyService = _contextKeyService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._openerService = _openerService;\r\n        _this._editor = editor;\r\n        _this._isVisibleKey = CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(_this._contextKeyService);\r\n        _this._domNode = createFastDomNode(document.createElement('div'));\r\n        _this._domNode.setClassName('accessibilityHelpWidget');\r\n        _this._domNode.setDisplay('none');\r\n        _this._domNode.setAttribute('role', 'dialog');\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        _this._contentDomNode = createFastDomNode(document.createElement('div'));\r\n        _this._contentDomNode.setAttribute('role', 'document');\r\n        _this._domNode.appendChild(_this._contentDomNode);\r\n        _this._isVisible = false;\r\n        _this._register(_this._editor.onDidLayoutChange(function () {\r\n            if (_this._isVisible) {\r\n                _this._layout();\r\n            }\r\n        }));\r\n        // Intentionally not configurable!\r\n        _this._register(dom.addStandardDisposableListener(_this._contentDomNode.domNode, 'keydown', function (e) {\r\n            if (!_this._isVisible) {\r\n                return;\r\n            }\r\n            if (e.equals(2048 /* CtrlCmd */ | 35 /* KEY_E */)) {\r\n                alert(AccessibilityHelpNLS.emergencyConfOn);\r\n                _this._editor.updateOptions({\r\n                    accessibilitySupport: 'on'\r\n                });\r\n                dom.clearNode(_this._contentDomNode.domNode);\r\n                _this._buildContent();\r\n                _this._contentDomNode.domNode.focus();\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n            if (e.equals(2048 /* CtrlCmd */ | 38 /* KEY_H */)) {\r\n                alert(AccessibilityHelpNLS.openingDocs);\r\n                var url = _this._editor.getRawOptions().accessibilityHelpUrl;\r\n                if (typeof url === 'undefined') {\r\n                    url = 'https://go.microsoft.com/fwlink/?linkid=852450';\r\n                }\r\n                _this._openerService.open(URI.parse(url));\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }));\r\n        _this.onblur(_this._contentDomNode.domNode, function () {\r\n            _this.hide();\r\n        });\r\n        _this._editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    AccessibilityHelpWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    AccessibilityHelpWidget.prototype.getId = function () {\r\n        return AccessibilityHelpWidget.ID;\r\n    };\r\n    AccessibilityHelpWidget.prototype.getDomNode = function () {\r\n        return this._domNode.domNode;\r\n    };\r\n    AccessibilityHelpWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: null\r\n        };\r\n    };\r\n    AccessibilityHelpWidget.prototype.show = function () {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        this._isVisibleKey.set(true);\r\n        this._layout();\r\n        this._domNode.setDisplay('block');\r\n        this._domNode.setAttribute('aria-hidden', 'false');\r\n        this._contentDomNode.domNode.tabIndex = 0;\r\n        this._buildContent();\r\n        this._contentDomNode.domNode.focus();\r\n    };\r\n    AccessibilityHelpWidget.prototype._descriptionForCommand = function (commandId, msg, noKbMsg) {\r\n        var kb = this._keybindingService.lookupKeybinding(commandId);\r\n        if (kb) {\r\n            return strings.format(msg, kb.getAriaLabel());\r\n        }\r\n        return strings.format(noKbMsg, commandId);\r\n    };\r\n    AccessibilityHelpWidget.prototype._buildContent = function () {\r\n        var options = this._editor.getOptions();\r\n        var selections = this._editor.getSelections();\r\n        var charactersSelected = 0;\r\n        if (selections) {\r\n            var model_1 = this._editor.getModel();\r\n            if (model_1) {\r\n                selections.forEach(function (selection) {\r\n                    charactersSelected += model_1.getValueLengthInRange(selection);\r\n                });\r\n            }\r\n        }\r\n        var text = getSelectionLabel(selections, charactersSelected);\r\n        if (options.get(45 /* inDiffEditor */)) {\r\n            if (options.get(68 /* readOnly */)) {\r\n                text += AccessibilityHelpNLS.readonlyDiffEditor;\r\n            }\r\n            else {\r\n                text += AccessibilityHelpNLS.editableDiffEditor;\r\n            }\r\n        }\r\n        else {\r\n            if (options.get(68 /* readOnly */)) {\r\n                text += AccessibilityHelpNLS.readonlyEditor;\r\n            }\r\n            else {\r\n                text += AccessibilityHelpNLS.editableEditor;\r\n            }\r\n        }\r\n        var turnOnMessage = (platform.isMacintosh\r\n            ? AccessibilityHelpNLS.changeConfigToOnMac\r\n            : AccessibilityHelpNLS.changeConfigToOnWinLinux);\r\n        switch (options.get(2 /* accessibilitySupport */)) {\r\n            case 0 /* Unknown */:\r\n                text += '\\n\\n - ' + turnOnMessage;\r\n                break;\r\n            case 2 /* Enabled */:\r\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_on;\r\n                break;\r\n            case 1 /* Disabled */:\r\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_off;\r\n                text += ' ' + turnOnMessage;\r\n                break;\r\n        }\r\n        if (options.get(106 /* tabFocusMode */)) {\r\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOnMsg, AccessibilityHelpNLS.tabFocusModeOnMsgNoKb);\r\n        }\r\n        else {\r\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOffMsg, AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);\r\n        }\r\n        var openDocMessage = (platform.isMacintosh\r\n            ? AccessibilityHelpNLS.openDocMac\r\n            : AccessibilityHelpNLS.openDocWinLinux);\r\n        text += '\\n\\n - ' + openDocMessage;\r\n        text += '\\n\\n' + AccessibilityHelpNLS.outroMsg;\r\n        this._contentDomNode.domNode.appendChild(renderFormattedText(text));\r\n        // Per https://www.w3.org/TR/wai-aria/roles#document, Authors SHOULD provide a title or label for documents\r\n        this._contentDomNode.domNode.setAttribute('aria-label', text);\r\n    };\r\n    AccessibilityHelpWidget.prototype.hide = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        this._isVisibleKey.reset();\r\n        this._domNode.setDisplay('none');\r\n        this._domNode.setAttribute('aria-hidden', 'true');\r\n        this._contentDomNode.domNode.tabIndex = -1;\r\n        dom.clearNode(this._contentDomNode.domNode);\r\n        this._editor.focus();\r\n    };\r\n    AccessibilityHelpWidget.prototype._layout = function () {\r\n        var editorLayout = this._editor.getLayoutInfo();\r\n        var w = Math.max(5, Math.min(AccessibilityHelpWidget.WIDTH, editorLayout.width - 40));\r\n        var h = Math.max(5, Math.min(AccessibilityHelpWidget.HEIGHT, editorLayout.height - 40));\r\n        this._domNode.setWidth(w);\r\n        this._domNode.setHeight(h);\r\n        var top = Math.round((editorLayout.height - h) / 2);\r\n        this._domNode.setTop(top);\r\n        var left = Math.round((editorLayout.width - w) / 2);\r\n        this._domNode.setLeft(left);\r\n    };\r\n    AccessibilityHelpWidget.ID = 'editor.contrib.accessibilityHelpWidget';\r\n    AccessibilityHelpWidget.WIDTH = 500;\r\n    AccessibilityHelpWidget.HEIGHT = 300;\r\n    AccessibilityHelpWidget = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IKeybindingService),\r\n        __param(3, IOpenerService)\r\n    ], AccessibilityHelpWidget);\r\n    return AccessibilityHelpWidget;\r\n}(Widget));\r\nvar ShowAccessibilityHelpAction = /** @class */ (function (_super) {\r\n    __extends(ShowAccessibilityHelpAction, _super);\r\n    function ShowAccessibilityHelpAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showAccessibilityHelp',\r\n            label: AccessibilityHelpNLS.showAccessibilityHelpAction,\r\n            alias: 'Show Accessibility Help',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: (browser.isIE ? 2048 /* CtrlCmd */ | 59 /* F1 */ : 512 /* Alt */ | 59 /* F1 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowAccessibilityHelpAction.prototype.run = function (accessor, editor) {\r\n        var controller = AccessibilityHelpController.get(editor);\r\n        if (controller) {\r\n            controller.show();\r\n        }\r\n    };\r\n    return ShowAccessibilityHelpAction;\r\n}(EditorAction));\r\nregisterEditorContribution(AccessibilityHelpController.ID, AccessibilityHelpController);\r\nregisterEditorAction(ShowAccessibilityHelpAction);\r\nvar AccessibilityHelpCommand = EditorCommand.bindToContribution(AccessibilityHelpController.get);\r\nregisterEditorCommand(new AccessibilityHelpCommand({\r\n    id: 'closeAccessibilityHelp',\r\n    precondition: CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.hide(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 100,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    if (widgetBackground) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { background-color: \" + widgetBackground + \"; }\");\r\n    }\r\n    var widgetForeground = theme.getColor(editorWidgetForeground);\r\n    if (widgetForeground) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { color: \" + widgetForeground + \"; }\");\r\n    }\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { border: 2px solid \" + hcBorder + \"; }\");\r\n    }\r\n});\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./accessibilityHelp.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./accessibilityHelp.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./accessibilityHelp.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .accessibilityHelpWidget {\\r\\n\\tpadding: 10px;\\r\\n\\tvertical-align: middle;\\r\\n\\toverflow: scroll;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,cAAc;CACd,uBAAuB;CACvB,iBAAiB;CACjB\",\"file\":\"accessibilityHelp.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .accessibilityHelpWidget {\\r\\n\\tpadding: 10px;\\r\\n\\tvertical-align: middle;\\r\\n\\toverflow: scroll;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './iPadShowKeyboard.css';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nvar IPadShowKeyboard = /** @class */ (function (_super) {\r\n    __extends(IPadShowKeyboard, _super);\r\n    function IPadShowKeyboard(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.widget = null;\r\n        if (browser.isIPad) {\r\n            _this._register(editor.onDidChangeConfiguration(function () { return _this.update(); }));\r\n            _this.update();\r\n        }\r\n        return _this;\r\n    }\r\n    IPadShowKeyboard.prototype.update = function () {\r\n        var shouldHaveWidget = (!this.editor.getOption(68 /* readOnly */));\r\n        if (!this.widget && shouldHaveWidget) {\r\n            this.widget = new ShowKeyboardWidget(this.editor);\r\n        }\r\n        else if (this.widget && !shouldHaveWidget) {\r\n            this.widget.dispose();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    IPadShowKeyboard.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        if (this.widget) {\r\n            this.widget.dispose();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    IPadShowKeyboard.ID = 'editor.contrib.iPadShowKeyboard';\r\n    return IPadShowKeyboard;\r\n}(Disposable));\r\nexport { IPadShowKeyboard };\r\nvar ShowKeyboardWidget = /** @class */ (function (_super) {\r\n    __extends(ShowKeyboardWidget, _super);\r\n    function ShowKeyboardWidget(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this._domNode = document.createElement('textarea');\r\n        _this._domNode.className = 'iPadShowKeyboard';\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'touchstart', function (e) {\r\n            _this.editor.focus();\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'focus', function (e) {\r\n            _this.editor.focus();\r\n        }));\r\n        _this.editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    ShowKeyboardWidget.prototype.dispose = function () {\r\n        this.editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // ----- IOverlayWidget API\r\n    ShowKeyboardWidget.prototype.getId = function () {\r\n        return ShowKeyboardWidget.ID;\r\n    };\r\n    ShowKeyboardWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    ShowKeyboardWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: 1 /* BOTTOM_RIGHT_CORNER */\r\n        };\r\n    };\r\n    ShowKeyboardWidget.ID = 'editor.contrib.ShowKeyboardWidget';\r\n    return ShowKeyboardWidget;\r\n}(Disposable));\r\nregisterEditorContribution(IPadShowKeyboard.ID, IPadShowKeyboard);\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iPadShowKeyboard.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iPadShowKeyboard.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./iPadShowKeyboard.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .iPadShowKeyboard {\\r\\n\\twidth: 58px;\\r\\n\\tmin-width: 0;\\r\\n\\theight: 36px;\\r\\n\\tmin-height: 0;\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n\\tposition: absolute;\\r\\n\\tresize: none;\\r\\n\\toverflow: hidden;\\r\\n\\tbackground: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiM0MjQyNDIiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=\\\") center center no-repeat;\\r\\n\\tborder: 4px solid #F6F6F6;\\r\\n\\tborder-radius: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor.vs-dark .iPadShowKeyboard {\\r\\n\\tbackground: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiNDNUM1QzUiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=\\\") center center no-repeat;\\r\\n\\tborder: 4px solid #252526;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,YAAY;CACZ,aAAa;CACb,aAAa;CACb,cAAc;CACd,UAAU;CACV,WAAW;CACX,mBAAmB;CACnB,aAAa;CACb,iBAAiB;CACjB,koDAAkoD;CACloD,0BAA0B;CAC1B,mBAAmB;CACnB;;AAED;CACC,koDAAkoD;CACloD,0BAA0B;CAC1B\",\"file\":\"iPadShowKeyboard.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .iPadShowKeyboard {\\r\\n\\twidth: 58px;\\r\\n\\tmin-width: 0;\\r\\n\\theight: 36px;\\r\\n\\tmin-height: 0;\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n\\tposition: absolute;\\r\\n\\tresize: none;\\r\\n\\toverflow: hidden;\\r\\n\\tbackground: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiM0MjQyNDIiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=\\\") center center no-repeat;\\r\\n\\tborder: 4px solid #F6F6F6;\\r\\n\\tborder-radius: 4px;\\r\\n}\\r\\n\\r\\n.monaco-editor.vs-dark .iPadShowKeyboard {\\r\\n\\tbackground: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiNDNUM1QzUiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=\\\") center center no-repeat;\\r\\n\\tborder: 4px solid #252526;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './inspectTokens.css';\r\nimport { Color } from '../../../../base/common/color.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { escape } from '../../../../base/common/strings.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { TokenMetadata, TokenizationRegistry } from '../../../common/modes.js';\r\nimport { NULL_STATE, nullTokenize, nullTokenize2 } from '../../../common/modes/nullMode.js';\r\nimport { IModeService } from '../../../common/services/modeService.js';\r\nimport { IStandaloneThemeService } from '../../common/standaloneThemeService.js';\r\nimport { editorHoverBackground, editorHoverBorder, editorHoverForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { HIGH_CONTRAST, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { InspectTokensNLS } from '../../../common/standaloneStrings.js';\r\nvar InspectTokensController = /** @class */ (function (_super) {\r\n    __extends(InspectTokensController, _super);\r\n    function InspectTokensController(editor, standaloneColorService, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._modeService = modeService;\r\n        _this._widget = null;\r\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.stop(); }));\r\n        _this._register(_this._editor.onDidChangeModelLanguage(function (e) { return _this.stop(); }));\r\n        _this._register(TokenizationRegistry.onDidChange(function (e) { return _this.stop(); }));\r\n        return _this;\r\n    }\r\n    InspectTokensController.get = function (editor) {\r\n        return editor.getContribution(InspectTokensController.ID);\r\n    };\r\n    InspectTokensController.prototype.dispose = function () {\r\n        this.stop();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    InspectTokensController.prototype.launch = function () {\r\n        if (this._widget) {\r\n            return;\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._widget = new InspectTokensWidget(this._editor, this._modeService);\r\n    };\r\n    InspectTokensController.prototype.stop = function () {\r\n        if (this._widget) {\r\n            this._widget.dispose();\r\n            this._widget = null;\r\n        }\r\n    };\r\n    InspectTokensController.ID = 'editor.contrib.inspectTokens';\r\n    InspectTokensController = __decorate([\r\n        __param(1, IStandaloneThemeService),\r\n        __param(2, IModeService)\r\n    ], InspectTokensController);\r\n    return InspectTokensController;\r\n}(Disposable));\r\nvar InspectTokens = /** @class */ (function (_super) {\r\n    __extends(InspectTokens, _super);\r\n    function InspectTokens() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inspectTokens',\r\n            label: InspectTokensNLS.inspectTokensAction,\r\n            alias: 'Developer: Inspect Tokens',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InspectTokens.prototype.run = function (accessor, editor) {\r\n        var controller = InspectTokensController.get(editor);\r\n        if (controller) {\r\n            controller.launch();\r\n        }\r\n    };\r\n    return InspectTokens;\r\n}(EditorAction));\r\nfunction renderTokenText(tokenText) {\r\n    var result = '';\r\n    for (var charIndex = 0, len = tokenText.length; charIndex < len; charIndex++) {\r\n        var charCode = tokenText.charCodeAt(charIndex);\r\n        switch (charCode) {\r\n            case 9 /* Tab */:\r\n                result += '&rarr;';\r\n                break;\r\n            case 32 /* Space */:\r\n                result += '&middot;';\r\n                break;\r\n            case 60 /* LessThan */:\r\n                result += '&lt;';\r\n                break;\r\n            case 62 /* GreaterThan */:\r\n                result += '&gt;';\r\n                break;\r\n            case 38 /* Ampersand */:\r\n                result += '&amp;';\r\n                break;\r\n            default:\r\n                result += String.fromCharCode(charCode);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction getSafeTokenizationSupport(languageIdentifier) {\r\n    var tokenizationSupport = TokenizationRegistry.get(languageIdentifier.language);\r\n    if (tokenizationSupport) {\r\n        return tokenizationSupport;\r\n    }\r\n    return {\r\n        getInitialState: function () { return NULL_STATE; },\r\n        tokenize: function (line, state, deltaOffset) { return nullTokenize(languageIdentifier.language, line, state, deltaOffset); },\r\n        tokenize2: function (line, state, deltaOffset) { return nullTokenize2(languageIdentifier.id, line, state, deltaOffset); }\r\n    };\r\n}\r\nvar InspectTokensWidget = /** @class */ (function (_super) {\r\n    __extends(InspectTokensWidget, _super);\r\n    function InspectTokensWidget(editor, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this._editor = editor;\r\n        _this._modeService = modeService;\r\n        _this._model = _this._editor.getModel();\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'tokens-inspect-widget';\r\n        _this._tokenizationSupport = getSafeTokenizationSupport(_this._model.getLanguageIdentifier());\r\n        _this._compute(_this._editor.getPosition());\r\n        _this._register(_this._editor.onDidChangeCursorPosition(function (e) { return _this._compute(_this._editor.getPosition()); }));\r\n        _this._editor.addContentWidget(_this);\r\n        return _this;\r\n    }\r\n    InspectTokensWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    InspectTokensWidget.prototype.getId = function () {\r\n        return InspectTokensWidget._ID;\r\n    };\r\n    InspectTokensWidget.prototype._compute = function (position) {\r\n        var data = this._getTokensAtLine(position.lineNumber);\r\n        var token1Index = 0;\r\n        for (var i = data.tokens1.length - 1; i >= 0; i--) {\r\n            var t = data.tokens1[i];\r\n            if (position.column - 1 >= t.offset) {\r\n                token1Index = i;\r\n                break;\r\n            }\r\n        }\r\n        var token2Index = 0;\r\n        for (var i = (data.tokens2.length >>> 1); i >= 0; i--) {\r\n            if (position.column - 1 >= data.tokens2[(i << 1)]) {\r\n                token2Index = i;\r\n                break;\r\n            }\r\n        }\r\n        var result = '';\r\n        var lineContent = this._model.getLineContent(position.lineNumber);\r\n        var tokenText = '';\r\n        if (token1Index < data.tokens1.length) {\r\n            var tokenStartIndex = data.tokens1[token1Index].offset;\r\n            var tokenEndIndex = token1Index + 1 < data.tokens1.length ? data.tokens1[token1Index + 1].offset : lineContent.length;\r\n            tokenText = lineContent.substring(tokenStartIndex, tokenEndIndex);\r\n        }\r\n        result += \"<h2 class=\\\"tm-token\\\">\" + renderTokenText(tokenText) + \"<span class=\\\"tm-token-length\\\">(\" + tokenText.length + \" \" + (tokenText.length === 1 ? 'char' : 'chars') + \")</span></h2>\";\r\n        result += \"<hr class=\\\"tokens-inspect-separator\\\" style=\\\"clear:both\\\"/>\";\r\n        var metadata = this._decodeMetadata(data.tokens2[(token2Index << 1) + 1]);\r\n        result += \"<table class=\\\"tm-metadata-table\\\"><tbody>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">language</td><td class=\\\"tm-metadata-value\\\">\" + escape(metadata.languageIdentifier.language) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">token type</td><td class=\\\"tm-metadata-value\\\">\" + this._tokenTypeToString(metadata.tokenType) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">font style</td><td class=\\\"tm-metadata-value\\\">\" + this._fontStyleToString(metadata.fontStyle) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">foreground</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.foreground) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">background</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.background) + \"</td>\";\r\n        result += \"</tbody></table>\";\r\n        result += \"<hr class=\\\"tokens-inspect-separator\\\"/>\";\r\n        if (token1Index < data.tokens1.length) {\r\n            result += \"<span class=\\\"tm-token-type\\\">\" + escape(data.tokens1[token1Index].type) + \"</span>\";\r\n        }\r\n        this._domNode.innerHTML = result;\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    InspectTokensWidget.prototype._decodeMetadata = function (metadata) {\r\n        var colorMap = TokenizationRegistry.getColorMap();\r\n        var languageId = TokenMetadata.getLanguageId(metadata);\r\n        var tokenType = TokenMetadata.getTokenType(metadata);\r\n        var fontStyle = TokenMetadata.getFontStyle(metadata);\r\n        var foreground = TokenMetadata.getForeground(metadata);\r\n        var background = TokenMetadata.getBackground(metadata);\r\n        return {\r\n            languageIdentifier: this._modeService.getLanguageIdentifier(languageId),\r\n            tokenType: tokenType,\r\n            fontStyle: fontStyle,\r\n            foreground: colorMap[foreground],\r\n            background: colorMap[background]\r\n        };\r\n    };\r\n    InspectTokensWidget.prototype._tokenTypeToString = function (tokenType) {\r\n        switch (tokenType) {\r\n            case 0 /* Other */: return 'Other';\r\n            case 1 /* Comment */: return 'Comment';\r\n            case 2 /* String */: return 'String';\r\n            case 4 /* RegEx */: return 'RegEx';\r\n        }\r\n        return '??';\r\n    };\r\n    InspectTokensWidget.prototype._fontStyleToString = function (fontStyle) {\r\n        var r = '';\r\n        if (fontStyle & 1 /* Italic */) {\r\n            r += 'italic ';\r\n        }\r\n        if (fontStyle & 2 /* Bold */) {\r\n            r += 'bold ';\r\n        }\r\n        if (fontStyle & 4 /* Underline */) {\r\n            r += 'underline ';\r\n        }\r\n        if (r.length === 0) {\r\n            r = '---';\r\n        }\r\n        return r;\r\n    };\r\n    InspectTokensWidget.prototype._getTokensAtLine = function (lineNumber) {\r\n        var stateBeforeLine = this._getStateBeforeLine(lineNumber);\r\n        var tokenizationResult1 = this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\r\n        var tokenizationResult2 = this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\r\n        return {\r\n            startState: stateBeforeLine,\r\n            tokens1: tokenizationResult1.tokens,\r\n            tokens2: tokenizationResult2.tokens,\r\n            endState: tokenizationResult1.endState\r\n        };\r\n    };\r\n    InspectTokensWidget.prototype._getStateBeforeLine = function (lineNumber) {\r\n        var state = this._tokenizationSupport.getInitialState();\r\n        for (var i = 1; i < lineNumber; i++) {\r\n            var tokenizationResult = this._tokenizationSupport.tokenize(this._model.getLineContent(i), state, 0);\r\n            state = tokenizationResult.endState;\r\n        }\r\n        return state;\r\n    };\r\n    InspectTokensWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    InspectTokensWidget.prototype.getPosition = function () {\r\n        return {\r\n            position: this._editor.getPosition(),\r\n            preference: [2 /* BELOW */, 1 /* ABOVE */]\r\n        };\r\n    };\r\n    InspectTokensWidget._ID = 'editor.contrib.inspectTokensWidget';\r\n    return InspectTokensWidget;\r\n}(Disposable));\r\nregisterEditorContribution(InspectTokensController.ID, InspectTokensController);\r\nregisterEditorAction(InspectTokens);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorHoverBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: \" + border + \"; }\");\r\n    }\r\n    var background = theme.getColor(editorHoverBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { background-color: \" + background + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorHoverForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { color: \" + foreground + \"; }\");\r\n    }\r\n});\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inspectTokens.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inspectTokens.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./inspectTokens.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget {\\r\\n\\tz-index: 50;\\r\\n\\t-moz-user-select: text;\\r\\n\\t     user-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\tpadding: 10px;\\r\\n}\\r\\n\\r\\n.tokens-inspect-separator {\\r\\n\\theight: 1px;\\r\\n\\tborder: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token {\\r\\n\\tfont-family: monospace;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token-length {\\r\\n\\tfont-weight: normal;\\r\\n\\tfont-size: 60%;\\r\\n\\tfloat: right;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\\r\\n\\tfont-family: monospace;\\r\\n\\ttext-align: right;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token-type {\\r\\n\\tfont-family: monospace;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,YAAY;CACZ,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB,cAAc;CACd;;AAED;CACC,YAAY;CACZ,UAAU;CACV;;AAED;CACC,uBAAuB;CACvB;;AAED;CACC,oBAAoB;CACpB,eAAe;CACf,aAAa;CACb;;AAED;CACC,YAAY;CACZ;;AAED;CACC,uBAAuB;CACvB,kBAAkB;CAClB;;AAED;CACC,uBAAuB;CACvB\",\"file\":\"inspectTokens.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget {\\r\\n\\tz-index: 50;\\r\\n\\tuser-select: text;\\r\\n\\t-webkit-user-select: text;\\r\\n\\t-ms-user-select: text;\\r\\n\\tpadding: 10px;\\r\\n}\\r\\n\\r\\n.tokens-inspect-separator {\\r\\n\\theight: 1px;\\r\\n\\tborder: 0;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token {\\r\\n\\tfont-family: monospace;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token-length {\\r\\n\\tfont-weight: normal;\\r\\n\\tfont-size: 60%;\\r\\n\\tfloat: right;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\\r\\n\\tfont-family: monospace;\\r\\n\\ttext-align: right;\\r\\n}\\r\\n\\r\\n.monaco-editor .tokens-inspect-widget .tm-token-type {\\r\\n\\tfont-family: monospace;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './gotoLine.css';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { QuickOpenEntry, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { GoToLineNLS } from '../../../common/standaloneStrings.js';\r\nvar GotoLineEntry = /** @class */ (function (_super) {\r\n    __extends(GotoLineEntry, _super);\r\n    function GotoLineEntry(line, editor, decorator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.decorator = decorator;\r\n        _this.parseResult = _this.parseInput(line);\r\n        return _this;\r\n    }\r\n    GotoLineEntry.prototype.parseInput = function (line) {\r\n        var numbers = line.split(',').map(function (part) { return parseInt(part, 10); }).filter(function (part) { return !isNaN(part); });\r\n        var position;\r\n        if (numbers.length === 0) {\r\n            position = new Position(-1, -1);\r\n        }\r\n        else if (numbers.length === 1) {\r\n            position = new Position(numbers[0], 1);\r\n        }\r\n        else {\r\n            position = new Position(numbers[0], numbers[1]);\r\n        }\r\n        var model;\r\n        if (isCodeEditor(this.editor)) {\r\n            model = this.editor.getModel();\r\n        }\r\n        else {\r\n            var diffModel = this.editor.getModel();\r\n            model = diffModel ? diffModel.modified : null;\r\n        }\r\n        var isValid = model ? model.validatePosition(position).equals(position) : false;\r\n        var label;\r\n        if (isValid) {\r\n            if (position.column && position.column > 1) {\r\n                label = strings.format(GoToLineNLS.gotoLineLabelValidLineAndColumn, position.lineNumber, position.column);\r\n            }\r\n            else {\r\n                label = strings.format(GoToLineNLS.gotoLineLabelValidLine, position.lineNumber);\r\n            }\r\n        }\r\n        else if (position.lineNumber < 1 || position.lineNumber > (model ? model.getLineCount() : 0)) {\r\n            label = strings.format(GoToLineNLS.gotoLineLabelEmptyWithLineLimit, model ? model.getLineCount() : 0);\r\n        }\r\n        else {\r\n            label = strings.format(GoToLineNLS.gotoLineLabelEmptyWithLineAndColumnLimit, model ? model.getLineMaxColumn(position.lineNumber) : 0);\r\n        }\r\n        return {\r\n            position: position,\r\n            isValid: isValid,\r\n            label: label\r\n        };\r\n    };\r\n    GotoLineEntry.prototype.getLabel = function () {\r\n        return this.parseResult.label;\r\n    };\r\n    GotoLineEntry.prototype.getAriaLabel = function () {\r\n        var position = this.editor.getPosition();\r\n        var currentLine = position ? position.lineNumber : 0;\r\n        return strings.format(GoToLineNLS.gotoLineAriaLabel, currentLine, this.parseResult.label);\r\n    };\r\n    GotoLineEntry.prototype.run = function (mode, _context) {\r\n        if (mode === 1 /* OPEN */) {\r\n            return this.runOpen();\r\n        }\r\n        return this.runPreview();\r\n    };\r\n    GotoLineEntry.prototype.runOpen = function () {\r\n        // No-op if range is not valid\r\n        if (!this.parseResult.isValid) {\r\n            return false;\r\n        }\r\n        // Apply selection and focus\r\n        var range = this.toSelection();\r\n        this.editor.setSelection(range);\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        this.editor.focus();\r\n        return true;\r\n    };\r\n    GotoLineEntry.prototype.runPreview = function () {\r\n        // No-op if range is not valid\r\n        if (!this.parseResult.isValid) {\r\n            this.decorator.clearDecorations();\r\n            return false;\r\n        }\r\n        // Select Line Position\r\n        var range = this.toSelection();\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        // Decorate if possible\r\n        this.decorator.decorateLine(range, this.editor);\r\n        return false;\r\n    };\r\n    GotoLineEntry.prototype.toSelection = function () {\r\n        return new Range(this.parseResult.position.lineNumber, this.parseResult.position.column, this.parseResult.position.lineNumber, this.parseResult.position.column);\r\n    };\r\n    return GotoLineEntry;\r\n}(QuickOpenEntry));\r\nexport { GotoLineEntry };\r\nvar GotoLineAction = /** @class */ (function (_super) {\r\n    __extends(GotoLineAction, _super);\r\n    function GotoLineAction() {\r\n        return _super.call(this, GoToLineNLS.gotoLineActionInput, {\r\n            id: 'editor.action.gotoLine',\r\n            label: GoToLineNLS.gotoLineActionLabel,\r\n            alias: 'Go to Line...',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */,\r\n                mac: { primary: 256 /* WinCtrl */ | 37 /* KEY_G */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    GotoLineAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel([new GotoLineEntry(value, editor, _this.getController(editor))]);\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                return {\r\n                    autoFocusFirstEntry: searchValue.length > 0\r\n                };\r\n            }\r\n        });\r\n    };\r\n    return GotoLineAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { GotoLineAction };\r\nregisterEditorAction(GotoLineAction);\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoLine.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoLine.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./gotoLine.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tfont-size: 13px;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,gBAAgB;CAChB\",\"file\":\"gotoLine.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tfont-size: 13px;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./keybindingLabel.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./keybindingLabel.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./keybindingLabel.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-keybinding {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\tline-height: 10px;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key {\\r\\n\\tdisplay: inline-block;\\r\\n\\tborder: solid 1px rgba(204, 204, 204, 0.4);\\r\\n\\tborder-bottom-color: rgba(187, 187, 187, 0.4);\\r\\n\\tborder-radius: 3px;\\r\\n\\t-webkit-box-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\\r\\n\\t        box-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\\r\\n\\tbackground-color: rgba(221, 221, 221, 0.4);\\r\\n\\tvertical-align: middle;\\r\\n\\tcolor: #555;\\r\\n\\tfont-size: 11px;\\r\\n\\tpadding: 3px 5px;\\r\\n\\tmargin: 0 2px;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key:first-child {\\r\\n\\tmargin-left: 0;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key:last-child {\\r\\n\\tmargin-right: 0;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-keybinding > .monaco-keybinding-key,\\r\\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\\r\\n\\tbackground-color: rgba(128, 128, 128, 0.17);\\r\\n\\tcolor: #ccc;\\r\\n\\tborder: solid 1px rgba(51, 51, 51, 0.6);\\r\\n\\tborder-bottom-color: rgba(68, 68, 68, 0.6);\\r\\n\\t-webkit-box-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\\r\\n\\t        box-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key-separator {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\\r\\n\\twidth: 6px;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,kBAAkB;CAClB;;AAED;CACC,sBAAsB;CACtB,2CAA2C;CAC3C,8CAA8C;CAC9C,mBAAmB;CACnB,4DAAoD;SAApD,oDAAoD;CACpD,2CAA2C;CAC3C,uBAAuB;CACvB,YAAY;CACZ,gBAAgB;CAChB,iBAAiB;CACjB,cAAc;CACd;;AAED;CACC,eAAe;CACf;;AAED;CACC,gBAAgB;CAChB;;AAED;;CAEC,4CAA4C;CAC5C,YAAY;CACZ,wCAAwC;CACxC,2CAA2C;CAC3C,yDAAiD;SAAjD,iDAAiD;CACjD;;AAED;CACC,sBAAsB;CACtB;;AAED;CACC,WAAW;CACX\",\"file\":\"keybindingLabel.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-keybinding {\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tline-height: 10px;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key {\\r\\n\\tdisplay: inline-block;\\r\\n\\tborder: solid 1px rgba(204, 204, 204, 0.4);\\r\\n\\tborder-bottom-color: rgba(187, 187, 187, 0.4);\\r\\n\\tborder-radius: 3px;\\r\\n\\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\\r\\n\\tbackground-color: rgba(221, 221, 221, 0.4);\\r\\n\\tvertical-align: middle;\\r\\n\\tcolor: #555;\\r\\n\\tfont-size: 11px;\\r\\n\\tpadding: 3px 5px;\\r\\n\\tmargin: 0 2px;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key:first-child {\\r\\n\\tmargin-left: 0;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key:last-child {\\r\\n\\tmargin-right: 0;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-keybinding > .monaco-keybinding-key,\\r\\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\\r\\n\\tbackground-color: rgba(128, 128, 128, 0.17);\\r\\n\\tcolor: #ccc;\\r\\n\\tborder: solid 1px rgba(51, 51, 51, 0.6);\\r\\n\\tborder-bottom-color: rgba(68, 68, 68, 0.6);\\r\\n\\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key-separator {\\r\\n\\tdisplay: inline-block;\\r\\n}\\r\\n\\r\\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\\r\\n\\twidth: 6px;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./editorQuickOpen.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./editorQuickOpen.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./editorQuickOpen.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #0066BF;\\r\\n}\\r\\n\\r\\n.vs-dark .monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.vs-dark .monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #0097fb;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.hc-black .monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #F38518;\\r\\n}\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;;CAEC,eAAe;CACf;;AAED;;CAEC,eAAe;CACf;;AAED;;CAEC,eAAe;CACf\",\"file\":\"editorQuickOpen.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #0066BF;\\r\\n}\\r\\n\\r\\n.vs-dark .monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.vs-dark .monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #0097fb;\\r\\n}\\r\\n\\r\\n.hc-black .monaco-quick-open-widget .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\\r\\n.hc-black .monaco-quick-open-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\\r\\n\\tcolor: #F38518;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickopen.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickopen.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickopen.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 600px;\\r\\n\\tz-index: 2000;\\r\\n\\tpadding-bottom: 6px;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -300px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .monaco-progress-container {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\ttop: 38px;\\r\\n\\tz-index: 1;\\r\\n\\theight: 2px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .monaco-progress-container .progress-bit {\\r\\n\\theight: 2px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-input {\\r\\n\\twidth: 588px;\\r\\n\\tborder: none;\\r\\n\\tmargin: 6px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-input .monaco-inputbox {\\r\\n\\twidth: 100%;\\r\\n\\theight: 25px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-result-count {\\r\\n\\tposition: absolute;\\r\\n\\tleft: -10000px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree {\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row  > .content > .sub-content {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget.content-changing .quick-open-tree .monaco-scrollable-element .slider {\\r\\n\\tdisplay: none; /* scrollbar slider causes some hectic updates when input changes quickly, so hide it while quick open changes */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry {\\r\\n\\toverflow: hidden;\\r\\n\\t-o-text-overflow: ellipsis;\\r\\n\\t   text-overflow: ellipsis;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry > .quick-open-row {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .quick-open-entry-icon {\\r\\n\\toverflow: hidden;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n\\tmargin-right: 4px;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\tvertical-align: middle;\\r\\n\\t-ms-flex-negative: 0;\\r\\n\\t    flex-shrink: 0;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-icon-label,\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1; /* make sure the icon label grows within the row */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .monaco-highlighted-label span {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .monaco-highlighted-label .codicon {\\r\\n\\tvertical-align: sub; /* vertically align codicon */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry-meta {\\r\\n\\topacity: 0.7;\\r\\n\\tline-height: normal;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .content.has-group-label .quick-open-entry-keybinding {\\r\\n\\tmargin-right: 8px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry-keybinding .monaco-keybinding-key {\\r\\n\\tvertical-align: text-bottom;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .results-group {\\r\\n\\tmargin-right: 18px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row.focused > .content.has-actions > .results-group,\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row:hover:not(.highlighted) > .content.has-actions > .results-group,\\r\\n.monaco-quick-open-widget .quick-open-tree .focused .monaco-tree-row.focused > .content.has-actions > .results-group {\\r\\n\\tmargin-right: 0px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .results-group-separator {\\r\\n\\tborder-top-width: 1px;\\r\\n\\tborder-top-style: solid;\\r\\n\\t-webkit-box-sizing: border-box;\\r\\n\\t        box-sizing: border-box;\\r\\n\\tmargin-left: -11px;\\r\\n\\tpadding-left: 11px;\\r\\n}\\r\\n\\r\\n/* Actions in Quick Open Items */\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .sub-content {\\r\\n\\t-ms-flex: 1 1;\\r\\n\\t    flex: 1 1;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions .action-item {\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar {\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar {\\r\\n\\tdisplay: none;\\r\\n\\tpadding: 0 0.8em 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row.focused > .content.has-actions > .primary-action-bar {\\r\\n\\twidth: 0; /* in order to support a11y with keyboard, we use width: 0 to hide the actions, which still allows to \\\"Tab\\\" into the actions */\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row:hover:not(.highlighted) > .content.has-actions > .primary-action-bar,\\r\\n.monaco-tree.focused .monaco-tree-row.focused > .content.has-actions > .primary-action-bar,\\r\\n.monaco-tree .monaco-tree-row > .content.has-actions.more > .primary-action-bar {\\r\\n\\twidth: inherit;\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar .action-label {\\r\\n\\tmargin-right: 0.4em;\\r\\n\\tmargin-top: 4px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-highlighted-label .highlight {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickopen.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,mBAAmB;CACnB,aAAa;CACb,cAAc;CACd,oBAAoB;CACpB,UAAU;CACV,oBAAoB;CACpB;;AAED;CACC,mBAAmB;CACnB,QAAQ;CACR,UAAU;CACV,WAAW;CACX,YAAY;CACZ;;AAED;CACC,YAAY;CACZ;;AAED;CACC,aAAa;CACb,aAAa;CACb,YAAY;CACZ;;AAED;CACC,YAAY;CACZ,aAAa;CACb;;AAED;CACC,mBAAmB;CACnB,eAAe;CACf;;AAED;CACC,kBAAkB;CAClB;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,cAAc,CAAC,iHAAiH;CAChI;;AAED;CACC,iBAAiB;CACjB,2BAAwB;IAAxB,wBAAwB;CACxB,qBAAc;CAAd,cAAc;CACd,2BAAuB;KAAvB,uBAAuB;CACvB,aAAa;CACb;;AAED;CACC,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB;;AAED;CACC,iBAAiB;CACjB,YAAY;CACZ,aAAa;CACb,kBAAkB;CAClB,qBAAc;CAAd,cAAc;CACd,uBAAoB;KAApB,oBAAoB;CACpB,uBAAuB;CACvB,qBAAe;KAAf,eAAe;CACf;;AAED;;CAEC,cAAQ;KAAR,UAAQ,CAAC,mDAAmD;CAC5D;;AAED;CACC,WAAW;CACX;;AAED;CACC,oBAAoB,CAAC,8BAA8B;CACnD;;AAED;CACC,aAAa;CACb,oBAAoB;CACpB;;AAED;CACC,kBAAkB;CAClB;;AAED;CACC,4BAA4B;CAC5B;;AAED;CACC,mBAAmB;CACnB;;AAED;;;CAGC,kBAAkB;CAClB;;AAED;CACC,sBAAsB;CACtB,wBAAwB;CACxB,+BAAuB;SAAvB,uBAAuB;CACvB,mBAAmB;CACnB,mBAAmB;CACnB;;AAED,iCAAiC;;AAEjC;CACC,mBAAmB;CACnB,qBAAc;CAAd,cAAc;CACd;;AAED;CACC,cAAQ;KAAR,UAAQ;CACR;;AAED;CACC,UAAU;CACV;;AAED;CACC,kBAAkB;CAClB;;AAED;CACC,cAAc;CACd,yBAAyB;CACzB;;AAED;CACC,SAAS,CAAC,+HAA+H;CACzI,eAAe;CACf;;AAED;;;CAGC,eAAe;CACf,eAAe;CACf;;AAED;CACC,oBAAoB;CACpB,gBAAgB;CAChB,6BAA6B;CAC7B,YAAY;CACZ,aAAa;CACb;;AAED;CACC,kBAAkB;CAClB\",\"file\":\"quickopen.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 600px;\\r\\n\\tz-index: 2000;\\r\\n\\tpadding-bottom: 6px;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -300px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .monaco-progress-container {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\ttop: 38px;\\r\\n\\tz-index: 1;\\r\\n\\theight: 2px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .monaco-progress-container .progress-bit {\\r\\n\\theight: 2px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-input {\\r\\n\\twidth: 588px;\\r\\n\\tborder: none;\\r\\n\\tmargin: 6px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-input .monaco-inputbox {\\r\\n\\twidth: 100%;\\r\\n\\theight: 25px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-result-count {\\r\\n\\tposition: absolute;\\r\\n\\tleft: -10000px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree {\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row  > .content > .sub-content {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget.content-changing .quick-open-tree .monaco-scrollable-element .slider {\\r\\n\\tdisplay: none; /* scrollbar slider causes some hectic updates when input changes quickly, so hide it while quick open changes */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry {\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry > .quick-open-row {\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .quick-open-entry-icon {\\r\\n\\toverflow: hidden;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n\\tmargin-right: 4px;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tvertical-align: middle;\\r\\n\\tflex-shrink: 0;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-icon-label,\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\\r\\n\\tflex: 1; /* make sure the icon label grows within the row */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .monaco-highlighted-label span {\\r\\n\\topacity: 1;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry .monaco-highlighted-label .codicon {\\r\\n\\tvertical-align: sub; /* vertically align codicon */\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry-meta {\\r\\n\\topacity: 0.7;\\r\\n\\tline-height: normal;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .content.has-group-label .quick-open-entry-keybinding {\\r\\n\\tmargin-right: 8px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .quick-open-entry-keybinding .monaco-keybinding-key {\\r\\n\\tvertical-align: text-bottom;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .results-group {\\r\\n\\tmargin-right: 18px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row.focused > .content.has-actions > .results-group,\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-tree-row:hover:not(.highlighted) > .content.has-actions > .results-group,\\r\\n.monaco-quick-open-widget .quick-open-tree .focused .monaco-tree-row.focused > .content.has-actions > .results-group {\\r\\n\\tmargin-right: 0px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .results-group-separator {\\r\\n\\tborder-top-width: 1px;\\r\\n\\tborder-top-style: solid;\\r\\n\\tbox-sizing: border-box;\\r\\n\\tmargin-left: -11px;\\r\\n\\tpadding-left: 11px;\\r\\n}\\r\\n\\r\\n/* Actions in Quick Open Items */\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .sub-content {\\r\\n\\tflex: 1;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions .action-item {\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar {\\r\\n\\tline-height: 22px;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar {\\r\\n\\tdisplay: none;\\r\\n\\tpadding: 0 0.8em 0 0.4em;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row.focused > .content.has-actions > .primary-action-bar {\\r\\n\\twidth: 0; /* in order to support a11y with keyboard, we use width: 0 to hide the actions, which still allows to \\\"Tab\\\" into the actions */\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row:hover:not(.highlighted) > .content.has-actions > .primary-action-bar,\\r\\n.monaco-tree.focused .monaco-tree-row.focused > .content.has-actions > .primary-action-bar,\\r\\n.monaco-tree .monaco-tree-row > .content.has-actions.more > .primary-action-bar {\\r\\n\\twidth: inherit;\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-row > .content.actions > .primary-action-bar .action-label {\\r\\n\\tmargin-right: 0.4em;\\r\\n\\tmargin-top: 4px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\twidth: 16px;\\r\\n\\theight: 16px;\\r\\n}\\r\\n\\r\\n.monaco-quick-open-widget .quick-open-tree .monaco-highlighted-label .highlight {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./tree.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./tree.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./tree.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-tree {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\twhite-space: nowrap;\\r\\n\\t-moz-user-select: none;\\r\\n\\t     user-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-tree > .monaco-scrollable-element {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree > .monaco-scrollable-element > .monaco-tree-wrapper {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row {\\r\\n\\t-webkit-box-sizing:\\tborder-box;\\r\\n\\t        box-sizing:\\tborder-box;\\r\\n\\tcursor: pointer;\\r\\n\\toverflow: hidden;\\r\\n\\twidth: 100%;\\r\\n\\t-ms-touch-action: none;\\r\\n\\t    touch-action: none;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row > .content {\\r\\n\\tposition: relative;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree-drag-image {\\r\\n\\tdisplay: inline-block;\\r\\n\\tpadding: 1px 7px;\\r\\n\\tborder-radius: 10px;\\r\\n\\tfont-size: 12px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n/* for OS X ballistic scrolling */\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row.scrolling {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n/* Highlighted */\\r\\n\\r\\n.monaco-tree.highlighted .monaco-tree-rows > .monaco-tree-row:not(.highlighted) {\\r\\n\\topacity: 0.3;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;AAChG;CACC,aAAa;CACb,YAAY;CACZ,oBAAoB;CACpB,uBAAkB;MAAlB,kBAAkB;CAClB,0BAA0B;CAC1B,sBAAsB;CACtB,mBAAmB;CACnB;;AAED;CACC,aAAa;CACb;;AAED;CACC,aAAa;CACb,YAAY;CACZ,mBAAmB;CACnB;;AAED;CACC,mBAAmB;CACnB,YAAY;CACZ,aAAa;CACb;;AAED;CACC,+BAAuB;SAAvB,uBAAuB;CACvB,gBAAgB;CAChB,iBAAiB;CACjB,YAAY;CACZ,uBAAmB;KAAnB,mBAAmB;CACnB;;AAED;CACC,mBAAmB;CACnB,aAAa;CACb;;AAED;CACC,sBAAsB;CACtB,iBAAiB;CACjB,oBAAoB;CACpB,gBAAgB;CAChB,mBAAmB;CACnB;;AAED,kCAAkC;AAClC;CACC,cAAc;CACd;;AAED,iBAAiB;;AAEjB;CACC,aAAa;CACb\",\"file\":\"tree.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n.monaco-tree {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\twhite-space: nowrap;\\r\\n\\tuser-select: none;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-tree > .monaco-scrollable-element {\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree > .monaco-scrollable-element > .monaco-tree-wrapper {\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\tposition: relative;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 100%;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row {\\r\\n\\tbox-sizing:\\tborder-box;\\r\\n\\tcursor: pointer;\\r\\n\\toverflow: hidden;\\r\\n\\twidth: 100%;\\r\\n\\ttouch-action: none;\\r\\n}\\r\\n\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row > .content {\\r\\n\\tposition: relative;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.monaco-tree-drag-image {\\r\\n\\tdisplay: inline-block;\\r\\n\\tpadding: 1px 7px;\\r\\n\\tborder-radius: 10px;\\r\\n\\tfont-size: 12px;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n\\r\\n/* for OS X ballistic scrolling */\\r\\n.monaco-tree .monaco-tree-rows > .monaco-tree-row.scrolling {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n/* Highlighted */\\r\\n\\r\\n.monaco-tree.highlighted .monaco-tree-rows > .monaco-tree-row:not(.highlighted) {\\r\\n\\topacity: 0.3;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./progressbar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./progressbar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./progressbar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-progress-container {\\r\\n\\twidth: 100%;\\r\\n\\theight: 5px;\\r\\n\\toverflow: hidden; /* keep progress bit in bounds */\\r\\n}\\r\\n\\r\\n.monaco-progress-container .progress-bit {\\r\\n\\twidth: 2%;\\r\\n\\theight: 5px;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.active .progress-bit {\\r\\n\\tdisplay: inherit;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.discrete .progress-bit {\\r\\n\\tleft: 0;\\r\\n\\t-webkit-transition: width 100ms linear;\\r\\n\\t-o-transition: width 100ms linear;\\r\\n\\ttransition: width 100ms linear;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.discrete.done .progress-bit {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.infinite .progress-bit {\\r\\n\\t-webkit-animation-name: progress;\\r\\n\\t        animation-name: progress;\\r\\n\\t-webkit-animation-duration: 4s;\\r\\n\\t        animation-duration: 4s;\\r\\n\\t-webkit-animation-iteration-count: infinite;\\r\\n\\t        animation-iteration-count: infinite;\\r\\n\\t-webkit-animation-timing-function: linear;\\r\\n\\t        animation-timing-function: linear;\\r\\n\\t-webkit-transform: translate3d(0px, 0px, 0px);\\r\\n\\t        transform: translate3d(0px, 0px, 0px);\\r\\n}\\r\\n\\r\\n/**\\r\\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\\r\\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\\r\\n * its relative size to the parent container:\\r\\n *  50%: 50 * 50 = 2500%\\r\\n * 100%: 50 * 100 - 50 (do not overflow): 4950%\\r\\n */\\r\\n@-webkit-keyframes progress { from { -webkit-transform: translateX(0%) scaleX(1); transform: translateX(0%) scaleX(1) } 50% { -webkit-transform: translateX(2500%) scaleX(3); transform: translateX(2500%) scaleX(3) } to { -webkit-transform: translateX(4950%) scaleX(1); transform: translateX(4950%) scaleX(1) } }\\r\\n@keyframes progress { from { -webkit-transform: translateX(0%) scaleX(1); transform: translateX(0%) scaleX(1) } 50% { -webkit-transform: translateX(2500%) scaleX(3); transform: translateX(2500%) scaleX(3) } to { -webkit-transform: translateX(4950%) scaleX(1); transform: translateX(4950%) scaleX(1) } }\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,YAAY;CACZ,YAAY;CACZ,iBAAiB,CAAC,iCAAiC;CACnD;;AAED;CACC,UAAU;CACV,YAAY;CACZ,mBAAmB;CACnB,QAAQ;CACR,cAAc;CACd;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,QAAQ;CACR,uCAA+B;CAA/B,kCAA+B;CAA/B,+BAA+B;CAC/B;;AAED;CACC,YAAY;CACZ;;AAED;CACC,iCAAyB;SAAzB,yBAAyB;CACzB,+BAAuB;SAAvB,uBAAuB;CACvB,4CAAoC;SAApC,oCAAoC;CACpC,0CAAkC;SAAlC,kCAAkC;CAClC,8CAAsC;SAAtC,sCAAsC;CACtC;;AAED;;;;;;GAMG;AACH,8BAAsB,OAAO,4CAAmC,CAAnC,mCAAmC,EAAE,CAAC,MAAM,+CAAsC,CAAtC,sCAAsC,EAAE,CAAC,KAAK,+CAAsC,CAAtC,sCAAsC,EAAE,EAAE;AAAjK,sBAAsB,OAAO,4CAAmC,CAAnC,mCAAmC,EAAE,CAAC,MAAM,+CAAsC,CAAtC,sCAAsC,EAAE,CAAC,KAAK,+CAAsC,CAAtC,sCAAsC,EAAE,EAAE\",\"file\":\"progressbar.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-progress-container {\\r\\n\\twidth: 100%;\\r\\n\\theight: 5px;\\r\\n\\toverflow: hidden; /* keep progress bit in bounds */\\r\\n}\\r\\n\\r\\n.monaco-progress-container .progress-bit {\\r\\n\\twidth: 2%;\\r\\n\\theight: 5px;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.active .progress-bit {\\r\\n\\tdisplay: inherit;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.discrete .progress-bit {\\r\\n\\tleft: 0;\\r\\n\\ttransition: width 100ms linear;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.discrete.done .progress-bit {\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.monaco-progress-container.infinite .progress-bit {\\r\\n\\tanimation-name: progress;\\r\\n\\tanimation-duration: 4s;\\r\\n\\tanimation-iteration-count: infinite;\\r\\n\\tanimation-timing-function: linear;\\r\\n\\ttransform: translate3d(0px, 0px, 0px);\\r\\n}\\r\\n\\r\\n/**\\r\\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\\r\\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\\r\\n * its relative size to the parent container:\\r\\n *  50%: 50 * 50 = 2500%\\r\\n * 100%: 50 * 100 - 50 (do not overflow): 4950%\\r\\n */\\r\\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4950%) scaleX(1) } }\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\r\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { QuickCommandNLS } from '../../../common/standaloneStrings.js';\r\nvar EditorActionCommandEntry = /** @class */ (function (_super) {\r\n    __extends(EditorActionCommandEntry, _super);\r\n    function EditorActionCommandEntry(key, keyAriaLabel, highlights, action, editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.keyAriaLabel = keyAriaLabel;\r\n        _this.setHighlights(highlights);\r\n        _this.action = action;\r\n        _this.editor = editor;\r\n        return _this;\r\n    }\r\n    EditorActionCommandEntry.prototype.getLabel = function () {\r\n        return this.action.label;\r\n    };\r\n    EditorActionCommandEntry.prototype.getAriaLabel = function () {\r\n        if (this.keyAriaLabel) {\r\n            return strings.format(QuickCommandNLS.ariaLabelEntryWithKey, this.getLabel(), this.keyAriaLabel);\r\n        }\r\n        return strings.format(QuickCommandNLS.ariaLabelEntry, this.getLabel());\r\n    };\r\n    EditorActionCommandEntry.prototype.getGroupLabel = function () {\r\n        return this.key;\r\n    };\r\n    EditorActionCommandEntry.prototype.run = function (mode, context) {\r\n        var _this = this;\r\n        if (mode === 1 /* OPEN */) {\r\n            // Use a timeout to give the quick open widget a chance to close itself first\r\n            setTimeout(function () {\r\n                // Some actions are enabled only when editor has focus\r\n                _this.editor.focus();\r\n                try {\r\n                    var promise = _this.action.run() || Promise.resolve();\r\n                    promise.then(undefined, onUnexpectedError);\r\n                }\r\n                catch (error) {\r\n                    onUnexpectedError(error);\r\n                }\r\n            }, 50);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return EditorActionCommandEntry;\r\n}(QuickOpenEntryGroup));\r\nexport { EditorActionCommandEntry };\r\nvar QuickCommandAction = /** @class */ (function (_super) {\r\n    __extends(QuickCommandAction, _super);\r\n    function QuickCommandAction() {\r\n        return _super.call(this, QuickCommandNLS.quickCommandActionInput, {\r\n            id: 'editor.action.quickCommand',\r\n            label: QuickCommandNLS.quickCommandActionLabel,\r\n            alias: 'Command Palette',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: (browser.isIE ? 512 /* Alt */ | 59 /* F1 */ : 59 /* F1 */),\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'z_commands',\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickCommandAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        var keybindingService = accessor.get(IKeybindingService);\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel(_this._editorActionsToEntries(keybindingService, editor, value));\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                return {\r\n                    autoFocusFirstEntry: true,\r\n                    autoFocusPrefixMatch: searchValue\r\n                };\r\n            }\r\n        });\r\n    };\r\n    QuickCommandAction.prototype._sort = function (elementA, elementB) {\r\n        var elementAName = (elementA.getLabel() || '').toLowerCase();\r\n        var elementBName = (elementB.getLabel() || '').toLowerCase();\r\n        return elementAName.localeCompare(elementBName);\r\n    };\r\n    QuickCommandAction.prototype._editorActionsToEntries = function (keybindingService, editor, searchValue) {\r\n        var actions = editor.getSupportedActions();\r\n        var entries = [];\r\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\r\n            var action = actions_1[_i];\r\n            var keybinding = keybindingService.lookupKeybinding(action.id);\r\n            if (action.label) {\r\n                var highlights = matchesFuzzy(searchValue, action.label);\r\n                if (highlights) {\r\n                    entries.push(new EditorActionCommandEntry(keybinding ? keybinding.getLabel() || '' : '', keybinding ? keybinding.getAriaLabel() || '' : '', highlights, action, editor));\r\n                }\r\n            }\r\n        }\r\n        // Sort by name\r\n        entries = entries.sort(this._sort);\r\n        return entries;\r\n    };\r\n    return QuickCommandAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { QuickCommandAction };\r\nregisterEditorAction(QuickCommandAction);\r\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickOutline.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"singleton\":true,\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickOutline.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js??ref--14-oneOf-1!../../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./quickOutline.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tfont-size: 13px;\\r\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"/home/circleci/project/packages/webviz-core/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.css\"],\"names\":[],\"mappings\":\"AAAA;;;gGAGgG;;AAEhG;CACC,gBAAgB;CAChB\",\"file\":\"quickOutline.css\",\"sourcesContent\":[\"/*---------------------------------------------------------------------------------------------\\r\\n *  Copyright (c) Microsoft Corporation. All rights reserved.\\r\\n *  Licensed under the MIT License. See License.txt in the project root for license information.\\r\\n *--------------------------------------------------------------------------------------------*/\\r\\n\\r\\n.monaco-quick-open-widget {\\r\\n\\tfont-size: 13px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\r\nimport { ReferencesController } from '../../../contrib/gotoSymbol/peek/referencesController.js';\r\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\r\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\r\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\r\nvar StandaloneReferencesController = /** @class */ (function (_super) {\r\n    __extends(StandaloneReferencesController, _super);\r\n    function StandaloneReferencesController(editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService) {\r\n        return _super.call(this, true, editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService) || this;\r\n    }\r\n    StandaloneReferencesController = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, ICodeEditorService),\r\n        __param(3, INotificationService),\r\n        __param(4, IInstantiationService),\r\n        __param(5, IStorageService),\r\n        __param(6, IConfigurationService)\r\n    ], StandaloneReferencesController);\r\n    return StandaloneReferencesController;\r\n}(ReferencesController));\r\nexport { StandaloneReferencesController };\r\nregisterEditorContribution(ReferencesController.ID, StandaloneReferencesController);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { IStandaloneThemeService } from '../../common/standaloneThemeService.js';\r\nimport { ToggleHighContrastNLS } from '../../../common/standaloneStrings.js';\r\nvar ToggleHighContrast = /** @class */ (function (_super) {\r\n    __extends(ToggleHighContrast, _super);\r\n    function ToggleHighContrast() {\r\n        var _this = _super.call(this, {\r\n            id: 'editor.action.toggleHighContrast',\r\n            label: ToggleHighContrastNLS.toggleHighContrast,\r\n            alias: 'Toggle High Contrast Theme',\r\n            precondition: undefined\r\n        }) || this;\r\n        _this._originalThemeName = null;\r\n        return _this;\r\n    }\r\n    ToggleHighContrast.prototype.run = function (accessor, editor) {\r\n        var standaloneThemeService = accessor.get(IStandaloneThemeService);\r\n        if (this._originalThemeName) {\r\n            // We must toggle back to the integrator's theme\r\n            standaloneThemeService.setTheme(this._originalThemeName);\r\n            this._originalThemeName = null;\r\n        }\r\n        else {\r\n            this._originalThemeName = standaloneThemeService.getTheme().themeName;\r\n            standaloneThemeService.setTheme('hc-black');\r\n        }\r\n    };\r\n    return ToggleHighContrast;\r\n}(EditorAction));\r\nregisterEditorAction(ToggleHighContrast);\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar VimStatusBar =\n/*#__PURE__*/\nfunction () {\n  function VimStatusBar(node, editor) {\n    var _this = this;\n\n    var sanitizer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, VimStatusBar);\n\n    this.closeInput = function () {\n      _this.removeInputListeners();\n\n      _this.input = null;\n\n      _this.setSec('');\n\n      if (_this.editor) {\n        _this.editor.focus();\n      }\n    };\n\n    this.clear = function () {\n      _this.setInnerHtml_(_this.node, '');\n    };\n\n    this.inputKeyUp = function (e) {\n      var options = _this.input.options;\n\n      if (options && options.onKeyUp) {\n        options.onKeyUp(e, e.target.value, _this.closeInput);\n      }\n    };\n\n    this.inputBlur = function () {\n      var options = _this.input.options;\n\n      if (options.closeOnBlur) {\n        _this.closeInput();\n      }\n    };\n\n    this.inputKeyDown = function (e) {\n      var _this$input = _this.input,\n          options = _this$input.options,\n          callback = _this$input.callback;\n\n      if (options && options.onKeyDown && options.onKeyDown(e, e.target.value, _this.closeInput)) {\n        return;\n      }\n\n      if (e.keyCode === 27 || options && options.closeOnEnter !== false && e.keyCode == 13) {\n        _this.input.node.blur();\n\n        e.stopPropagation();\n\n        _this.closeInput();\n      }\n\n      if (e.keyCode === 13 && callback) {\n        e.stopPropagation();\n        e.preventDefault();\n        callback(e.target.value);\n      }\n    };\n\n    this.node = node;\n    this.modeInfoNode = document.createElement('span');\n    this.secInfoNode = document.createElement('span');\n    this.notifNode = document.createElement('span');\n    this.notifNode.className = 'vim-notification';\n    this.keyInfoNode = document.createElement('span');\n    this.keyInfoNode.setAttribute('style', 'float: right');\n    this.node.appendChild(this.modeInfoNode);\n    this.node.appendChild(this.secInfoNode);\n    this.node.appendChild(this.notifNode);\n    this.node.appendChild(this.keyInfoNode);\n    this.toggleVisibility(false);\n    this.editor = editor;\n    this.sanitizer = sanitizer;\n  }\n\n  _createClass(VimStatusBar, [{\n    key: \"setMode\",\n    value: function setMode(ev) {\n      if (ev.mode === 'visual' && ev.subMode === 'linewise') {\n        this.setText('--VISUAL LINE--');\n        return;\n      }\n\n      this.setText(\"--\".concat(ev.mode.toUpperCase(), \"--\"));\n    }\n  }, {\n    key: \"setKeyBuffer\",\n    value: function setKeyBuffer(key) {\n      this.keyInfoNode.textContent = key;\n    }\n  }, {\n    key: \"setSec\",\n    value: function setSec(text, callback, options) {\n      this.notifNode.textContent = '';\n\n      if (text === undefined) {\n        return;\n      }\n\n      this.setInnerHtml_(this.secInfoNode, text);\n      var input = this.secInfoNode.querySelector('input');\n\n      if (input) {\n        input.focus();\n        this.input = {\n          callback: callback,\n          options: options,\n          node: input\n        };\n\n        if (options) {\n          if (options.selectValueOnOpen) {\n            input.select();\n          }\n\n          if (options.value) {\n            input.value = options.value;\n          }\n        }\n\n        this.addInputListeners();\n      }\n\n      return this.closeInput;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      this.modeInfoNode.textContent = text;\n    }\n  }, {\n    key: \"toggleVisibility\",\n    value: function toggleVisibility(toggle) {\n      if (toggle) {\n        this.node.style.display = 'block';\n      } else {\n        this.node.style.display = 'none';\n      }\n\n      if (this.input) {\n        this.removeInputListeners();\n      }\n\n      clearInterval(this.notifTimeout);\n    }\n  }, {\n    key: \"addInputListeners\",\n    value: function addInputListeners() {\n      var node = this.input.node;\n      node.addEventListener('keyup', this.inputKeyUp);\n      node.addEventListener('keydown', this.inputKeyDown);\n      node.addEventListener('input', this.inputKeyInput);\n      node.addEventListener('blur', this.inputBlur);\n    }\n  }, {\n    key: \"removeInputListeners\",\n    value: function removeInputListeners() {\n      if (!this.input || !this.input.node) {\n        return;\n      }\n\n      var node = this.input.node;\n      node.removeEventListener('keyup', this.inputKeyUp);\n      node.removeEventListener('keydown', this.inputKeyDown);\n      node.removeEventListener('input', this.inputKeyInput);\n      node.removeEventListener('blur', this.inputBlur);\n    }\n  }, {\n    key: \"showNotification\",\n    value: function showNotification(text) {\n      var _this2 = this;\n\n      var sp = document.createElement('span');\n      this.setInnerHtml_(sp, text);\n      this.notifNode.textContent = sp.textContent;\n      this.notifTimeout = setTimeout(function () {\n        _this2.notifNode.textContent = '';\n      }, 5000);\n    }\n  }, {\n    key: \"setInnerHtml_\",\n    value: function setInnerHtml_(element, htmlContents) {\n      if (this.sanitizer) {\n        // Clear out previous contents first.\n        while (element.children.length) {\n          element.removeChild(element.children[0]);\n        }\n\n        element.appendChild(this.sanitizer(htmlContents));\n      } else {\n        element.innerHTML = htmlContents;\n      }\n    }\n  }]);\n\n  return VimStatusBar;\n}();\n\nexports[\"default\"] = VimStatusBar;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _editor[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"MonacoDiffEditor\", {\n  enumerable: true,\n  get: function get() {\n    return _diff[\"default\"];\n  }\n});\n\nvar _editor = _interopRequireDefault(require(\"./editor\"));\n\nvar _diff = _interopRequireDefault(require(\"./diff\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar monaco = _interopRequireWildcard(require(\"monaco-editor/esm/vs/editor/editor.api\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar MonacoEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(MonacoEditor, _React$Component);\n\n  var _super = _createSuper(MonacoEditor);\n\n  function MonacoEditor(props) {\n    var _this;\n\n    _classCallCheck(this, MonacoEditor);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"assignRef\", function (component) {\n      _this.containerElement = component;\n    });\n\n    _this.containerElement = undefined;\n    return _this;\n  }\n\n  _createClass(MonacoEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initMonaco();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          value = _this$props.value,\n          language = _this$props.language,\n          theme = _this$props.theme,\n          height = _this$props.height,\n          options = _this$props.options,\n          width = _this$props.width;\n      var editor = this.editor;\n      var model = editor.getModel();\n\n      if (this.props.value != null && this.props.value !== model.getValue()) {\n        this.__prevent_trigger_change_event = true;\n        this.editor.pushUndoStop();\n        model.pushEditOperations([], [{\n          range: model.getFullModelRange(),\n          text: value\n        }]);\n        this.editor.pushUndoStop();\n        this.__prevent_trigger_change_event = false;\n      }\n\n      if (prevProps.language !== language) {\n        monaco.editor.setModelLanguage(model, language);\n      }\n\n      if (prevProps.theme !== theme) {\n        monaco.editor.setTheme(theme);\n      }\n\n      if (editor && (width !== prevProps.width || height !== prevProps.height)) {\n        editor.layout();\n      }\n\n      if (prevProps.options !== options) {\n        editor.updateOptions(options);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyMonaco();\n    }\n  }, {\n    key: \"destroyMonaco\",\n    value: function destroyMonaco() {\n      if (this.editor) {\n        this.editor.dispose();\n        var model = this.editor.getModel();\n\n        if (model) {\n          model.dispose();\n        }\n      }\n\n      if (this._subscription) {\n        this._subscription.dispose();\n      }\n    }\n  }, {\n    key: \"initMonaco\",\n    value: function initMonaco() {\n      var value = this.props.value != null ? this.props.value : this.props.defaultValue;\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          theme = _this$props2.theme,\n          options = _this$props2.options,\n          overrideServices = _this$props2.overrideServices;\n\n      if (this.containerElement) {\n        // Before initializing monaco editor\n        Object.assign(options, this.editorWillMount());\n        this.editor = monaco.editor.create(this.containerElement, _objectSpread({\n          value: value,\n          language: language\n        }, options, {}, theme ? {\n          theme: theme\n        } : {}), overrideServices); // After initializing monaco editor\n\n        this.editorDidMount(this.editor);\n      }\n    }\n  }, {\n    key: \"editorWillMount\",\n    value: function editorWillMount() {\n      var editorWillMount = this.props.editorWillMount;\n      var options = editorWillMount(monaco);\n      return options || {};\n    }\n  }, {\n    key: \"editorDidMount\",\n    value: function editorDidMount(editor) {\n      var _this2 = this;\n\n      this.props.editorDidMount(editor, monaco);\n      this._subscription = editor.onDidChangeModelContent(function (event) {\n        if (!_this2.__prevent_trigger_change_event) {\n          _this2.props.onChange(editor.getValue(), event);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          width = _this$props3.width,\n          height = _this$props3.height;\n      var fixedWidth = (0, _utils.processSize)(width);\n      var fixedHeight = (0, _utils.processSize)(height);\n      var style = {\n        width: fixedWidth,\n        height: fixedHeight\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.assignRef,\n        style: style,\n        className: \"react-monaco-editor-container\"\n      });\n    }\n  }]);\n\n  return MonacoEditor;\n}(_react[\"default\"].Component);\n\nMonacoEditor.propTypes = {\n  width: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  height: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  value: _propTypes[\"default\"].string,\n  defaultValue: _propTypes[\"default\"].string,\n  language: _propTypes[\"default\"].string,\n  theme: _propTypes[\"default\"].string,\n  options: _propTypes[\"default\"].object,\n  overrideServices: _propTypes[\"default\"].object,\n  editorDidMount: _propTypes[\"default\"].func,\n  editorWillMount: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func\n};\nMonacoEditor.defaultProps = {\n  width: \"100%\",\n  height: \"100%\",\n  value: null,\n  defaultValue: \"\",\n  language: \"javascript\",\n  theme: null,\n  options: {},\n  overrideServices: {},\n  editorDidMount: _utils.noop,\n  editorWillMount: _utils.noop,\n  onChange: _utils.noop\n};\nvar _default = MonacoEditor;\nexports[\"default\"] = _default;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar monaco = _interopRequireWildcard(require(\"monaco-editor/esm/vs/editor/editor.api\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar MonacoDiffEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(MonacoDiffEditor, _React$Component);\n\n  var _super = _createSuper(MonacoDiffEditor);\n\n  function MonacoDiffEditor(props) {\n    var _this;\n\n    _classCallCheck(this, MonacoDiffEditor);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"assignRef\", function (component) {\n      _this.containerElement = component;\n    });\n\n    _this.containerElement = undefined;\n    return _this;\n  }\n\n  _createClass(MonacoDiffEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initMonaco();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          language = _this$props.language,\n          theme = _this$props.theme,\n          height = _this$props.height,\n          options = _this$props.options,\n          width = _this$props.width;\n\n      var _this$editor$getModel = this.editor.getModel(),\n          original = _this$editor$getModel.original,\n          modified = _this$editor$getModel.modified;\n\n      if (this.props.original !== original.getValue()) {\n        original.setValue(this.props.original);\n      }\n\n      if (this.props.value != null && this.props.value !== modified.getValue()) {\n        this.__prevent_trigger_change_event = true;\n        this.editor.modifiedEditor.pushUndoStop();\n        modified.pushEditOperations([], [{\n          range: modified.getFullModelRange(),\n          text: this.props.value\n        }]);\n        this.editor.modifiedEditor.pushUndoStop();\n        this.__prevent_trigger_change_event = false;\n      }\n\n      if (prevProps.language !== language) {\n        monaco.editor.setModelLanguage(original, language);\n        monaco.editor.setModelLanguage(modified, language);\n      }\n\n      if (prevProps.theme !== theme) {\n        monaco.editor.setTheme(theme);\n      }\n\n      if (this.editor && (width !== prevProps.width || height !== prevProps.height)) {\n        this.editor.layout();\n      }\n\n      if (prevProps.options !== options) {\n        this.editor.updateOptions(options);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyMonaco();\n    }\n  }, {\n    key: \"editorWillMount\",\n    value: function editorWillMount() {\n      var editorWillMount = this.props.editorWillMount;\n      var options = editorWillMount(monaco);\n      return options || {};\n    }\n  }, {\n    key: \"editorDidMount\",\n    value: function editorDidMount(editor) {\n      var _this2 = this;\n\n      this.props.editorDidMount(editor, monaco);\n\n      var _editor$getModel = editor.getModel(),\n          modified = _editor$getModel.modified;\n\n      this._subscription = modified.onDidChangeContent(function (event) {\n        if (!_this2.__prevent_trigger_change_event) {\n          _this2.props.onChange(modified.getValue(), event);\n        }\n      });\n    }\n  }, {\n    key: \"initModels\",\n    value: function initModels(value, original) {\n      var language = this.props.language;\n      var originalModel = monaco.editor.createModel(original, language);\n      var modifiedModel = monaco.editor.createModel(value, language);\n      this.editor.setModel({\n        original: originalModel,\n        modified: modifiedModel\n      });\n    }\n  }, {\n    key: \"initMonaco\",\n    value: function initMonaco() {\n      var value = this.props.value != null ? this.props.value : this.props.defaultValue;\n      var _this$props2 = this.props,\n          original = _this$props2.original,\n          theme = _this$props2.theme,\n          options = _this$props2.options,\n          overrideServices = _this$props2.overrideServices;\n\n      if (this.containerElement) {\n        // Before initializing monaco editor\n        this.editorWillMount();\n        this.editor = monaco.editor.createDiffEditor(this.containerElement, _objectSpread({}, options, {}, theme ? {\n          theme: theme\n        } : {}), overrideServices); // After initializing monaco editor\n\n        this.initModels(value, original);\n        this.editorDidMount(this.editor);\n      }\n    }\n  }, {\n    key: \"destroyMonaco\",\n    value: function destroyMonaco() {\n      if (this.editor) {\n        this.editor.dispose();\n\n        var _this$editor$getModel2 = this.editor.getModel(),\n            original = _this$editor$getModel2.original,\n            modified = _this$editor$getModel2.modified;\n\n        if (original) {\n          original.dispose();\n        }\n\n        if (modified) {\n          modified.dispose();\n        }\n      }\n\n      if (this._subscription) {\n        this._subscription.dispose();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          width = _this$props3.width,\n          height = _this$props3.height;\n      var fixedWidth = (0, _utils.processSize)(width);\n      var fixedHeight = (0, _utils.processSize)(height);\n      var style = {\n        width: fixedWidth,\n        height: fixedHeight\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.assignRef,\n        style: style,\n        className: \"react-monaco-editor-container\"\n      });\n    }\n  }]);\n\n  return MonacoDiffEditor;\n}(_react[\"default\"].Component);\n\nMonacoDiffEditor.propTypes = {\n  width: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  height: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number]),\n  original: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].string,\n  defaultValue: _propTypes[\"default\"].string,\n  language: _propTypes[\"default\"].string,\n  theme: _propTypes[\"default\"].string,\n  options: _propTypes[\"default\"].object,\n  overrideServices: _propTypes[\"default\"].object,\n  editorDidMount: _propTypes[\"default\"].func,\n  editorWillMount: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func\n};\nMonacoDiffEditor.defaultProps = {\n  width: \"100%\",\n  height: \"100%\",\n  original: null,\n  value: null,\n  defaultValue: \"\",\n  language: \"javascript\",\n  theme: null,\n  options: {},\n  overrideServices: {},\n  editorDidMount: _utils.noop,\n  editorWillMount: _utils.noop,\n  onChange: _utils.noop\n};\nvar _default = MonacoDiffEditor;\nexports[\"default\"] = _default;","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './bracketMatching.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hc: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\r\nvar JumpToBracketAction = /** @class */ (function (_super) {\r\n    __extends(JumpToBracketAction, _super);\r\n    function JumpToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.jumpToBracket',\r\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\r\n            alias: 'Go to Bracket',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JumpToBracketAction.prototype.run = function (accessor, editor) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.jumpToBracket();\r\n    };\r\n    return JumpToBracketAction;\r\n}(EditorAction));\r\nvar SelectToBracketAction = /** @class */ (function (_super) {\r\n    __extends(SelectToBracketAction, _super);\r\n    function SelectToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectToBracket',\r\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\r\n            alias: 'Select to Bracket',\r\n            precondition: undefined,\r\n            description: {\r\n                description: \"Select to Bracket\",\r\n                args: [{\r\n                        name: 'args',\r\n                        schema: {\r\n                            type: 'object',\r\n                            properties: {\r\n                                'selectBrackets': {\r\n                                    type: 'boolean',\r\n                                    default: true\r\n                                }\r\n                            },\r\n                        }\r\n                    }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectToBracketAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectBrackets = true;\r\n        if (args && args.selectBrackets === false) {\r\n            selectBrackets = false;\r\n        }\r\n        controller.selectToBracket(selectBrackets);\r\n    };\r\n    return SelectToBracketAction;\r\n}(EditorAction));\r\nvar BracketsData = /** @class */ (function () {\r\n    function BracketsData(position, brackets, options) {\r\n        this.position = position;\r\n        this.brackets = brackets;\r\n        this.options = options;\r\n    }\r\n    return BracketsData;\r\n}());\r\nvar BracketMatchingController = /** @class */ (function (_super) {\r\n    __extends(BracketMatchingController, _super);\r\n    function BracketMatchingController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._lastBracketsData = [];\r\n        _this._lastVersionId = 0;\r\n        _this._decorations = [];\r\n        _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () { return _this._updateBrackets(); }, 50));\r\n        _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n        _this._updateBracketsSoon.schedule();\r\n        _this._register(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._matchBrackets === 'never') {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._decorations = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(53 /* matchBrackets */)) {\r\n                _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n                _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\r\n                _this._lastBracketsData = [];\r\n                _this._lastVersionId = 0;\r\n                _this._updateBracketsSoon.schedule();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    BracketMatchingController.get = function (editor) {\r\n        return editor.getContribution(BracketMatchingController.ID);\r\n    };\r\n    BracketMatchingController.prototype.jumpToBracket = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = this._editor.getSelections().map(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            // find matching brackets if position is on a bracket\r\n            var brackets = model.matchBracket(position);\r\n            var newCursorPosition = null;\r\n            if (brackets) {\r\n                if (brackets[0].containsPosition(position)) {\r\n                    newCursorPosition = brackets[1].getStartPosition();\r\n                }\r\n                else if (brackets[1].containsPosition(position)) {\r\n                    newCursorPosition = brackets[0].getStartPosition();\r\n                }\r\n            }\r\n            else {\r\n                // find the enclosing brackets if the position isn't on a matching bracket\r\n                var enclosingBrackets = model.findEnclosingBrackets(position);\r\n                if (enclosingBrackets) {\r\n                    newCursorPosition = enclosingBrackets[0].getStartPosition();\r\n                }\r\n                else {\r\n                    // no enclosing brackets, try the very first next bracket\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        newCursorPosition = nextBracket.range.getStartPosition();\r\n                    }\r\n                }\r\n            }\r\n            if (newCursorPosition) {\r\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\r\n            }\r\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        });\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealRange(newSelections[0]);\r\n    };\r\n    BracketMatchingController.prototype.selectToBracket = function (selectBrackets) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = [];\r\n        this._editor.getSelections().forEach(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            var brackets = model.matchBracket(position);\r\n            if (!brackets) {\r\n                brackets = model.findEnclosingBrackets(position);\r\n                if (!brackets) {\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        brackets = model.matchBracket(nextBracket.range.getStartPosition());\r\n                    }\r\n                }\r\n            }\r\n            var selectFrom = null;\r\n            var selectTo = null;\r\n            if (brackets) {\r\n                brackets.sort(Range.compareRangesUsingStarts);\r\n                var open_1 = brackets[0], close_1 = brackets[1];\r\n                selectFrom = selectBrackets ? open_1.getStartPosition() : open_1.getEndPosition();\r\n                selectTo = selectBrackets ? close_1.getEndPosition() : close_1.getStartPosition();\r\n            }\r\n            if (selectFrom && selectTo) {\r\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\r\n            }\r\n        });\r\n        if (newSelections.length > 0) {\r\n            this._editor.setSelections(newSelections);\r\n            this._editor.revealRange(newSelections[0]);\r\n        }\r\n    };\r\n    BracketMatchingController.prototype._updateBrackets = function () {\r\n        if (this._matchBrackets === 'never') {\r\n            return;\r\n        }\r\n        this._recomputeBrackets();\r\n        var newDecorations = [], newDecorationsLen = 0;\r\n        for (var _i = 0, _a = this._lastBracketsData; _i < _a.length; _i++) {\r\n            var bracketData = _a[_i];\r\n            var brackets = bracketData.brackets;\r\n            if (brackets) {\r\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\r\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\r\n            }\r\n        }\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\r\n    };\r\n    BracketMatchingController.prototype._recomputeBrackets = function () {\r\n        if (!this._editor.hasModel()) {\r\n            // no model => no brackets!\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length > 100) {\r\n            // no bracket matching for high numbers of selections\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var versionId = model.getVersionId();\r\n        var previousData = [];\r\n        if (this._lastVersionId === versionId) {\r\n            // use the previous data only if the model is at the same version id\r\n            previousData = this._lastBracketsData;\r\n        }\r\n        var positions = [], positionsLen = 0;\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                // will bracket match a cursor only if the selection is collapsed\r\n                positions[positionsLen++] = selection.getStartPosition();\r\n            }\r\n        }\r\n        // sort positions for `previousData` cache hits\r\n        if (positions.length > 1) {\r\n            positions.sort(Position.compare);\r\n        }\r\n        var newData = [], newDataLen = 0;\r\n        var previousIndex = 0, previousLen = previousData.length;\r\n        for (var i = 0, len = positions.length; i < len; i++) {\r\n            var position = positions[i];\r\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\r\n                previousIndex++;\r\n            }\r\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\r\n                newData[newDataLen++] = previousData[previousIndex];\r\n            }\r\n            else {\r\n                var brackets = model.matchBracket(position);\r\n                var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\r\n                if (!brackets && this._matchBrackets === 'always') {\r\n                    brackets = model.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\r\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\r\n                }\r\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\r\n            }\r\n        }\r\n        this._lastBracketsData = newData;\r\n        this._lastVersionId = versionId;\r\n    };\r\n    BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\r\n    BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match'\r\n    });\r\n    return BracketMatchingController;\r\n}(Disposable));\r\nexport { BracketMatchingController };\r\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController);\r\nregisterEditorAction(SelectToBracketAction);\r\nregisterEditorAction(JumpToBracketAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\r\n    if (bracketMatchBackground) {\r\n        collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\r\n    }\r\n    var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\r\n    if (bracketMatchBorder) {\r\n        collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\r\n    }\r\n});\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '5_infile_nav',\r\n    command: {\r\n        id: 'editor.action.jumpToBracket',\r\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\r\n    },\r\n    order: 2\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nvar MoveCaretCommand = /** @class */ (function () {\r\n    function MoveCaretCommand(selection, isMovingLeft) {\r\n        this._selection = selection;\r\n        this._isMovingLeft = isMovingLeft;\r\n        this._cutStartIndex = -1;\r\n        this._cutEndIndex = -1;\r\n        this._moved = false;\r\n        this._selectionId = null;\r\n    }\r\n    MoveCaretCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._selectionId = builder.trackSelection(s);\r\n        if (s.startLineNumber !== s.endLineNumber) {\r\n            return;\r\n        }\r\n        if (this._isMovingLeft && s.startColumn === 0) {\r\n            return;\r\n        }\r\n        else if (!this._isMovingLeft && s.endColumn === model.getLineMaxColumn(s.startLineNumber)) {\r\n            return;\r\n        }\r\n        var lineNumber = s.selectionStartLineNumber;\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var left;\r\n        var middle;\r\n        var right;\r\n        if (this._isMovingLeft) {\r\n            left = lineContent.substring(0, s.startColumn - 2);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.startColumn - 2, s.startColumn - 1) + lineContent.substring(s.endColumn - 1);\r\n        }\r\n        else {\r\n            left = lineContent.substring(0, s.startColumn - 1) + lineContent.substring(s.endColumn - 1, s.endColumn);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.endColumn);\r\n        }\r\n        var newLineContent = left + middle + right;\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, model.getLineMaxColumn(lineNumber)), null);\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), newLineContent);\r\n        this._cutStartIndex = s.startColumn + (this._isMovingLeft ? -1 : 1);\r\n        this._cutEndIndex = this._cutStartIndex + s.endColumn - s.startColumn;\r\n        this._moved = true;\r\n    };\r\n    MoveCaretCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moved) {\r\n            result = result.setStartPosition(result.startLineNumber, this._cutStartIndex);\r\n            result = result.setEndPosition(result.startLineNumber, this._cutEndIndex);\r\n        }\r\n        return result;\r\n    };\r\n    return MoveCaretCommand;\r\n}());\r\nexport { MoveCaretCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveCaretCommand } from './moveCaretCommand.js';\r\nvar MoveCaretAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretAction, _super);\r\n    function MoveCaretAction(left, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.left = left;\r\n        return _this;\r\n    }\r\n    MoveCaretAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new MoveCaretCommand(selection, this.left));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return MoveCaretAction;\r\n}(EditorAction));\r\nvar MoveCaretLeftAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretLeftAction, _super);\r\n    function MoveCaretLeftAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.moveCarretLeftAction',\r\n            label: nls.localize('caret.moveLeft', \"Move Caret Left\"),\r\n            alias: 'Move Caret Left',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretLeftAction;\r\n}(MoveCaretAction));\r\nvar MoveCaretRightAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretRightAction, _super);\r\n    function MoveCaretRightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.moveCarretRightAction',\r\n            label: nls.localize('caret.moveRight', \"Move Caret Right\"),\r\n            alias: 'Move Caret Right',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretRightAction;\r\n}(MoveCaretAction));\r\nregisterEditorAction(MoveCaretLeftAction);\r\nregisterEditorAction(MoveCaretRightAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveOperations } from '../../common/controller/cursorMoveOperations.js';\r\nvar TransposeLettersAction = /** @class */ (function (_super) {\r\n    __extends(TransposeLettersAction, _super);\r\n    function TransposeLettersAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transposeLetters',\r\n            label: nls.localize('transposeLetters.label', \"Transpose Letters\"),\r\n            alias: 'Transpose Letters',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 50 /* KEY_T */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TransposeLettersAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            if (!selection.isEmpty()) {\r\n                continue;\r\n            }\r\n            var lineNumber = selection.startLineNumber;\r\n            var column = selection.startColumn;\r\n            var lastColumn = model.getLineMaxColumn(lineNumber);\r\n            if (lineNumber === 1 && (column === 1 || (column === 2 && lastColumn === 2))) {\r\n                // at beginning of file, nothing to do\r\n                continue;\r\n            }\r\n            // handle special case: when at end of line, transpose left two chars\r\n            // otherwise, transpose left and right chars\r\n            var endPosition = (column === lastColumn) ?\r\n                selection.getPosition() :\r\n                MoveOperations.rightPosition(model, selection.getPosition().lineNumber, selection.getPosition().column);\r\n            var middlePosition = MoveOperations.leftPosition(model, endPosition.lineNumber, endPosition.column);\r\n            var beginPosition = MoveOperations.leftPosition(model, middlePosition.lineNumber, middlePosition.column);\r\n            var leftChar = model.getValueInRange(Range.fromPositions(beginPosition, middlePosition));\r\n            var rightChar = model.getValueInRange(Range.fromPositions(middlePosition, endPosition));\r\n            var replaceRange = Range.fromPositions(beginPosition, endPosition);\r\n            commands.push(new ReplaceCommand(replaceRange, rightChar + leftChar));\r\n        }\r\n        if (commands.length > 0) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, commands);\r\n            editor.pushUndoStop();\r\n        }\r\n    };\r\n    return TransposeLettersAction;\r\n}(EditorAction));\r\nregisterEditorAction(TransposeLettersAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './clipboard.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as browser from '../../../base/browser/browser.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { CopyOptions } from '../../browser/controller/textAreaInput.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nvar CLIPBOARD_CONTEXT_MENU_GROUP = '9_cutcopypaste';\r\nvar supportsCut = (platform.isNative || document.queryCommandSupported('cut'));\r\nvar supportsCopy = (platform.isNative || document.queryCommandSupported('copy'));\r\n// IE and Edge have trouble with setting html content in clipboard\r\nvar supportsCopyWithSyntaxHighlighting = (supportsCopy && !browser.isEdgeOrIE);\r\n// Chrome incorrectly returns true for document.queryCommandSupported('paste')\r\n// when the paste feature is available but the calling script has insufficient\r\n// privileges to actually perform the action\r\nvar supportsPaste = (platform.isNative || (!browser.isChrome && document.queryCommandSupported('paste')));\r\nvar ExecCommandAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandAction, _super);\r\n    function ExecCommandAction(browserCommand, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.browserCommand = browserCommand;\r\n        return _this;\r\n    }\r\n    ExecCommandAction.prototype.runCommand = function (accessor, args) {\r\n        var focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n        // Only if editor text focus (i.e. not if editor has widget focus).\r\n        if (focusedEditor && focusedEditor.hasTextFocus()) {\r\n            focusedEditor.trigger('keyboard', this.id, args);\r\n            return;\r\n        }\r\n        document.execCommand(this.browserCommand);\r\n    };\r\n    ExecCommandAction.prototype.run = function (accessor, editor) {\r\n        editor.focus();\r\n        document.execCommand(this.browserCommand);\r\n    };\r\n    return ExecCommandAction;\r\n}(EditorAction));\r\nvar ExecCommandCutAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCutAction, _super);\r\n    function ExecCommandCutAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */, secondary: [1024 /* Shift */ | 20 /* Delete */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind cut keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'cut', {\r\n            id: 'editor.action.clipboardCutAction',\r\n            label: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\r\n            alias: 'Cut',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 1\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miCut', comment: ['&& denotes a mnemonic'] }, \"Cu&&t\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    ExecCommandCutAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(25 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        _super.prototype.run.call(this, accessor, editor);\r\n    };\r\n    return ExecCommandCutAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandCopyAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCopyAction, _super);\r\n    function ExecCommandCopyAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */, secondary: [2048 /* CtrlCmd */ | 19 /* Insert */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind copy keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'copy', {\r\n            id: 'editor.action.clipboardCopyAction',\r\n            label: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\r\n            alias: 'Copy',\r\n            precondition: undefined,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 2\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miCopy', comment: ['&& denotes a mnemonic'] }, \"&&Copy\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    ExecCommandCopyAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(25 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        _super.prototype.run.call(this, accessor, editor);\r\n    };\r\n    return ExecCommandCopyAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandPasteAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandPasteAction, _super);\r\n    function ExecCommandPasteAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */, secondary: [1024 /* Shift */ | 19 /* Insert */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind paste keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'paste', {\r\n            id: 'editor.action.clipboardPasteAction',\r\n            label: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\r\n            alias: 'Paste',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 3\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miPaste', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    return ExecCommandPasteAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandCopyWithSyntaxHighlightingAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCopyWithSyntaxHighlightingAction, _super);\r\n    function ExecCommandCopyWithSyntaxHighlightingAction() {\r\n        return _super.call(this, 'copy', {\r\n            id: 'editor.action.clipboardCopyWithSyntaxHighlightingAction',\r\n            label: nls.localize('actions.clipboard.copyWithSyntaxHighlightingLabel', \"Copy With Syntax Highlighting\"),\r\n            alias: 'Copy With Syntax Highlighting',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ExecCommandCopyWithSyntaxHighlightingAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(25 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        CopyOptions.forceCopyWithSyntaxHighlighting = true;\r\n        _super.prototype.run.call(this, accessor, editor);\r\n        CopyOptions.forceCopyWithSyntaxHighlighting = false;\r\n    };\r\n    return ExecCommandCopyWithSyntaxHighlightingAction;\r\n}(ExecCommandAction));\r\nif (supportsCut) {\r\n    registerEditorAction(ExecCommandCutAction);\r\n}\r\nif (supportsCopy) {\r\n    registerEditorAction(ExecCommandCopyAction);\r\n}\r\nif (supportsPaste) {\r\n    registerEditorAction(ExecCommandPasteAction);\r\n}\r\nif (supportsCopyWithSyntaxHighlighting) {\r\n    registerEditorAction(ExecCommandCopyWithSyntaxHighlightingAction);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar Lazy = /** @class */ (function () {\r\n    function Lazy(executor) {\r\n        this.executor = executor;\r\n        this._didRun = false;\r\n    }\r\n    /**\r\n     * Get the wrapped value.\r\n     *\r\n     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only\r\n     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value\r\n     */\r\n    Lazy.prototype.getValue = function () {\r\n        if (!this._didRun) {\r\n            try {\r\n                this._value = this.executor();\r\n            }\r\n            catch (err) {\r\n                this._error = err;\r\n            }\r\n            finally {\r\n                this._didRun = true;\r\n            }\r\n        }\r\n        if (this._error) {\r\n            throw this._error;\r\n        }\r\n        return this._value;\r\n    };\r\n    Object.defineProperty(Lazy.prototype, \"rawValue\", {\r\n        /**\r\n         * Get the wrapped value without forcing evaluation.\r\n         */\r\n        get: function () { return this._value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Lazy;\r\n}());\r\nexport { Lazy };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { startsWith } from '../../../base/common/strings.js';\r\nvar CodeActionKind = /** @class */ (function () {\r\n    function CodeActionKind(value) {\r\n        this.value = value;\r\n    }\r\n    CodeActionKind.prototype.equals = function (other) {\r\n        return this.value === other.value;\r\n    };\r\n    CodeActionKind.prototype.contains = function (other) {\r\n        return this.equals(other) || this.value === '' || startsWith(other.value, this.value + CodeActionKind.sep);\r\n    };\r\n    CodeActionKind.prototype.intersects = function (other) {\r\n        return this.contains(other) || other.contains(this);\r\n    };\r\n    CodeActionKind.prototype.append = function (part) {\r\n        return new CodeActionKind(this.value + CodeActionKind.sep + part);\r\n    };\r\n    CodeActionKind.sep = '.';\r\n    CodeActionKind.None = new CodeActionKind('@@none@@'); // Special code action that contains nothing\r\n    CodeActionKind.Empty = new CodeActionKind('');\r\n    CodeActionKind.QuickFix = new CodeActionKind('quickfix');\r\n    CodeActionKind.Refactor = new CodeActionKind('refactor');\r\n    CodeActionKind.Source = new CodeActionKind('source');\r\n    CodeActionKind.SourceOrganizeImports = CodeActionKind.Source.append('organizeImports');\r\n    CodeActionKind.SourceFixAll = CodeActionKind.Source.append('fixAll');\r\n    return CodeActionKind;\r\n}());\r\nexport { CodeActionKind };\r\nexport function mayIncludeActionsOfKind(filter, providedKind) {\r\n    // A provided kind may be a subset or superset of our filtered kind.\r\n    if (filter.include && !filter.include.intersects(providedKind)) {\r\n        return false;\r\n    }\r\n    if (filter.excludes) {\r\n        if (filter.excludes.some(function (exclude) { return excludesAction(providedKind, exclude, filter.include); })) {\r\n            return false;\r\n        }\r\n    }\r\n    // Don't return source actions unless they are explicitly requested\r\n    if (!filter.includeSourceActions && CodeActionKind.Source.contains(providedKind)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nexport function filtersAction(filter, action) {\r\n    var actionKind = action.kind ? new CodeActionKind(action.kind) : undefined;\r\n    // Filter out actions by kind\r\n    if (filter.include) {\r\n        if (!actionKind || !filter.include.contains(actionKind)) {\r\n            return false;\r\n        }\r\n    }\r\n    if (filter.excludes) {\r\n        if (actionKind && filter.excludes.some(function (exclude) { return excludesAction(actionKind, exclude, filter.include); })) {\r\n            return false;\r\n        }\r\n    }\r\n    // Don't return source actions unless they are explicitly requested\r\n    if (!filter.includeSourceActions) {\r\n        if (actionKind && CodeActionKind.Source.contains(actionKind)) {\r\n            return false;\r\n        }\r\n    }\r\n    if (filter.onlyIncludePreferredActions) {\r\n        if (!action.isPreferred) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction excludesAction(providedKind, exclude, include) {\r\n    if (!exclude.contains(providedKind)) {\r\n        return false;\r\n    }\r\n    if (include && exclude.contains(include)) {\r\n        // The include is more specific, don't filter out\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nvar CodeActionCommandArgs = /** @class */ (function () {\r\n    function CodeActionCommandArgs(kind, apply, preferred) {\r\n        this.kind = kind;\r\n        this.apply = apply;\r\n        this.preferred = preferred;\r\n    }\r\n    CodeActionCommandArgs.fromUser = function (arg, defaults) {\r\n        if (!arg || typeof arg !== 'object') {\r\n            return new CodeActionCommandArgs(defaults.kind, defaults.apply, false);\r\n        }\r\n        return new CodeActionCommandArgs(CodeActionCommandArgs.getKindFromUser(arg, defaults.kind), CodeActionCommandArgs.getApplyFromUser(arg, defaults.apply), CodeActionCommandArgs.getPreferredUser(arg));\r\n    };\r\n    CodeActionCommandArgs.getApplyFromUser = function (arg, defaultAutoApply) {\r\n        switch (typeof arg.apply === 'string' ? arg.apply.toLowerCase() : '') {\r\n            case 'first': return \"first\" /* First */;\r\n            case 'never': return \"never\" /* Never */;\r\n            case 'ifsingle': return \"ifSingle\" /* IfSingle */;\r\n            default: return defaultAutoApply;\r\n        }\r\n    };\r\n    CodeActionCommandArgs.getKindFromUser = function (arg, defaultKind) {\r\n        return typeof arg.kind === 'string'\r\n            ? new CodeActionKind(arg.kind)\r\n            : defaultKind;\r\n    };\r\n    CodeActionCommandArgs.getPreferredUser = function (arg) {\r\n        return typeof arg.preferred === 'boolean'\r\n            ? arg.preferred\r\n            : false;\r\n    };\r\n    return CodeActionCommandArgs;\r\n}());\r\nexport { CodeActionCommandArgs };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { equals, flatten, isNonEmptyArray, mergeSort } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, isPromiseCanceledError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { TextModelCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CodeActionKind, filtersAction, mayIncludeActionsOfKind } from './types.js';\r\nexport var codeActionCommandId = 'editor.action.codeAction';\r\nexport var refactorCommandId = 'editor.action.refactor';\r\nexport var sourceActionCommandId = 'editor.action.sourceAction';\r\nexport var organizeImportsCommandId = 'editor.action.organizeImports';\r\nexport var fixAllCommandId = 'editor.action.fixAll';\r\nvar ManagedCodeActionSet = /** @class */ (function (_super) {\r\n    __extends(ManagedCodeActionSet, _super);\r\n    function ManagedCodeActionSet(actions, disposables) {\r\n        var _this = _super.call(this) || this;\r\n        _this._register(disposables);\r\n        _this.allActions = mergeSort(__spreadArrays(actions), ManagedCodeActionSet.codeActionsComparator);\r\n        _this.validActions = _this.allActions.filter(function (action) { return !action.disabled; });\r\n        return _this;\r\n    }\r\n    ManagedCodeActionSet.codeActionsComparator = function (a, b) {\r\n        if (isNonEmptyArray(a.diagnostics)) {\r\n            if (isNonEmptyArray(b.diagnostics)) {\r\n                return a.diagnostics[0].message.localeCompare(b.diagnostics[0].message);\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }\r\n        else if (isNonEmptyArray(b.diagnostics)) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0; // both have no diagnostics\r\n        }\r\n    };\r\n    Object.defineProperty(ManagedCodeActionSet.prototype, \"hasAutoFix\", {\r\n        get: function () {\r\n            return this.validActions.some(function (fix) { return !!fix.kind && CodeActionKind.QuickFix.contains(new CodeActionKind(fix.kind)) && !!fix.isPreferred; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ManagedCodeActionSet;\r\n}(Disposable));\r\nexport function getCodeActions(model, rangeOrSelection, trigger, token) {\r\n    var _this = this;\r\n    var _a;\r\n    var filter = trigger.filter || {};\r\n    var codeActionContext = {\r\n        only: (_a = filter.include) === null || _a === void 0 ? void 0 : _a.value,\r\n        trigger: trigger.type,\r\n    };\r\n    var cts = new TextModelCancellationTokenSource(model, token);\r\n    var providers = getCodeActionProviders(model, filter);\r\n    var disposables = new DisposableStore();\r\n    var promises = providers.map(function (provider) { return __awaiter(_this, void 0, void 0, function () {\r\n        var providedCodeActions, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    return [4 /*yield*/, provider.provideCodeActions(model, rangeOrSelection, codeActionContext, cts.token)];\r\n                case 1:\r\n                    providedCodeActions = _a.sent();\r\n                    if (cts.token.isCancellationRequested || !providedCodeActions) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    disposables.add(providedCodeActions);\r\n                    return [2 /*return*/, providedCodeActions.actions.filter(function (action) { return action && filtersAction(filter, action); })];\r\n                case 2:\r\n                    err_1 = _a.sent();\r\n                    if (isPromiseCanceledError(err_1)) {\r\n                        throw err_1;\r\n                    }\r\n                    onUnexpectedExternalError(err_1);\r\n                    return [2 /*return*/, []];\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n    var listener = modes.CodeActionProviderRegistry.onDidChange(function () {\r\n        var newProviders = modes.CodeActionProviderRegistry.all(model);\r\n        if (!equals(newProviders, providers)) {\r\n            cts.cancel();\r\n        }\r\n    });\r\n    return Promise.all(promises)\r\n        .then(flatten)\r\n        .then(function (actions) { return new ManagedCodeActionSet(actions, disposables); })\r\n        .finally(function () {\r\n        listener.dispose();\r\n        cts.dispose();\r\n    });\r\n}\r\nfunction getCodeActionProviders(model, filter) {\r\n    return modes.CodeActionProviderRegistry.all(model)\r\n        // Don't include providers that we know will not return code actions of interest\r\n        .filter(function (provider) {\r\n        if (!provider.providedCodeActionKinds) {\r\n            // We don't know what type of actions this provider will return.\r\n            return true;\r\n        }\r\n        return provider.providedCodeActionKinds.some(function (kind) { return mayIncludeActionsOfKind(filter, new CodeActionKind(kind)); });\r\n    });\r\n}\r\nregisterLanguageCommand('_executeCodeActionProvider', function (accessor, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var resource, rangeOrSelection, kind, model, validatedRangeOrSelection, codeActionSet;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    resource = args.resource, rangeOrSelection = args.rangeOrSelection, kind = args.kind;\r\n                    if (!(resource instanceof URI)) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    model = accessor.get(IModelService).getModel(resource);\r\n                    if (!model) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    validatedRangeOrSelection = Selection.isISelection(rangeOrSelection)\r\n                        ? Selection.liftSelection(rangeOrSelection)\r\n                        : Range.isIRange(rangeOrSelection)\r\n                            ? model.validateRange(rangeOrSelection)\r\n                            : undefined;\r\n                    if (!validatedRangeOrSelection) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    return [4 /*yield*/, getCodeActions(model, validatedRangeOrSelection, { type: 2 /* Manual */, filter: { includeSourceActions: true, include: kind && kind.value ? new CodeActionKind(kind.value) : undefined } }, CancellationToken.None)];\r\n                case 1:\r\n                    codeActionSet = _a.sent();\r\n                    setTimeout(function () { return codeActionSet.dispose(); }, 100);\r\n                    return [2 /*return*/, codeActionSet.validActions];\r\n            }\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './messageController.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { TimeoutTimer } from '../../../base/common/async.js';\r\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerEditorContribution, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { registerThemingParticipant, HIGH_CONTRAST } from '../../../platform/theme/common/themeService.js';\r\nimport { inputValidationInfoBorder, inputValidationInfoBackground, inputValidationInfoForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nvar MessageController = /** @class */ (function (_super) {\r\n    __extends(MessageController, _super);\r\n    function MessageController(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.closeTimeout = 3000; // close after 3s\r\n        _this._messageWidget = _this._register(new MutableDisposable());\r\n        _this._messageListeners = _this._register(new DisposableStore());\r\n        _this._editor = editor;\r\n        _this._visible = MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidAttemptReadOnlyEdit(function () { return _this._onDidAttemptReadOnlyEdit(); }));\r\n        return _this;\r\n    }\r\n    MessageController.get = function (editor) {\r\n        return editor.getContribution(MessageController.ID);\r\n    };\r\n    MessageController.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._visible.reset();\r\n    };\r\n    MessageController.prototype.showMessage = function (message, position) {\r\n        var _this = this;\r\n        alert(message);\r\n        this._visible.set(true);\r\n        this._messageWidget.clear();\r\n        this._messageListeners.clear();\r\n        this._messageWidget.value = new MessageWidget(this._editor, position, message);\r\n        // close on blur, cursor, model change, dispose\r\n        this._messageListeners.add(this._editor.onDidBlurEditorText(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidChangeCursorPosition(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidDispose(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidChangeModel(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(new TimeoutTimer(function () { return _this.closeMessage(); }, this.closeTimeout));\r\n        // close on mouse move\r\n        var bounds;\r\n        this._messageListeners.add(this._editor.onMouseMove(function (e) {\r\n            // outside the text area\r\n            if (!e.target.position) {\r\n                return;\r\n            }\r\n            if (!bounds) {\r\n                // define bounding box around position and first mouse occurance\r\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\r\n            }\r\n            else if (!bounds.containsPosition(e.target.position)) {\r\n                // check if position is still in bounds\r\n                _this.closeMessage();\r\n            }\r\n        }));\r\n    };\r\n    MessageController.prototype.closeMessage = function () {\r\n        this._visible.reset();\r\n        this._messageListeners.clear();\r\n        if (this._messageWidget.value) {\r\n            this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value));\r\n        }\r\n    };\r\n    MessageController.prototype._onDidAttemptReadOnlyEdit = function () {\r\n        if (this._editor.hasModel()) {\r\n            this.showMessage(nls.localize('editor.readonly', \"Cannot edit in read-only editor\"), this._editor.getPosition());\r\n        }\r\n    };\r\n    MessageController.ID = 'editor.contrib.messageController';\r\n    MessageController.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false);\r\n    MessageController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], MessageController);\r\n    return MessageController;\r\n}(Disposable));\r\nexport { MessageController };\r\nvar MessageCommand = EditorCommand.bindToContribution(MessageController.get);\r\nregisterEditorCommand(new MessageCommand({\r\n    id: 'leaveEditorMessage',\r\n    precondition: MessageController.MESSAGE_VISIBLE,\r\n    handler: function (c) { return c.closeMessage(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        primary: 9 /* Escape */\r\n    }\r\n}));\r\nvar MessageWidget = /** @class */ (function () {\r\n    function MessageWidget(editor, _a, text) {\r\n        var lineNumber = _a.lineNumber, column = _a.column;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = true;\r\n        this.suppressMouseDown = false;\r\n        this._editor = editor;\r\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* Smooth */);\r\n        this._position = { lineNumber: lineNumber, column: column - 1 };\r\n        this._domNode = document.createElement('div');\r\n        this._domNode.classList.add('monaco-editor-overlaymessage');\r\n        var message = document.createElement('div');\r\n        message.classList.add('message');\r\n        message.textContent = text;\r\n        this._domNode.appendChild(message);\r\n        var anchor = document.createElement('div');\r\n        anchor.classList.add('anchor');\r\n        this._domNode.appendChild(anchor);\r\n        this._editor.addContentWidget(this);\r\n        this._domNode.classList.add('fadeIn');\r\n    }\r\n    MessageWidget.fadeOut = function (messageWidget) {\r\n        var handle;\r\n        var dispose = function () {\r\n            messageWidget.dispose();\r\n            clearTimeout(handle);\r\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\r\n        };\r\n        handle = setTimeout(dispose, 110);\r\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\r\n        messageWidget.getDomNode().classList.add('fadeOut');\r\n        return { dispose: dispose };\r\n    };\r\n    MessageWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    MessageWidget.prototype.getId = function () {\r\n        return 'messageoverlay';\r\n    };\r\n    MessageWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    MessageWidget.prototype.getPosition = function () {\r\n        return { position: this._position, preference: [1 /* ABOVE */, 2 /* BELOW */] };\r\n    };\r\n    return MessageWidget;\r\n}());\r\nregisterEditorContribution(MessageController.ID, MessageController);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(inputValidationInfoBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n    }\r\n    var background = theme.getColor(inputValidationInfoBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { background-color: \" + background + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(inputValidationInfoForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { color: \" + foreground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport './lightBulbWidget.css';\r\nimport { TextModel } from '../../common/model/textModel.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { editorLightBulbForeground, editorLightBulbAutoFixForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { Gesture } from '../../../base/browser/touch.js';\r\nvar LightBulbState;\r\n(function (LightBulbState) {\r\n    LightBulbState.Hidden = { type: 0 /* Hidden */ };\r\n    var Showing = /** @class */ (function () {\r\n        function Showing(actions, trigger, editorPosition, widgetPosition) {\r\n            this.actions = actions;\r\n            this.trigger = trigger;\r\n            this.editorPosition = editorPosition;\r\n            this.widgetPosition = widgetPosition;\r\n            this.type = 1 /* Showing */;\r\n        }\r\n        return Showing;\r\n    }());\r\n    LightBulbState.Showing = Showing;\r\n})(LightBulbState || (LightBulbState = {}));\r\nvar LightBulbWidget = /** @class */ (function (_super) {\r\n    __extends(LightBulbWidget, _super);\r\n    function LightBulbWidget(_editor, _quickFixActionId, _preferredFixActionId, _keybindingService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._quickFixActionId = _quickFixActionId;\r\n        _this._preferredFixActionId = _preferredFixActionId;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._onClick = _this._register(new Emitter());\r\n        _this.onClick = _this._onClick.event;\r\n        _this._state = LightBulbState.Hidden;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'codicon codicon-lightbulb';\r\n        _this._editor.addContentWidget(_this);\r\n        _this._register(_this._editor.onDidChangeModelContent(function (_) {\r\n            // cancel when the line in question has been removed\r\n            var editorModel = _this._editor.getModel();\r\n            if (_this.state.type !== 1 /* Showing */ || !editorModel || _this.state.editorPosition.lineNumber >= editorModel.getLineCount()) {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        Gesture.ignoreTarget(_this._domNode);\r\n        _this._register(dom.addStandardDisposableGenericMouseDownListner(_this._domNode, function (e) {\r\n            if (_this.state.type !== 1 /* Showing */) {\r\n                return;\r\n            }\r\n            // Make sure that focus / cursor location is not lost when clicking widget icon\r\n            _this._editor.focus();\r\n            e.preventDefault();\r\n            // a bit of extra work to make sure the menu\r\n            // doesn't cover the line-text\r\n            var _a = dom.getDomNodePagePosition(_this._domNode), top = _a.top, height = _a.height;\r\n            var lineHeight = _this._editor.getOption(49 /* lineHeight */);\r\n            var pad = Math.floor(lineHeight / 3);\r\n            if (_this.state.widgetPosition.position !== null && _this.state.widgetPosition.position.lineNumber < _this.state.editorPosition.lineNumber) {\r\n                pad += lineHeight;\r\n            }\r\n            _this._onClick.fire({\r\n                x: e.posx,\r\n                y: top + height + pad,\r\n                actions: _this.state.actions,\r\n                trigger: _this.state.trigger,\r\n            });\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseenter', function (e) {\r\n            if ((e.buttons & 1) !== 1) {\r\n                return;\r\n            }\r\n            // mouse enters lightbulb while the primary/left button\r\n            // is being pressed -> hide the lightbulb and block future\r\n            // showings until mouse is released\r\n            _this.hide();\r\n            var monitor = new GlobalMouseMoveMonitor();\r\n            monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function () { }, function () {\r\n                monitor.dispose();\r\n            });\r\n        }));\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            // hide when told to do so\r\n            if (e.hasChanged(47 /* lightbulb */) && !_this._editor.getOption(47 /* lightbulb */).enabled) {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        _this._updateLightBulbTitle();\r\n        _this._register(_this._keybindingService.onDidUpdateKeybindings(_this._updateLightBulbTitle, _this));\r\n        return _this;\r\n    }\r\n    LightBulbWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    LightBulbWidget.prototype.getId = function () {\r\n        return 'LightBulbWidget';\r\n    };\r\n    LightBulbWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    LightBulbWidget.prototype.getPosition = function () {\r\n        return this._state.type === 1 /* Showing */ ? this._state.widgetPosition : null;\r\n    };\r\n    LightBulbWidget.prototype.update = function (actions, trigger, atPosition) {\r\n        var _this = this;\r\n        if (actions.validActions.length <= 0) {\r\n            return this.hide();\r\n        }\r\n        var options = this._editor.getOptions();\r\n        if (!options.get(47 /* lightbulb */).enabled) {\r\n            return this.hide();\r\n        }\r\n        var lineNumber = atPosition.lineNumber, column = atPosition.column;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return this.hide();\r\n        }\r\n        var tabSize = model.getOptions().tabSize;\r\n        var fontInfo = options.get(34 /* fontInfo */);\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n        var lineHasSpace = fontInfo.spaceWidth * indent > 22;\r\n        var isFolded = function (lineNumber) {\r\n            return lineNumber > 2 && _this._editor.getTopForLineNumber(lineNumber) === _this._editor.getTopForLineNumber(lineNumber - 1);\r\n        };\r\n        var effectiveLineNumber = lineNumber;\r\n        if (!lineHasSpace) {\r\n            if (lineNumber > 1 && !isFolded(lineNumber - 1)) {\r\n                effectiveLineNumber -= 1;\r\n            }\r\n            else if (!isFolded(lineNumber + 1)) {\r\n                effectiveLineNumber += 1;\r\n            }\r\n            else if (column * fontInfo.spaceWidth < 22) {\r\n                // cannot show lightbulb above/below and showing\r\n                // it inline would overlay the cursor...\r\n                return this.hide();\r\n            }\r\n        }\r\n        this.state = new LightBulbState.Showing(actions, trigger, atPosition, {\r\n            position: { lineNumber: effectiveLineNumber, column: 1 },\r\n            preference: LightBulbWidget._posPref\r\n        });\r\n        dom.toggleClass(this._domNode, 'codicon-lightbulb-autofix', actions.hasAutoFix);\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    LightBulbWidget.prototype.hide = function () {\r\n        this.state = LightBulbState.Hidden;\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    Object.defineProperty(LightBulbWidget.prototype, \"state\", {\r\n        get: function () { return this._state; },\r\n        set: function (value) {\r\n            this._state = value;\r\n            this._updateLightBulbTitle();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LightBulbWidget.prototype._updateLightBulbTitle = function () {\r\n        if (this.state.type === 1 /* Showing */ && this.state.actions.hasAutoFix) {\r\n            var preferredKb = this._keybindingService.lookupKeybinding(this._preferredFixActionId);\r\n            if (preferredKb) {\r\n                this.title = nls.localize('prefferedQuickFixWithKb', \"Show Fixes. Preferred Fix Available ({0})\", preferredKb.getLabel());\r\n                return;\r\n            }\r\n        }\r\n        var kb = this._keybindingService.lookupKeybinding(this._quickFixActionId);\r\n        if (kb) {\r\n            this.title = nls.localize('quickFixWithKb', \"Show Fixes ({0})\", kb.getLabel());\r\n        }\r\n        else {\r\n            this.title = nls.localize('quickFix', \"Show Fixes\");\r\n        }\r\n    };\r\n    Object.defineProperty(LightBulbWidget.prototype, \"title\", {\r\n        set: function (value) {\r\n            this._domNode.title = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LightBulbWidget._posPref = [0 /* EXACT */];\r\n    LightBulbWidget = __decorate([\r\n        __param(3, IKeybindingService)\r\n    ], LightBulbWidget);\r\n    return LightBulbWidget;\r\n}(Disposable));\r\nexport { LightBulbWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    // Lightbulb Icon\r\n    var editorLightBulbForegroundColor = theme.getColor(editorLightBulbForeground);\r\n    if (editorLightBulbForegroundColor) {\r\n        collector.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb {\\n\\t\\t\\tcolor: \" + editorLightBulbForegroundColor + \";\\n\\t\\t}\");\r\n    }\r\n    // Lightbulb Auto Fix Icon\r\n    var editorLightBulbAutoFixForegroundColor = theme.getColor(editorLightBulbAutoFixForeground);\r\n    if (editorLightBulbAutoFixForegroundColor) {\r\n        collector.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\\n\\t\\t\\tcolor: \" + editorLightBulbAutoFixForegroundColor + \";\\n\\t\\t}\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { getDomNodePagePosition } from '../../../base/browser/dom.js';\r\nimport { Separator } from '../../../base/browser/ui/actionbar/actionbar.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { canceled } from '../../../base/common/errors.js';\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\r\nimport { codeActionCommandId, fixAllCommandId, organizeImportsCommandId, refactorCommandId, sourceActionCommandId } from './codeAction.js';\r\nimport { CodeActionCommandArgs, CodeActionKind } from './types.js';\r\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nvar CodeActionAction = /** @class */ (function (_super) {\r\n    __extends(CodeActionAction, _super);\r\n    function CodeActionAction(action, callback) {\r\n        var _this = _super.call(this, action.command ? action.command.id : action.title, action.title, undefined, !action.disabled, callback) || this;\r\n        _this.action = action;\r\n        return _this;\r\n    }\r\n    return CodeActionAction;\r\n}(Action));\r\nvar CodeActionMenu = /** @class */ (function (_super) {\r\n    __extends(CodeActionMenu, _super);\r\n    function CodeActionMenu(_editor, _delegate, _contextMenuService, keybindingService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._delegate = _delegate;\r\n        _this._contextMenuService = _contextMenuService;\r\n        _this._visible = false;\r\n        _this._showingActions = _this._register(new MutableDisposable());\r\n        _this._keybindingResolver = new CodeActionKeybindingResolver({\r\n            getKeybindings: function () { return keybindingService.getKeybindings(); }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CodeActionMenu.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._visible;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CodeActionMenu.prototype.show = function (trigger, codeActions, at, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var actionsToShow, menuActions, anchor, resolver;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                actionsToShow = options.includeDisabledActions ? codeActions.allActions : codeActions.validActions;\r\n                if (!actionsToShow.length) {\r\n                    this._visible = false;\r\n                    return [2 /*return*/];\r\n                }\r\n                if (!this._editor.getDomNode()) {\r\n                    // cancel when editor went off-dom\r\n                    this._visible = false;\r\n                    throw canceled();\r\n                }\r\n                this._visible = true;\r\n                this._showingActions.value = codeActions;\r\n                menuActions = this.getMenuActions(trigger, actionsToShow);\r\n                anchor = Position.isIPosition(at) ? this._toCoords(at) : at || { x: 0, y: 0 };\r\n                resolver = this._keybindingResolver.getResolver();\r\n                this._contextMenuService.showContextMenu({\r\n                    getAnchor: function () { return anchor; },\r\n                    getActions: function () { return menuActions; },\r\n                    onHide: function () {\r\n                        _this._visible = false;\r\n                        _this._editor.focus();\r\n                    },\r\n                    autoSelectFirstItem: true,\r\n                    getKeyBinding: function (action) { return action instanceof CodeActionAction ? resolver(action.action) : undefined; },\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    CodeActionMenu.prototype.getMenuActions = function (trigger, actionsToShow) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        var toCodeActionAction = function (action) { return new CodeActionAction(action, function () { return _this._delegate.onSelectCodeAction(action); }); };\r\n        var result = actionsToShow\r\n            .map(toCodeActionAction);\r\n        var model = this._editor.getModel();\r\n        if (model && result.length) {\r\n            for (var _i = 0, _c = CodeActionProviderRegistry.all(model); _i < _c.length; _i++) {\r\n                var provider = _c[_i];\r\n                if (provider._getAdditionalMenuItems) {\r\n                    var items = provider._getAdditionalMenuItems({ trigger: trigger.type, only: (_b = (_a = trigger.filter) === null || _a === void 0 ? void 0 : _a.include) === null || _b === void 0 ? void 0 : _b.value }, actionsToShow);\r\n                    if (items.length) {\r\n                        result.push.apply(result, __spreadArrays([new Separator()], items.map(function (command) { return toCodeActionAction({\r\n                            title: command.title,\r\n                            command: command,\r\n                        }); })));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    CodeActionMenu.prototype._toCoords = function (position) {\r\n        if (!this._editor.hasModel()) {\r\n            return { x: 0, y: 0 };\r\n        }\r\n        this._editor.revealPosition(position, 1 /* Immediate */);\r\n        this._editor.render();\r\n        // Translate to absolute editor position\r\n        var cursorCoords = this._editor.getScrolledVisiblePosition(position);\r\n        var editorCoords = getDomNodePagePosition(this._editor.getDomNode());\r\n        var x = editorCoords.left + cursorCoords.left;\r\n        var y = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n        return { x: x, y: y };\r\n    };\r\n    CodeActionMenu = __decorate([\r\n        __param(2, IContextMenuService),\r\n        __param(3, IKeybindingService)\r\n    ], CodeActionMenu);\r\n    return CodeActionMenu;\r\n}(Disposable));\r\nexport { CodeActionMenu };\r\nvar CodeActionKeybindingResolver = /** @class */ (function () {\r\n    function CodeActionKeybindingResolver(_keybindingProvider) {\r\n        this._keybindingProvider = _keybindingProvider;\r\n    }\r\n    CodeActionKeybindingResolver.prototype.getResolver = function () {\r\n        var _this = this;\r\n        // Lazy since we may not actually ever read the value\r\n        var allCodeActionBindings = new Lazy(function () {\r\n            return _this._keybindingProvider.getKeybindings()\r\n                .filter(function (item) { return CodeActionKeybindingResolver.codeActionCommands.indexOf(item.command) >= 0; })\r\n                .filter(function (item) { return item.resolvedKeybinding; })\r\n                .map(function (item) {\r\n                // Special case these commands since they come built-in with VS Code and don't use 'commandArgs'\r\n                var commandArgs = item.commandArgs;\r\n                if (item.command === organizeImportsCommandId) {\r\n                    commandArgs = { kind: CodeActionKind.SourceOrganizeImports.value };\r\n                }\r\n                else if (item.command === fixAllCommandId) {\r\n                    commandArgs = { kind: CodeActionKind.SourceFixAll.value };\r\n                }\r\n                return __assign({ resolvedKeybinding: item.resolvedKeybinding }, CodeActionCommandArgs.fromUser(commandArgs, {\r\n                    kind: CodeActionKind.None,\r\n                    apply: \"never\" /* Never */\r\n                }));\r\n            });\r\n        });\r\n        return function (action) {\r\n            if (action.kind) {\r\n                var binding = _this.bestKeybindingForCodeAction(action, allCodeActionBindings.getValue());\r\n                return binding === null || binding === void 0 ? void 0 : binding.resolvedKeybinding;\r\n            }\r\n            return undefined;\r\n        };\r\n    };\r\n    CodeActionKeybindingResolver.prototype.bestKeybindingForCodeAction = function (action, candidates) {\r\n        if (!action.kind) {\r\n            return undefined;\r\n        }\r\n        var kind = new CodeActionKind(action.kind);\r\n        return candidates\r\n            .filter(function (candidate) { return candidate.kind.contains(kind); })\r\n            .filter(function (candidate) {\r\n            if (candidate.preferred) {\r\n                // If the candidate keybinding only applies to preferred actions, the this action must also be preferred\r\n                return action.isPreferred;\r\n            }\r\n            return true;\r\n        })\r\n            .reduceRight(function (currentBest, candidate) {\r\n            if (!currentBest) {\r\n                return candidate;\r\n            }\r\n            // Select the more specific binding\r\n            return currentBest.kind.contains(candidate.kind) ? candidate : currentBest;\r\n        }, undefined);\r\n    };\r\n    CodeActionKeybindingResolver.codeActionCommands = [\r\n        refactorCommandId,\r\n        codeActionCommandId,\r\n        sourceActionCommandId,\r\n        organizeImportsCommandId,\r\n        fixAllCommandId\r\n    ];\r\n    return CodeActionKeybindingResolver;\r\n}());\r\nexport { CodeActionKeybindingResolver };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { find } from '../../../base/common/arrays.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { CodeActionMenu } from './codeActionMenu.js';\r\nimport { LightBulbWidget } from './lightBulbWidget.js';\r\nvar CodeActionUi = /** @class */ (function (_super) {\r\n    __extends(CodeActionUi, _super);\r\n    function CodeActionUi(_editor, quickFixActionId, preferredFixActionId, delegate, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this.delegate = delegate;\r\n        _this._activeCodeActions = _this._register(new MutableDisposable());\r\n        _this._codeActionWidget = new Lazy(function () {\r\n            return _this._register(instantiationService.createInstance(CodeActionMenu, _this._editor, {\r\n                onSelectCodeAction: function (action) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        this.delegate.applyCodeAction(action, /* retrigger */ true);\r\n                        return [2 /*return*/];\r\n                    });\r\n                }); }\r\n            }));\r\n        });\r\n        _this._lightBulbWidget = new Lazy(function () {\r\n            var widget = _this._register(instantiationService.createInstance(LightBulbWidget, _this._editor, quickFixActionId, preferredFixActionId));\r\n            _this._register(widget.onClick(function (e) { return _this.showCodeActionList(e.trigger, e.actions, e, { includeDisabledActions: false }); }));\r\n            return widget;\r\n        });\r\n        return _this;\r\n    }\r\n    CodeActionUi.prototype.update = function (newState) {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var actions, e_1, validActionToApply, invalidAction, includeDisabledActions;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        if (newState.type !== 1 /* Triggered */) {\r\n                            (_a = this._lightBulbWidget.rawValue) === null || _a === void 0 ? void 0 : _a.hide();\r\n                            return [2 /*return*/];\r\n                        }\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, newState.actions];\r\n                    case 2:\r\n                        actions = _d.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _d.sent();\r\n                        onUnexpectedError(e_1);\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        this._lightBulbWidget.getValue().update(actions, newState.trigger, newState.position);\r\n                        if (!(newState.trigger.type === 2 /* Manual */)) return [3 /*break*/, 11];\r\n                        if (!((_b = newState.trigger.filter) === null || _b === void 0 ? void 0 : _b.include)) return [3 /*break*/, 10];\r\n                        validActionToApply = this.tryGetValidActionToApply(newState.trigger, actions);\r\n                        if (!validActionToApply) return [3 /*break*/, 9];\r\n                        _d.label = 5;\r\n                    case 5:\r\n                        _d.trys.push([5, , 7, 8]);\r\n                        return [4 /*yield*/, this.delegate.applyCodeAction(validActionToApply, false)];\r\n                    case 6:\r\n                        _d.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        actions.dispose();\r\n                        return [7 /*endfinally*/];\r\n                    case 8: return [2 /*return*/];\r\n                    case 9:\r\n                        // Check to see if there is an action that we would have applied were it not invalid\r\n                        if (newState.trigger.context) {\r\n                            invalidAction = this.getInvalidActionThatWouldHaveBeenApplied(newState.trigger, actions);\r\n                            if (invalidAction && invalidAction.disabled) {\r\n                                MessageController.get(this._editor).showMessage(invalidAction.disabled, newState.trigger.context.position);\r\n                                actions.dispose();\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        _d.label = 10;\r\n                    case 10:\r\n                        includeDisabledActions = !!((_c = newState.trigger.filter) === null || _c === void 0 ? void 0 : _c.include);\r\n                        if (newState.trigger.context) {\r\n                            if (!actions.allActions.length || !includeDisabledActions && !actions.validActions.length) {\r\n                                MessageController.get(this._editor).showMessage(newState.trigger.context.notAvailableMessage, newState.trigger.context.position);\r\n                                this._activeCodeActions.value = actions;\r\n                                actions.dispose();\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        this._activeCodeActions.value = actions;\r\n                        this._codeActionWidget.getValue().show(newState.trigger, actions, newState.position, { includeDisabledActions: includeDisabledActions });\r\n                        return [3 /*break*/, 12];\r\n                    case 11:\r\n                        // auto magically triggered\r\n                        if (this._codeActionWidget.getValue().isVisible) {\r\n                            // TODO: Figure out if we should update the showing menu?\r\n                            actions.dispose();\r\n                        }\r\n                        else {\r\n                            this._activeCodeActions.value = actions;\r\n                        }\r\n                        _d.label = 12;\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    CodeActionUi.prototype.getInvalidActionThatWouldHaveBeenApplied = function (trigger, actions) {\r\n        if (!actions.allActions.length) {\r\n            return undefined;\r\n        }\r\n        if ((trigger.autoApply === \"first\" /* First */ && actions.validActions.length === 0)\r\n            || (trigger.autoApply === \"ifSingle\" /* IfSingle */ && actions.allActions.length === 1)) {\r\n            return find(actions.allActions, function (action) { return action.disabled; });\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionUi.prototype.tryGetValidActionToApply = function (trigger, actions) {\r\n        if (!actions.validActions.length) {\r\n            return undefined;\r\n        }\r\n        if ((trigger.autoApply === \"first\" /* First */ && actions.validActions.length > 0)\r\n            || (trigger.autoApply === \"ifSingle\" /* IfSingle */ && actions.validActions.length === 1)) {\r\n            return actions.validActions[0];\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionUi.prototype.showCodeActionList = function (trigger, actions, at, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                this._codeActionWidget.getValue().show(trigger, actions, at, options);\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    CodeActionUi = __decorate([\r\n        __param(4, IInstantiationService)\r\n    ], CodeActionUi);\r\n    return CodeActionUi;\r\n}(Disposable));\r\nexport { CodeActionUi };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { createCancelablePromise, TimeoutTimer } from '../../../base/common/async.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { getCodeActions } from './codeAction.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nexport var SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\r\nvar CodeActionOracle = /** @class */ (function (_super) {\r\n    __extends(CodeActionOracle, _super);\r\n    function CodeActionOracle(_editor, _markerService, _signalChange, _delay) {\r\n        if (_delay === void 0) { _delay = 250; }\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._markerService = _markerService;\r\n        _this._signalChange = _signalChange;\r\n        _this._delay = _delay;\r\n        _this._autoTriggerTimer = _this._register(new TimeoutTimer());\r\n        _this._register(_this._markerService.onMarkerChanged(function (e) { return _this._onMarkerChanges(e); }));\r\n        _this._register(_this._editor.onDidChangeCursorPosition(function () { return _this._onCursorChange(); }));\r\n        return _this;\r\n    }\r\n    CodeActionOracle.prototype.trigger = function (trigger) {\r\n        var selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\r\n        return this._createEventAndSignalChange(trigger, selection);\r\n    };\r\n    CodeActionOracle.prototype._onMarkerChanges = function (resources) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        if (resources.some(function (resource) { return isEqual(resource, model.uri); })) {\r\n            this._autoTriggerTimer.cancelAndSet(function () {\r\n                _this.trigger({ type: 1 /* Auto */ });\r\n            }, this._delay);\r\n        }\r\n    };\r\n    CodeActionOracle.prototype._onCursorChange = function () {\r\n        var _this = this;\r\n        this._autoTriggerTimer.cancelAndSet(function () {\r\n            _this.trigger({ type: 1 /* Auto */ });\r\n        }, this._delay);\r\n    };\r\n    CodeActionOracle.prototype._getRangeOfMarker = function (selection) {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        for (var _i = 0, _a = this._markerService.read({ resource: model.uri }); _i < _a.length; _i++) {\r\n            var marker = _a[_i];\r\n            var markerRange = model.validateRange(marker);\r\n            if (Range.intersectRanges(markerRange, selection)) {\r\n                return Range.lift(markerRange);\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionOracle.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed = function (trigger) {\r\n        if (!this._editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var selection = this._editor.getSelection();\r\n        if (selection.isEmpty() && trigger.type === 1 /* Auto */) {\r\n            var _a = selection.getPosition(), lineNumber = _a.lineNumber, column = _a.column;\r\n            var line = model.getLineContent(lineNumber);\r\n            if (line.length === 0) {\r\n                // empty line\r\n                return undefined;\r\n            }\r\n            else if (column === 1) {\r\n                // look only right\r\n                if (/\\s/.test(line[0])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else if (column === model.getLineMaxColumn(lineNumber)) {\r\n                // look only left\r\n                if (/\\s/.test(line[line.length - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else {\r\n                // look left and right\r\n                if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        return selection;\r\n    };\r\n    CodeActionOracle.prototype._createEventAndSignalChange = function (trigger, selection) {\r\n        var model = this._editor.getModel();\r\n        if (!selection || !model) {\r\n            // cancel\r\n            this._signalChange(undefined);\r\n            return undefined;\r\n        }\r\n        var markerRange = this._getRangeOfMarker(selection);\r\n        var position = markerRange ? markerRange.getStartPosition() : selection.getStartPosition();\r\n        var e = {\r\n            trigger: trigger,\r\n            selection: selection,\r\n            position: position\r\n        };\r\n        this._signalChange(e);\r\n        return e;\r\n    };\r\n    return CodeActionOracle;\r\n}(Disposable));\r\nexport var CodeActionsState;\r\n(function (CodeActionsState) {\r\n    CodeActionsState.Empty = { type: 0 /* Empty */ };\r\n    var Triggered = /** @class */ (function () {\r\n        function Triggered(trigger, rangeOrSelection, position, actions) {\r\n            this.trigger = trigger;\r\n            this.rangeOrSelection = rangeOrSelection;\r\n            this.position = position;\r\n            this.actions = actions;\r\n            this.type = 1 /* Triggered */;\r\n        }\r\n        return Triggered;\r\n    }());\r\n    CodeActionsState.Triggered = Triggered;\r\n})(CodeActionsState || (CodeActionsState = {}));\r\nvar CodeActionModel = /** @class */ (function (_super) {\r\n    __extends(CodeActionModel, _super);\r\n    function CodeActionModel(_editor, _markerService, contextKeyService, _progressService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._markerService = _markerService;\r\n        _this._progressService = _progressService;\r\n        _this._codeActionOracle = _this._register(new MutableDisposable());\r\n        _this._state = CodeActionsState.Empty;\r\n        _this._onDidChangeState = _this._register(new Emitter());\r\n        _this.onDidChangeState = _this._onDidChangeState.event;\r\n        _this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidChangeModel(function () { return _this._update(); }));\r\n        _this._register(_this._editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        _this._register(CodeActionProviderRegistry.onDidChange(function () { return _this._update(); }));\r\n        _this._update();\r\n        return _this;\r\n    }\r\n    CodeActionModel.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.setState(CodeActionsState.Empty, true);\r\n    };\r\n    CodeActionModel.prototype._update = function () {\r\n        var _this = this;\r\n        this._codeActionOracle.value = undefined;\r\n        this.setState(CodeActionsState.Empty);\r\n        var model = this._editor.getModel();\r\n        if (model\r\n            && CodeActionProviderRegistry.has(model)\r\n            && !this._editor.getOption(68 /* readOnly */)) {\r\n            var supportedActions = [];\r\n            for (var _i = 0, _a = CodeActionProviderRegistry.all(model); _i < _a.length; _i++) {\r\n                var provider = _a[_i];\r\n                if (Array.isArray(provider.providedCodeActionKinds)) {\r\n                    supportedActions.push.apply(supportedActions, provider.providedCodeActionKinds);\r\n                }\r\n            }\r\n            this._supportedCodeActions.set(supportedActions.join(' '));\r\n            this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, function (trigger) {\r\n                if (!trigger) {\r\n                    _this.setState(CodeActionsState.Empty);\r\n                    return;\r\n                }\r\n                var actions = createCancelablePromise(function (token) { return getCodeActions(model, trigger.selection, trigger.trigger, token); });\r\n                if (_this._progressService && trigger.trigger.type === 2 /* Manual */) {\r\n                    _this._progressService.showWhile(actions, 250);\r\n                }\r\n                _this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\r\n            }, undefined);\r\n            this._codeActionOracle.value.trigger({ type: 1 /* Auto */ });\r\n        }\r\n        else {\r\n            this._supportedCodeActions.reset();\r\n        }\r\n    };\r\n    CodeActionModel.prototype.trigger = function (trigger) {\r\n        if (this._codeActionOracle.value) {\r\n            this._codeActionOracle.value.trigger(trigger);\r\n        }\r\n    };\r\n    CodeActionModel.prototype.setState = function (newState, skipNotify) {\r\n        if (newState === this._state) {\r\n            return;\r\n        }\r\n        // Cancel old request\r\n        if (this._state.type === 1 /* Triggered */) {\r\n            this._state.actions.cancel();\r\n        }\r\n        this._state = newState;\r\n        if (!skipNotify) {\r\n            this._onDidChangeState.fire(newState);\r\n        }\r\n    };\r\n    return CodeActionModel;\r\n}(Disposable));\r\nexport { CodeActionModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { codeActionCommandId, fixAllCommandId, organizeImportsCommandId, refactorCommandId, sourceActionCommandId } from './codeAction.js';\r\nimport { CodeActionUi } from './codeActionUi.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\r\nimport { CodeActionModel, SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\r\nimport { CodeActionCommandArgs, CodeActionKind } from './types.js';\r\nfunction contextKeyForSupportedActions(kind) {\r\n    return ContextKeyExpr.regex(SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\r\n}\r\nvar argsSchema = {\r\n    type: 'object',\r\n    required: ['kind'],\r\n    defaultSnippets: [{ body: { kind: '' } }],\r\n    properties: {\r\n        'kind': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.kind', \"Kind of the code action to run.\"),\r\n        },\r\n        'apply': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.apply', \"Controls when the returned actions are applied.\"),\r\n            default: \"ifSingle\" /* IfSingle */,\r\n            enum: [\"first\" /* First */, \"ifSingle\" /* IfSingle */, \"never\" /* Never */],\r\n            enumDescriptions: [\r\n                nls.localize('args.schema.apply.first', \"Always apply the first returned code action.\"),\r\n                nls.localize('args.schema.apply.ifSingle', \"Apply the first returned code action if it is the only one.\"),\r\n                nls.localize('args.schema.apply.never', \"Do not apply the returned code actions.\"),\r\n            ]\r\n        },\r\n        'preferred': {\r\n            type: 'boolean',\r\n            default: false,\r\n            description: nls.localize('args.schema.preferred', \"Controls if only preferred code actions should be returned.\"),\r\n        }\r\n    }\r\n};\r\nvar QuickFixController = /** @class */ (function (_super) {\r\n    __extends(QuickFixController, _super);\r\n    function QuickFixController(editor, markerService, contextKeyService, progressService, _instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._editor = editor;\r\n        _this._model = _this._register(new CodeActionModel(_this._editor, markerService, contextKeyService, progressService));\r\n        _this._register(_this._model.onDidChangeState(function (newState) { return _this.update(newState); }));\r\n        _this._ui = new Lazy(function () {\r\n            return _this._register(new CodeActionUi(editor, QuickFixAction.Id, AutoFixAction.Id, {\r\n                applyCodeAction: function (action, retrigger) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, , 2, 3]);\r\n                                return [4 /*yield*/, this._applyCodeAction(action)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                if (retrigger) {\r\n                                    this._trigger({ type: 1 /* Auto */, filter: {} });\r\n                                }\r\n                                return [7 /*endfinally*/];\r\n                            case 3: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); }\r\n            }, _this._instantiationService));\r\n        });\r\n        return _this;\r\n    }\r\n    QuickFixController.get = function (editor) {\r\n        return editor.getContribution(QuickFixController.ID);\r\n    };\r\n    QuickFixController.prototype.update = function (newState) {\r\n        this._ui.getValue().update(newState);\r\n    };\r\n    QuickFixController.prototype.showCodeActions = function (trigger, actions, at) {\r\n        return this._ui.getValue().showCodeActionList(trigger, actions, at, { includeDisabledActions: false });\r\n    };\r\n    QuickFixController.prototype.manualTriggerAtCurrentPosition = function (notAvailableMessage, filter, autoApply) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        MessageController.get(this._editor).closeMessage();\r\n        var triggerPosition = this._editor.getPosition();\r\n        this._trigger({ type: 2 /* Manual */, filter: filter, autoApply: autoApply, context: { notAvailableMessage: notAvailableMessage, position: triggerPosition } });\r\n    };\r\n    QuickFixController.prototype._trigger = function (trigger) {\r\n        return this._model.trigger(trigger);\r\n    };\r\n    QuickFixController.prototype._applyCodeAction = function (action) {\r\n        return this._instantiationService.invokeFunction(applyCodeAction, action, this._editor);\r\n    };\r\n    QuickFixController.ID = 'editor.contrib.quickFixController';\r\n    QuickFixController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IEditorProgressService),\r\n        __param(4, IInstantiationService)\r\n    ], QuickFixController);\r\n    return QuickFixController;\r\n}(Disposable));\r\nexport { QuickFixController };\r\nexport function applyCodeAction(accessor, action, editor) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var bulkEditService, commandService, telemetryService, notificationService, err_1, message;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    bulkEditService = accessor.get(IBulkEditService);\r\n                    commandService = accessor.get(ICommandService);\r\n                    telemetryService = accessor.get(ITelemetryService);\r\n                    notificationService = accessor.get(INotificationService);\r\n                    telemetryService.publicLog2('codeAction.applyCodeAction', {\r\n                        codeActionTitle: action.title,\r\n                        codeActionKind: action.kind,\r\n                        codeActionIsPreferred: !!action.isPreferred,\r\n                    });\r\n                    if (!action.edit) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, bulkEditService.apply(action.edit, { editor: editor })];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (!action.command) return [3 /*break*/, 6];\r\n                    _a.label = 3;\r\n                case 3:\r\n                    _a.trys.push([3, 5, , 6]);\r\n                    return [4 /*yield*/, commandService.executeCommand.apply(commandService, __spreadArrays([action.command.id], (action.command.arguments || [])))];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    message = asMessage(err_1);\r\n                    notificationService.error(typeof message === 'string'\r\n                        ? message\r\n                        : nls.localize('applyCodeActionFailed', \"An unknown error occurred while applying the code action\"));\r\n                    return [3 /*break*/, 6];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction asMessage(err) {\r\n    if (typeof err === 'string') {\r\n        return err;\r\n    }\r\n    else if (err instanceof Error && typeof err.message === 'string') {\r\n        return err.message;\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction triggerCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {\r\n    if (editor.hasModel()) {\r\n        var controller = QuickFixController.get(editor);\r\n        if (controller) {\r\n            controller.manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply);\r\n        }\r\n    }\r\n}\r\nvar QuickFixAction = /** @class */ (function (_super) {\r\n    __extends(QuickFixAction, _super);\r\n    function QuickFixAction() {\r\n        return _super.call(this, {\r\n            id: QuickFixAction.Id,\r\n            label: nls.localize('quickfix.trigger.label', \"Quick Fix...\"),\r\n            alias: 'Quick Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 84 /* US_DOT */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), undefined, undefined);\r\n    };\r\n    QuickFixAction.Id = 'editor.action.quickFix';\r\n    return QuickFixAction;\r\n}(EditorAction));\r\nexport { QuickFixAction };\r\nvar CodeActionCommand = /** @class */ (function (_super) {\r\n    __extends(CodeActionCommand, _super);\r\n    function CodeActionCommand() {\r\n        return _super.call(this, {\r\n            id: codeActionCommandId,\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            description: {\r\n                description: 'Trigger a code action',\r\n                args: [{ name: 'args', schema: argsSchema, }]\r\n            }\r\n        }) || this;\r\n    }\r\n    CodeActionCommand.prototype.runEditorCommand = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Empty,\r\n            apply: \"ifSingle\" /* IfSingle */,\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred.kind', \"No preferred code actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.codeAction.noneMessage.kind', \"No code actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred', \"No preferred code actions available\")\r\n                : nls.localize('editor.action.codeAction.noneMessage', \"No code actions available\"), {\r\n            include: args.kind,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return CodeActionCommand;\r\n}(EditorCommand));\r\nexport { CodeActionCommand };\r\nvar RefactorAction = /** @class */ (function (_super) {\r\n    __extends(RefactorAction, _super);\r\n    function RefactorAction() {\r\n        return _super.call(this, {\r\n            id: refactorCommandId,\r\n            label: nls.localize('refactor.label', \"Refactor...\"),\r\n            alias: 'Refactor...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 48 /* KEY_R */,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 48 /* KEY_R */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Refactor)),\r\n            },\r\n            description: {\r\n                description: 'Refactor...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    RefactorAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Refactor,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred.kind', \"No preferred refactorings for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.refactor.noneMessage.kind', \"No refactorings for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred', \"No preferred refactorings available\")\r\n                : nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"), {\r\n            include: CodeActionKind.Refactor.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return RefactorAction;\r\n}(EditorAction));\r\nexport { RefactorAction };\r\nvar SourceAction = /** @class */ (function (_super) {\r\n    __extends(SourceAction, _super);\r\n    function SourceAction() {\r\n        return _super.call(this, {\r\n            id: sourceActionCommandId,\r\n            label: nls.localize('source.label', \"Source Action...\"),\r\n            alias: 'Source Action...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2.1,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Source)),\r\n            },\r\n            description: {\r\n                description: 'Source Action...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SourceAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Source,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred.kind', \"No preferred source actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.source.noneMessage.kind', \"No source actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred', \"No preferred source actions available\")\r\n                : nls.localize('editor.action.source.noneMessage', \"No source actions available\"), {\r\n            include: CodeActionKind.Source.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return SourceAction;\r\n}(EditorAction));\r\nexport { SourceAction };\r\nvar OrganizeImportsAction = /** @class */ (function (_super) {\r\n    __extends(OrganizeImportsAction, _super);\r\n    function OrganizeImportsAction() {\r\n        return _super.call(this, {\r\n            id: organizeImportsCommandId,\r\n            label: nls.localize('organizeImports.label', \"Organize Imports\"),\r\n            alias: 'Organize Imports',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n        }) || this;\r\n    }\r\n    OrganizeImportsAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"), { include: CodeActionKind.SourceOrganizeImports, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return OrganizeImportsAction;\r\n}(EditorAction));\r\nexport { OrganizeImportsAction };\r\nvar FixAllAction = /** @class */ (function (_super) {\r\n    __extends(FixAllAction, _super);\r\n    function FixAllAction() {\r\n        return _super.call(this, {\r\n            id: fixAllCommandId,\r\n            label: nls.localize('fixAll.label', \"Fix All\"),\r\n            alias: 'Fix All',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceFixAll))\r\n        }) || this;\r\n    }\r\n    FixAllAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('fixAll.noneMessage', \"No fix all action available\"), { include: CodeActionKind.SourceFixAll, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return FixAllAction;\r\n}(EditorAction));\r\nexport { FixAllAction };\r\nvar AutoFixAction = /** @class */ (function (_super) {\r\n    __extends(AutoFixAction, _super);\r\n    function AutoFixAction() {\r\n        return _super.call(this, {\r\n            id: AutoFixAction.Id,\r\n            label: nls.localize('autoFix.label', \"Auto Fix...\"),\r\n            alias: 'Auto Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.QuickFix)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 84 /* US_DOT */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 84 /* US_DOT */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    AutoFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.autoFix.noneMessage', \"No auto fixes available\"), {\r\n            include: CodeActionKind.QuickFix,\r\n            onlyIncludePreferredActions: true\r\n        }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    AutoFixAction.Id = 'editor.action.autoFix';\r\n    return AutoFixAction;\r\n}(EditorAction));\r\nexport { AutoFixAction };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CodeActionCommand, OrganizeImportsAction, QuickFixAction, QuickFixController, RefactorAction, SourceAction, AutoFixAction, FixAllAction } from './codeActionCommands.js';\r\nregisterEditorContribution(QuickFixController.ID, QuickFixController);\r\nregisterEditorAction(QuickFixAction);\r\nregisterEditorAction(RefactorAction);\r\nregisterEditorAction(SourceAction);\r\nregisterEditorAction(OrganizeImportsAction);\r\nregisterEditorAction(AutoFixAction);\r\nregisterEditorAction(FixAllAction);\r\nregisterEditorCommand(new CodeActionCommand());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { mergeSort } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nvar CodeLensModel = /** @class */ (function () {\r\n    function CodeLensModel() {\r\n        this.lenses = [];\r\n        this._disposables = new DisposableStore();\r\n    }\r\n    CodeLensModel.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    CodeLensModel.prototype.add = function (list, provider) {\r\n        this._disposables.add(list);\r\n        for (var _i = 0, _a = list.lenses; _i < _a.length; _i++) {\r\n            var symbol = _a[_i];\r\n            this.lenses.push({ symbol: symbol, provider: provider });\r\n        }\r\n    };\r\n    return CodeLensModel;\r\n}());\r\nexport { CodeLensModel };\r\nexport function getCodeLensData(model, token) {\r\n    var provider = CodeLensProviderRegistry.ordered(model);\r\n    var providerRanks = new Map();\r\n    var result = new CodeLensModel();\r\n    var promises = provider.map(function (provider, i) {\r\n        providerRanks.set(provider, i);\r\n        return Promise.resolve(provider.provideCodeLenses(model, token))\r\n            .then(function (list) { return list && result.add(list, provider); })\r\n            .catch(onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function () {\r\n        result.lenses = mergeSort(result.lenses, function (a, b) {\r\n            // sort by lineNumber, provider-rank, and column\r\n            if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\r\n                return 1;\r\n            }\r\n            else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) {\r\n                return -1;\r\n            }\r\n            else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) {\r\n                return 1;\r\n            }\r\n            else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        return result;\r\n    });\r\n}\r\nregisterLanguageCommand('_executeCodeLensProvider', function (accessor, args) {\r\n    var resource = args.resource, itemResolveCount = args.itemResolveCount;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var result = [];\r\n    var disposables = new DisposableStore();\r\n    return getCodeLensData(model, CancellationToken.None).then(function (value) {\r\n        disposables.add(value);\r\n        var resolve = [];\r\n        var _loop_1 = function (item) {\r\n            if (typeof itemResolveCount === 'undefined' || Boolean(item.symbol.command)) {\r\n                result.push(item.symbol);\r\n            }\r\n            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\r\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(function (symbol) { return result.push(symbol || item.symbol); }));\r\n            }\r\n        };\r\n        for (var _i = 0, _a = value.lenses; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            _loop_1(item);\r\n        }\r\n        return Promise.all(resolve);\r\n    }).then(function () {\r\n        return result;\r\n    }).finally(function () {\r\n        // make sure to return results, then (on next tick)\r\n        // dispose the results\r\n        setTimeout(function () { return disposables.dispose(); }, 100);\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './codelensWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { renderCodicons } from '../../../base/common/codicons.js';\r\nimport { escape } from '../../../base/common/strings.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorCodeLensForeground } from '../../common/view/editorColorRegistry.js';\r\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar CodeLensViewZone = /** @class */ (function () {\r\n    function CodeLensViewZone(afterLineNumber, onHeight) {\r\n        this.afterLineNumber = afterLineNumber;\r\n        this._onHeight = onHeight;\r\n        this.heightInLines = 1;\r\n        this.suppressMouseDown = true;\r\n        this.domNode = document.createElement('div');\r\n    }\r\n    CodeLensViewZone.prototype.onComputedHeight = function (height) {\r\n        if (this._lastHeight === undefined) {\r\n            this._lastHeight = height;\r\n        }\r\n        else if (this._lastHeight !== height) {\r\n            this._lastHeight = height;\r\n            this._onHeight();\r\n        }\r\n    };\r\n    return CodeLensViewZone;\r\n}());\r\nvar CodeLensContentWidget = /** @class */ (function () {\r\n    function CodeLensContentWidget(editor, className, line) {\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = false;\r\n        this.suppressMouseDown = true;\r\n        this._commands = new Map();\r\n        this._isEmpty = true;\r\n        this._editor = editor;\r\n        this._id = \"codelens.widget-\" + (CodeLensContentWidget._idPool++);\r\n        this.updatePosition(line);\r\n        this._domNode = document.createElement('span');\r\n        this._domNode.className = \"codelens-decoration \" + className;\r\n    }\r\n    CodeLensContentWidget.prototype.withCommands = function (lenses, animate) {\r\n        this._commands.clear();\r\n        var innerHtml = '';\r\n        var hasSymbol = false;\r\n        for (var i = 0; i < lenses.length; i++) {\r\n            var lens = lenses[i];\r\n            if (!lens) {\r\n                continue;\r\n            }\r\n            hasSymbol = true;\r\n            if (lens.command) {\r\n                var title = renderCodicons(escape(lens.command.title));\r\n                if (lens.command.id) {\r\n                    innerHtml += \"<a id=\" + i + \">\" + title + \"</a>\";\r\n                    this._commands.set(String(i), lens.command);\r\n                }\r\n                else {\r\n                    innerHtml += \"<span>\" + title + \"</span>\";\r\n                }\r\n                if (i + 1 < lenses.length) {\r\n                    innerHtml += '<span>&#160;|&#160;</span>';\r\n                }\r\n            }\r\n        }\r\n        if (!hasSymbol) {\r\n            // symbols but no commands\r\n            this._domNode.innerHTML = '<span>no commands</span>';\r\n        }\r\n        else {\r\n            // symbols and commands\r\n            if (!innerHtml) {\r\n                innerHtml = '&#160;';\r\n            }\r\n            this._domNode.innerHTML = innerHtml;\r\n            if (this._isEmpty && animate) {\r\n                dom.addClass(this._domNode, 'fadein');\r\n            }\r\n            this._isEmpty = false;\r\n        }\r\n    };\r\n    CodeLensContentWidget.prototype.getCommand = function (link) {\r\n        return link.parentElement === this._domNode\r\n            ? this._commands.get(link.id)\r\n            : undefined;\r\n    };\r\n    CodeLensContentWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    CodeLensContentWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    CodeLensContentWidget.prototype.updatePosition = function (line) {\r\n        var column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);\r\n        this._widgetPosition = {\r\n            position: { lineNumber: line, column: column },\r\n            preference: [1 /* ABOVE */]\r\n        };\r\n    };\r\n    CodeLensContentWidget.prototype.getPosition = function () {\r\n        return this._widgetPosition || null;\r\n    };\r\n    CodeLensContentWidget._idPool = 0;\r\n    return CodeLensContentWidget;\r\n}());\r\nvar CodeLensHelper = /** @class */ (function () {\r\n    function CodeLensHelper() {\r\n        this._removeDecorations = [];\r\n        this._addDecorations = [];\r\n        this._addDecorationsCallbacks = [];\r\n    }\r\n    CodeLensHelper.prototype.addDecoration = function (decoration, callback) {\r\n        this._addDecorations.push(decoration);\r\n        this._addDecorationsCallbacks.push(callback);\r\n    };\r\n    CodeLensHelper.prototype.removeDecoration = function (decorationId) {\r\n        this._removeDecorations.push(decorationId);\r\n    };\r\n    CodeLensHelper.prototype.commit = function (changeAccessor) {\r\n        var resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\r\n        for (var i = 0, len = resultingDecorations.length; i < len; i++) {\r\n            this._addDecorationsCallbacks[i](resultingDecorations[i]);\r\n        }\r\n    };\r\n    return CodeLensHelper;\r\n}());\r\nexport { CodeLensHelper };\r\nvar CodeLensWidget = /** @class */ (function () {\r\n    function CodeLensWidget(data, editor, className, helper, viewZoneChangeAccessor, updateCallback) {\r\n        var _this = this;\r\n        this._isDisposed = false;\r\n        this._editor = editor;\r\n        this._className = className;\r\n        this._data = data;\r\n        // create combined range, track all ranges with decorations,\r\n        // check if there is already something to render\r\n        this._decorationIds = [];\r\n        var range;\r\n        var lenses = [];\r\n        this._data.forEach(function (codeLensData, i) {\r\n            if (codeLensData.symbol.command) {\r\n                lenses.push(codeLensData.symbol);\r\n            }\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, function (id) { return _this._decorationIds[i] = id; });\r\n            // the range contains all lenses on this line\r\n            if (!range) {\r\n                range = Range.lift(codeLensData.symbol.range);\r\n            }\r\n            else {\r\n                range = Range.plusRange(range, codeLensData.symbol.range);\r\n            }\r\n        });\r\n        this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, updateCallback);\r\n        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\r\n        if (lenses.length > 0) {\r\n            this._createContentWidgetIfNecessary();\r\n            this._contentWidget.withCommands(lenses, false);\r\n        }\r\n    }\r\n    CodeLensWidget.prototype._createContentWidgetIfNecessary = function () {\r\n        if (!this._contentWidget) {\r\n            this._contentWidget = new CodeLensContentWidget(this._editor, this._className, this._viewZone.afterLineNumber + 1);\r\n            this._editor.addContentWidget(this._contentWidget);\r\n        }\r\n    };\r\n    CodeLensWidget.prototype.dispose = function (helper, viewZoneChangeAccessor) {\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        if (viewZoneChangeAccessor) {\r\n            viewZoneChangeAccessor.removeZone(this._viewZoneId);\r\n        }\r\n        if (this._contentWidget) {\r\n            this._editor.removeContentWidget(this._contentWidget);\r\n            this._contentWidget = undefined;\r\n        }\r\n        this._isDisposed = true;\r\n    };\r\n    CodeLensWidget.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    CodeLensWidget.prototype.isValid = function () {\r\n        var _this = this;\r\n        return this._decorationIds.some(function (id, i) {\r\n            var range = _this._editor.getModel().getDecorationRange(id);\r\n            var symbol = _this._data[i].symbol;\r\n            return !!(range && Range.isEmpty(symbol.range) === range.isEmpty());\r\n        });\r\n    };\r\n    CodeLensWidget.prototype.updateCodeLensSymbols = function (data, helper) {\r\n        var _this = this;\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        this._data = data;\r\n        this._data.forEach(function (codeLensData, i) {\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, function (id) { return _this._decorationIds[i] = id; });\r\n        });\r\n    };\r\n    CodeLensWidget.prototype.computeIfNecessary = function (model) {\r\n        if (!this._viewZone.domNode.hasAttribute('monaco-visible-view-zone')) {\r\n            return null;\r\n        }\r\n        // Read editor current state\r\n        for (var i = 0; i < this._decorationIds.length; i++) {\r\n            var range = model.getDecorationRange(this._decorationIds[i]);\r\n            if (range) {\r\n                this._data[i].symbol.range = range;\r\n            }\r\n        }\r\n        return this._data;\r\n    };\r\n    CodeLensWidget.prototype.updateCommands = function (symbols) {\r\n        this._createContentWidgetIfNecessary();\r\n        this._contentWidget.withCommands(symbols, true);\r\n        for (var i = 0; i < this._data.length; i++) {\r\n            var resolved = symbols[i];\r\n            if (resolved) {\r\n                var symbol = this._data[i].symbol;\r\n                symbol.command = resolved.command || symbol.command;\r\n            }\r\n        }\r\n    };\r\n    CodeLensWidget.prototype.getCommand = function (link) {\r\n        var _a;\r\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getCommand(link);\r\n    };\r\n    CodeLensWidget.prototype.getLineNumber = function () {\r\n        var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n        if (range) {\r\n            return range.startLineNumber;\r\n        }\r\n        return -1;\r\n    };\r\n    CodeLensWidget.prototype.update = function (viewZoneChangeAccessor) {\r\n        if (this.isValid()) {\r\n            var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n            if (range) {\r\n                this._viewZone.afterLineNumber = range.startLineNumber - 1;\r\n                viewZoneChangeAccessor.layoutZone(this._viewZoneId);\r\n                if (this._contentWidget) {\r\n                    this._contentWidget.updatePosition(range.startLineNumber);\r\n                    this._editor.layoutContentWidget(this._contentWidget);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return CodeLensWidget;\r\n}());\r\nexport { CodeLensWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var codeLensForeground = theme.getColor(editorCodeLensForeground);\r\n    if (codeLensForeground) {\r\n        collector.addRule(\".monaco-editor .codelens-decoration { color: \" + codeLensForeground + \"; }\");\r\n        collector.addRule(\".monaco-editor .codelens-decoration .codicon { color: \" + codeLensForeground + \"; }\");\r\n    }\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .codelens-decoration > a:hover { color: \" + activeLinkForeground + \" !important; }\");\r\n        collector.addRule(\".monaco-editor .codelens-decoration > a:hover .codicon { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { CodeLensModel } from './codelens.js';\r\nimport { LRUCache, values } from '../../../base/common/map.js';\r\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { runWhenIdle } from '../../../base/common/async.js';\r\nimport { once } from '../../../base/common/functional.js';\r\nexport var ICodeLensCache = createDecorator('ICodeLensCache');\r\nvar CacheItem = /** @class */ (function () {\r\n    function CacheItem(lineCount, data) {\r\n        this.lineCount = lineCount;\r\n        this.data = data;\r\n    }\r\n    return CacheItem;\r\n}());\r\nvar CodeLensCache = /** @class */ (function () {\r\n    function CodeLensCache(storageService) {\r\n        var _this = this;\r\n        this._fakeProvider = new /** @class */ (function () {\r\n            function class_1() {\r\n            }\r\n            class_1.prototype.provideCodeLenses = function () {\r\n                throw new Error('not supported');\r\n            };\r\n            return class_1;\r\n        }());\r\n        this._cache = new LRUCache(20, 0.75);\r\n        // remove old data\r\n        var oldkey = 'codelens/cache';\r\n        runWhenIdle(function () { return storageService.remove(oldkey, 1 /* WORKSPACE */); });\r\n        // restore lens data on start\r\n        var key = 'codelens/cache2';\r\n        var raw = storageService.get(key, 1 /* WORKSPACE */, '{}');\r\n        this._deserialize(raw);\r\n        // store lens data on shutdown\r\n        once(storageService.onWillSaveState)(function (e) {\r\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\r\n                storageService.store(key, _this._serialize(), 1 /* WORKSPACE */);\r\n            }\r\n        });\r\n    }\r\n    CodeLensCache.prototype.put = function (model, data) {\r\n        // create a copy of the model that is without command-ids\r\n        // but with comand-labels\r\n        var copyItems = data.lenses.map(function (item) {\r\n            var _a;\r\n            return {\r\n                range: item.symbol.range,\r\n                command: item.symbol.command && { id: '', title: (_a = item.symbol.command) === null || _a === void 0 ? void 0 : _a.title },\r\n            };\r\n        });\r\n        var copyModel = new CodeLensModel();\r\n        copyModel.add({ lenses: copyItems, dispose: function () { } }, this._fakeProvider);\r\n        var item = new CacheItem(model.getLineCount(), copyModel);\r\n        this._cache.set(model.uri.toString(), item);\r\n    };\r\n    CodeLensCache.prototype.get = function (model) {\r\n        var item = this._cache.get(model.uri.toString());\r\n        return item && item.lineCount === model.getLineCount() ? item.data : undefined;\r\n    };\r\n    CodeLensCache.prototype.delete = function (model) {\r\n        this._cache.delete(model.uri.toString());\r\n    };\r\n    // --- persistence\r\n    CodeLensCache.prototype._serialize = function () {\r\n        var data = Object.create(null);\r\n        this._cache.forEach(function (value, key) {\r\n            var lines = new Set();\r\n            for (var _i = 0, _a = value.data.lenses; _i < _a.length; _i++) {\r\n                var d = _a[_i];\r\n                lines.add(d.symbol.range.startLineNumber);\r\n            }\r\n            data[key] = {\r\n                lineCount: value.lineCount,\r\n                lines: values(lines)\r\n            };\r\n        });\r\n        return JSON.stringify(data);\r\n    };\r\n    CodeLensCache.prototype._deserialize = function (raw) {\r\n        try {\r\n            var data = JSON.parse(raw);\r\n            for (var key in data) {\r\n                var element = data[key];\r\n                var lenses = [];\r\n                for (var _i = 0, _a = element.lines; _i < _a.length; _i++) {\r\n                    var line = _a[_i];\r\n                    lenses.push({ range: new Range(line, 1, line, 11) });\r\n                }\r\n                var model = new CodeLensModel();\r\n                model.add({ lenses: lenses, dispose: function () { } }, this._fakeProvider);\r\n                this._cache.set(key, new CacheItem(element.lineCount, model));\r\n            }\r\n        }\r\n        catch (_b) {\r\n            // ignore...\r\n        }\r\n    };\r\n    CodeLensCache = __decorate([\r\n        __param(0, IStorageService)\r\n    ], CodeLensCache);\r\n    return CodeLensCache;\r\n}());\r\nexport { CodeLensCache };\r\nregisterSingleton(ICodeLensCache, CodeLensCache);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { RunOnceScheduler, createCancelablePromise, disposableTimeout } from '../../../base/common/async.js';\r\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { toDisposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\r\nimport { StableEditorScrollState } from '../../browser/core/editorState.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\r\nimport { getCodeLensData } from './codelens.js';\r\nimport { CodeLensWidget, CodeLensHelper } from './codelensWidget.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { ICodeLensCache } from './codeLensCache.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { hash } from '../../../base/common/hash.js';\r\nvar CodeLensContribution = /** @class */ (function () {\r\n    function CodeLensContribution(_editor, _commandService, _notificationService, _codeLensCache) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._commandService = _commandService;\r\n        this._notificationService = _notificationService;\r\n        this._codeLensCache = _codeLensCache;\r\n        this._globalToDispose = new DisposableStore();\r\n        this._localToDispose = new DisposableStore();\r\n        this._lenses = [];\r\n        this._oldCodeLensModels = new DisposableStore();\r\n        this._modelChangeCounter = 0;\r\n        this._isEnabled = this._editor.getOption(11 /* codeLens */);\r\n        this._globalToDispose.add(this._editor.onDidChangeModel(function () { return _this._onModelChange(); }));\r\n        this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function () { return _this._onModelChange(); }));\r\n        this._globalToDispose.add(this._editor.onDidChangeConfiguration(function () {\r\n            var prevIsEnabled = _this._isEnabled;\r\n            _this._isEnabled = _this._editor.getOption(11 /* codeLens */);\r\n            if (prevIsEnabled !== _this._isEnabled) {\r\n                _this._onModelChange();\r\n            }\r\n        }));\r\n        this._globalToDispose.add(CodeLensProviderRegistry.onDidChange(this._onModelChange, this));\r\n        this._globalToDispose.add(this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(34 /* fontInfo */)) {\r\n                _this._updateLensStyle();\r\n            }\r\n        }));\r\n        this._onModelChange();\r\n        this._styleClassName = hash(this._editor.getId()).toString(16);\r\n        this._styleElement = dom.createStyleSheet(dom.isInShadowDOM(this._editor.getContainerDomNode())\r\n            ? this._editor.getContainerDomNode()\r\n            : undefined);\r\n        this._updateLensStyle();\r\n    }\r\n    CodeLensContribution.prototype.dispose = function () {\r\n        this._localDispose();\r\n        this._globalToDispose.dispose();\r\n        this._oldCodeLensModels.dispose();\r\n        dispose(this._currentCodeLensModel);\r\n    };\r\n    CodeLensContribution.prototype._updateLensStyle = function () {\r\n        var options = this._editor.getOptions();\r\n        var fontInfo = options.get(34 /* fontInfo */);\r\n        var lineHeight = options.get(49 /* lineHeight */);\r\n        var height = Math.round(lineHeight * 1.1);\r\n        var fontSize = Math.round(fontInfo.fontSize * 0.9);\r\n        var newStyle = \"\\n\\t\\t.monaco-editor .codelens-decoration.\" + this._styleClassName + \" { height: \" + height + \"px; line-height: \" + lineHeight + \"px; font-size: \" + fontSize + \"px; padding-right: \" + Math.round(fontInfo.fontSize * 0.45) + \"px;}\\n\\t\\t.monaco-editor .codelens-decoration.\" + this._styleClassName + \" > a > .codicon { line-height: \" + lineHeight + \"px; font-size: \" + fontSize + \"px; }\\n\\t\\t\";\r\n        this._styleElement.innerHTML = newStyle;\r\n    };\r\n    CodeLensContribution.prototype._localDispose = function () {\r\n        if (this._currentFindCodeLensSymbolsPromise) {\r\n            this._currentFindCodeLensSymbolsPromise.cancel();\r\n            this._currentFindCodeLensSymbolsPromise = undefined;\r\n            this._modelChangeCounter++;\r\n        }\r\n        if (this._currentResolveCodeLensSymbolsPromise) {\r\n            this._currentResolveCodeLensSymbolsPromise.cancel();\r\n            this._currentResolveCodeLensSymbolsPromise = undefined;\r\n        }\r\n        this._localToDispose.clear();\r\n        this._oldCodeLensModels.clear();\r\n        dispose(this._currentCodeLensModel);\r\n    };\r\n    CodeLensContribution.prototype._onModelChange = function () {\r\n        var _this = this;\r\n        this._localDispose();\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        var cachedLenses = this._codeLensCache.get(model);\r\n        if (cachedLenses) {\r\n            this._renderCodeLensSymbols(cachedLenses);\r\n        }\r\n        if (!CodeLensProviderRegistry.has(model)) {\r\n            // no provider -> return but check with\r\n            // cached lenses. they expire after 30 seconds\r\n            if (cachedLenses) {\r\n                this._localToDispose.add(disposableTimeout(function () {\r\n                    var cachedLensesNow = _this._codeLensCache.get(model);\r\n                    if (cachedLenses === cachedLensesNow) {\r\n                        _this._codeLensCache.delete(model);\r\n                        _this._onModelChange();\r\n                    }\r\n                }, 30 * 1000));\r\n            }\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = CodeLensProviderRegistry.all(model); _i < _a.length; _i++) {\r\n            var provider = _a[_i];\r\n            if (typeof provider.onDidChange === 'function') {\r\n                var registration = provider.onDidChange(function () { return scheduler.schedule(); });\r\n                this._localToDispose.add(registration);\r\n            }\r\n        }\r\n        var detectVisibleLenses = this._detectVisibleLenses = new RunOnceScheduler(function () { return _this._onViewportChanged(); }, 250);\r\n        var scheduler = new RunOnceScheduler(function () {\r\n            var counterValue = ++_this._modelChangeCounter;\r\n            if (_this._currentFindCodeLensSymbolsPromise) {\r\n                _this._currentFindCodeLensSymbolsPromise.cancel();\r\n            }\r\n            _this._currentFindCodeLensSymbolsPromise = createCancelablePromise(function (token) { return getCodeLensData(model, token); });\r\n            _this._currentFindCodeLensSymbolsPromise.then(function (result) {\r\n                if (counterValue === _this._modelChangeCounter) { // only the last one wins\r\n                    if (_this._currentCodeLensModel) {\r\n                        _this._oldCodeLensModels.add(_this._currentCodeLensModel);\r\n                    }\r\n                    _this._currentCodeLensModel = result;\r\n                    // cache model to reduce flicker\r\n                    _this._codeLensCache.put(model, result);\r\n                    // render lenses\r\n                    _this._renderCodeLensSymbols(result);\r\n                    detectVisibleLenses.schedule();\r\n                }\r\n            }, onUnexpectedError);\r\n        }, 250);\r\n        this._localToDispose.add(scheduler);\r\n        this._localToDispose.add(detectVisibleLenses);\r\n        this._localToDispose.add(this._editor.onDidChangeModelContent(function () {\r\n            _this._editor.changeDecorations(function (decorationsAccessor) {\r\n                _this._editor.changeViewZones(function (viewZonesAccessor) {\r\n                    var toDispose = [];\r\n                    var lastLensLineNumber = -1;\r\n                    _this._lenses.forEach(function (lens) {\r\n                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\r\n                            // invalid -> lens collapsed, attach range doesn't exist anymore\r\n                            // line_number -> lenses should never be on the same line\r\n                            toDispose.push(lens);\r\n                        }\r\n                        else {\r\n                            lens.update(viewZonesAccessor);\r\n                            lastLensLineNumber = lens.getLineNumber();\r\n                        }\r\n                    });\r\n                    var helper = new CodeLensHelper();\r\n                    toDispose.forEach(function (l) {\r\n                        l.dispose(helper, viewZonesAccessor);\r\n                        _this._lenses.splice(_this._lenses.indexOf(l), 1);\r\n                    });\r\n                    helper.commit(decorationsAccessor);\r\n                });\r\n            });\r\n            // Compute new `visible` code lenses\r\n            detectVisibleLenses.schedule();\r\n            // Ask for all references again\r\n            scheduler.schedule();\r\n        }));\r\n        this._localToDispose.add(this._editor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged && _this._lenses.length > 0) {\r\n                detectVisibleLenses.schedule();\r\n            }\r\n        }));\r\n        this._localToDispose.add(this._editor.onDidLayoutChange(function () {\r\n            detectVisibleLenses.schedule();\r\n        }));\r\n        this._localToDispose.add(toDisposable(function () {\r\n            if (_this._editor.getModel()) {\r\n                var scrollState = StableEditorScrollState.capture(_this._editor);\r\n                _this._editor.changeDecorations(function (decorationsAccessor) {\r\n                    _this._editor.changeViewZones(function (viewZonesAccessor) {\r\n                        _this._disposeAllLenses(decorationsAccessor, viewZonesAccessor);\r\n                    });\r\n                });\r\n                scrollState.restore(_this._editor);\r\n            }\r\n            else {\r\n                // No accessors available\r\n                _this._disposeAllLenses(undefined, undefined);\r\n            }\r\n        }));\r\n        this._localToDispose.add(this._editor.onMouseUp(function (e) {\r\n            var _a;\r\n            if (e.target.type !== 9 /* CONTENT_WIDGET */) {\r\n                return;\r\n            }\r\n            var target = e.target.element;\r\n            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'SPAN') {\r\n                target = target.parentElement;\r\n            }\r\n            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'A') {\r\n                for (var _i = 0, _b = _this._lenses; _i < _b.length; _i++) {\r\n                    var lens = _b[_i];\r\n                    var command = lens.getCommand(target);\r\n                    if (command) {\r\n                        (_a = _this._commandService).executeCommand.apply(_a, __spreadArrays([command.id], (command.arguments || []))).catch(function (err) { return _this._notificationService.error(err); });\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        scheduler.schedule();\r\n    };\r\n    CodeLensContribution.prototype._disposeAllLenses = function (decChangeAccessor, viewZoneChangeAccessor) {\r\n        var helper = new CodeLensHelper();\r\n        for (var _i = 0, _a = this._lenses; _i < _a.length; _i++) {\r\n            var lens = _a[_i];\r\n            lens.dispose(helper, viewZoneChangeAccessor);\r\n        }\r\n        if (decChangeAccessor) {\r\n            helper.commit(decChangeAccessor);\r\n        }\r\n        this._lenses = [];\r\n    };\r\n    CodeLensContribution.prototype._renderCodeLensSymbols = function (symbols) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var maxLineNumber = this._editor.getModel().getLineCount();\r\n        var groups = [];\r\n        var lastGroup;\r\n        for (var _i = 0, _a = symbols.lenses; _i < _a.length; _i++) {\r\n            var symbol = _a[_i];\r\n            var line = symbol.symbol.range.startLineNumber;\r\n            if (line < 1 || line > maxLineNumber) {\r\n                // invalid code lens\r\n                continue;\r\n            }\r\n            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\r\n                // on same line as previous\r\n                lastGroup.push(symbol);\r\n            }\r\n            else {\r\n                // on later line as previous\r\n                lastGroup = [symbol];\r\n                groups.push(lastGroup);\r\n            }\r\n        }\r\n        var scrollState = StableEditorScrollState.capture(this._editor);\r\n        this._editor.changeDecorations(function (decorationsAccessor) {\r\n            _this._editor.changeViewZones(function (viewZoneAccessor) {\r\n                var helper = new CodeLensHelper();\r\n                var codeLensIndex = 0;\r\n                var groupsIndex = 0;\r\n                while (groupsIndex < groups.length && codeLensIndex < _this._lenses.length) {\r\n                    var symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\r\n                    var codeLensLineNumber = _this._lenses[codeLensIndex].getLineNumber();\r\n                    if (codeLensLineNumber < symbolsLineNumber) {\r\n                        _this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\r\n                        _this._lenses.splice(codeLensIndex, 1);\r\n                    }\r\n                    else if (codeLensLineNumber === symbolsLineNumber) {\r\n                        _this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\r\n                        groupsIndex++;\r\n                        codeLensIndex++;\r\n                    }\r\n                    else {\r\n                        _this._lenses.splice(codeLensIndex, 0, new CodeLensWidget(groups[groupsIndex], _this._editor, _this._styleClassName, helper, viewZoneAccessor, function () { return _this._detectVisibleLenses && _this._detectVisibleLenses.schedule(); }));\r\n                        codeLensIndex++;\r\n                        groupsIndex++;\r\n                    }\r\n                }\r\n                // Delete extra code lenses\r\n                while (codeLensIndex < _this._lenses.length) {\r\n                    _this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\r\n                    _this._lenses.splice(codeLensIndex, 1);\r\n                }\r\n                // Create extra symbols\r\n                while (groupsIndex < groups.length) {\r\n                    _this._lenses.push(new CodeLensWidget(groups[groupsIndex], _this._editor, _this._styleClassName, helper, viewZoneAccessor, function () { return _this._detectVisibleLenses && _this._detectVisibleLenses.schedule(); }));\r\n                    groupsIndex++;\r\n                }\r\n                helper.commit(decorationsAccessor);\r\n            });\r\n        });\r\n        scrollState.restore(this._editor);\r\n    };\r\n    CodeLensContribution.prototype._onViewportChanged = function () {\r\n        var _this = this;\r\n        if (this._currentResolveCodeLensSymbolsPromise) {\r\n            this._currentResolveCodeLensSymbolsPromise.cancel();\r\n            this._currentResolveCodeLensSymbolsPromise = undefined;\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        var toResolve = [];\r\n        var lenses = [];\r\n        this._lenses.forEach(function (lens) {\r\n            var request = lens.computeIfNecessary(model);\r\n            if (request) {\r\n                toResolve.push(request);\r\n                lenses.push(lens);\r\n            }\r\n        });\r\n        if (toResolve.length === 0) {\r\n            return;\r\n        }\r\n        var resolvePromise = createCancelablePromise(function (token) {\r\n            var promises = toResolve.map(function (request, i) {\r\n                var resolvedSymbols = new Array(request.length);\r\n                var promises = request.map(function (request, i) {\r\n                    if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') {\r\n                        return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then(function (symbol) {\r\n                            resolvedSymbols[i] = symbol;\r\n                        }, onUnexpectedExternalError);\r\n                    }\r\n                    else {\r\n                        resolvedSymbols[i] = request.symbol;\r\n                        return Promise.resolve(undefined);\r\n                    }\r\n                });\r\n                return Promise.all(promises).then(function () {\r\n                    if (!token.isCancellationRequested && !lenses[i].isDisposed()) {\r\n                        lenses[i].updateCommands(resolvedSymbols);\r\n                    }\r\n                });\r\n            });\r\n            return Promise.all(promises);\r\n        });\r\n        this._currentResolveCodeLensSymbolsPromise = resolvePromise;\r\n        this._currentResolveCodeLensSymbolsPromise.then(function () {\r\n            if (_this._currentCodeLensModel) { // update the cached state with new resolved items\r\n                _this._codeLensCache.put(model, _this._currentCodeLensModel);\r\n            }\r\n            _this._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model\r\n            if (resolvePromise === _this._currentResolveCodeLensSymbolsPromise) {\r\n                _this._currentResolveCodeLensSymbolsPromise = undefined;\r\n            }\r\n        }, function (err) {\r\n            onUnexpectedError(err); // can also be cancellation!\r\n            if (resolvePromise === _this._currentResolveCodeLensSymbolsPromise) {\r\n                _this._currentResolveCodeLensSymbolsPromise = undefined;\r\n            }\r\n        });\r\n    };\r\n    CodeLensContribution.ID = 'css.editor.codeLens';\r\n    CodeLensContribution = __decorate([\r\n        __param(1, ICommandService),\r\n        __param(2, INotificationService),\r\n        __param(3, ICodeLensCache)\r\n    ], CodeLensContribution);\r\n    return CodeLensContribution;\r\n}());\r\nexport { CodeLensContribution };\r\nregisterEditorContribution(CodeLensContribution.ID, CodeLensContribution);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ColorProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nexport function getColors(model, token) {\r\n    var colors = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideDocumentColors(model, token)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\r\n                var colorInfo = result_1[_i];\r\n                colors.push({ colorInfo: colorInfo, provider: provider });\r\n            }\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return colors; });\r\n}\r\nexport function getColorPresentations(model, colorInfo, provider, token) {\r\n    return Promise.resolve(provider.provideColorPresentations(model, colorInfo, token));\r\n}\r\nregisterLanguageCommand('_executeDocumentColorProvider', function (accessor, args) {\r\n    var resource = args.resource;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var rawCIs = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideDocumentColors(model, CancellationToken.None)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            for (var _i = 0, result_2 = result; _i < result_2.length; _i++) {\r\n                var ci = result_2[_i];\r\n                rawCIs.push({ range: ci.range, color: [ci.color.red, ci.color.green, ci.color.blue, ci.color.alpha] });\r\n            }\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return rawCIs; });\r\n});\r\nregisterLanguageCommand('_executeColorPresentationProvider', function (accessor, args) {\r\n    var resource = args.resource, color = args.color, range = args.range;\r\n    if (!(resource instanceof URI) || !Array.isArray(color) || color.length !== 4 || !Range.isIRange(range)) {\r\n        throw illegalArgument();\r\n    }\r\n    var red = color[0], green = color[1], blue = color[2], alpha = color[3];\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var colorInfo = {\r\n        range: range,\r\n        color: { red: red, green: green, blue: blue, alpha: alpha }\r\n    };\r\n    var presentations = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideColorPresentations(model, colorInfo, CancellationToken.None)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            presentations.push.apply(presentations, result);\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return presentations; });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { TimeoutTimer, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { RGBA } from '../../../base/common/color.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { hash } from '../../../base/common/hash.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { ColorProviderRegistry } from '../../common/modes.js';\r\nimport { getColors } from './color.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nvar MAX_DECORATORS = 500;\r\nvar ColorDetector = /** @class */ (function (_super) {\r\n    __extends(ColorDetector, _super);\r\n    function ColorDetector(_editor, _codeEditorService, _configurationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._codeEditorService = _codeEditorService;\r\n        _this._configurationService = _configurationService;\r\n        _this._localToDispose = _this._register(new DisposableStore());\r\n        _this._decorationsIds = [];\r\n        _this._colorDatas = new Map();\r\n        _this._colorDecoratorIds = [];\r\n        _this._decorationsTypes = new Set();\r\n        _this._register(_editor.onDidChangeModel(function (e) {\r\n            _this._isEnabled = _this.isEnabled();\r\n            _this.onModelChanged();\r\n        }));\r\n        _this._register(_editor.onDidChangeModelLanguage(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(ColorProviderRegistry.onDidChange(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(_editor.onDidChangeConfiguration(function (e) {\r\n            var prevIsEnabled = _this._isEnabled;\r\n            _this._isEnabled = _this.isEnabled();\r\n            if (prevIsEnabled !== _this._isEnabled) {\r\n                if (_this._isEnabled) {\r\n                    _this.onModelChanged();\r\n                }\r\n                else {\r\n                    _this.removeAllDecorations();\r\n                }\r\n            }\r\n        }));\r\n        _this._timeoutTimer = null;\r\n        _this._computePromise = null;\r\n        _this._isEnabled = _this.isEnabled();\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    ColorDetector.prototype.isEnabled = function () {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return false;\r\n        }\r\n        var languageId = model.getLanguageIdentifier();\r\n        // handle deprecated settings. [languageId].colorDecorators.enable\r\n        var deprecatedConfig = this._configurationService.getValue(languageId.language);\r\n        if (deprecatedConfig) {\r\n            var colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\r\n            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\r\n                return colorDecorators['enable'];\r\n            }\r\n        }\r\n        return this._editor.getOption(12 /* colorDecorators */);\r\n    };\r\n    ColorDetector.get = function (editor) {\r\n        return editor.getContribution(this.ID);\r\n    };\r\n    ColorDetector.prototype.dispose = function () {\r\n        this.stop();\r\n        this.removeAllDecorations();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ColorDetector.prototype.onModelChanged = function () {\r\n        var _this = this;\r\n        this.stop();\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!model || !ColorProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        this._localToDispose.add(this._editor.onDidChangeModelContent(function (e) {\r\n            if (!_this._timeoutTimer) {\r\n                _this._timeoutTimer = new TimeoutTimer();\r\n                _this._timeoutTimer.cancelAndSet(function () {\r\n                    _this._timeoutTimer = null;\r\n                    _this.beginCompute();\r\n                }, ColorDetector.RECOMPUTE_TIME);\r\n            }\r\n        }));\r\n        this.beginCompute();\r\n    };\r\n    ColorDetector.prototype.beginCompute = function () {\r\n        var _this = this;\r\n        this._computePromise = createCancelablePromise(function (token) {\r\n            var model = _this._editor.getModel();\r\n            if (!model) {\r\n                return Promise.resolve([]);\r\n            }\r\n            return getColors(model, token);\r\n        });\r\n        this._computePromise.then(function (colorInfos) {\r\n            _this.updateDecorations(colorInfos);\r\n            _this.updateColorDecorators(colorInfos);\r\n            _this._computePromise = null;\r\n        }, onUnexpectedError);\r\n    };\r\n    ColorDetector.prototype.stop = function () {\r\n        if (this._timeoutTimer) {\r\n            this._timeoutTimer.cancel();\r\n            this._timeoutTimer = null;\r\n        }\r\n        if (this._computePromise) {\r\n            this._computePromise.cancel();\r\n            this._computePromise = null;\r\n        }\r\n        this._localToDispose.clear();\r\n    };\r\n    ColorDetector.prototype.updateDecorations = function (colorDatas) {\r\n        var _this = this;\r\n        var decorations = colorDatas.map(function (c) { return ({\r\n            range: {\r\n                startLineNumber: c.colorInfo.range.startLineNumber,\r\n                startColumn: c.colorInfo.range.startColumn,\r\n                endLineNumber: c.colorInfo.range.endLineNumber,\r\n                endColumn: c.colorInfo.range.endColumn\r\n            },\r\n            options: ModelDecorationOptions.EMPTY\r\n        }); });\r\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, decorations);\r\n        this._colorDatas = new Map();\r\n        this._decorationsIds.forEach(function (id, i) { return _this._colorDatas.set(id, colorDatas[i]); });\r\n    };\r\n    ColorDetector.prototype.updateColorDecorators = function (colorData) {\r\n        var _this = this;\r\n        var decorations = [];\r\n        var newDecorationsTypes = {};\r\n        for (var i = 0; i < colorData.length && decorations.length < MAX_DECORATORS; i++) {\r\n            var _a = colorData[i].colorInfo.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\r\n            var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\r\n            var subKey = hash(rgba).toString(16);\r\n            var color = \"rgba(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \", \" + rgba.a + \")\";\r\n            var key = 'colorBox-' + subKey;\r\n            if (!this._decorationsTypes.has(key) && !newDecorationsTypes[key]) {\r\n                this._codeEditorService.registerDecorationType(key, {\r\n                    before: {\r\n                        contentText: ' ',\r\n                        border: 'solid 0.1em #000',\r\n                        margin: '0.1em 0.2em 0 0.2em',\r\n                        width: '0.8em',\r\n                        height: '0.8em',\r\n                        backgroundColor: color\r\n                    },\r\n                    dark: {\r\n                        before: {\r\n                            border: 'solid 0.1em #eee'\r\n                        }\r\n                    }\r\n                }, undefined, this._editor);\r\n            }\r\n            newDecorationsTypes[key] = true;\r\n            decorations.push({\r\n                range: {\r\n                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,\r\n                    startColumn: colorData[i].colorInfo.range.startColumn,\r\n                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,\r\n                    endColumn: colorData[i].colorInfo.range.endColumn\r\n                },\r\n                options: this._codeEditorService.resolveDecorationOptions(key, true)\r\n            });\r\n        }\r\n        this._decorationsTypes.forEach(function (subType) {\r\n            if (!newDecorationsTypes[subType]) {\r\n                _this._codeEditorService.removeDecorationType(subType);\r\n            }\r\n        });\r\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, decorations);\r\n    };\r\n    ColorDetector.prototype.removeAllDecorations = function () {\r\n        var _this = this;\r\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, []);\r\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, []);\r\n        this._decorationsTypes.forEach(function (subType) {\r\n            _this._codeEditorService.removeDecorationType(subType);\r\n        });\r\n    };\r\n    ColorDetector.prototype.getColorData = function (position) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return null;\r\n        }\r\n        var decorations = model\r\n            .getDecorationsInRange(Range.fromPositions(position, position))\r\n            .filter(function (d) { return _this._colorDatas.has(d.id); });\r\n        if (decorations.length === 0) {\r\n            return null;\r\n        }\r\n        return this._colorDatas.get(decorations[0].id);\r\n    };\r\n    ColorDetector.ID = 'editor.contrib.colorDetector';\r\n    ColorDetector.RECOMPUTE_TIME = 1000; // ms\r\n    ColorDetector = __decorate([\r\n        __param(1, ICodeEditorService),\r\n        __param(2, IConfigurationService)\r\n    ], ColorDetector);\r\n    return ColorDetector;\r\n}(Disposable));\r\nexport { ColorDetector };\r\nregisterEditorContribution(ColorDetector.ID, ColorDetector);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nvar BlockCommentCommand = /** @class */ (function () {\r\n    function BlockCommentCommand(selection, insertSpace) {\r\n        this._selection = selection;\r\n        this._insertSpace = insertSpace;\r\n        this._usedEndToken = null;\r\n    }\r\n    BlockCommentCommand._haystackHasNeedleAtOffset = function (haystack, needle, offset) {\r\n        if (offset < 0) {\r\n            return false;\r\n        }\r\n        var needleLength = needle.length;\r\n        var haystackLength = haystack.length;\r\n        if (offset + needleLength > haystackLength) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < needleLength; i++) {\r\n            var codeA = haystack.charCodeAt(offset + i);\r\n            var codeB = needle.charCodeAt(i);\r\n            if (codeA === codeB) {\r\n                continue;\r\n            }\r\n            if (codeA >= 65 /* A */ && codeA <= 90 /* Z */ && codeA + 32 === codeB) {\r\n                // codeA is upper-case variant of codeB\r\n                continue;\r\n            }\r\n            if (codeB >= 65 /* A */ && codeB <= 90 /* Z */ && codeB + 32 === codeA) {\r\n                // codeB is upper-case variant of codeA\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    BlockCommentCommand.prototype._createOperationsForBlockComment = function (selection, startToken, endToken, insertSpace, model, builder) {\r\n        var startLineNumber = selection.startLineNumber;\r\n        var startColumn = selection.startColumn;\r\n        var endLineNumber = selection.endLineNumber;\r\n        var endColumn = selection.endColumn;\r\n        var startLineText = model.getLineContent(startLineNumber);\r\n        var endLineText = model.getLineContent(endLineNumber);\r\n        var startTokenIndex = startLineText.lastIndexOf(startToken, startColumn - 1 + startToken.length);\r\n        var endTokenIndex = endLineText.indexOf(endToken, endColumn - 1 - endToken.length);\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            if (startLineNumber === endLineNumber) {\r\n                var lineBetweenTokens = startLineText.substring(startTokenIndex + startToken.length, endTokenIndex);\r\n                if (lineBetweenTokens.indexOf(endToken) >= 0) {\r\n                    // force to add a block comment\r\n                    startTokenIndex = -1;\r\n                    endTokenIndex = -1;\r\n                }\r\n            }\r\n            else {\r\n                var startLineAfterStartToken = startLineText.substring(startTokenIndex + startToken.length);\r\n                var endLineBeforeEndToken = endLineText.substring(0, endTokenIndex);\r\n                if (startLineAfterStartToken.indexOf(endToken) >= 0 || endLineBeforeEndToken.indexOf(endToken) >= 0) {\r\n                    // force to add a block comment\r\n                    startTokenIndex = -1;\r\n                    endTokenIndex = -1;\r\n                }\r\n            }\r\n        }\r\n        var ops;\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            // Consider spaces as part of the comment tokens\r\n            if (insertSpace && startTokenIndex + startToken.length < startLineText.length && startLineText.charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\r\n                // Pretend the start token contains a trailing space\r\n                startToken = startToken + ' ';\r\n            }\r\n            if (insertSpace && endTokenIndex > 0 && endLineText.charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\r\n                // Pretend the end token contains a leading space\r\n                endToken = ' ' + endToken;\r\n                endTokenIndex -= 1;\r\n            }\r\n            ops = BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\r\n        }\r\n        else {\r\n            ops = BlockCommentCommand._createAddBlockCommentOperations(selection, startToken, endToken, this._insertSpace);\r\n            this._usedEndToken = ops.length === 1 ? endToken : null;\r\n        }\r\n        for (var _i = 0, ops_1 = ops; _i < ops_1.length; _i++) {\r\n            var op = ops_1[_i];\r\n            builder.addTrackedEditOperation(op.range, op.text);\r\n        }\r\n    };\r\n    BlockCommentCommand._createRemoveBlockCommentOperations = function (r, startToken, endToken) {\r\n        var res = [];\r\n        if (!Range.isEmpty(r)) {\r\n            // Remove block comment start\r\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.startLineNumber, r.startColumn)));\r\n            // Remove block comment end\r\n            res.push(EditOperation.delete(new Range(r.endLineNumber, r.endColumn, r.endLineNumber, r.endColumn + endToken.length)));\r\n        }\r\n        else {\r\n            // Remove both continuously\r\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.endLineNumber, r.endColumn + endToken.length)));\r\n        }\r\n        return res;\r\n    };\r\n    BlockCommentCommand._createAddBlockCommentOperations = function (r, startToken, endToken, insertSpace) {\r\n        var res = [];\r\n        if (!Range.isEmpty(r)) {\r\n            // Insert block comment start\r\n            res.push(EditOperation.insert(new Position(r.startLineNumber, r.startColumn), startToken + (insertSpace ? ' ' : '')));\r\n            // Insert block comment end\r\n            res.push(EditOperation.insert(new Position(r.endLineNumber, r.endColumn), (insertSpace ? ' ' : '') + endToken));\r\n        }\r\n        else {\r\n            // Insert both continuously\r\n            res.push(EditOperation.replace(new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn), startToken + '  ' + endToken));\r\n        }\r\n        return res;\r\n    };\r\n    BlockCommentCommand.prototype.getEditOperations = function (model, builder) {\r\n        var startLineNumber = this._selection.startLineNumber;\r\n        var startColumn = this._selection.startColumn;\r\n        model.tokenizeIfCheap(startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, startColumn);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\r\n            // Mode does not support block comments\r\n            return;\r\n        }\r\n        this._createOperationsForBlockComment(this._selection, config.blockCommentStartToken, config.blockCommentEndToken, this._insertSpace, model, builder);\r\n    };\r\n    BlockCommentCommand.prototype.computeCursorState = function (model, helper) {\r\n        var inverseEditOperations = helper.getInverseEditOperations();\r\n        if (inverseEditOperations.length === 2) {\r\n            var startTokenEditOperation = inverseEditOperations[0];\r\n            var endTokenEditOperation = inverseEditOperations[1];\r\n            return new Selection(startTokenEditOperation.range.endLineNumber, startTokenEditOperation.range.endColumn, endTokenEditOperation.range.startLineNumber, endTokenEditOperation.range.startColumn);\r\n        }\r\n        else {\r\n            var srcRange = inverseEditOperations[0].range;\r\n            var deltaColumn = this._usedEndToken ? -this._usedEndToken.length - 1 : 0; // minus 1 space before endToken\r\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn + deltaColumn, srcRange.endLineNumber, srcRange.endColumn + deltaColumn);\r\n        }\r\n    };\r\n    return BlockCommentCommand;\r\n}());\r\nexport { BlockCommentCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { BlockCommentCommand } from './blockCommentCommand.js';\r\nvar LineCommentCommand = /** @class */ (function () {\r\n    function LineCommentCommand(selection, tabSize, type, insertSpace) {\r\n        this._selection = selection;\r\n        this._tabSize = tabSize;\r\n        this._type = type;\r\n        this._insertSpace = insertSpace;\r\n        this._selectionId = null;\r\n        this._deltaColumn = 0;\r\n        this._moveEndPositionDown = false;\r\n    }\r\n    /**\r\n     * Do an initial pass over the lines and gather info about the line comment string.\r\n     * Returns null if any of the lines doesn't support a line comment string.\r\n     */\r\n    LineCommentCommand._gatherPreflightCommentStrings = function (model, startLineNumber, endLineNumber) {\r\n        model.tokenizeIfCheap(startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, 1);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        var commentStr = (config ? config.lineCommentToken : null);\r\n        if (!commentStr) {\r\n            // Mode does not support line comments\r\n            return null;\r\n        }\r\n        var lines = [];\r\n        for (var i = 0, lineCount = endLineNumber - startLineNumber + 1; i < lineCount; i++) {\r\n            lines[i] = {\r\n                ignore: false,\r\n                commentStr: commentStr,\r\n                commentStrOffset: 0,\r\n                commentStrLength: commentStr.length\r\n            };\r\n        }\r\n        return lines;\r\n    };\r\n    /**\r\n     * Analyze lines and decide which lines are relevant and what the toggle should do.\r\n     * Also, build up several offsets and lengths useful in the generation of editor operations.\r\n     */\r\n    LineCommentCommand._analyzeLines = function (type, insertSpace, model, lines, startLineNumber) {\r\n        var onlyWhitespaceLines = true;\r\n        var shouldRemoveComments;\r\n        if (type === 0 /* Toggle */) {\r\n            shouldRemoveComments = true;\r\n        }\r\n        else if (type === 1 /* ForceAdd */) {\r\n            shouldRemoveComments = false;\r\n        }\r\n        else {\r\n            shouldRemoveComments = true;\r\n        }\r\n        for (var i = 0, lineCount = lines.length; i < lineCount; i++) {\r\n            var lineData = lines[i];\r\n            var lineNumber = startLineNumber + i;\r\n            var lineContent = model.getLineContent(lineNumber);\r\n            var lineContentStartOffset = strings.firstNonWhitespaceIndex(lineContent);\r\n            if (lineContentStartOffset === -1) {\r\n                // Empty or whitespace only line\r\n                if (type === 0 /* Toggle */) {\r\n                    lineData.ignore = true;\r\n                }\r\n                else if (type === 1 /* ForceAdd */) {\r\n                    lineData.ignore = true;\r\n                }\r\n                else {\r\n                    lineData.ignore = true;\r\n                }\r\n                lineData.commentStrOffset = lineContent.length;\r\n                continue;\r\n            }\r\n            onlyWhitespaceLines = false;\r\n            lineData.ignore = false;\r\n            lineData.commentStrOffset = lineContentStartOffset;\r\n            if (shouldRemoveComments && !BlockCommentCommand._haystackHasNeedleAtOffset(lineContent, lineData.commentStr, lineContentStartOffset)) {\r\n                if (type === 0 /* Toggle */) {\r\n                    // Every line so far has been a line comment, but this one is not\r\n                    shouldRemoveComments = false;\r\n                }\r\n                else if (type === 1 /* ForceAdd */) {\r\n                    // Will not happen\r\n                }\r\n                else {\r\n                    lineData.ignore = true;\r\n                }\r\n            }\r\n            if (shouldRemoveComments && insertSpace) {\r\n                // Remove a following space if present\r\n                var commentStrEndOffset = lineContentStartOffset + lineData.commentStrLength;\r\n                if (commentStrEndOffset < lineContent.length && lineContent.charCodeAt(commentStrEndOffset) === 32 /* Space */) {\r\n                    lineData.commentStrLength += 1;\r\n                }\r\n            }\r\n        }\r\n        if (type === 0 /* Toggle */ && onlyWhitespaceLines) {\r\n            // For only whitespace lines, we insert comments\r\n            shouldRemoveComments = false;\r\n            // Also, no longer ignore them\r\n            for (var i = 0, lineCount = lines.length; i < lineCount; i++) {\r\n                lines[i].ignore = false;\r\n            }\r\n        }\r\n        return {\r\n            supported: true,\r\n            shouldRemoveComments: shouldRemoveComments,\r\n            lines: lines\r\n        };\r\n    };\r\n    /**\r\n     * Analyze all lines and decide exactly what to do => not supported | insert line comments | remove line comments\r\n     */\r\n    LineCommentCommand._gatherPreflightData = function (type, insertSpace, model, startLineNumber, endLineNumber) {\r\n        var lines = LineCommentCommand._gatherPreflightCommentStrings(model, startLineNumber, endLineNumber);\r\n        if (lines === null) {\r\n            return {\r\n                supported: false\r\n            };\r\n        }\r\n        return LineCommentCommand._analyzeLines(type, insertSpace, model, lines, startLineNumber);\r\n    };\r\n    /**\r\n     * Given a successful analysis, execute either insert line comments, either remove line comments\r\n     */\r\n    LineCommentCommand.prototype._executeLineComments = function (model, builder, data, s) {\r\n        var ops;\r\n        if (data.shouldRemoveComments) {\r\n            ops = LineCommentCommand._createRemoveLineCommentsOperations(data.lines, s.startLineNumber);\r\n        }\r\n        else {\r\n            LineCommentCommand._normalizeInsertionPoint(model, data.lines, s.startLineNumber, this._tabSize);\r\n            ops = this._createAddLineCommentsOperations(data.lines, s.startLineNumber);\r\n        }\r\n        var cursorPosition = new Position(s.positionLineNumber, s.positionColumn);\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            builder.addEditOperation(ops[i].range, ops[i].text);\r\n            if (ops[i].range.isEmpty() && ops[i].range.getStartPosition().equals(cursorPosition)) {\r\n                var lineContent = model.getLineContent(cursorPosition.lineNumber);\r\n                if (lineContent.length + 1 === cursorPosition.column) {\r\n                    this._deltaColumn = (ops[i].text || '').length;\r\n                }\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n    };\r\n    LineCommentCommand.prototype._attemptRemoveBlockComment = function (model, s, startToken, endToken) {\r\n        var startLineNumber = s.startLineNumber;\r\n        var endLineNumber = s.endLineNumber;\r\n        var startTokenAllowedBeforeColumn = endToken.length + Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.startColumn);\r\n        var startTokenIndex = model.getLineContent(startLineNumber).lastIndexOf(startToken, startTokenAllowedBeforeColumn - 1);\r\n        var endTokenIndex = model.getLineContent(endLineNumber).indexOf(endToken, s.endColumn - 1 - startToken.length);\r\n        if (startTokenIndex !== -1 && endTokenIndex === -1) {\r\n            endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\r\n            endLineNumber = startLineNumber;\r\n        }\r\n        if (startTokenIndex === -1 && endTokenIndex !== -1) {\r\n            startTokenIndex = model.getLineContent(endLineNumber).lastIndexOf(startToken, endTokenIndex);\r\n            startLineNumber = endLineNumber;\r\n        }\r\n        if (s.isEmpty() && (startTokenIndex === -1 || endTokenIndex === -1)) {\r\n            startTokenIndex = model.getLineContent(startLineNumber).indexOf(startToken);\r\n            if (startTokenIndex !== -1) {\r\n                endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\r\n            }\r\n        }\r\n        // We have to adjust to possible inner white space.\r\n        // For Space after startToken, add Space to startToken - range math will work out.\r\n        if (startTokenIndex !== -1 && model.getLineContent(startLineNumber).charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\r\n            startToken += ' ';\r\n        }\r\n        // For Space before endToken, add Space before endToken and shift index one left.\r\n        if (endTokenIndex !== -1 && model.getLineContent(endLineNumber).charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\r\n            endToken = ' ' + endToken;\r\n            endTokenIndex -= 1;\r\n        }\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            return BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Given an unsuccessful analysis, delegate to the block comment command\r\n     */\r\n    LineCommentCommand.prototype._executeBlockComment = function (model, builder, s) {\r\n        model.tokenizeIfCheap(s.startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(s.startLineNumber, 1);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\r\n            // Mode does not support block comments\r\n            return;\r\n        }\r\n        var startToken = config.blockCommentStartToken;\r\n        var endToken = config.blockCommentEndToken;\r\n        var ops = this._attemptRemoveBlockComment(model, s, startToken, endToken);\r\n        if (!ops) {\r\n            if (s.isEmpty()) {\r\n                var lineContent = model.getLineContent(s.startLineNumber);\r\n                var firstNonWhitespaceIndex = strings.firstNonWhitespaceIndex(lineContent);\r\n                if (firstNonWhitespaceIndex === -1) {\r\n                    // Line is empty or contains only whitespace\r\n                    firstNonWhitespaceIndex = lineContent.length;\r\n                }\r\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, firstNonWhitespaceIndex + 1, s.startLineNumber, lineContent.length + 1), startToken, endToken, this._insertSpace);\r\n            }\r\n            else {\r\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), startToken, endToken, this._insertSpace);\r\n            }\r\n            if (ops.length === 1) {\r\n                // Leave cursor after token and Space\r\n                this._deltaColumn = startToken.length + 1;\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n        for (var _i = 0, ops_1 = ops; _i < ops_1.length; _i++) {\r\n            var op = ops_1[_i];\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n    };\r\n    LineCommentCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._moveEndPositionDown = false;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._moveEndPositionDown = true;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var data = LineCommentCommand._gatherPreflightData(this._type, this._insertSpace, model, s.startLineNumber, s.endLineNumber);\r\n        if (data.supported) {\r\n            return this._executeLineComments(model, builder, data, s);\r\n        }\r\n        return this._executeBlockComment(model, builder, s);\r\n    };\r\n    LineCommentCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moveEndPositionDown) {\r\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\r\n        }\r\n        return new Selection(result.selectionStartLineNumber, result.selectionStartColumn + this._deltaColumn, result.positionLineNumber, result.positionColumn + this._deltaColumn);\r\n    };\r\n    /**\r\n     * Generate edit operations in the remove line comment case\r\n     */\r\n    LineCommentCommand._createRemoveLineCommentsOperations = function (lines, startLineNumber) {\r\n        var res = [];\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            var lineData = lines[i];\r\n            if (lineData.ignore) {\r\n                continue;\r\n            }\r\n            res.push(EditOperation.delete(new Range(startLineNumber + i, lineData.commentStrOffset + 1, startLineNumber + i, lineData.commentStrOffset + lineData.commentStrLength + 1)));\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Generate edit operations in the add line comment case\r\n     */\r\n    LineCommentCommand.prototype._createAddLineCommentsOperations = function (lines, startLineNumber) {\r\n        var res = [];\r\n        var afterCommentStr = this._insertSpace ? ' ' : '';\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            var lineData = lines[i];\r\n            if (lineData.ignore) {\r\n                continue;\r\n            }\r\n            res.push(EditOperation.insert(new Position(startLineNumber + i, lineData.commentStrOffset + 1), lineData.commentStr + afterCommentStr));\r\n        }\r\n        return res;\r\n    };\r\n    LineCommentCommand.nextVisibleColumn = function (currentVisibleColumn, tabSize, isTab, columnSize) {\r\n        if (isTab) {\r\n            return currentVisibleColumn + (tabSize - (currentVisibleColumn % tabSize));\r\n        }\r\n        return currentVisibleColumn + columnSize;\r\n    };\r\n    /**\r\n     * Adjust insertion points to have them vertically aligned in the add line comment case\r\n     */\r\n    LineCommentCommand._normalizeInsertionPoint = function (model, lines, startLineNumber, tabSize) {\r\n        var minVisibleColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */;\r\n        var j;\r\n        var lenJ;\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            if (lines[i].ignore) {\r\n                continue;\r\n            }\r\n            var lineContent = model.getLineContent(startLineNumber + i);\r\n            var currentVisibleColumn = 0;\r\n            for (var j_1 = 0, lenJ_1 = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j_1 < lenJ_1; j_1++) {\r\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j_1) === 9 /* Tab */, 1);\r\n            }\r\n            if (currentVisibleColumn < minVisibleColumn) {\r\n                minVisibleColumn = currentVisibleColumn;\r\n            }\r\n        }\r\n        minVisibleColumn = Math.floor(minVisibleColumn / tabSize) * tabSize;\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            if (lines[i].ignore) {\r\n                continue;\r\n            }\r\n            var lineContent = model.getLineContent(startLineNumber + i);\r\n            var currentVisibleColumn = 0;\r\n            for (j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\r\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */, 1);\r\n            }\r\n            if (currentVisibleColumn > minVisibleColumn) {\r\n                lines[i].commentStrOffset = j - 1;\r\n            }\r\n            else {\r\n                lines[i].commentStrOffset = j;\r\n            }\r\n        }\r\n    };\r\n    return LineCommentCommand;\r\n}());\r\nexport { LineCommentCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { BlockCommentCommand } from './blockCommentCommand.js';\r\nimport { LineCommentCommand } from './lineCommentCommand.js';\r\nvar CommentLineAction = /** @class */ (function (_super) {\r\n    __extends(CommentLineAction, _super);\r\n    function CommentLineAction(type, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._type = type;\r\n        return _this;\r\n    }\r\n    CommentLineAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        var modelOptions = model.getOptions();\r\n        var commentsOptions = editor.getOption(13 /* comments */);\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new LineCommentCommand(selection, modelOptions.tabSize, this._type, commentsOptions.insertSpace));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return CommentLineAction;\r\n}(EditorAction));\r\nvar ToggleCommentLineAction = /** @class */ (function (_super) {\r\n    __extends(ToggleCommentLineAction, _super);\r\n    function ToggleCommentLineAction() {\r\n        return _super.call(this, 0 /* Toggle */, {\r\n            id: 'editor.action.commentLine',\r\n            label: nls.localize('comment.line', \"Toggle Line Comment\"),\r\n            alias: 'Toggle Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 85 /* US_SLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '5_insert',\r\n                title: nls.localize({ key: 'miToggleLineComment', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Line Comment\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    return ToggleCommentLineAction;\r\n}(CommentLineAction));\r\nvar AddLineCommentAction = /** @class */ (function (_super) {\r\n    __extends(AddLineCommentAction, _super);\r\n    function AddLineCommentAction() {\r\n        return _super.call(this, 1 /* ForceAdd */, {\r\n            id: 'editor.action.addCommentLine',\r\n            label: nls.localize('comment.line.add', \"Add Line Comment\"),\r\n            alias: 'Add Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 33 /* KEY_C */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return AddLineCommentAction;\r\n}(CommentLineAction));\r\nvar RemoveLineCommentAction = /** @class */ (function (_super) {\r\n    __extends(RemoveLineCommentAction, _super);\r\n    function RemoveLineCommentAction() {\r\n        return _super.call(this, 2 /* ForceRemove */, {\r\n            id: 'editor.action.removeCommentLine',\r\n            label: nls.localize('comment.line.remove', \"Remove Line Comment\"),\r\n            alias: 'Remove Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 51 /* KEY_U */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return RemoveLineCommentAction;\r\n}(CommentLineAction));\r\nvar BlockCommentAction = /** @class */ (function (_super) {\r\n    __extends(BlockCommentAction, _super);\r\n    function BlockCommentAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.blockComment',\r\n            label: nls.localize('comment.block', \"Toggle Block Comment\"),\r\n            alias: 'Toggle Block Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 31 /* KEY_A */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 31 /* KEY_A */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '5_insert',\r\n                title: nls.localize({ key: 'miToggleBlockComment', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Block Comment\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    BlockCommentAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commentsOptions = editor.getOption(13 /* comments */);\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_2 = selections; _i < selections_2.length; _i++) {\r\n            var selection = selections_2[_i];\r\n            commands.push(new BlockCommentCommand(selection, commentsOptions.insertSpace));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return BlockCommentAction;\r\n}(EditorAction));\r\nregisterEditorAction(ToggleCommentLineAction);\r\nregisterEditorAction(AddLineCommentAction);\r\nregisterEditorAction(RemoveLineCommentAction);\r\nregisterEditorAction(BlockCommentAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { SubmenuAction } from './ui/menu/menu.js';\r\nvar ContextSubMenu = /** @class */ (function (_super) {\r\n    __extends(ContextSubMenu, _super);\r\n    function ContextSubMenu(label, entries) {\r\n        var _this = _super.call(this, label, entries, 'contextsubmenu') || this;\r\n        _this.entries = entries;\r\n        return _this;\r\n    }\r\n    return ContextSubMenu;\r\n}(SubmenuAction));\r\nexport { ContextSubMenu };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { ActionViewItem, Separator } from '../../../base/browser/ui/actionbar/actionbar.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { IMenuService, SubmenuItemAction } from '../../../platform/actions/common/actions.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { ContextSubMenu } from '../../../base/browser/contextmenu.js';\r\nvar ContextMenuController = /** @class */ (function () {\r\n    function ContextMenuController(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService) {\r\n        var _this = this;\r\n        this._contextMenuService = _contextMenuService;\r\n        this._contextViewService = _contextViewService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._keybindingService = _keybindingService;\r\n        this._menuService = _menuService;\r\n        this._toDispose = new DisposableStore();\r\n        this._contextMenuIsBeingShownCount = 0;\r\n        this._editor = editor;\r\n        this._toDispose.add(this._editor.onContextMenu(function (e) { return _this._onContextMenu(e); }));\r\n        this._toDispose.add(this._editor.onMouseWheel(function (e) {\r\n            if (_this._contextMenuIsBeingShownCount > 0) {\r\n                _this._contextViewService.hideContextView();\r\n            }\r\n        }));\r\n        this._toDispose.add(this._editor.onKeyDown(function (e) {\r\n            if (e.keyCode === 58 /* ContextMenu */) {\r\n                // Chrome is funny like that\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                _this.showContextMenu();\r\n            }\r\n        }));\r\n    }\r\n    ContextMenuController.get = function (editor) {\r\n        return editor.getContribution(ContextMenuController.ID);\r\n    };\r\n    ContextMenuController.prototype._onContextMenu = function (e) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._editor.getOption(14 /* contextmenu */)) {\r\n            this._editor.focus();\r\n            // Ensure the cursor is at the position of the mouse click\r\n            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\r\n                this._editor.setPosition(e.target.position);\r\n            }\r\n            return; // Context menu is turned off through configuration\r\n        }\r\n        if (e.target.type === 12 /* OVERLAY_WIDGET */) {\r\n            return; // allow native menu on widgets to support right click on input field for example in find\r\n        }\r\n        e.event.preventDefault();\r\n        if (e.target.type !== 6 /* CONTENT_TEXT */ && e.target.type !== 7 /* CONTENT_EMPTY */ && e.target.type !== 1 /* TEXTAREA */) {\r\n            return; // only support mouse click into text or native context menu key for now\r\n        }\r\n        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\r\n        this._editor.focus();\r\n        // Ensure the cursor is at the position of the mouse click\r\n        if (e.target.position) {\r\n            var hasSelectionAtPosition = false;\r\n            for (var _i = 0, _a = this._editor.getSelections(); _i < _a.length; _i++) {\r\n                var selection = _a[_i];\r\n                if (selection.containsPosition(e.target.position)) {\r\n                    hasSelectionAtPosition = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!hasSelectionAtPosition) {\r\n                this._editor.setPosition(e.target.position);\r\n            }\r\n        }\r\n        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\r\n        var anchor = null;\r\n        if (e.target.type !== 1 /* TEXTAREA */) {\r\n            anchor = { x: e.event.posx - 1, width: 2, y: e.event.posy - 1, height: 2 };\r\n        }\r\n        // Show the context menu\r\n        this.showContextMenu(anchor);\r\n    };\r\n    ContextMenuController.prototype.showContextMenu = function (anchor) {\r\n        if (!this._editor.getOption(14 /* contextmenu */)) {\r\n            return; // Context menu is turned off through configuration\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._contextMenuService) {\r\n            this._editor.focus();\r\n            return; // We need the context menu service to function\r\n        }\r\n        // Find actions available for menu\r\n        var menuActions = this._getMenuActions(this._editor.getModel(), 7 /* EditorContext */);\r\n        // Show menu if we have actions to show\r\n        if (menuActions.length > 0) {\r\n            this._doShowContextMenu(menuActions, anchor);\r\n        }\r\n    };\r\n    ContextMenuController.prototype._getMenuActions = function (model, menuId) {\r\n        var result = [];\r\n        // get menu groups\r\n        var menu = this._menuService.createMenu(menuId, this._contextKeyService);\r\n        var groups = menu.getActions({ arg: model.uri });\r\n        menu.dispose();\r\n        // translate them into other actions\r\n        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\r\n            var group = groups_1[_i];\r\n            var actions = group[1];\r\n            var addedItems = 0;\r\n            for (var _a = 0, actions_1 = actions; _a < actions_1.length; _a++) {\r\n                var action = actions_1[_a];\r\n                if (action instanceof SubmenuItemAction) {\r\n                    var subActions = this._getMenuActions(model, action.item.submenu);\r\n                    if (subActions.length > 0) {\r\n                        result.push(new ContextSubMenu(action.label, subActions));\r\n                        addedItems++;\r\n                    }\r\n                }\r\n                else {\r\n                    result.push(action);\r\n                    addedItems++;\r\n                }\r\n            }\r\n            if (addedItems) {\r\n                result.push(new Separator());\r\n            }\r\n        }\r\n        if (result.length) {\r\n            result.pop(); // remove last separator\r\n        }\r\n        return result;\r\n    };\r\n    ContextMenuController.prototype._doShowContextMenu = function (actions, anchor) {\r\n        var _this = this;\r\n        if (anchor === void 0) { anchor = null; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // Disable hover\r\n        var oldHoverSetting = this._editor.getOption(44 /* hover */);\r\n        this._editor.updateOptions({\r\n            hover: {\r\n                enabled: false\r\n            }\r\n        });\r\n        if (!anchor) {\r\n            // Ensure selection is visible\r\n            this._editor.revealPosition(this._editor.getPosition(), 1 /* Immediate */);\r\n            this._editor.render();\r\n            var cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\r\n            // Translate to absolute editor position\r\n            var editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\r\n            var posx = editorCoords.left + cursorCoords.left;\r\n            var posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n            anchor = { x: posx, y: posy };\r\n        }\r\n        // Show menu\r\n        this._contextMenuIsBeingShownCount++;\r\n        this._contextMenuService.showContextMenu({\r\n            getAnchor: function () { return anchor; },\r\n            getActions: function () { return actions; },\r\n            getActionViewItem: function (action) {\r\n                var keybinding = _this._keybindingFor(action);\r\n                if (keybinding) {\r\n                    return new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel(), isMenu: true });\r\n                }\r\n                var customActionViewItem = action;\r\n                if (typeof customActionViewItem.getActionViewItem === 'function') {\r\n                    return customActionViewItem.getActionViewItem();\r\n                }\r\n                return new ActionViewItem(action, action, { icon: true, label: true, isMenu: true });\r\n            },\r\n            getKeyBinding: function (action) {\r\n                return _this._keybindingFor(action);\r\n            },\r\n            onHide: function (wasCancelled) {\r\n                _this._contextMenuIsBeingShownCount--;\r\n                _this._editor.focus();\r\n                _this._editor.updateOptions({\r\n                    hover: oldHoverSetting\r\n                });\r\n            }\r\n        });\r\n    };\r\n    ContextMenuController.prototype._keybindingFor = function (action) {\r\n        return this._keybindingService.lookupKeybinding(action.id);\r\n    };\r\n    ContextMenuController.prototype.dispose = function () {\r\n        if (this._contextMenuIsBeingShownCount > 0) {\r\n            this._contextViewService.hideContextView();\r\n        }\r\n        this._toDispose.dispose();\r\n    };\r\n    ContextMenuController.ID = 'editor.contrib.contextmenu';\r\n    ContextMenuController = __decorate([\r\n        __param(1, IContextMenuService),\r\n        __param(2, IContextViewService),\r\n        __param(3, IContextKeyService),\r\n        __param(4, IKeybindingService),\r\n        __param(5, IMenuService)\r\n    ], ContextMenuController);\r\n    return ContextMenuController;\r\n}());\r\nexport { ContextMenuController };\r\nvar ShowContextMenu = /** @class */ (function (_super) {\r\n    __extends(ShowContextMenu, _super);\r\n    function ShowContextMenu() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showContextMenu',\r\n            label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\r\n            alias: 'Show Editor Context Menu',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 1024 /* Shift */ | 68 /* F10 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowContextMenu.prototype.run = function (accessor, editor) {\r\n        var contribution = ContextMenuController.get(editor);\r\n        contribution.showContextMenu();\r\n    };\r\n    return ShowContextMenu;\r\n}(EditorAction));\r\nregisterEditorContribution(ContextMenuController.ID, ContextMenuController);\r\nregisterEditorAction(ShowContextMenu);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nvar CursorState = /** @class */ (function () {\r\n    function CursorState(selections) {\r\n        this.selections = selections;\r\n    }\r\n    CursorState.prototype.equals = function (other) {\r\n        var thisLen = this.selections.length;\r\n        var otherLen = other.selections.length;\r\n        if (thisLen !== otherLen) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < thisLen; i++) {\r\n            if (!this.selections[i].equalsSelection(other.selections[i])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return CursorState;\r\n}());\r\nvar StackElement = /** @class */ (function () {\r\n    function StackElement(cursorState, scrollTop, scrollLeft) {\r\n        this.cursorState = cursorState;\r\n        this.scrollTop = scrollTop;\r\n        this.scrollLeft = scrollLeft;\r\n    }\r\n    return StackElement;\r\n}());\r\nvar CursorUndoRedoController = /** @class */ (function (_super) {\r\n    __extends(CursorUndoRedoController, _super);\r\n    function CursorUndoRedoController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._isCursorUndoRedo = false;\r\n        _this._undoStack = [];\r\n        _this._redoStack = [];\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._undoStack = [];\r\n            _this._redoStack = [];\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._undoStack = [];\r\n            _this._redoStack = [];\r\n        }));\r\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\r\n            if (_this._isCursorUndoRedo) {\r\n                return;\r\n            }\r\n            if (!e.oldSelections) {\r\n                return;\r\n            }\r\n            if (e.oldModelVersionId !== e.modelVersionId) {\r\n                return;\r\n            }\r\n            var prevState = new CursorState(e.oldSelections);\r\n            var isEqualToLastUndoStack = (_this._undoStack.length > 0 && _this._undoStack[_this._undoStack.length - 1].cursorState.equals(prevState));\r\n            if (!isEqualToLastUndoStack) {\r\n                _this._undoStack.push(new StackElement(prevState, editor.getScrollTop(), editor.getScrollLeft()));\r\n                _this._redoStack = [];\r\n                if (_this._undoStack.length > 50) {\r\n                    // keep the cursor undo stack bounded\r\n                    _this._undoStack.shift();\r\n                }\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    CursorUndoRedoController.get = function (editor) {\r\n        return editor.getContribution(CursorUndoRedoController.ID);\r\n    };\r\n    CursorUndoRedoController.prototype.cursorUndo = function () {\r\n        if (!this._editor.hasModel() || this._undoStack.length === 0) {\r\n            return;\r\n        }\r\n        this._redoStack.push(new StackElement(new CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));\r\n        this._applyState(this._undoStack.pop());\r\n    };\r\n    CursorUndoRedoController.prototype.cursorRedo = function () {\r\n        if (!this._editor.hasModel() || this._redoStack.length === 0) {\r\n            return;\r\n        }\r\n        this._undoStack.push(new StackElement(new CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));\r\n        this._applyState(this._redoStack.pop());\r\n    };\r\n    CursorUndoRedoController.prototype._applyState = function (stackElement) {\r\n        this._isCursorUndoRedo = true;\r\n        this._editor.setSelections(stackElement.cursorState.selections);\r\n        this._editor.setScrollPosition({\r\n            scrollTop: stackElement.scrollTop,\r\n            scrollLeft: stackElement.scrollLeft\r\n        });\r\n        this._isCursorUndoRedo = false;\r\n    };\r\n    CursorUndoRedoController.ID = 'editor.contrib.cursorUndoRedoController';\r\n    return CursorUndoRedoController;\r\n}(Disposable));\r\nexport { CursorUndoRedoController };\r\nvar CursorUndo = /** @class */ (function (_super) {\r\n    __extends(CursorUndo, _super);\r\n    function CursorUndo() {\r\n        return _super.call(this, {\r\n            id: 'cursorUndo',\r\n            label: nls.localize('cursor.undo', \"Cursor Undo\"),\r\n            alias: 'Cursor Undo',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 51 /* KEY_U */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorUndo.prototype.run = function (accessor, editor, args) {\r\n        CursorUndoRedoController.get(editor).cursorUndo();\r\n    };\r\n    return CursorUndo;\r\n}(EditorAction));\r\nexport { CursorUndo };\r\nvar CursorRedo = /** @class */ (function (_super) {\r\n    __extends(CursorRedo, _super);\r\n    function CursorRedo() {\r\n        return _super.call(this, {\r\n            id: 'cursorRedo',\r\n            label: nls.localize('cursor.redo', \"Cursor Redo\"),\r\n            alias: 'Cursor Redo',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    CursorRedo.prototype.run = function (accessor, editor, args) {\r\n        CursorUndoRedoController.get(editor).cursorRedo();\r\n    };\r\n    return CursorRedo;\r\n}(EditorAction));\r\nexport { CursorRedo };\r\nregisterEditorContribution(CursorUndoRedoController.ID, CursorUndoRedoController);\r\nregisterEditorAction(CursorUndo);\r\nregisterEditorAction(CursorRedo);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar DragAndDropCommand = /** @class */ (function () {\r\n    function DragAndDropCommand(selection, targetPosition, copy) {\r\n        this.selection = selection;\r\n        this.targetPosition = targetPosition;\r\n        this.copy = copy;\r\n        this.targetSelection = null;\r\n    }\r\n    DragAndDropCommand.prototype.getEditOperations = function (model, builder) {\r\n        var text = model.getValueInRange(this.selection);\r\n        if (!this.copy) {\r\n            builder.addEditOperation(this.selection, null);\r\n        }\r\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\r\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\r\n        )) {\r\n            this.targetSelection = this.selection;\r\n            return;\r\n        }\r\n        if (this.copy) {\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\r\n            // Drag the selection downwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\r\n            // Drag the selection upwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        // The target position is at the same line as the selection's end position.\r\n        if (this.selection.endColumn <= this.targetPosition.column) {\r\n            // The target position is after the selection's end position\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column :\r\n                this.selection.endColumn);\r\n        }\r\n        else {\r\n            // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\r\n        }\r\n    };\r\n    DragAndDropCommand.prototype.computeCursorState = function (model, helper) {\r\n        return this.targetSelection;\r\n    };\r\n    return DragAndDropCommand;\r\n}());\r\nexport { DragAndDropCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './dnd.css';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { isMacintosh } from '../../../base/common/platform.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nfunction hasTriggerModifier(e) {\r\n    if (isMacintosh) {\r\n        return e.altKey;\r\n    }\r\n    else {\r\n        return e.ctrlKey;\r\n    }\r\n}\r\nvar DragAndDropController = /** @class */ (function (_super) {\r\n    __extends(DragAndDropController, _super);\r\n    function DragAndDropController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._register(_this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\r\n        _this._register(_this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\r\n        _this._register(_this._editor.onMouseDrag(function (e) { return _this._onEditorMouseDrag(e); }));\r\n        _this._register(_this._editor.onMouseDrop(function (e) { return _this._onEditorMouseDrop(e); }));\r\n        _this._register(_this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(e); }));\r\n        _this._register(_this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(e); }));\r\n        _this._register(_this._editor.onDidBlurEditorWidget(function () { return _this.onEditorBlur(); }));\r\n        _this._dndDecorationIds = [];\r\n        _this._mouseDown = false;\r\n        _this._modifierPressed = false;\r\n        _this._dragSelection = null;\r\n        return _this;\r\n    }\r\n    DragAndDropController.prototype.onEditorBlur = function () {\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n        this._modifierPressed = false;\r\n    };\r\n    DragAndDropController.prototype.onEditorKeyDown = function (e) {\r\n        if (!this._editor.getOption(24 /* dragAndDrop */)) {\r\n            return;\r\n        }\r\n        if (hasTriggerModifier(e)) {\r\n            this._modifierPressed = true;\r\n        }\r\n        if (this._mouseDown && hasTriggerModifier(e)) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'copy'\r\n            });\r\n        }\r\n    };\r\n    DragAndDropController.prototype.onEditorKeyUp = function (e) {\r\n        if (!this._editor.getOption(24 /* dragAndDrop */)) {\r\n            return;\r\n        }\r\n        if (hasTriggerModifier(e)) {\r\n            this._modifierPressed = false;\r\n        }\r\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'default'\r\n            });\r\n        }\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDown = function (mouseEvent) {\r\n        this._mouseDown = true;\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseUp = function (mouseEvent) {\r\n        this._mouseDown = false;\r\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\r\n        this._editor.updateOptions({\r\n            mouseStyle: 'text'\r\n        });\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDrag = function (mouseEvent) {\r\n        var target = mouseEvent.target;\r\n        if (this._dragSelection === null) {\r\n            var selections = this._editor.getSelections() || [];\r\n            var possibleSelections = selections.filter(function (selection) { return target.position && selection.containsPosition(target.position); });\r\n            if (possibleSelections.length === 1) {\r\n                this._dragSelection = possibleSelections[0];\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n        if (hasTriggerModifier(mouseEvent.event)) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'copy'\r\n            });\r\n        }\r\n        else {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'default'\r\n            });\r\n        }\r\n        if (target.position) {\r\n            if (this._dragSelection.containsPosition(target.position)) {\r\n                this._removeDecoration();\r\n            }\r\n            else {\r\n                this.showAt(target.position);\r\n            }\r\n        }\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDrop = function (mouseEvent) {\r\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\r\n            var newCursorPosition_1 = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\r\n            if (this._dragSelection === null) {\r\n                var newSelections = null;\r\n                if (mouseEvent.event.shiftKey) {\r\n                    var primarySelection = this._editor.getSelection();\r\n                    if (primarySelection) {\r\n                        var selectionStartLineNumber = primarySelection.selectionStartLineNumber, selectionStartColumn = primarySelection.selectionStartColumn;\r\n                        newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition_1.lineNumber, newCursorPosition_1.column)];\r\n                    }\r\n                }\r\n                else {\r\n                    newSelections = (this._editor.getSelections() || []).map(function (selection) {\r\n                        if (selection.containsPosition(newCursorPosition_1)) {\r\n                            return new Selection(newCursorPosition_1.lineNumber, newCursorPosition_1.column, newCursorPosition_1.lineNumber, newCursorPosition_1.column);\r\n                        }\r\n                        else {\r\n                            return selection;\r\n                        }\r\n                    });\r\n                }\r\n                // Use `mouse` as the source instead of `api`.\r\n                this._editor.setSelections(newSelections || [], 'mouse');\r\n            }\r\n            else if (!this._dragSelection.containsPosition(newCursorPosition_1) ||\r\n                ((hasTriggerModifier(mouseEvent.event) ||\r\n                    this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition_1) || this._dragSelection.getStartPosition().equals(newCursorPosition_1)) // we allow users to paste content beside the selection\r\n                )) {\r\n                this._editor.pushUndoStop();\r\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition_1, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\r\n                this._editor.pushUndoStop();\r\n            }\r\n        }\r\n        this._editor.updateOptions({\r\n            mouseStyle: 'text'\r\n        });\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n    };\r\n    DragAndDropController.prototype.showAt = function (position) {\r\n        var newDecorations = [{\r\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n                options: DragAndDropController._DECORATION_OPTIONS\r\n            }];\r\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, newDecorations);\r\n        this._editor.revealPosition(position, 1 /* Immediate */);\r\n    };\r\n    DragAndDropController.prototype._removeDecoration = function () {\r\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, []);\r\n    };\r\n    DragAndDropController.prototype._hitContent = function (target) {\r\n        return target.type === 6 /* CONTENT_TEXT */ ||\r\n            target.type === 7 /* CONTENT_EMPTY */;\r\n    };\r\n    DragAndDropController.prototype._hitMargin = function (target) {\r\n        return target.type === 2 /* GUTTER_GLYPH_MARGIN */ ||\r\n            target.type === 3 /* GUTTER_LINE_NUMBERS */ ||\r\n            target.type === 4 /* GUTTER_LINE_DECORATIONS */;\r\n    };\r\n    DragAndDropController.prototype.dispose = function () {\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n        this._modifierPressed = false;\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    DragAndDropController.ID = 'editor.contrib.dragAndDrop';\r\n    DragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* Alt */ : 5 /* Ctrl */;\r\n    DragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\r\n        className: 'dnd-target'\r\n    });\r\n    return DragAndDropController;\r\n}(Disposable));\r\nexport { DragAndDropController };\r\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { OverviewRulerLane, MinimapPosition } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { overviewRulerFindMatchForeground, minimapFindMatch } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nvar FindDecorations = /** @class */ (function () {\r\n    function FindDecorations(editor) {\r\n        this._editor = editor;\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n        this._startPosition = this._editor.getPosition();\r\n    }\r\n    FindDecorations.prototype.dispose = function () {\r\n        this._editor.deltaDecorations(this._allDecorations(), []);\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n    };\r\n    FindDecorations.prototype.reset = function () {\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n    };\r\n    FindDecorations.prototype.getCount = function () {\r\n        return this._decorations.length;\r\n    };\r\n    FindDecorations.prototype.getFindScope = function () {\r\n        if (this._findScopeDecorationId) {\r\n            return this._editor.getModel().getDecorationRange(this._findScopeDecorationId);\r\n        }\r\n        return null;\r\n    };\r\n    FindDecorations.prototype.getStartPosition = function () {\r\n        return this._startPosition;\r\n    };\r\n    FindDecorations.prototype.setStartPosition = function (newStartPosition) {\r\n        this._startPosition = newStartPosition;\r\n        this.setCurrentFindMatch(null);\r\n    };\r\n    FindDecorations.prototype._getDecorationIndex = function (decorationId) {\r\n        var index = this._decorations.indexOf(decorationId);\r\n        if (index >= 0) {\r\n            return index + 1;\r\n        }\r\n        return 1;\r\n    };\r\n    FindDecorations.prototype.getCurrentMatchesPosition = function (desiredRange) {\r\n        var candidates = this._editor.getModel().getDecorationsInRange(desiredRange);\r\n        for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\r\n            var candidate = candidates_1[_i];\r\n            var candidateOpts = candidate.options;\r\n            if (candidateOpts === FindDecorations._FIND_MATCH_DECORATION || candidateOpts === FindDecorations._CURRENT_FIND_MATCH_DECORATION) {\r\n                return this._getDecorationIndex(candidate.id);\r\n            }\r\n        }\r\n        return 1;\r\n    };\r\n    FindDecorations.prototype.setCurrentFindMatch = function (nextMatch) {\r\n        var _this = this;\r\n        var newCurrentDecorationId = null;\r\n        var matchPosition = 0;\r\n        if (nextMatch) {\r\n            for (var i = 0, len = this._decorations.length; i < len; i++) {\r\n                var range = this._editor.getModel().getDecorationRange(this._decorations[i]);\r\n                if (nextMatch.equalsRange(range)) {\r\n                    newCurrentDecorationId = this._decorations[i];\r\n                    matchPosition = (i + 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this._highlightedDecorationId !== null || newCurrentDecorationId !== null) {\r\n            this._editor.changeDecorations(function (changeAccessor) {\r\n                if (_this._highlightedDecorationId !== null) {\r\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._FIND_MATCH_DECORATION);\r\n                    _this._highlightedDecorationId = null;\r\n                }\r\n                if (newCurrentDecorationId !== null) {\r\n                    _this._highlightedDecorationId = newCurrentDecorationId;\r\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._CURRENT_FIND_MATCH_DECORATION);\r\n                }\r\n                if (_this._rangeHighlightDecorationId !== null) {\r\n                    changeAccessor.removeDecoration(_this._rangeHighlightDecorationId);\r\n                    _this._rangeHighlightDecorationId = null;\r\n                }\r\n                if (newCurrentDecorationId !== null) {\r\n                    var rng = _this._editor.getModel().getDecorationRange(newCurrentDecorationId);\r\n                    if (rng.startLineNumber !== rng.endLineNumber && rng.endColumn === 1) {\r\n                        var lineBeforeEnd = rng.endLineNumber - 1;\r\n                        var lineBeforeEndMaxColumn = _this._editor.getModel().getLineMaxColumn(lineBeforeEnd);\r\n                        rng = new Range(rng.startLineNumber, rng.startColumn, lineBeforeEnd, lineBeforeEndMaxColumn);\r\n                    }\r\n                    _this._rangeHighlightDecorationId = changeAccessor.addDecoration(rng, FindDecorations._RANGE_HIGHLIGHT_DECORATION);\r\n                }\r\n            });\r\n        }\r\n        return matchPosition;\r\n    };\r\n    FindDecorations.prototype.set = function (findMatches, findScope) {\r\n        var _this = this;\r\n        this._editor.changeDecorations(function (accessor) {\r\n            var findMatchesOptions = FindDecorations._FIND_MATCH_DECORATION;\r\n            var newOverviewRulerApproximateDecorations = [];\r\n            if (findMatches.length > 1000) {\r\n                // we go into a mode where the overview ruler gets \"approximate\" decorations\r\n                // the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes\r\n                findMatchesOptions = FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;\r\n                // approximate a distance in lines where matches should be merged\r\n                var lineCount = _this._editor.getModel().getLineCount();\r\n                var height = _this._editor.getLayoutInfo().height;\r\n                var approxPixelsPerLine = height / lineCount;\r\n                var mergeLinesDelta = Math.max(2, Math.ceil(3 / approxPixelsPerLine));\r\n                // merge decorations as much as possible\r\n                var prevStartLineNumber = findMatches[0].range.startLineNumber;\r\n                var prevEndLineNumber = findMatches[0].range.endLineNumber;\r\n                for (var i = 1, len = findMatches.length; i < len; i++) {\r\n                    var range = findMatches[i].range;\r\n                    if (prevEndLineNumber + mergeLinesDelta >= range.startLineNumber) {\r\n                        if (range.endLineNumber > prevEndLineNumber) {\r\n                            prevEndLineNumber = range.endLineNumber;\r\n                        }\r\n                    }\r\n                    else {\r\n                        newOverviewRulerApproximateDecorations.push({\r\n                            range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\r\n                            options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\r\n                        });\r\n                        prevStartLineNumber = range.startLineNumber;\r\n                        prevEndLineNumber = range.endLineNumber;\r\n                    }\r\n                }\r\n                newOverviewRulerApproximateDecorations.push({\r\n                    range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\r\n                    options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\r\n                });\r\n            }\r\n            // Find matches\r\n            var newFindMatchesDecorations = new Array(findMatches.length);\r\n            for (var i = 0, len = findMatches.length; i < len; i++) {\r\n                newFindMatchesDecorations[i] = {\r\n                    range: findMatches[i].range,\r\n                    options: findMatchesOptions\r\n                };\r\n            }\r\n            _this._decorations = accessor.deltaDecorations(_this._decorations, newFindMatchesDecorations);\r\n            // Overview ruler approximate decorations\r\n            _this._overviewRulerApproximateDecorations = accessor.deltaDecorations(_this._overviewRulerApproximateDecorations, newOverviewRulerApproximateDecorations);\r\n            // Range highlight\r\n            if (_this._rangeHighlightDecorationId) {\r\n                accessor.removeDecoration(_this._rangeHighlightDecorationId);\r\n                _this._rangeHighlightDecorationId = null;\r\n            }\r\n            // Find scope\r\n            if (_this._findScopeDecorationId) {\r\n                accessor.removeDecoration(_this._findScopeDecorationId);\r\n                _this._findScopeDecorationId = null;\r\n            }\r\n            if (findScope) {\r\n                _this._findScopeDecorationId = accessor.addDecoration(findScope, FindDecorations._FIND_SCOPE_DECORATION);\r\n            }\r\n        });\r\n    };\r\n    FindDecorations.prototype.matchBeforePosition = function (position) {\r\n        if (this._decorations.length === 0) {\r\n            return null;\r\n        }\r\n        for (var i = this._decorations.length - 1; i >= 0; i--) {\r\n            var decorationId = this._decorations[i];\r\n            var r = this._editor.getModel().getDecorationRange(decorationId);\r\n            if (!r || r.endLineNumber > position.lineNumber) {\r\n                continue;\r\n            }\r\n            if (r.endLineNumber < position.lineNumber) {\r\n                return r;\r\n            }\r\n            if (r.endColumn > position.column) {\r\n                continue;\r\n            }\r\n            return r;\r\n        }\r\n        return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length - 1]);\r\n    };\r\n    FindDecorations.prototype.matchAfterPosition = function (position) {\r\n        if (this._decorations.length === 0) {\r\n            return null;\r\n        }\r\n        for (var i = 0, len = this._decorations.length; i < len; i++) {\r\n            var decorationId = this._decorations[i];\r\n            var r = this._editor.getModel().getDecorationRange(decorationId);\r\n            if (!r || r.startLineNumber < position.lineNumber) {\r\n                continue;\r\n            }\r\n            if (r.startLineNumber > position.lineNumber) {\r\n                return r;\r\n            }\r\n            if (r.startColumn < position.column) {\r\n                continue;\r\n            }\r\n            return r;\r\n        }\r\n        return this._editor.getModel().getDecorationRange(this._decorations[0]);\r\n    };\r\n    FindDecorations.prototype._allDecorations = function () {\r\n        var result = [];\r\n        result = result.concat(this._decorations);\r\n        result = result.concat(this._overviewRulerApproximateDecorations);\r\n        if (this._findScopeDecorationId) {\r\n            result.push(this._findScopeDecorationId);\r\n        }\r\n        if (this._rangeHighlightDecorationId) {\r\n            result.push(this._rangeHighlightDecorationId);\r\n        }\r\n        return result;\r\n    };\r\n    FindDecorations._CURRENT_FIND_MATCH_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        zIndex: 13,\r\n        className: 'currentFindMatch',\r\n        showIfCollapsed: true,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        },\r\n        minimap: {\r\n            color: themeColorFromId(minimapFindMatch),\r\n            position: MinimapPosition.Inline\r\n        }\r\n    });\r\n    FindDecorations._FIND_MATCH_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'findMatch',\r\n        showIfCollapsed: true,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        },\r\n        minimap: {\r\n            color: themeColorFromId(minimapFindMatch),\r\n            position: MinimapPosition.Inline\r\n        }\r\n    });\r\n    FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'findMatch',\r\n        showIfCollapsed: true\r\n    });\r\n    FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    FindDecorations._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'rangeHighlight',\r\n        isWholeLine: true\r\n    });\r\n    FindDecorations._FIND_SCOPE_DECORATION = ModelDecorationOptions.register({\r\n        className: 'findScope',\r\n        isWholeLine: true\r\n    });\r\n    return FindDecorations;\r\n}());\r\nexport { FindDecorations };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nvar ReplaceAllCommand = /** @class */ (function () {\r\n    function ReplaceAllCommand(editorSelection, ranges, replaceStrings) {\r\n        this._editorSelection = editorSelection;\r\n        this._ranges = ranges;\r\n        this._replaceStrings = replaceStrings;\r\n        this._trackedEditorSelectionId = null;\r\n    }\r\n    ReplaceAllCommand.prototype.getEditOperations = function (model, builder) {\r\n        if (this._ranges.length > 0) {\r\n            // Collect all edit operations\r\n            var ops = [];\r\n            for (var i = 0; i < this._ranges.length; i++) {\r\n                ops.push({\r\n                    range: this._ranges[i],\r\n                    text: this._replaceStrings[i]\r\n                });\r\n            }\r\n            // Sort them in ascending order by range starts\r\n            ops.sort(function (o1, o2) {\r\n                return Range.compareRangesUsingStarts(o1.range, o2.range);\r\n            });\r\n            // Merge operations that touch each other\r\n            var resultOps = [];\r\n            var previousOp = ops[0];\r\n            for (var i = 1; i < ops.length; i++) {\r\n                if (previousOp.range.endLineNumber === ops[i].range.startLineNumber && previousOp.range.endColumn === ops[i].range.startColumn) {\r\n                    // These operations are one after another and can be merged\r\n                    previousOp.range = previousOp.range.plusRange(ops[i].range);\r\n                    previousOp.text = previousOp.text + ops[i].text;\r\n                }\r\n                else {\r\n                    resultOps.push(previousOp);\r\n                    previousOp = ops[i];\r\n                }\r\n            }\r\n            resultOps.push(previousOp);\r\n            for (var _i = 0, resultOps_1 = resultOps; _i < resultOps_1.length; _i++) {\r\n                var op = resultOps_1[_i];\r\n                builder.addEditOperation(op.range, op.text);\r\n            }\r\n        }\r\n        this._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);\r\n    };\r\n    ReplaceAllCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this._trackedEditorSelectionId);\r\n    };\r\n    return ReplaceAllCommand;\r\n}());\r\nexport { ReplaceAllCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from './strings.js';\r\nexport function buildReplaceStringWithCasePreserved(matches, pattern) {\r\n    if (matches && (matches[0] !== '')) {\r\n        var containsHyphens = validateSpecificSpecialCharacter(matches, pattern, '-');\r\n        var containsUnderscores = validateSpecificSpecialCharacter(matches, pattern, '_');\r\n        if (containsHyphens && !containsUnderscores) {\r\n            return buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '-');\r\n        }\r\n        else if (!containsHyphens && containsUnderscores) {\r\n            return buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '_');\r\n        }\r\n        if (matches[0].toUpperCase() === matches[0]) {\r\n            return pattern.toUpperCase();\r\n        }\r\n        else if (matches[0].toLowerCase() === matches[0]) {\r\n            return pattern.toLowerCase();\r\n        }\r\n        else if (strings.containsUppercaseCharacter(matches[0][0])) {\r\n            return pattern[0].toUpperCase() + pattern.substr(1);\r\n        }\r\n        else {\r\n            // we don't understand its pattern yet.\r\n            return pattern;\r\n        }\r\n    }\r\n    else {\r\n        return pattern;\r\n    }\r\n}\r\nfunction validateSpecificSpecialCharacter(matches, pattern, specialCharacter) {\r\n    var doesContainSpecialCharacter = matches[0].indexOf(specialCharacter) !== -1 && pattern.indexOf(specialCharacter) !== -1;\r\n    return doesContainSpecialCharacter && matches[0].split(specialCharacter).length === pattern.split(specialCharacter).length;\r\n}\r\nfunction buildReplaceStringForSpecificSpecialCharacter(matches, pattern, specialCharacter) {\r\n    var splitPatternAtSpecialCharacter = pattern.split(specialCharacter);\r\n    var splitMatchAtSpecialCharacter = matches[0].split(specialCharacter);\r\n    var replaceString = '';\r\n    splitPatternAtSpecialCharacter.forEach(function (splitValue, index) {\r\n        replaceString += buildReplaceStringWithCasePreserved([splitMatchAtSpecialCharacter[index]], splitValue) + specialCharacter;\r\n    });\r\n    return replaceString.slice(0, -1);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { buildReplaceStringWithCasePreserved } from '../../../base/common/search.js';\r\n/**\r\n * Assigned when the replace pattern is entirely static.\r\n */\r\nvar StaticValueReplacePattern = /** @class */ (function () {\r\n    function StaticValueReplacePattern(staticValue) {\r\n        this.staticValue = staticValue;\r\n        this.kind = 0 /* StaticValue */;\r\n    }\r\n    return StaticValueReplacePattern;\r\n}());\r\n/**\r\n * Assigned when the replace pattern has replacemend patterns.\r\n */\r\nvar DynamicPiecesReplacePattern = /** @class */ (function () {\r\n    function DynamicPiecesReplacePattern(pieces) {\r\n        this.pieces = pieces;\r\n        this.kind = 1 /* DynamicPieces */;\r\n    }\r\n    return DynamicPiecesReplacePattern;\r\n}());\r\nvar ReplacePattern = /** @class */ (function () {\r\n    function ReplacePattern(pieces) {\r\n        if (!pieces || pieces.length === 0) {\r\n            this._state = new StaticValueReplacePattern('');\r\n        }\r\n        else if (pieces.length === 1 && pieces[0].staticValue !== null) {\r\n            this._state = new StaticValueReplacePattern(pieces[0].staticValue);\r\n        }\r\n        else {\r\n            this._state = new DynamicPiecesReplacePattern(pieces);\r\n        }\r\n    }\r\n    ReplacePattern.fromStaticValue = function (value) {\r\n        return new ReplacePattern([ReplacePiece.staticValue(value)]);\r\n    };\r\n    Object.defineProperty(ReplacePattern.prototype, \"hasReplacementPatterns\", {\r\n        get: function () {\r\n            return (this._state.kind === 1 /* DynamicPieces */);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReplacePattern.prototype.buildReplaceString = function (matches, preserveCase) {\r\n        if (this._state.kind === 0 /* StaticValue */) {\r\n            if (preserveCase) {\r\n                return buildReplaceStringWithCasePreserved(matches, this._state.staticValue);\r\n            }\r\n            else {\r\n                return this._state.staticValue;\r\n            }\r\n        }\r\n        var result = '';\r\n        for (var i = 0, len = this._state.pieces.length; i < len; i++) {\r\n            var piece = this._state.pieces[i];\r\n            if (piece.staticValue !== null) {\r\n                // static value ReplacePiece\r\n                result += piece.staticValue;\r\n                continue;\r\n            }\r\n            // match index ReplacePiece\r\n            result += ReplacePattern._substitute(piece.matchIndex, matches);\r\n        }\r\n        return result;\r\n    };\r\n    ReplacePattern._substitute = function (matchIndex, matches) {\r\n        if (matches === null) {\r\n            return '';\r\n        }\r\n        if (matchIndex === 0) {\r\n            return matches[0];\r\n        }\r\n        var remainder = '';\r\n        while (matchIndex > 0) {\r\n            if (matchIndex < matches.length) {\r\n                // A match can be undefined\r\n                var match = (matches[matchIndex] || '');\r\n                return match + remainder;\r\n            }\r\n            remainder = String(matchIndex % 10) + remainder;\r\n            matchIndex = Math.floor(matchIndex / 10);\r\n        }\r\n        return '$' + remainder;\r\n    };\r\n    return ReplacePattern;\r\n}());\r\nexport { ReplacePattern };\r\n/**\r\n * A replace piece can either be a static string or an index to a specific match.\r\n */\r\nvar ReplacePiece = /** @class */ (function () {\r\n    function ReplacePiece(staticValue, matchIndex) {\r\n        this.staticValue = staticValue;\r\n        this.matchIndex = matchIndex;\r\n    }\r\n    ReplacePiece.staticValue = function (value) {\r\n        return new ReplacePiece(value, -1);\r\n    };\r\n    ReplacePiece.matchIndex = function (index) {\r\n        return new ReplacePiece(null, index);\r\n    };\r\n    return ReplacePiece;\r\n}());\r\nexport { ReplacePiece };\r\nvar ReplacePieceBuilder = /** @class */ (function () {\r\n    function ReplacePieceBuilder(source) {\r\n        this._source = source;\r\n        this._lastCharIndex = 0;\r\n        this._result = [];\r\n        this._resultLen = 0;\r\n        this._currentStaticPiece = '';\r\n    }\r\n    ReplacePieceBuilder.prototype.emitUnchanged = function (toCharIndex) {\r\n        this._emitStatic(this._source.substring(this._lastCharIndex, toCharIndex));\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype.emitStatic = function (value, toCharIndex) {\r\n        this._emitStatic(value);\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype._emitStatic = function (value) {\r\n        if (value.length === 0) {\r\n            return;\r\n        }\r\n        this._currentStaticPiece += value;\r\n    };\r\n    ReplacePieceBuilder.prototype.emitMatchIndex = function (index, toCharIndex) {\r\n        if (this._currentStaticPiece.length !== 0) {\r\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\r\n            this._currentStaticPiece = '';\r\n        }\r\n        this._result[this._resultLen++] = ReplacePiece.matchIndex(index);\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype.finalize = function () {\r\n        this.emitUnchanged(this._source.length);\r\n        if (this._currentStaticPiece.length !== 0) {\r\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\r\n            this._currentStaticPiece = '';\r\n        }\r\n        return new ReplacePattern(this._result);\r\n    };\r\n    return ReplacePieceBuilder;\r\n}());\r\n/**\r\n * \\n\t\t\t=> inserts a LF\r\n * \\t\t\t\t=> inserts a TAB\r\n * \\\\\t\t\t=> inserts a \"\\\".\r\n * $$\t\t\t=> inserts a \"$\".\r\n * $& and $0\t=> inserts the matched substring.\r\n * $n\t\t\t=> Where n is a non-negative integer lesser than 100, inserts the nth parenthesized submatch string\r\n * everything else stays untouched\r\n *\r\n * Also see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\r\n */\r\nexport function parseReplaceString(replaceString) {\r\n    if (!replaceString || replaceString.length === 0) {\r\n        return new ReplacePattern(null);\r\n    }\r\n    var result = new ReplacePieceBuilder(replaceString);\r\n    for (var i = 0, len = replaceString.length; i < len; i++) {\r\n        var chCode = replaceString.charCodeAt(i);\r\n        if (chCode === 92 /* Backslash */) {\r\n            // move to next char\r\n            i++;\r\n            if (i >= len) {\r\n                // string ends with a \\\r\n                break;\r\n            }\r\n            var nextChCode = replaceString.charCodeAt(i);\r\n            // let replaceWithCharacter: string | null = null;\r\n            switch (nextChCode) {\r\n                case 92 /* Backslash */:\r\n                    // \\\\ => inserts a \"\\\"\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\\\', i + 1);\r\n                    break;\r\n                case 110 /* n */:\r\n                    // \\n => inserts a LF\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\n', i + 1);\r\n                    break;\r\n                case 116 /* t */:\r\n                    // \\t => inserts a TAB\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\t', i + 1);\r\n                    break;\r\n            }\r\n            continue;\r\n        }\r\n        if (chCode === 36 /* DollarSign */) {\r\n            // move to next char\r\n            i++;\r\n            if (i >= len) {\r\n                // string ends with a $\r\n                break;\r\n            }\r\n            var nextChCode = replaceString.charCodeAt(i);\r\n            if (nextChCode === 36 /* DollarSign */) {\r\n                // $$ => inserts a \"$\"\r\n                result.emitUnchanged(i - 1);\r\n                result.emitStatic('$', i + 1);\r\n                continue;\r\n            }\r\n            if (nextChCode === 48 /* Digit0 */ || nextChCode === 38 /* Ampersand */) {\r\n                // $& and $0 => inserts the matched substring.\r\n                result.emitUnchanged(i - 1);\r\n                result.emitMatchIndex(0, i + 1);\r\n                continue;\r\n            }\r\n            if (49 /* Digit1 */ <= nextChCode && nextChCode <= 57 /* Digit9 */) {\r\n                // $n\r\n                var matchIndex = nextChCode - 48 /* Digit0 */;\r\n                // peek next char to probe for $nn\r\n                if (i + 1 < len) {\r\n                    var nextNextChCode = replaceString.charCodeAt(i + 1);\r\n                    if (48 /* Digit0 */ <= nextNextChCode && nextNextChCode <= 57 /* Digit9 */) {\r\n                        // $nn\r\n                        // move to next char\r\n                        i++;\r\n                        matchIndex = matchIndex * 10 + (nextNextChCode - 48 /* Digit0 */);\r\n                        result.emitUnchanged(i - 2);\r\n                        result.emitMatchIndex(matchIndex, i + 1);\r\n                        continue;\r\n                    }\r\n                }\r\n                result.emitUnchanged(i - 1);\r\n                result.emitMatchIndex(matchIndex, i + 1);\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n    return result.finalize();\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { RunOnceScheduler, TimeoutTimer } from '../../../base/common/async.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection } from '../../common/commands/replaceCommand.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { SearchParams } from '../../common/model/textModelSearch.js';\r\nimport { FindDecorations } from './findDecorations.js';\r\nimport { ReplaceAllCommand } from './replaceAllCommand.js';\r\nimport { ReplacePattern, parseReplaceString } from './replacePattern.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nexport var CONTEXT_FIND_WIDGET_VISIBLE = new RawContextKey('findWidgetVisible', false);\r\n// Keep ContextKey use of 'Focussed' to not break when clauses\r\nexport var CONTEXT_FIND_INPUT_FOCUSED = new RawContextKey('findInputFocussed', false);\r\nexport var CONTEXT_REPLACE_INPUT_FOCUSED = new RawContextKey('replaceInputFocussed', false);\r\nexport var ToggleCaseSensitiveKeybinding = {\r\n    primary: 512 /* Alt */ | 33 /* KEY_C */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 33 /* KEY_C */ }\r\n};\r\nexport var ToggleWholeWordKeybinding = {\r\n    primary: 512 /* Alt */ | 53 /* KEY_W */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 53 /* KEY_W */ }\r\n};\r\nexport var ToggleRegexKeybinding = {\r\n    primary: 512 /* Alt */ | 48 /* KEY_R */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 48 /* KEY_R */ }\r\n};\r\nexport var ToggleSearchScopeKeybinding = {\r\n    primary: 512 /* Alt */ | 42 /* KEY_L */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 42 /* KEY_L */ }\r\n};\r\nexport var FIND_IDS = {\r\n    StartFindAction: 'actions.find',\r\n    StartFindWithSelection: 'actions.findWithSelection',\r\n    NextMatchFindAction: 'editor.action.nextMatchFindAction',\r\n    PreviousMatchFindAction: 'editor.action.previousMatchFindAction',\r\n    NextSelectionMatchFindAction: 'editor.action.nextSelectionMatchFindAction',\r\n    PreviousSelectionMatchFindAction: 'editor.action.previousSelectionMatchFindAction',\r\n    StartFindReplaceAction: 'editor.action.startFindReplaceAction',\r\n    CloseFindWidgetCommand: 'closeFindWidget',\r\n    ToggleCaseSensitiveCommand: 'toggleFindCaseSensitive',\r\n    ToggleWholeWordCommand: 'toggleFindWholeWord',\r\n    ToggleRegexCommand: 'toggleFindRegex',\r\n    ToggleSearchScopeCommand: 'toggleFindInSelection',\r\n    TogglePreserveCaseCommand: 'togglePreserveCase',\r\n    ReplaceOneAction: 'editor.action.replaceOne',\r\n    ReplaceAllAction: 'editor.action.replaceAll',\r\n    SelectAllMatchesAction: 'editor.action.selectAllMatches'\r\n};\r\nexport var MATCHES_LIMIT = 19999;\r\nvar RESEARCH_DELAY = 240;\r\nvar FindModelBoundToEditorModel = /** @class */ (function () {\r\n    function FindModelBoundToEditorModel(editor, state) {\r\n        var _this = this;\r\n        this._toDispose = new DisposableStore();\r\n        this._editor = editor;\r\n        this._state = state;\r\n        this._isDisposed = false;\r\n        this._startSearchingTimer = new TimeoutTimer();\r\n        this._decorations = new FindDecorations(editor);\r\n        this._toDispose.add(this._decorations);\r\n        this._updateDecorationsScheduler = new RunOnceScheduler(function () { return _this.research(false); }, 100);\r\n        this._toDispose.add(this._updateDecorationsScheduler);\r\n        this._toDispose.add(this._editor.onDidChangeCursorPosition(function (e) {\r\n            if (e.reason === 3 /* Explicit */\r\n                || e.reason === 5 /* Undo */\r\n                || e.reason === 6 /* Redo */) {\r\n                _this._decorations.setStartPosition(_this._editor.getPosition());\r\n            }\r\n        }));\r\n        this._ignoreModelContentChanged = false;\r\n        this._toDispose.add(this._editor.onDidChangeModelContent(function (e) {\r\n            if (_this._ignoreModelContentChanged) {\r\n                return;\r\n            }\r\n            if (e.isFlush) {\r\n                // a model.setValue() was called\r\n                _this._decorations.reset();\r\n            }\r\n            _this._decorations.setStartPosition(_this._editor.getPosition());\r\n            _this._updateDecorationsScheduler.schedule();\r\n        }));\r\n        this._toDispose.add(this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        this.research(false, this._state.searchScope);\r\n    }\r\n    FindModelBoundToEditorModel.prototype.dispose = function () {\r\n        this._isDisposed = true;\r\n        dispose(this._startSearchingTimer);\r\n        this._toDispose.dispose();\r\n    };\r\n    FindModelBoundToEditorModel.prototype._onStateChanged = function (e) {\r\n        var _this = this;\r\n        if (this._isDisposed) {\r\n            // The find model is disposed during a find state changed event\r\n            return;\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            // The find model will be disposed momentarily\r\n            return;\r\n        }\r\n        if (e.searchString || e.isReplaceRevealed || e.isRegex || e.wholeWord || e.matchCase || e.searchScope) {\r\n            var model = this._editor.getModel();\r\n            if (model.isTooLargeForSyncing()) {\r\n                this._startSearchingTimer.cancel();\r\n                this._startSearchingTimer.setIfNotSet(function () {\r\n                    if (e.searchScope) {\r\n                        _this.research(e.moveCursor, _this._state.searchScope);\r\n                    }\r\n                    else {\r\n                        _this.research(e.moveCursor);\r\n                    }\r\n                }, RESEARCH_DELAY);\r\n            }\r\n            else {\r\n                if (e.searchScope) {\r\n                    this.research(e.moveCursor, this._state.searchScope);\r\n                }\r\n                else {\r\n                    this.research(e.moveCursor);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel._getSearchRange = function (model, findScope) {\r\n        // If we have set now or before a find scope, use it for computing the search range\r\n        if (findScope) {\r\n            return findScope;\r\n        }\r\n        return model.getFullModelRange();\r\n    };\r\n    FindModelBoundToEditorModel.prototype.research = function (moveCursor, newFindScope) {\r\n        var findScope = null;\r\n        if (typeof newFindScope !== 'undefined') {\r\n            findScope = newFindScope;\r\n        }\r\n        else {\r\n            findScope = this._decorations.getFindScope();\r\n        }\r\n        if (findScope !== null) {\r\n            if (findScope.startLineNumber !== findScope.endLineNumber) {\r\n                if (findScope.endColumn === 1) {\r\n                    findScope = new Range(findScope.startLineNumber, 1, findScope.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(findScope.endLineNumber - 1));\r\n                }\r\n                else {\r\n                    // multiline find scope => expand to line starts / ends\r\n                    findScope = new Range(findScope.startLineNumber, 1, findScope.endLineNumber, this._editor.getModel().getLineMaxColumn(findScope.endLineNumber));\r\n                }\r\n            }\r\n        }\r\n        var findMatches = this._findMatches(findScope, false, MATCHES_LIMIT);\r\n        this._decorations.set(findMatches, findScope);\r\n        this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()), this._decorations.getCount(), undefined);\r\n        if (moveCursor) {\r\n            this._moveToNextMatch(this._decorations.getStartPosition());\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._hasMatches = function () {\r\n        return (this._state.matchesCount > 0);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._cannotFind = function () {\r\n        if (!this._hasMatches()) {\r\n            var findScope = this._decorations.getFindScope();\r\n            if (findScope) {\r\n                // Reveal the selection so user is reminded that 'selection find' is on.\r\n                this._editor.revealRangeInCenterIfOutsideViewport(findScope, 0 /* Smooth */);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    FindModelBoundToEditorModel.prototype._setCurrentFindMatch = function (match) {\r\n        var matchesPosition = this._decorations.setCurrentFindMatch(match);\r\n        this._state.changeMatchInfo(matchesPosition, this._decorations.getCount(), match);\r\n        this._editor.setSelection(match);\r\n        this._editor.revealRangeInCenterIfOutsideViewport(match, 0 /* Smooth */);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._prevSearchPosition = function (before) {\r\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\r\n            || this._state.searchString.indexOf('$') >= 0);\r\n        var lineNumber = before.lineNumber, column = before.column;\r\n        var model = this._editor.getModel();\r\n        if (isUsingLineStops || column === 1) {\r\n            if (lineNumber === 1) {\r\n                lineNumber = model.getLineCount();\r\n            }\r\n            else {\r\n                lineNumber--;\r\n            }\r\n            column = model.getLineMaxColumn(lineNumber);\r\n        }\r\n        else {\r\n            column--;\r\n        }\r\n        return new Position(lineNumber, column);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._moveToPrevMatch = function (before, isRecursed) {\r\n        if (isRecursed === void 0) { isRecursed = false; }\r\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\r\n            var prevMatchRange = this._decorations.matchBeforePosition(before);\r\n            if (prevMatchRange && prevMatchRange.isEmpty() && prevMatchRange.getStartPosition().equals(before)) {\r\n                before = this._prevSearchPosition(before);\r\n                prevMatchRange = this._decorations.matchBeforePosition(before);\r\n            }\r\n            if (prevMatchRange) {\r\n                this._setCurrentFindMatch(prevMatchRange);\r\n            }\r\n            return;\r\n        }\r\n        if (this._cannotFind()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        // ...(----)...|...\r\n        if (searchRange.getEndPosition().isBefore(before)) {\r\n            before = searchRange.getEndPosition();\r\n        }\r\n        // ...|...(----)...\r\n        if (before.isBefore(searchRange.getStartPosition())) {\r\n            before = searchRange.getEndPosition();\r\n        }\r\n        var lineNumber = before.lineNumber, column = before.column;\r\n        var model = this._editor.getModel();\r\n        var position = new Position(lineNumber, column);\r\n        var prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false);\r\n        if (prevMatch && prevMatch.range.isEmpty() && prevMatch.range.getStartPosition().equals(position)) {\r\n            // Looks like we're stuck at this position, unacceptable!\r\n            position = this._prevSearchPosition(position);\r\n            prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false);\r\n        }\r\n        if (!prevMatch) {\r\n            // there is precisely one match and selection is on top of it\r\n            return;\r\n        }\r\n        if (!isRecursed && !searchRange.containsRange(prevMatch.range)) {\r\n            return this._moveToPrevMatch(prevMatch.range.getStartPosition(), true);\r\n        }\r\n        this._setCurrentFindMatch(prevMatch.range);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.moveToPrevMatch = function () {\r\n        this._moveToPrevMatch(this._editor.getSelection().getStartPosition());\r\n    };\r\n    FindModelBoundToEditorModel.prototype._nextSearchPosition = function (after) {\r\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\r\n            || this._state.searchString.indexOf('$') >= 0);\r\n        var lineNumber = after.lineNumber, column = after.column;\r\n        var model = this._editor.getModel();\r\n        if (isUsingLineStops || column === model.getLineMaxColumn(lineNumber)) {\r\n            if (lineNumber === model.getLineCount()) {\r\n                lineNumber = 1;\r\n            }\r\n            else {\r\n                lineNumber++;\r\n            }\r\n            column = 1;\r\n        }\r\n        else {\r\n            column++;\r\n        }\r\n        return new Position(lineNumber, column);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._moveToNextMatch = function (after) {\r\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\r\n            var nextMatchRange = this._decorations.matchAfterPosition(after);\r\n            if (nextMatchRange && nextMatchRange.isEmpty() && nextMatchRange.getStartPosition().equals(after)) {\r\n                // Looks like we're stuck at this position, unacceptable!\r\n                after = this._nextSearchPosition(after);\r\n                nextMatchRange = this._decorations.matchAfterPosition(after);\r\n            }\r\n            if (nextMatchRange) {\r\n                this._setCurrentFindMatch(nextMatchRange);\r\n            }\r\n            return;\r\n        }\r\n        var nextMatch = this._getNextMatch(after, false, true);\r\n        if (nextMatch) {\r\n            this._setCurrentFindMatch(nextMatch.range);\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._getNextMatch = function (after, captureMatches, forceMove, isRecursed) {\r\n        if (isRecursed === void 0) { isRecursed = false; }\r\n        if (this._cannotFind()) {\r\n            return null;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        // ...(----)...|...\r\n        if (searchRange.getEndPosition().isBefore(after)) {\r\n            after = searchRange.getStartPosition();\r\n        }\r\n        // ...|...(----)...\r\n        if (after.isBefore(searchRange.getStartPosition())) {\r\n            after = searchRange.getStartPosition();\r\n        }\r\n        var lineNumber = after.lineNumber, column = after.column;\r\n        var model = this._editor.getModel();\r\n        var position = new Position(lineNumber, column);\r\n        var nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, captureMatches);\r\n        if (forceMove && nextMatch && nextMatch.range.isEmpty() && nextMatch.range.getStartPosition().equals(position)) {\r\n            // Looks like we're stuck at this position, unacceptable!\r\n            position = this._nextSearchPosition(position);\r\n            nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, captureMatches);\r\n        }\r\n        if (!nextMatch) {\r\n            // there is precisely one match and selection is on top of it\r\n            return null;\r\n        }\r\n        if (!isRecursed && !searchRange.containsRange(nextMatch.range)) {\r\n            return this._getNextMatch(nextMatch.range.getEndPosition(), captureMatches, forceMove, true);\r\n        }\r\n        return nextMatch;\r\n    };\r\n    FindModelBoundToEditorModel.prototype.moveToNextMatch = function () {\r\n        this._moveToNextMatch(this._editor.getSelection().getEndPosition());\r\n    };\r\n    FindModelBoundToEditorModel.prototype._getReplacePattern = function () {\r\n        if (this._state.isRegex) {\r\n            return parseReplaceString(this._state.replaceString);\r\n        }\r\n        return ReplacePattern.fromStaticValue(this._state.replaceString);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.replace = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var replacePattern = this._getReplacePattern();\r\n        var selection = this._editor.getSelection();\r\n        var nextMatch = this._getNextMatch(selection.getStartPosition(), true, false);\r\n        if (nextMatch) {\r\n            if (selection.equalsRange(nextMatch.range)) {\r\n                // selection sits on a find match => replace it!\r\n                var replaceString = replacePattern.buildReplaceString(nextMatch.matches, this._state.preserveCase);\r\n                var command = new ReplaceCommand(selection, replaceString);\r\n                this._executeEditorCommand('replace', command);\r\n                this._decorations.setStartPosition(new Position(selection.startLineNumber, selection.startColumn + replaceString.length));\r\n                this.research(true);\r\n            }\r\n            else {\r\n                this._decorations.setStartPosition(this._editor.getPosition());\r\n                this._setCurrentFindMatch(nextMatch.range);\r\n            }\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._findMatches = function (findScope, captureMatches, limitResultCount) {\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        return this._editor.getModel().findMatches(this._state.searchString, searchRange, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, captureMatches, limitResultCount);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.replaceAll = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        if (findScope === null && this._state.matchesCount >= MATCHES_LIMIT) {\r\n            // Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches\r\n            this._largeReplaceAll();\r\n        }\r\n        else {\r\n            this._regularReplaceAll(findScope);\r\n        }\r\n        this.research(false);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._largeReplaceAll = function () {\r\n        var searchParams = new SearchParams(this._state.searchString, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null);\r\n        var searchData = searchParams.parseSearchRequest();\r\n        if (!searchData) {\r\n            return;\r\n        }\r\n        var searchRegex = searchData.regex;\r\n        if (!searchRegex.multiline) {\r\n            var mod = 'mu';\r\n            if (searchRegex.ignoreCase) {\r\n                mod += 'i';\r\n            }\r\n            if (searchRegex.global) {\r\n                mod += 'g';\r\n            }\r\n            searchRegex = new RegExp(searchRegex.source, mod);\r\n        }\r\n        var model = this._editor.getModel();\r\n        var modelText = model.getValue(1 /* LF */);\r\n        var fullModelRange = model.getFullModelRange();\r\n        var replacePattern = this._getReplacePattern();\r\n        var resultText;\r\n        var preserveCase = this._state.preserveCase;\r\n        if (replacePattern.hasReplacementPatterns || preserveCase) {\r\n            resultText = modelText.replace(searchRegex, function () {\r\n                return replacePattern.buildReplaceString(arguments, preserveCase);\r\n            });\r\n        }\r\n        else {\r\n            resultText = modelText.replace(searchRegex, replacePattern.buildReplaceString(null, preserveCase));\r\n        }\r\n        var command = new ReplaceCommandThatPreservesSelection(fullModelRange, resultText, this._editor.getSelection());\r\n        this._executeEditorCommand('replaceAll', command);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._regularReplaceAll = function (findScope) {\r\n        var replacePattern = this._getReplacePattern();\r\n        // Get all the ranges (even more than the highlighted ones)\r\n        var matches = this._findMatches(findScope, replacePattern.hasReplacementPatterns || this._state.preserveCase, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var replaceStrings = [];\r\n        for (var i = 0, len = matches.length; i < len; i++) {\r\n            replaceStrings[i] = replacePattern.buildReplaceString(matches[i].matches, this._state.preserveCase);\r\n        }\r\n        var command = new ReplaceAllCommand(this._editor.getSelection(), matches.map(function (m) { return m.range; }), replaceStrings);\r\n        this._executeEditorCommand('replaceAll', command);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.selectAllMatches = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        // Get all the ranges (even more than the highlighted ones)\r\n        var matches = this._findMatches(findScope, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var selections = matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); });\r\n        // If one of the ranges is the editor selection, then maintain it as primary\r\n        var editorSelection = this._editor.getSelection();\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var sel = selections[i];\r\n            if (sel.equalsRange(editorSelection)) {\r\n                selections = [editorSelection].concat(selections.slice(0, i)).concat(selections.slice(i + 1));\r\n                break;\r\n            }\r\n        }\r\n        this._editor.setSelections(selections);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._executeEditorCommand = function (source, command) {\r\n        try {\r\n            this._ignoreModelContentChanged = true;\r\n            this._editor.pushUndoStop();\r\n            this._editor.executeCommand(source, command);\r\n            this._editor.pushUndoStop();\r\n        }\r\n        finally {\r\n            this._ignoreModelContentChanged = false;\r\n        }\r\n    };\r\n    return FindModelBoundToEditorModel;\r\n}());\r\nexport { FindModelBoundToEditorModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './checkbox.css';\r\nimport * as DOM from '../../dom.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport * as objects from '../../../common/objects.js';\r\nvar defaultOpts = {\r\n    inputActiveOptionBorder: Color.fromHex('#007ACC00'),\r\n    inputActiveOptionBackground: Color.fromHex('#0E639C50')\r\n};\r\nvar Checkbox = /** @class */ (function (_super) {\r\n    __extends(Checkbox, _super);\r\n    function Checkbox(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onChange = _this._register(new Emitter());\r\n        _this.onChange = _this._onChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._opts = objects.deepClone(opts);\r\n        objects.mixin(_this._opts, defaultOpts, false);\r\n        _this._checked = _this._opts.isChecked;\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.title = _this._opts.title;\r\n        _this.domNode.className = 'monaco-custom-checkbox codicon ' + (_this._opts.actionClassName || '') + ' ' + (_this._checked ? 'checked' : 'unchecked');\r\n        _this.domNode.tabIndex = 0;\r\n        _this.domNode.setAttribute('role', 'checkbox');\r\n        _this.domNode.setAttribute('aria-checked', String(_this._checked));\r\n        _this.domNode.setAttribute('aria-label', _this._opts.title);\r\n        _this.applyStyles();\r\n        _this.onclick(_this.domNode, function (ev) {\r\n            _this.checked = !_this._checked;\r\n            _this._onChange.fire(false);\r\n            ev.preventDefault();\r\n        });\r\n        _this.ignoreGesture(_this.domNode);\r\n        _this.onkeydown(_this.domNode, function (keyboardEvent) {\r\n            if (keyboardEvent.keyCode === 10 /* Space */ || keyboardEvent.keyCode === 3 /* Enter */) {\r\n                _this.checked = !_this._checked;\r\n                _this._onChange.fire(true);\r\n                keyboardEvent.preventDefault();\r\n                return;\r\n            }\r\n            _this._onKeyDown.fire(keyboardEvent);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Checkbox.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this.domNode.getAttribute('aria-disabled') !== 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Checkbox.prototype.focus = function () {\r\n        this.domNode.focus();\r\n    };\r\n    Object.defineProperty(Checkbox.prototype, \"checked\", {\r\n        get: function () {\r\n            return this._checked;\r\n        },\r\n        set: function (newIsChecked) {\r\n            this._checked = newIsChecked;\r\n            this.domNode.setAttribute('aria-checked', String(this._checked));\r\n            if (this._checked) {\r\n                this.domNode.classList.add('checked');\r\n            }\r\n            else {\r\n                this.domNode.classList.remove('checked');\r\n            }\r\n            this.applyStyles();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Checkbox.prototype.width = function () {\r\n        return 2 /*marginleft*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\r\n    };\r\n    Checkbox.prototype.style = function (styles) {\r\n        if (styles.inputActiveOptionBorder) {\r\n            this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        }\r\n        if (styles.inputActiveOptionBackground) {\r\n            this._opts.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        }\r\n        this.applyStyles();\r\n    };\r\n    Checkbox.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : 'transparent';\r\n            this.domNode.style.backgroundColor = this._checked && this._opts.inputActiveOptionBackground ? this._opts.inputActiveOptionBackground.toString() : 'transparent';\r\n        }\r\n    };\r\n    Checkbox.prototype.enable = function () {\r\n        this.domNode.tabIndex = 0;\r\n        this.domNode.setAttribute('aria-disabled', String(false));\r\n    };\r\n    Checkbox.prototype.disable = function () {\r\n        DOM.removeTabIndexAndUpdateFocus(this.domNode);\r\n        this.domNode.setAttribute('aria-disabled', String(true));\r\n    };\r\n    return Checkbox;\r\n}(Widget));\r\nexport { Checkbox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Checkbox } from '../checkbox/checkbox.js';\r\nimport * as nls from '../../../../nls.js';\r\nvar NLS_CASE_SENSITIVE_CHECKBOX_LABEL = nls.localize('caseDescription', \"Match Case\");\r\nvar NLS_WHOLE_WORD_CHECKBOX_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\r\nvar NLS_REGEX_CHECKBOX_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\r\nvar CaseSensitiveCheckbox = /** @class */ (function (_super) {\r\n    __extends(CaseSensitiveCheckbox, _super);\r\n    function CaseSensitiveCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-case-sensitive',\r\n            title: NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return CaseSensitiveCheckbox;\r\n}(Checkbox));\r\nexport { CaseSensitiveCheckbox };\r\nvar WholeWordsCheckbox = /** @class */ (function (_super) {\r\n    __extends(WholeWordsCheckbox, _super);\r\n    function WholeWordsCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-whole-word',\r\n            title: NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return WholeWordsCheckbox;\r\n}(Checkbox));\r\nexport { WholeWordsCheckbox };\r\nvar RegexCheckbox = /** @class */ (function (_super) {\r\n    __extends(RegexCheckbox, _super);\r\n    function RegexCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-regex',\r\n            title: NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return RegexCheckbox;\r\n}(Checkbox));\r\nexport { RegexCheckbox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from '../../../base/browser/ui/findinput/findInputCheckboxes.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { FIND_IDS } from './findModel.js';\r\nimport { contrastBorder, editorWidgetBackground, inputActiveOptionBorder, inputActiveOptionBackground, widgetShadow, editorWidgetForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar FindOptionsWidget = /** @class */ (function (_super) {\r\n    __extends(FindOptionsWidget, _super);\r\n    function FindOptionsWidget(editor, state, keybindingService, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._hideSoon = _this._register(new RunOnceScheduler(function () { return _this._hide(); }, 2000));\r\n        _this._isVisible = false;\r\n        _this._editor = editor;\r\n        _this._state = state;\r\n        _this._keybindingService = keybindingService;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'findOptionsWidget';\r\n        _this._domNode.style.display = 'none';\r\n        _this._domNode.style.top = '10px';\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        var inputActiveOptionBorderColor = themeService.getTheme().getColor(inputActiveOptionBorder);\r\n        var inputActiveOptionBackgroundColor = themeService.getTheme().getColor(inputActiveOptionBackground);\r\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\r\n            isChecked: _this._state.matchCase,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.caseSensitive.domNode);\r\n        _this._register(_this.caseSensitive.onChange(function () {\r\n            _this._state.change({\r\n                matchCase: _this.caseSensitive.checked\r\n            }, false);\r\n        }));\r\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\r\n            isChecked: _this._state.wholeWord,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.wholeWords.domNode);\r\n        _this._register(_this.wholeWords.onChange(function () {\r\n            _this._state.change({\r\n                wholeWord: _this.wholeWords.checked\r\n            }, false);\r\n        }));\r\n        _this.regex = _this._register(new RegexCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\r\n            isChecked: _this._state.isRegex,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.regex.domNode);\r\n        _this._register(_this.regex.onChange(function () {\r\n            _this._state.change({\r\n                isRegex: _this.regex.checked\r\n            }, false);\r\n        }));\r\n        _this._editor.addOverlayWidget(_this);\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) {\r\n            var somethingChanged = false;\r\n            if (e.isRegex) {\r\n                _this.regex.checked = _this._state.isRegex;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.wholeWord) {\r\n                _this.wholeWords.checked = _this._state.wholeWord;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.matchCase) {\r\n                _this.caseSensitive.checked = _this._state.matchCase;\r\n                somethingChanged = true;\r\n            }\r\n            if (!_this._state.isRevealed && somethingChanged) {\r\n                _this._revealTemporarily();\r\n            }\r\n        }));\r\n        _this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode, function (e) { return _this._onMouseOut(); }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseover', function (e) { return _this._onMouseOver(); }));\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        return _this;\r\n    }\r\n    FindOptionsWidget.prototype._keybindingLabelFor = function (actionId) {\r\n        var kb = this._keybindingService.lookupKeybinding(actionId);\r\n        if (!kb) {\r\n            return '';\r\n        }\r\n        return \" (\" + kb.getLabel() + \")\";\r\n    };\r\n    FindOptionsWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // ----- IOverlayWidget API\r\n    FindOptionsWidget.prototype.getId = function () {\r\n        return FindOptionsWidget.ID;\r\n    };\r\n    FindOptionsWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    FindOptionsWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: 0 /* TOP_RIGHT_CORNER */\r\n        };\r\n    };\r\n    FindOptionsWidget.prototype.highlightFindOptions = function () {\r\n        this._revealTemporarily();\r\n    };\r\n    FindOptionsWidget.prototype._revealTemporarily = function () {\r\n        this._show();\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOut = function () {\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOver = function () {\r\n        this._hideSoon.cancel();\r\n    };\r\n    FindOptionsWidget.prototype._show = function () {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        this._domNode.style.display = 'block';\r\n    };\r\n    FindOptionsWidget.prototype._hide = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        this._domNode.style.display = 'none';\r\n    };\r\n    FindOptionsWidget.prototype._applyTheme = function (theme) {\r\n        var inputStyles = {\r\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\r\n            inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground)\r\n        };\r\n        this.caseSensitive.style(inputStyles);\r\n        this.wholeWords.style(inputStyles);\r\n        this.regex.style(inputStyles);\r\n    };\r\n    FindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\r\n    return FindOptionsWidget;\r\n}(Widget));\r\nexport { FindOptionsWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    if (widgetBackground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { background-color: \" + widgetBackground + \"; }\");\r\n    }\r\n    var widgetForeground = theme.getColor(editorWidgetForeground);\r\n    if (widgetForeground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { color: \" + widgetForeground + \"; }\");\r\n    }\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { border: 2px solid \" + hcBorder + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nfunction effectiveOptionValue(override, value) {\r\n    if (override === 1 /* True */) {\r\n        return true;\r\n    }\r\n    if (override === 2 /* False */) {\r\n        return false;\r\n    }\r\n    return value;\r\n}\r\nvar FindReplaceState = /** @class */ (function (_super) {\r\n    __extends(FindReplaceState, _super);\r\n    function FindReplaceState() {\r\n        var _this = _super.call(this) || this;\r\n        _this._onFindReplaceStateChange = _this._register(new Emitter());\r\n        _this.onFindReplaceStateChange = _this._onFindReplaceStateChange.event;\r\n        _this._searchString = '';\r\n        _this._replaceString = '';\r\n        _this._isRevealed = false;\r\n        _this._isReplaceRevealed = false;\r\n        _this._isRegex = false;\r\n        _this._isRegexOverride = 0 /* NotSet */;\r\n        _this._wholeWord = false;\r\n        _this._wholeWordOverride = 0 /* NotSet */;\r\n        _this._matchCase = false;\r\n        _this._matchCaseOverride = 0 /* NotSet */;\r\n        _this._preserveCase = false;\r\n        _this._preserveCaseOverride = 0 /* NotSet */;\r\n        _this._searchScope = null;\r\n        _this._matchesPosition = 0;\r\n        _this._matchesCount = 0;\r\n        _this._currentMatch = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchString\", {\r\n        get: function () { return this._searchString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"replaceString\", {\r\n        get: function () { return this._replaceString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRevealed\", {\r\n        get: function () { return this._isRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isReplaceRevealed\", {\r\n        get: function () { return this._isReplaceRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRegex\", {\r\n        get: function () { return effectiveOptionValue(this._isRegexOverride, this._isRegex); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"wholeWord\", {\r\n        get: function () { return effectiveOptionValue(this._wholeWordOverride, this._wholeWord); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchCase\", {\r\n        get: function () { return effectiveOptionValue(this._matchCaseOverride, this._matchCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"preserveCase\", {\r\n        get: function () { return effectiveOptionValue(this._preserveCaseOverride, this._preserveCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualIsRegex\", {\r\n        get: function () { return this._isRegex; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualWholeWord\", {\r\n        get: function () { return this._wholeWord; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualMatchCase\", {\r\n        get: function () { return this._matchCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualPreserveCase\", {\r\n        get: function () { return this._preserveCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchScope\", {\r\n        get: function () { return this._searchScope; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesPosition\", {\r\n        get: function () { return this._matchesPosition; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesCount\", {\r\n        get: function () { return this._matchesCount; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"currentMatch\", {\r\n        get: function () { return this._currentMatch; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FindReplaceState.prototype.changeMatchInfo = function (matchesPosition, matchesCount, currentMatch) {\r\n        var changeEvent = {\r\n            moveCursor: false,\r\n            updateHistory: false,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        if (matchesCount === 0) {\r\n            matchesPosition = 0;\r\n        }\r\n        if (matchesPosition > matchesCount) {\r\n            matchesPosition = matchesCount;\r\n        }\r\n        if (this._matchesPosition !== matchesPosition) {\r\n            this._matchesPosition = matchesPosition;\r\n            changeEvent.matchesPosition = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (this._matchesCount !== matchesCount) {\r\n            this._matchesCount = matchesCount;\r\n            changeEvent.matchesCount = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (typeof currentMatch !== 'undefined') {\r\n            if (!Range.equalsRange(this._currentMatch, currentMatch)) {\r\n                this._currentMatch = currentMatch;\r\n                changeEvent.currentMatch = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    FindReplaceState.prototype.change = function (newState, moveCursor, updateHistory) {\r\n        if (updateHistory === void 0) { updateHistory = true; }\r\n        var changeEvent = {\r\n            moveCursor: moveCursor,\r\n            updateHistory: updateHistory,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        var oldEffectiveIsRegex = this.isRegex;\r\n        var oldEffectiveWholeWords = this.wholeWord;\r\n        var oldEffectiveMatchCase = this.matchCase;\r\n        var oldEffectivePreserveCase = this.preserveCase;\r\n        if (typeof newState.searchString !== 'undefined') {\r\n            if (this._searchString !== newState.searchString) {\r\n                this._searchString = newState.searchString;\r\n                changeEvent.searchString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.replaceString !== 'undefined') {\r\n            if (this._replaceString !== newState.replaceString) {\r\n                this._replaceString = newState.replaceString;\r\n                changeEvent.replaceString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRevealed !== 'undefined') {\r\n            if (this._isRevealed !== newState.isRevealed) {\r\n                this._isRevealed = newState.isRevealed;\r\n                changeEvent.isRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isReplaceRevealed !== 'undefined') {\r\n            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\r\n                this._isReplaceRevealed = newState.isReplaceRevealed;\r\n                changeEvent.isReplaceRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRegex !== 'undefined') {\r\n            this._isRegex = newState.isRegex;\r\n        }\r\n        if (typeof newState.wholeWord !== 'undefined') {\r\n            this._wholeWord = newState.wholeWord;\r\n        }\r\n        if (typeof newState.matchCase !== 'undefined') {\r\n            this._matchCase = newState.matchCase;\r\n        }\r\n        if (typeof newState.preserveCase !== 'undefined') {\r\n            this._preserveCase = newState.preserveCase;\r\n        }\r\n        if (typeof newState.searchScope !== 'undefined') {\r\n            if (!Range.equalsRange(this._searchScope, newState.searchScope)) {\r\n                this._searchScope = newState.searchScope;\r\n                changeEvent.searchScope = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        // Overrides get set when they explicitly come in and get reset anytime something else changes\r\n        this._isRegexOverride = (typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* NotSet */);\r\n        this._wholeWordOverride = (typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* NotSet */);\r\n        this._matchCaseOverride = (typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* NotSet */);\r\n        this._preserveCaseOverride = (typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0 /* NotSet */);\r\n        if (oldEffectiveIsRegex !== this.isRegex) {\r\n            somethingChanged = true;\r\n            changeEvent.isRegex = true;\r\n        }\r\n        if (oldEffectiveWholeWords !== this.wholeWord) {\r\n            somethingChanged = true;\r\n            changeEvent.wholeWord = true;\r\n        }\r\n        if (oldEffectiveMatchCase !== this.matchCase) {\r\n            somethingChanged = true;\r\n            changeEvent.matchCase = true;\r\n        }\r\n        if (oldEffectivePreserveCase !== this.preserveCase) {\r\n            somethingChanged = true;\r\n            changeEvent.preserveCase = true;\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    return FindReplaceState;\r\n}(Disposable));\r\nexport { FindReplaceState };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findInput.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as dom from '../../dom.js';\r\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { CaseSensitiveCheckbox, WholeWordsCheckbox, RegexCheckbox } from './findInputCheckboxes.js';\r\nvar NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\r\nvar FindInput = /** @class */ (function (_super) {\r\n    __extends(FindInput, _super);\r\n    function FindInput(parent, contextViewProvider, _showOptionButtons, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._showOptionButtons = _showOptionButtons;\r\n        _this.fixFocusOnOptionClickEnabled = true;\r\n        _this._onDidOptionChange = _this._register(new Emitter());\r\n        _this.onDidOptionChange = _this._onDidOptionChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._onMouseDown = _this._register(new Emitter());\r\n        _this.onMouseDown = _this._onMouseDown.event;\r\n        _this._onInput = _this._register(new Emitter());\r\n        _this._onKeyUp = _this._register(new Emitter());\r\n        _this._onCaseSensitiveKeyDown = _this._register(new Emitter());\r\n        _this.onCaseSensitiveKeyDown = _this._onCaseSensitiveKeyDown.event;\r\n        _this._onRegexKeyDown = _this._register(new Emitter());\r\n        _this.onRegexKeyDown = _this._onRegexKeyDown.event;\r\n        _this._lastHighlightFindOptions = 0;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.placeholder = options.placeholder || '';\r\n        _this.validation = options.validation;\r\n        _this.label = options.label || NLS_DEFAULT_LABEL;\r\n        _this.inputActiveOptionBorder = options.inputActiveOptionBorder;\r\n        _this.inputActiveOptionBackground = options.inputActiveOptionBackground;\r\n        _this.inputBackground = options.inputBackground;\r\n        _this.inputForeground = options.inputForeground;\r\n        _this.inputBorder = options.inputBorder;\r\n        _this.inputValidationInfoBorder = options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = options.inputValidationErrorForeground;\r\n        var appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\r\n        var appendWholeWordsLabel = options.appendWholeWordsLabel || '';\r\n        var appendRegexLabel = options.appendRegexLabel || '';\r\n        var history = options.history || [];\r\n        var flexibleHeight = !!options.flexibleHeight;\r\n        var flexibleWidth = !!options.flexibleWidth;\r\n        var flexibleMaxHeight = options.flexibleMaxHeight;\r\n        _this.domNode = document.createElement('div');\r\n        dom.addClass(_this.domNode, 'monaco-findInput');\r\n        _this.inputBox = _this._register(new HistoryInputBox(_this.domNode, _this.contextViewProvider, {\r\n            placeholder: _this.placeholder || '',\r\n            ariaLabel: _this.label || '',\r\n            validationOptions: {\r\n                validation: _this.validation\r\n            },\r\n            inputBackground: _this.inputBackground,\r\n            inputForeground: _this.inputForeground,\r\n            inputBorder: _this.inputBorder,\r\n            inputValidationInfoBackground: _this.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: _this.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: _this.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: _this.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: _this.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: _this.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: _this.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: _this.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: _this.inputValidationErrorBorder,\r\n            history: history,\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: flexibleMaxHeight\r\n        }));\r\n        _this.regex = _this._register(new RegexCheckbox({\r\n            appendTitle: appendRegexLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.regex.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.regex.onKeyDown(function (e) {\r\n            _this._onRegexKeyDown.fire(e);\r\n        }));\r\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\r\n            appendTitle: appendWholeWordsLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.wholeWords.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\r\n            appendTitle: appendCaseSensitiveLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.caseSensitive.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.caseSensitive.onKeyDown(function (e) {\r\n            _this._onCaseSensitiveKeyDown.fire(e);\r\n        }));\r\n        if (_this._showOptionButtons) {\r\n            _this.inputBox.paddingRight = _this.caseSensitive.width() + _this.wholeWords.width() + _this.regex.width();\r\n        }\r\n        // Arrow-Key support to navigate between options\r\n        var indexes = [_this.caseSensitive.domNode, _this.wholeWords.domNode, _this.regex.domNode];\r\n        _this.onkeydown(_this.domNode, function (event) {\r\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\r\n                var index = indexes.indexOf(document.activeElement);\r\n                if (index >= 0) {\r\n                    var newIndex = -1;\r\n                    if (event.equals(17 /* RightArrow */)) {\r\n                        newIndex = (index + 1) % indexes.length;\r\n                    }\r\n                    else if (event.equals(15 /* LeftArrow */)) {\r\n                        if (index === 0) {\r\n                            newIndex = indexes.length - 1;\r\n                        }\r\n                        else {\r\n                            newIndex = index - 1;\r\n                        }\r\n                    }\r\n                    if (event.equals(9 /* Escape */)) {\r\n                        indexes[index].blur();\r\n                    }\r\n                    else if (newIndex >= 0) {\r\n                        indexes[newIndex].focus();\r\n                    }\r\n                    dom.EventHelper.stop(event, true);\r\n                }\r\n            }\r\n        });\r\n        var controls = document.createElement('div');\r\n        controls.className = 'controls';\r\n        controls.style.display = _this._showOptionButtons ? 'block' : 'none';\r\n        controls.appendChild(_this.caseSensitive.domNode);\r\n        controls.appendChild(_this.wholeWords.domNode);\r\n        controls.appendChild(_this.regex.domNode);\r\n        _this.domNode.appendChild(controls);\r\n        if (parent) {\r\n            parent.appendChild(_this.domNode);\r\n        }\r\n        _this.onkeydown(_this.inputBox.inputElement, function (e) { return _this._onKeyDown.fire(e); });\r\n        _this.onkeyup(_this.inputBox.inputElement, function (e) { return _this._onKeyUp.fire(e); });\r\n        _this.oninput(_this.inputBox.inputElement, function (e) { return _this._onInput.fire(); });\r\n        _this.onmousedown(_this.inputBox.inputElement, function (e) { return _this._onMouseDown.fire(e); });\r\n        return _this;\r\n    }\r\n    FindInput.prototype.enable = function () {\r\n        dom.removeClass(this.domNode, 'disabled');\r\n        this.inputBox.enable();\r\n        this.regex.enable();\r\n        this.wholeWords.enable();\r\n        this.caseSensitive.enable();\r\n    };\r\n    FindInput.prototype.disable = function () {\r\n        dom.addClass(this.domNode, 'disabled');\r\n        this.inputBox.disable();\r\n        this.regex.disable();\r\n        this.wholeWords.disable();\r\n        this.caseSensitive.disable();\r\n    };\r\n    FindInput.prototype.setFocusInputOnOptionClick = function (value) {\r\n        this.fixFocusOnOptionClickEnabled = value;\r\n    };\r\n    FindInput.prototype.setEnabled = function (enabled) {\r\n        if (enabled) {\r\n            this.enable();\r\n        }\r\n        else {\r\n            this.disable();\r\n        }\r\n    };\r\n    FindInput.prototype.getValue = function () {\r\n        return this.inputBox.value;\r\n    };\r\n    FindInput.prototype.setValue = function (value) {\r\n        if (this.inputBox.value !== value) {\r\n            this.inputBox.value = value;\r\n        }\r\n    };\r\n    FindInput.prototype.style = function (styles) {\r\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    FindInput.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            var checkBoxStyles = {\r\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\r\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\r\n            };\r\n            this.regex.style(checkBoxStyles);\r\n            this.wholeWords.style(checkBoxStyles);\r\n            this.caseSensitive.style(checkBoxStyles);\r\n            var inputBoxStyles = {\r\n                inputBackground: this.inputBackground,\r\n                inputForeground: this.inputForeground,\r\n                inputBorder: this.inputBorder,\r\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.inputValidationErrorBorder\r\n            };\r\n            this.inputBox.style(inputBoxStyles);\r\n        }\r\n    };\r\n    FindInput.prototype.select = function () {\r\n        this.inputBox.select();\r\n    };\r\n    FindInput.prototype.focus = function () {\r\n        this.inputBox.focus();\r\n    };\r\n    FindInput.prototype.getCaseSensitive = function () {\r\n        return this.caseSensitive.checked;\r\n    };\r\n    FindInput.prototype.setCaseSensitive = function (value) {\r\n        this.caseSensitive.checked = value;\r\n    };\r\n    FindInput.prototype.getWholeWords = function () {\r\n        return this.wholeWords.checked;\r\n    };\r\n    FindInput.prototype.setWholeWords = function (value) {\r\n        this.wholeWords.checked = value;\r\n    };\r\n    FindInput.prototype.getRegex = function () {\r\n        return this.regex.checked;\r\n    };\r\n    FindInput.prototype.setRegex = function (value) {\r\n        this.regex.checked = value;\r\n        this.validate();\r\n    };\r\n    FindInput.prototype.focusOnCaseSensitive = function () {\r\n        this.caseSensitive.focus();\r\n    };\r\n    FindInput.prototype.highlightFindOptions = function () {\r\n        dom.removeClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\r\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\r\n        dom.addClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\r\n    };\r\n    FindInput.prototype.validate = function () {\r\n        this.inputBox.validate();\r\n    };\r\n    FindInput.prototype.clearMessage = function () {\r\n        this.inputBox.hideMessage();\r\n    };\r\n    return FindInput;\r\n}(Widget));\r\nexport { FindInput };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findInput.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as dom from '../../dom.js';\r\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { Checkbox } from '../checkbox/checkbox.js';\r\nvar NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\r\nvar NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseCheckbox', \"Preserve Case\");\r\nvar PreserveCaseCheckbox = /** @class */ (function (_super) {\r\n    __extends(PreserveCaseCheckbox, _super);\r\n    function PreserveCaseCheckbox(opts) {\r\n        return _super.call(this, {\r\n            // TODO: does this need its own icon?\r\n            actionClassName: 'codicon-preserve-case',\r\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return PreserveCaseCheckbox;\r\n}(Checkbox));\r\nexport { PreserveCaseCheckbox };\r\nvar ReplaceInput = /** @class */ (function (_super) {\r\n    __extends(ReplaceInput, _super);\r\n    function ReplaceInput(parent, contextViewProvider, _showOptionButtons, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._showOptionButtons = _showOptionButtons;\r\n        _this.fixFocusOnOptionClickEnabled = true;\r\n        _this.cachedOptionsWidth = 0;\r\n        _this._onDidOptionChange = _this._register(new Emitter());\r\n        _this.onDidOptionChange = _this._onDidOptionChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._onMouseDown = _this._register(new Emitter());\r\n        _this._onInput = _this._register(new Emitter());\r\n        _this._onKeyUp = _this._register(new Emitter());\r\n        _this._onPreserveCaseKeyDown = _this._register(new Emitter());\r\n        _this.onPreserveCaseKeyDown = _this._onPreserveCaseKeyDown.event;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.placeholder = options.placeholder || '';\r\n        _this.validation = options.validation;\r\n        _this.label = options.label || NLS_DEFAULT_LABEL;\r\n        _this.inputActiveOptionBorder = options.inputActiveOptionBorder;\r\n        _this.inputActiveOptionBackground = options.inputActiveOptionBackground;\r\n        _this.inputBackground = options.inputBackground;\r\n        _this.inputForeground = options.inputForeground;\r\n        _this.inputBorder = options.inputBorder;\r\n        _this.inputValidationInfoBorder = options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = options.inputValidationErrorForeground;\r\n        var history = options.history || [];\r\n        var flexibleHeight = !!options.flexibleHeight;\r\n        var flexibleWidth = !!options.flexibleWidth;\r\n        var flexibleMaxHeight = options.flexibleMaxHeight;\r\n        _this.domNode = document.createElement('div');\r\n        dom.addClass(_this.domNode, 'monaco-findInput');\r\n        _this.inputBox = _this._register(new HistoryInputBox(_this.domNode, _this.contextViewProvider, {\r\n            ariaLabel: _this.label || '',\r\n            placeholder: _this.placeholder || '',\r\n            validationOptions: {\r\n                validation: _this.validation\r\n            },\r\n            inputBackground: _this.inputBackground,\r\n            inputForeground: _this.inputForeground,\r\n            inputBorder: _this.inputBorder,\r\n            inputValidationInfoBackground: _this.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: _this.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: _this.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: _this.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: _this.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: _this.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: _this.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: _this.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: _this.inputValidationErrorBorder,\r\n            history: history,\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: flexibleMaxHeight\r\n        }));\r\n        _this.preserveCase = _this._register(new PreserveCaseCheckbox({\r\n            appendTitle: '',\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground,\r\n        }));\r\n        _this._register(_this.preserveCase.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.preserveCase.onKeyDown(function (e) {\r\n            _this._onPreserveCaseKeyDown.fire(e);\r\n        }));\r\n        if (_this._showOptionButtons) {\r\n            _this.cachedOptionsWidth = _this.preserveCase.width();\r\n        }\r\n        else {\r\n            _this.cachedOptionsWidth = 0;\r\n        }\r\n        // Arrow-Key support to navigate between options\r\n        var indexes = [_this.preserveCase.domNode];\r\n        _this.onkeydown(_this.domNode, function (event) {\r\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\r\n                var index = indexes.indexOf(document.activeElement);\r\n                if (index >= 0) {\r\n                    var newIndex = -1;\r\n                    if (event.equals(17 /* RightArrow */)) {\r\n                        newIndex = (index + 1) % indexes.length;\r\n                    }\r\n                    else if (event.equals(15 /* LeftArrow */)) {\r\n                        if (index === 0) {\r\n                            newIndex = indexes.length - 1;\r\n                        }\r\n                        else {\r\n                            newIndex = index - 1;\r\n                        }\r\n                    }\r\n                    if (event.equals(9 /* Escape */)) {\r\n                        indexes[index].blur();\r\n                    }\r\n                    else if (newIndex >= 0) {\r\n                        indexes[newIndex].focus();\r\n                    }\r\n                    dom.EventHelper.stop(event, true);\r\n                }\r\n            }\r\n        });\r\n        var controls = document.createElement('div');\r\n        controls.className = 'controls';\r\n        controls.style.display = _this._showOptionButtons ? 'block' : 'none';\r\n        controls.appendChild(_this.preserveCase.domNode);\r\n        _this.domNode.appendChild(controls);\r\n        if (parent) {\r\n            parent.appendChild(_this.domNode);\r\n        }\r\n        _this.onkeydown(_this.inputBox.inputElement, function (e) { return _this._onKeyDown.fire(e); });\r\n        _this.onkeyup(_this.inputBox.inputElement, function (e) { return _this._onKeyUp.fire(e); });\r\n        _this.oninput(_this.inputBox.inputElement, function (e) { return _this._onInput.fire(); });\r\n        _this.onmousedown(_this.inputBox.inputElement, function (e) { return _this._onMouseDown.fire(e); });\r\n        return _this;\r\n    }\r\n    ReplaceInput.prototype.enable = function () {\r\n        dom.removeClass(this.domNode, 'disabled');\r\n        this.inputBox.enable();\r\n        this.preserveCase.enable();\r\n    };\r\n    ReplaceInput.prototype.disable = function () {\r\n        dom.addClass(this.domNode, 'disabled');\r\n        this.inputBox.disable();\r\n        this.preserveCase.disable();\r\n    };\r\n    ReplaceInput.prototype.setEnabled = function (enabled) {\r\n        if (enabled) {\r\n            this.enable();\r\n        }\r\n        else {\r\n            this.disable();\r\n        }\r\n    };\r\n    ReplaceInput.prototype.style = function (styles) {\r\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    ReplaceInput.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            var checkBoxStyles = {\r\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\r\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\r\n            };\r\n            this.preserveCase.style(checkBoxStyles);\r\n            var inputBoxStyles = {\r\n                inputBackground: this.inputBackground,\r\n                inputForeground: this.inputForeground,\r\n                inputBorder: this.inputBorder,\r\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.inputValidationErrorBorder\r\n            };\r\n            this.inputBox.style(inputBoxStyles);\r\n        }\r\n    };\r\n    ReplaceInput.prototype.select = function () {\r\n        this.inputBox.select();\r\n    };\r\n    ReplaceInput.prototype.focus = function () {\r\n        this.inputBox.focus();\r\n    };\r\n    ReplaceInput.prototype.getPreserveCase = function () {\r\n        return this.preserveCase.checked;\r\n    };\r\n    ReplaceInput.prototype.setPreserveCase = function (value) {\r\n        this.preserveCase.checked = value;\r\n    };\r\n    ReplaceInput.prototype.focusOnPreserve = function () {\r\n        this.preserveCase.focus();\r\n    };\r\n    ReplaceInput.prototype.validate = function () {\r\n        if (this.inputBox) {\r\n            this.inputBox.validate();\r\n        }\r\n    };\r\n    Object.defineProperty(ReplaceInput.prototype, \"width\", {\r\n        set: function (newWidth) {\r\n            this.inputBox.paddingRight = this.cachedOptionsWidth;\r\n            this.inputBox.width = newWidth;\r\n            this.domNode.style.width = newWidth + 'px';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReplaceInput.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ReplaceInput;\r\n}(Widget));\r\nexport { ReplaceInput };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { IContextKeyService, ContextKeyExpr, RawContextKey } from '../contextkey/common/contextkey.js';\r\nimport { FindInput } from '../../base/browser/ui/findinput/findInput.js';\r\nimport { KeybindingsRegistry } from '../keybinding/common/keybindingsRegistry.js';\r\nimport { ReplaceInput } from '../../base/browser/ui/findinput/replaceInput.js';\r\nexport var HistoryNavigationWidgetContext = 'historyNavigationWidget';\r\nexport var HistoryNavigationEnablementContext = 'historyNavigationEnabled';\r\nfunction bindContextScopedWidget(contextKeyService, widget, contextKey) {\r\n    new RawContextKey(contextKey, widget).bindTo(contextKeyService);\r\n}\r\nfunction createWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    return contextKeyService.createScoped(widget.target);\r\n}\r\nfunction getContextScopedWidget(contextKeyService, contextKey) {\r\n    return contextKeyService.getContext(document.activeElement).getValue(contextKey);\r\n}\r\nexport function createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    var scopedContextKeyService = createWidgetScopedContextKeyService(contextKeyService, widget);\r\n    bindContextScopedWidget(scopedContextKeyService, widget, HistoryNavigationWidgetContext);\r\n    var historyNavigationEnablement = new RawContextKey(HistoryNavigationEnablementContext, true).bindTo(scopedContextKeyService);\r\n    return { scopedContextKeyService: scopedContextKeyService, historyNavigationEnablement: historyNavigationEnablement };\r\n}\r\nvar ContextScopedFindInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedFindInput, _super);\r\n    function ContextScopedFindInput(container, contextViewProvider, options, contextKeyService, showFindOptions) {\r\n        if (showFindOptions === void 0) { showFindOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showFindOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedFindInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedFindInput);\r\n    return ContextScopedFindInput;\r\n}(FindInput));\r\nexport { ContextScopedFindInput };\r\nvar ContextScopedReplaceInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedReplaceInput, _super);\r\n    function ContextScopedReplaceInput(container, contextViewProvider, options, contextKeyService, showReplaceOptions) {\r\n        if (showReplaceOptions === void 0) { showReplaceOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showReplaceOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedReplaceInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedReplaceInput);\r\n    return ContextScopedReplaceInput;\r\n}(ReplaceInput));\r\nexport { ContextScopedReplaceInput };\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showPrevious',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 16 /* UpArrow */,\r\n    secondary: [512 /* Alt */ | 16 /* UpArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showPreviousValue();\r\n        }\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showNext',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 18 /* DownArrow */,\r\n    secondary: [512 /* Alt */ | 18 /* DownArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showNextValue();\r\n        }\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findWidget.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { alert as alertFn } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Checkbox } from '../../../base/browser/ui/checkbox/checkbox.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Delayer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_REPLACE_INPUT_FOCUSED, FIND_IDS, MATCHES_LIMIT } from './findModel.js';\r\nimport { contrastBorder, editorFindMatch, editorFindMatchBorder, editorFindMatchHighlight, editorFindMatchHighlightBorder, editorFindRangeHighlight, editorFindRangeHighlightBorder, editorWidgetBackground, editorWidgetBorder, editorWidgetResizeBorder, errorForeground, inputActiveOptionBorder, inputActiveOptionBackground, inputBackground, inputBorder, inputForeground, inputValidationErrorBackground, inputValidationErrorBorder, inputValidationErrorForeground, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationInfoForeground, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationWarningForeground, widgetShadow, editorWidgetForeground, focusBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { ContextScopedFindInput, ContextScopedReplaceInput } from '../../../platform/browser/contextScopedHistoryWidget.js';\r\nvar NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\r\nvar NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\r\nvar NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\r\nvar NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\r\nvar NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in selection\");\r\nvar NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\r\nvar NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\r\nvar NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\r\nvar NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\r\nvar NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\r\nvar NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace mode\");\r\nvar NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first {0} results are highlighted, but all find operations work on the entire text.\", MATCHES_LIMIT);\r\nvar NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\r\nvar NLS_NO_RESULTS = nls.localize('label.noResults', \"No Results\");\r\nvar FIND_WIDGET_INITIAL_WIDTH = 419;\r\nvar PART_WIDTH = 275;\r\nvar FIND_INPUT_AREA_WIDTH = PART_WIDTH - 54;\r\nvar MAX_MATCHES_COUNT_WIDTH = 69;\r\n// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;\r\nvar FIND_INPUT_AREA_HEIGHT = 33; // The height of Find Widget when Replace Input is not visible.\r\nvar ctrlEnterReplaceAllWarningPromptedKey = 'ctrlEnterReplaceAll.windows.donotask';\r\nvar ctrlKeyMod = (platform.isMacintosh ? 256 /* WinCtrl */ : 2048 /* CtrlCmd */);\r\nvar FindWidgetViewZone = /** @class */ (function () {\r\n    function FindWidgetViewZone(afterLineNumber) {\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.heightInPx = FIND_INPUT_AREA_HEIGHT;\r\n        this.suppressMouseDown = false;\r\n        this.domNode = document.createElement('div');\r\n        this.domNode.className = 'dock-find-viewzone';\r\n    }\r\n    return FindWidgetViewZone;\r\n}());\r\nexport { FindWidgetViewZone };\r\nfunction stopPropagationForMultiLineUpwards(event, value, textarea) {\r\n    var isMultiline = !!value.match(/\\n/);\r\n    if (textarea && isMultiline && textarea.selectionStart > 0) {\r\n        event.stopPropagation();\r\n        return;\r\n    }\r\n}\r\nfunction stopPropagationForMultiLineDownwards(event, value, textarea) {\r\n    var isMultiline = !!value.match(/\\n/);\r\n    if (textarea && isMultiline && textarea.selectionEnd < textarea.value.length) {\r\n        event.stopPropagation();\r\n        return;\r\n    }\r\n}\r\nvar FindWidget = /** @class */ (function (_super) {\r\n    __extends(FindWidget, _super);\r\n    function FindWidget(codeEditor, controller, state, contextViewProvider, keybindingService, contextKeyService, themeService, storageService, notificationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._cachedHeight = null;\r\n        _this._codeEditor = codeEditor;\r\n        _this._controller = controller;\r\n        _this._state = state;\r\n        _this._contextViewProvider = contextViewProvider;\r\n        _this._keybindingService = keybindingService;\r\n        _this._contextKeyService = contextKeyService;\r\n        _this._storageService = storageService;\r\n        _this._notificationService = notificationService;\r\n        _this._ctrlEnterReplaceAllWarningPrompted = !!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey, 0 /* GLOBAL */);\r\n        _this._isVisible = false;\r\n        _this._isReplaceVisible = false;\r\n        _this._ignoreChangeEvent = false;\r\n        _this._updateHistoryDelayer = new Delayer(500);\r\n        _this._register(toDisposable(function () { return _this._updateHistoryDelayer.cancel(); }));\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        _this._buildDomNode();\r\n        _this._updateButtons();\r\n        _this._tryUpdateWidgetWidth();\r\n        _this._findInput.inputBox.layout();\r\n        _this._register(_this._codeEditor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(68 /* readOnly */)) {\r\n                if (_this._codeEditor.getOption(68 /* readOnly */)) {\r\n                    // Hide replace part if editor becomes read only\r\n                    _this._state.change({ isReplaceRevealed: false }, false);\r\n                }\r\n                _this._updateButtons();\r\n            }\r\n            if (e.hasChanged(107 /* layoutInfo */)) {\r\n                _this._tryUpdateWidgetWidth();\r\n            }\r\n            if (e.hasChanged(2 /* accessibilitySupport */)) {\r\n                _this.updateAccessibilitySupport();\r\n            }\r\n            if (e.hasChanged(28 /* find */)) {\r\n                var addExtraSpaceOnTop = _this._codeEditor.getOption(28 /* find */).addExtraSpaceOnTop;\r\n                if (addExtraSpaceOnTop && !_this._viewZone) {\r\n                    _this._viewZone = new FindWidgetViewZone(0);\r\n                    _this._showViewZone();\r\n                }\r\n                if (!addExtraSpaceOnTop && _this._viewZone) {\r\n                    _this._removeViewZone();\r\n                }\r\n            }\r\n        }));\r\n        _this.updateAccessibilitySupport();\r\n        _this._register(_this._codeEditor.onDidChangeCursorSelection(function () {\r\n            if (_this._isVisible) {\r\n                _this._updateToggleSelectionFindButton();\r\n            }\r\n        }));\r\n        _this._register(_this._codeEditor.onDidFocusEditorWidget(function () {\r\n            if (_this._isVisible) {\r\n                var globalBufferTerm = _this._controller.getGlobalBufferTerm();\r\n                if (globalBufferTerm && globalBufferTerm !== _this._state.searchString) {\r\n                    _this._state.change({ searchString: globalBufferTerm }, true);\r\n                    _this._findInput.select();\r\n                }\r\n            }\r\n        }));\r\n        _this._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\r\n        _this._findFocusTracker = _this._register(dom.trackFocus(_this._findInput.inputBox.inputElement));\r\n        _this._register(_this._findFocusTracker.onDidFocus(function () {\r\n            _this._findInputFocused.set(true);\r\n            _this._updateSearchScope();\r\n        }));\r\n        _this._register(_this._findFocusTracker.onDidBlur(function () {\r\n            _this._findInputFocused.set(false);\r\n        }));\r\n        _this._replaceInputFocused = CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);\r\n        _this._replaceFocusTracker = _this._register(dom.trackFocus(_this._replaceInput.inputBox.inputElement));\r\n        _this._register(_this._replaceFocusTracker.onDidFocus(function () {\r\n            _this._replaceInputFocused.set(true);\r\n            _this._updateSearchScope();\r\n        }));\r\n        _this._register(_this._replaceFocusTracker.onDidBlur(function () {\r\n            _this._replaceInputFocused.set(false);\r\n        }));\r\n        _this._codeEditor.addOverlayWidget(_this);\r\n        if (_this._codeEditor.getOption(28 /* find */).addExtraSpaceOnTop) {\r\n            _this._viewZone = new FindWidgetViewZone(0); // Put it before the first line then users can scroll beyond the first line.\r\n        }\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this._register(_this._codeEditor.onDidChangeModel(function () {\r\n            if (!_this._isVisible) {\r\n                return;\r\n            }\r\n            _this._viewZoneId = undefined;\r\n        }));\r\n        _this._register(_this._codeEditor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged) {\r\n                _this._layoutViewZone();\r\n                return;\r\n            }\r\n            // for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.\r\n            setTimeout(function () {\r\n                _this._layoutViewZone();\r\n            }, 0);\r\n        }));\r\n        return _this;\r\n    }\r\n    // ----- IOverlayWidget API\r\n    FindWidget.prototype.getId = function () {\r\n        return FindWidget.ID;\r\n    };\r\n    FindWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    FindWidget.prototype.getPosition = function () {\r\n        if (this._isVisible) {\r\n            return {\r\n                preference: 0 /* TOP_RIGHT_CORNER */\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    // ----- React to state changes\r\n    FindWidget.prototype._onStateChanged = function (e) {\r\n        if (e.searchString) {\r\n            try {\r\n                this._ignoreChangeEvent = true;\r\n                this._findInput.setValue(this._state.searchString);\r\n            }\r\n            finally {\r\n                this._ignoreChangeEvent = false;\r\n            }\r\n            this._updateButtons();\r\n        }\r\n        if (e.replaceString) {\r\n            this._replaceInput.inputBox.value = this._state.replaceString;\r\n        }\r\n        if (e.isRevealed) {\r\n            if (this._state.isRevealed) {\r\n                this._reveal();\r\n            }\r\n            else {\r\n                this._hide(true);\r\n            }\r\n        }\r\n        if (e.isReplaceRevealed) {\r\n            if (this._state.isReplaceRevealed) {\r\n                if (!this._codeEditor.getOption(68 /* readOnly */) && !this._isReplaceVisible) {\r\n                    this._isReplaceVisible = true;\r\n                    this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n                    this._updateButtons();\r\n                    this._replaceInput.inputBox.layout();\r\n                }\r\n            }\r\n            else {\r\n                if (this._isReplaceVisible) {\r\n                    this._isReplaceVisible = false;\r\n                    this._updateButtons();\r\n                }\r\n            }\r\n        }\r\n        if ((e.isRevealed || e.isReplaceRevealed) && (this._state.isRevealed || this._state.isReplaceRevealed)) {\r\n            if (this._tryUpdateHeight()) {\r\n                this._showViewZone();\r\n            }\r\n        }\r\n        if (e.isRegex) {\r\n            this._findInput.setRegex(this._state.isRegex);\r\n        }\r\n        if (e.wholeWord) {\r\n            this._findInput.setWholeWords(this._state.wholeWord);\r\n        }\r\n        if (e.matchCase) {\r\n            this._findInput.setCaseSensitive(this._state.matchCase);\r\n        }\r\n        if (e.searchScope) {\r\n            if (this._state.searchScope) {\r\n                this._toggleSelectionFind.checked = true;\r\n            }\r\n            else {\r\n                this._toggleSelectionFind.checked = false;\r\n            }\r\n            this._updateToggleSelectionFindButton();\r\n        }\r\n        if (e.searchString || e.matchesCount || e.matchesPosition) {\r\n            var showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\r\n            dom.toggleClass(this._domNode, 'no-results', showRedOutline);\r\n            this._updateMatchesCount();\r\n            this._updateButtons();\r\n        }\r\n        if (e.searchString || e.currentMatch) {\r\n            this._layoutViewZone();\r\n        }\r\n        if (e.updateHistory) {\r\n            this._delayedUpdateHistory();\r\n        }\r\n    };\r\n    FindWidget.prototype._delayedUpdateHistory = function () {\r\n        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this));\r\n    };\r\n    FindWidget.prototype._updateHistory = function () {\r\n        if (this._state.searchString) {\r\n            this._findInput.inputBox.addToHistory();\r\n        }\r\n        if (this._state.replaceString) {\r\n            this._replaceInput.inputBox.addToHistory();\r\n        }\r\n    };\r\n    FindWidget.prototype._updateMatchesCount = function () {\r\n        this._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\r\n        if (this._state.matchesCount >= MATCHES_LIMIT) {\r\n            this._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\r\n        }\r\n        else {\r\n            this._matchesCount.title = '';\r\n        }\r\n        // remove previous content\r\n        if (this._matchesCount.firstChild) {\r\n            this._matchesCount.removeChild(this._matchesCount.firstChild);\r\n        }\r\n        var label;\r\n        if (this._state.matchesCount > 0) {\r\n            var matchesCount = String(this._state.matchesCount);\r\n            if (this._state.matchesCount >= MATCHES_LIMIT) {\r\n                matchesCount += '+';\r\n            }\r\n            var matchesPosition = String(this._state.matchesPosition);\r\n            if (matchesPosition === '0') {\r\n                matchesPosition = '?';\r\n            }\r\n            label = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\r\n        }\r\n        else {\r\n            label = NLS_NO_RESULTS;\r\n        }\r\n        this._matchesCount.appendChild(document.createTextNode(label));\r\n        alertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString), true);\r\n        MAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\r\n    };\r\n    // ----- actions\r\n    FindWidget.prototype._getAriaLabel = function (label, currentMatch, searchString) {\r\n        if (label === NLS_NO_RESULTS) {\r\n            return searchString === ''\r\n                ? nls.localize('ariaSearchNoResultEmpty', \"{0} found\", label)\r\n                : nls.localize('ariaSearchNoResult', \"{0} found for {1}\", label, searchString);\r\n        }\r\n        return currentMatch\r\n            ? nls.localize('ariaSearchNoResultWithLineNum', \"{0} found for {1} at {2}\", label, searchString, currentMatch.startLineNumber + ':' + currentMatch.startColumn)\r\n            : nls.localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for {1}\", label, searchString);\r\n    };\r\n    /**\r\n     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\r\n     * If 'selection find' is OFF we enable the button only if there is a selection.\r\n     */\r\n    FindWidget.prototype._updateToggleSelectionFindButton = function () {\r\n        var selection = this._codeEditor.getSelection();\r\n        var isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\r\n        var isChecked = this._toggleSelectionFind.checked;\r\n        if (this._isVisible && (isChecked || isSelection)) {\r\n            this._toggleSelectionFind.enable();\r\n        }\r\n        else {\r\n            this._toggleSelectionFind.disable();\r\n        }\r\n    };\r\n    FindWidget.prototype._updateButtons = function () {\r\n        this._findInput.setEnabled(this._isVisible);\r\n        this._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);\r\n        this._updateToggleSelectionFindButton();\r\n        this._closeBtn.setEnabled(this._isVisible);\r\n        var findInputIsNonEmpty = (this._state.searchString.length > 0);\r\n        var matchesCount = this._state.matchesCount ? true : false;\r\n        this._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount);\r\n        this._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount);\r\n        this._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\r\n        this._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\r\n        dom.toggleClass(this._domNode, 'replaceToggled', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-right', !this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-down', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\r\n        var canReplace = !this._codeEditor.getOption(68 /* readOnly */);\r\n        this._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\r\n    };\r\n    FindWidget.prototype._reveal = function () {\r\n        var _this = this;\r\n        if (!this._isVisible) {\r\n            this._isVisible = true;\r\n            var selection = this._codeEditor.getSelection();\r\n            switch (this._codeEditor.getOption(28 /* find */).autoFindInSelection) {\r\n                case 'always':\r\n                    this._toggleSelectionFind.checked = true;\r\n                    break;\r\n                case 'never':\r\n                    this._toggleSelectionFind.checked = false;\r\n                    break;\r\n                case 'multiline':\r\n                    var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\r\n                    this._toggleSelectionFind.checked = isSelectionMultipleLine;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            this._tryUpdateWidgetWidth();\r\n            this._updateButtons();\r\n            setTimeout(function () {\r\n                dom.addClass(_this._domNode, 'visible');\r\n                _this._domNode.setAttribute('aria-hidden', 'false');\r\n            }, 0);\r\n            // validate query again as it's being dismissed when we hide the find widget.\r\n            setTimeout(function () {\r\n                _this._findInput.validate();\r\n            }, 200);\r\n            this._codeEditor.layoutOverlayWidget(this);\r\n            var adjustEditorScrollTop = true;\r\n            if (this._codeEditor.getOption(28 /* find */).seedSearchStringFromSelection && selection) {\r\n                var domNode = this._codeEditor.getDomNode();\r\n                if (domNode) {\r\n                    var editorCoords = dom.getDomNodePagePosition(domNode);\r\n                    var startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());\r\n                    var startLeft = editorCoords.left + (startCoords ? startCoords.left : 0);\r\n                    var startTop = startCoords ? startCoords.top : 0;\r\n                    if (this._viewZone && startTop < this._viewZone.heightInPx) {\r\n                        if (selection.endLineNumber > selection.startLineNumber) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                        var leftOfFindWidget = dom.getTopLeftOffset(this._domNode).left;\r\n                        if (startLeft > leftOfFindWidget) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                        var endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());\r\n                        var endLeft = editorCoords.left + (endCoords ? endCoords.left : 0);\r\n                        if (endLeft > leftOfFindWidget) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._showViewZone(adjustEditorScrollTop);\r\n        }\r\n    };\r\n    FindWidget.prototype._hide = function (focusTheEditor) {\r\n        if (this._isVisible) {\r\n            this._isVisible = false;\r\n            this._updateButtons();\r\n            dom.removeClass(this._domNode, 'visible');\r\n            this._domNode.setAttribute('aria-hidden', 'true');\r\n            this._findInput.clearMessage();\r\n            if (focusTheEditor) {\r\n                this._codeEditor.focus();\r\n            }\r\n            this._codeEditor.layoutOverlayWidget(this);\r\n            this._removeViewZone();\r\n        }\r\n    };\r\n    FindWidget.prototype._layoutViewZone = function () {\r\n        var _this = this;\r\n        var addExtraSpaceOnTop = this._codeEditor.getOption(28 /* find */).addExtraSpaceOnTop;\r\n        if (!addExtraSpaceOnTop) {\r\n            this._removeViewZone();\r\n            return;\r\n        }\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        var viewZone = this._viewZone;\r\n        if (this._viewZoneId !== undefined || !viewZone) {\r\n            return;\r\n        }\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            viewZone.heightInPx = _this._getHeight();\r\n            _this._viewZoneId = accessor.addZone(viewZone);\r\n            // scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.\r\n            _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + viewZone.heightInPx);\r\n        });\r\n    };\r\n    FindWidget.prototype._showViewZone = function (adjustScroll) {\r\n        var _this = this;\r\n        if (adjustScroll === void 0) { adjustScroll = true; }\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        var addExtraSpaceOnTop = this._codeEditor.getOption(28 /* find */).addExtraSpaceOnTop;\r\n        if (!addExtraSpaceOnTop) {\r\n            return;\r\n        }\r\n        if (this._viewZone === undefined) {\r\n            this._viewZone = new FindWidgetViewZone(0);\r\n        }\r\n        var viewZone = this._viewZone;\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            if (_this._viewZoneId !== undefined) {\r\n                // the view zone already exists, we need to update the height\r\n                var newHeight = _this._getHeight();\r\n                if (newHeight === viewZone.heightInPx) {\r\n                    return;\r\n                }\r\n                var scrollAdjustment = newHeight - viewZone.heightInPx;\r\n                viewZone.heightInPx = newHeight;\r\n                accessor.layoutZone(_this._viewZoneId);\r\n                if (adjustScroll) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + scrollAdjustment);\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                var scrollAdjustment = _this._getHeight();\r\n                viewZone.heightInPx = scrollAdjustment;\r\n                _this._viewZoneId = accessor.addZone(viewZone);\r\n                if (adjustScroll) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + scrollAdjustment);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    FindWidget.prototype._removeViewZone = function () {\r\n        var _this = this;\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            if (_this._viewZoneId !== undefined) {\r\n                accessor.removeZone(_this._viewZoneId);\r\n                _this._viewZoneId = undefined;\r\n                if (_this._viewZone) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() - _this._viewZone.heightInPx);\r\n                    _this._viewZone = undefined;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    FindWidget.prototype._applyTheme = function (theme) {\r\n        var inputStyles = {\r\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\r\n            inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground),\r\n            inputBackground: theme.getColor(inputBackground),\r\n            inputForeground: theme.getColor(inputForeground),\r\n            inputBorder: theme.getColor(inputBorder),\r\n            inputValidationInfoBackground: theme.getColor(inputValidationInfoBackground),\r\n            inputValidationInfoForeground: theme.getColor(inputValidationInfoForeground),\r\n            inputValidationInfoBorder: theme.getColor(inputValidationInfoBorder),\r\n            inputValidationWarningBackground: theme.getColor(inputValidationWarningBackground),\r\n            inputValidationWarningForeground: theme.getColor(inputValidationWarningForeground),\r\n            inputValidationWarningBorder: theme.getColor(inputValidationWarningBorder),\r\n            inputValidationErrorBackground: theme.getColor(inputValidationErrorBackground),\r\n            inputValidationErrorForeground: theme.getColor(inputValidationErrorForeground),\r\n            inputValidationErrorBorder: theme.getColor(inputValidationErrorBorder),\r\n        };\r\n        this._findInput.style(inputStyles);\r\n        this._replaceInput.style(inputStyles);\r\n        this._toggleSelectionFind.style(inputStyles);\r\n    };\r\n    FindWidget.prototype._tryUpdateWidgetWidth = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        if (!dom.isInDOM(this._domNode)) {\r\n            // the widget is not in the DOM\r\n            return;\r\n        }\r\n        var layoutInfo = this._codeEditor.getLayoutInfo();\r\n        var editorContentWidth = layoutInfo.contentWidth;\r\n        if (editorContentWidth <= 0) {\r\n            // for example, diff view original editor\r\n            dom.addClass(this._domNode, 'hiddenEditor');\r\n            return;\r\n        }\r\n        else if (dom.hasClass(this._domNode, 'hiddenEditor')) {\r\n            dom.removeClass(this._domNode, 'hiddenEditor');\r\n        }\r\n        var editorWidth = layoutInfo.width;\r\n        var minimapWidth = layoutInfo.minimapWidth;\r\n        var collapsedFindWidget = false;\r\n        var reducedFindWidget = false;\r\n        var narrowFindWidget = false;\r\n        if (this._resized) {\r\n            var widgetWidth = dom.getTotalWidth(this._domNode);\r\n            if (widgetWidth > FIND_WIDGET_INITIAL_WIDTH) {\r\n                // as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.\r\n                this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\r\n                this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n                return;\r\n            }\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) {\r\n            reducedFindWidget = true;\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth) {\r\n            narrowFindWidget = true;\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) {\r\n            collapsedFindWidget = true;\r\n        }\r\n        dom.toggleClass(this._domNode, 'collapsed-find-widget', collapsedFindWidget);\r\n        dom.toggleClass(this._domNode, 'narrow-find-widget', narrowFindWidget);\r\n        dom.toggleClass(this._domNode, 'reduced-find-widget', reducedFindWidget);\r\n        if (!narrowFindWidget && !collapsedFindWidget) {\r\n            // the minimal left offset of findwidget is 15px.\r\n            this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\r\n        }\r\n        if (this._resized) {\r\n            this._findInput.inputBox.layout();\r\n            var findInputWidth = this._findInput.inputBox.element.clientWidth;\r\n            if (findInputWidth > 0) {\r\n                this._replaceInput.width = findInputWidth;\r\n            }\r\n        }\r\n        else if (this._isReplaceVisible) {\r\n            this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n        }\r\n    };\r\n    FindWidget.prototype._getHeight = function () {\r\n        var totalheight = 0;\r\n        // find input margin top\r\n        totalheight += 4;\r\n        // find input height\r\n        totalheight += this._findInput.inputBox.height + 2 /** input box border */;\r\n        if (this._isReplaceVisible) {\r\n            // replace input margin\r\n            totalheight += 4;\r\n            totalheight += this._replaceInput.inputBox.height + 2 /** input box border */;\r\n        }\r\n        // margin bottom\r\n        totalheight += 4;\r\n        return totalheight;\r\n    };\r\n    FindWidget.prototype._tryUpdateHeight = function () {\r\n        var totalHeight = this._getHeight();\r\n        if (this._cachedHeight !== null && this._cachedHeight === totalHeight) {\r\n            return false;\r\n        }\r\n        this._cachedHeight = totalHeight;\r\n        this._domNode.style.height = totalHeight + \"px\";\r\n        return true;\r\n    };\r\n    // ----- Public\r\n    FindWidget.prototype.focusFindInput = function () {\r\n        this._findInput.select();\r\n        // Edge browser requires focus() in addition to select()\r\n        this._findInput.focus();\r\n    };\r\n    FindWidget.prototype.focusReplaceInput = function () {\r\n        this._replaceInput.select();\r\n        // Edge browser requires focus() in addition to select()\r\n        this._replaceInput.focus();\r\n    };\r\n    FindWidget.prototype.highlightFindOptions = function () {\r\n        this._findInput.highlightFindOptions();\r\n    };\r\n    FindWidget.prototype._updateSearchScope = function () {\r\n        if (!this._codeEditor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this._toggleSelectionFind.checked) {\r\n            var selection = this._codeEditor.getSelection();\r\n            if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n            }\r\n            var currentMatch = this._state.currentMatch;\r\n            if (selection.startLineNumber !== selection.endLineNumber) {\r\n                if (!Range.equalsRange(selection, currentMatch)) {\r\n                    // Reseed find scope\r\n                    this._state.change({ searchScope: selection }, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FindWidget.prototype._onFindInputMouseDown = function (e) {\r\n        // on linux, middle key does pasting.\r\n        if (e.middleButton) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    FindWidget.prototype._onFindInputKeyDown = function (e) {\r\n        if (e.equals(ctrlKeyMod | 3 /* Enter */)) {\r\n            this._findInput.inputBox.insertAtCursor('\\n');\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2 /* Tab */)) {\r\n            if (this._isReplaceVisible) {\r\n                this._replaceInput.focus();\r\n            }\r\n            else {\r\n                this._findInput.focusOnCaseSensitive();\r\n            }\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\r\n            this._codeEditor.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(16 /* UpArrow */)) {\r\n            return stopPropagationForMultiLineUpwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\r\n        }\r\n        if (e.equals(18 /* DownArrow */)) {\r\n            return stopPropagationForMultiLineDownwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\r\n        }\r\n    };\r\n    FindWidget.prototype._onReplaceInputKeyDown = function (e) {\r\n        if (e.equals(ctrlKeyMod | 3 /* Enter */)) {\r\n            if (platform.isWindows && platform.isNative && !this._ctrlEnterReplaceAllWarningPrompted) {\r\n                // this is the first time when users press Ctrl + Enter to replace all\r\n                this._notificationService.info(nls.localize('ctrlEnter.keybindingChanged', 'Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.'));\r\n                this._ctrlEnterReplaceAllWarningPrompted = true;\r\n                this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey, true, 0 /* GLOBAL */);\r\n            }\r\n            this._replaceInput.inputBox.insertAtCursor('\\n');\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2 /* Tab */)) {\r\n            this._findInput.focusOnCaseSensitive();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n            this._findInput.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\r\n            this._codeEditor.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(16 /* UpArrow */)) {\r\n            return stopPropagationForMultiLineUpwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\r\n        }\r\n        if (e.equals(18 /* DownArrow */)) {\r\n            return stopPropagationForMultiLineDownwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\r\n        }\r\n    };\r\n    // ----- sash\r\n    FindWidget.prototype.getHorizontalSashTop = function (_sash) {\r\n        return 0;\r\n    };\r\n    FindWidget.prototype.getHorizontalSashLeft = function (_sash) {\r\n        return 0;\r\n    };\r\n    FindWidget.prototype.getHorizontalSashWidth = function (_sash) {\r\n        return 500;\r\n    };\r\n    // ----- initialization\r\n    FindWidget.prototype._keybindingLabelFor = function (actionId) {\r\n        var kb = this._keybindingService.lookupKeybinding(actionId);\r\n        if (!kb) {\r\n            return '';\r\n        }\r\n        return \" (\" + kb.getLabel() + \")\";\r\n    };\r\n    FindWidget.prototype._buildDomNode = function () {\r\n        var _this = this;\r\n        var flexibleHeight = true;\r\n        var flexibleWidth = true;\r\n        // Find input\r\n        this._findInput = this._register(new ContextScopedFindInput(null, this._contextViewProvider, {\r\n            width: FIND_INPUT_AREA_WIDTH,\r\n            label: NLS_FIND_INPUT_LABEL,\r\n            placeholder: NLS_FIND_INPUT_PLACEHOLDER,\r\n            appendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\r\n            appendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\r\n            appendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\r\n            validation: function (value) {\r\n                if (value.length === 0 || !_this._findInput.getRegex()) {\r\n                    return null;\r\n                }\r\n                try {\r\n                    new RegExp(value);\r\n                    return null;\r\n                }\r\n                catch (e) {\r\n                    return { content: e.message };\r\n                }\r\n            },\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: 118\r\n        }, this._contextKeyService, true));\r\n        this._findInput.setRegex(!!this._state.isRegex);\r\n        this._findInput.setCaseSensitive(!!this._state.matchCase);\r\n        this._findInput.setWholeWords(!!this._state.wholeWord);\r\n        this._register(this._findInput.onKeyDown(function (e) { return _this._onFindInputKeyDown(e); }));\r\n        this._register(this._findInput.inputBox.onDidChange(function () {\r\n            if (_this._ignoreChangeEvent) {\r\n                return;\r\n            }\r\n            _this._state.change({ searchString: _this._findInput.getValue() }, true);\r\n        }));\r\n        this._register(this._findInput.onDidOptionChange(function () {\r\n            _this._state.change({\r\n                isRegex: _this._findInput.getRegex(),\r\n                wholeWord: _this._findInput.getWholeWords(),\r\n                matchCase: _this._findInput.getCaseSensitive()\r\n            }, true);\r\n        }));\r\n        this._register(this._findInput.onCaseSensitiveKeyDown(function (e) {\r\n            if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        this._register(this._findInput.onRegexKeyDown(function (e) {\r\n            if (e.equals(2 /* Tab */)) {\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.focusOnPreserve();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        this._register(this._findInput.inputBox.onDidHeightChange(function (e) {\r\n            if (_this._tryUpdateHeight()) {\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        if (platform.isLinux) {\r\n            this._register(this._findInput.onMouseDown(function (e) { return _this._onFindInputMouseDown(e); }));\r\n        }\r\n        this._matchesCount = document.createElement('div');\r\n        this._matchesCount.className = 'matchesCount';\r\n        this._updateMatchesCount();\r\n        // Previous button\r\n        this._prevBtn = this._register(new SimpleButton({\r\n            label: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\r\n            className: 'codicon codicon-arrow-up',\r\n            onTrigger: function () {\r\n                _this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().then(undefined, onUnexpectedError);\r\n            }\r\n        }));\r\n        // Next button\r\n        this._nextBtn = this._register(new SimpleButton({\r\n            label: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\r\n            className: 'codicon codicon-arrow-down',\r\n            onTrigger: function () {\r\n                _this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().then(undefined, onUnexpectedError);\r\n            }\r\n        }));\r\n        var findPart = document.createElement('div');\r\n        findPart.className = 'find-part';\r\n        findPart.appendChild(this._findInput.domNode);\r\n        var actionsContainer = document.createElement('div');\r\n        actionsContainer.className = 'find-actions';\r\n        findPart.appendChild(actionsContainer);\r\n        actionsContainer.appendChild(this._matchesCount);\r\n        actionsContainer.appendChild(this._prevBtn.domNode);\r\n        actionsContainer.appendChild(this._nextBtn.domNode);\r\n        // Toggle selection button\r\n        this._toggleSelectionFind = this._register(new Checkbox({\r\n            actionClassName: 'codicon codicon-selection',\r\n            title: NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),\r\n            isChecked: false\r\n        }));\r\n        this._register(this._toggleSelectionFind.onChange(function () {\r\n            if (_this._toggleSelectionFind.checked) {\r\n                if (_this._codeEditor.hasModel()) {\r\n                    var selection = _this._codeEditor.getSelection();\r\n                    if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                        selection = selection.setEndPosition(selection.endLineNumber - 1, _this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n                    }\r\n                    if (!selection.isEmpty()) {\r\n                        _this._state.change({ searchScope: selection }, true);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                _this._state.change({ searchScope: null }, true);\r\n            }\r\n        }));\r\n        actionsContainer.appendChild(this._toggleSelectionFind.domNode);\r\n        // Close button\r\n        this._closeBtn = this._register(new SimpleButton({\r\n            label: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\r\n            className: 'codicon codicon-close',\r\n            onTrigger: function () {\r\n                _this._state.change({ isRevealed: false, searchScope: null }, false);\r\n            },\r\n            onKeyDown: function (e) {\r\n                if (e.equals(2 /* Tab */)) {\r\n                    if (_this._isReplaceVisible) {\r\n                        if (_this._replaceBtn.isEnabled()) {\r\n                            _this._replaceBtn.focus();\r\n                        }\r\n                        else {\r\n                            _this._codeEditor.focus();\r\n                        }\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        actionsContainer.appendChild(this._closeBtn.domNode);\r\n        // Replace input\r\n        this._replaceInput = this._register(new ContextScopedReplaceInput(null, undefined, {\r\n            label: NLS_REPLACE_INPUT_LABEL,\r\n            placeholder: NLS_REPLACE_INPUT_PLACEHOLDER,\r\n            history: [],\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: 118\r\n        }, this._contextKeyService, true));\r\n        this._replaceInput.setPreserveCase(!!this._state.preserveCase);\r\n        this._register(this._replaceInput.onKeyDown(function (e) { return _this._onReplaceInputKeyDown(e); }));\r\n        this._register(this._replaceInput.inputBox.onDidChange(function () {\r\n            _this._state.change({ replaceString: _this._replaceInput.inputBox.value }, false);\r\n        }));\r\n        this._register(this._replaceInput.inputBox.onDidHeightChange(function (e) {\r\n            if (_this._isReplaceVisible && _this._tryUpdateHeight()) {\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        this._register(this._replaceInput.onDidOptionChange(function () {\r\n            _this._state.change({\r\n                preserveCase: _this._replaceInput.getPreserveCase()\r\n            }, true);\r\n        }));\r\n        this._register(this._replaceInput.onPreserveCaseKeyDown(function (e) {\r\n            if (e.equals(2 /* Tab */)) {\r\n                if (_this._prevBtn.isEnabled()) {\r\n                    _this._prevBtn.focus();\r\n                }\r\n                else if (_this._nextBtn.isEnabled()) {\r\n                    _this._nextBtn.focus();\r\n                }\r\n                else if (_this._toggleSelectionFind.enabled) {\r\n                    _this._toggleSelectionFind.focus();\r\n                }\r\n                else if (_this._closeBtn.isEnabled()) {\r\n                    _this._closeBtn.focus();\r\n                }\r\n                e.preventDefault();\r\n            }\r\n        }));\r\n        // Replace one button\r\n        this._replaceBtn = this._register(new SimpleButton({\r\n            label: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\r\n            className: 'codicon codicon-replace',\r\n            onTrigger: function () {\r\n                _this._controller.replace();\r\n            },\r\n            onKeyDown: function (e) {\r\n                if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                    _this._closeBtn.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        // Replace all button\r\n        this._replaceAllBtn = this._register(new SimpleButton({\r\n            label: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\r\n            className: 'codicon codicon-replace-all',\r\n            onTrigger: function () {\r\n                _this._controller.replaceAll();\r\n            }\r\n        }));\r\n        var replacePart = document.createElement('div');\r\n        replacePart.className = 'replace-part';\r\n        replacePart.appendChild(this._replaceInput.domNode);\r\n        var replaceActionsContainer = document.createElement('div');\r\n        replaceActionsContainer.className = 'replace-actions';\r\n        replacePart.appendChild(replaceActionsContainer);\r\n        replaceActionsContainer.appendChild(this._replaceBtn.domNode);\r\n        replaceActionsContainer.appendChild(this._replaceAllBtn.domNode);\r\n        // Toggle replace button\r\n        this._toggleReplaceBtn = this._register(new SimpleButton({\r\n            label: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\r\n            className: 'codicon toggle left',\r\n            onTrigger: function () {\r\n                _this._state.change({ isReplaceRevealed: !_this._isReplaceVisible }, false);\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n                    _this._replaceInput.inputBox.layout();\r\n                }\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-down', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-right', !this._isReplaceVisible);\r\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\r\n        // Widget\r\n        this._domNode = document.createElement('div');\r\n        this._domNode.className = 'editor-widget find-widget';\r\n        this._domNode.setAttribute('aria-hidden', 'true');\r\n        // We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.\r\n        this._domNode.style.width = FIND_WIDGET_INITIAL_WIDTH + \"px\";\r\n        this._domNode.appendChild(this._toggleReplaceBtn.domNode);\r\n        this._domNode.appendChild(findPart);\r\n        this._domNode.appendChild(replacePart);\r\n        this._resizeSash = new Sash(this._domNode, this, { orientation: 0 /* VERTICAL */ });\r\n        this._resized = false;\r\n        var originalWidth = FIND_WIDGET_INITIAL_WIDTH;\r\n        this._register(this._resizeSash.onDidStart(function () {\r\n            originalWidth = dom.getTotalWidth(_this._domNode);\r\n        }));\r\n        this._register(this._resizeSash.onDidChange(function (evt) {\r\n            _this._resized = true;\r\n            var width = originalWidth + evt.startX - evt.currentX;\r\n            if (width < FIND_WIDGET_INITIAL_WIDTH) {\r\n                // narrow down the find widget should be handled by CSS.\r\n                return;\r\n            }\r\n            var maxWidth = parseFloat(dom.getComputedStyle(_this._domNode).maxWidth) || 0;\r\n            if (width > maxWidth) {\r\n                return;\r\n            }\r\n            _this._domNode.style.width = width + \"px\";\r\n            if (_this._isReplaceVisible) {\r\n                _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n            }\r\n            _this._findInput.inputBox.layout();\r\n            _this._tryUpdateHeight();\r\n        }));\r\n        this._register(this._resizeSash.onDidReset(function () {\r\n            // users double click on the sash\r\n            var currentWidth = dom.getTotalWidth(_this._domNode);\r\n            if (currentWidth < FIND_WIDGET_INITIAL_WIDTH) {\r\n                // The editor is narrow and the width of the find widget is controlled fully by CSS.\r\n                return;\r\n            }\r\n            var width = FIND_WIDGET_INITIAL_WIDTH;\r\n            if (!_this._resized || currentWidth === FIND_WIDGET_INITIAL_WIDTH) {\r\n                // 1. never resized before, double click should maximizes it\r\n                // 2. users resized it already but its width is the same as default\r\n                var layoutInfo = _this._codeEditor.getLayoutInfo();\r\n                width = layoutInfo.width - 28 - layoutInfo.minimapWidth - 15;\r\n                _this._resized = true;\r\n            }\r\n            else {\r\n                /**\r\n                 * no op, the find widget should be shrinked to its default size.\r\n                 */\r\n            }\r\n            _this._domNode.style.width = width + \"px\";\r\n            if (_this._isReplaceVisible) {\r\n                _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n            }\r\n            _this._findInput.inputBox.layout();\r\n        }));\r\n    };\r\n    FindWidget.prototype.updateAccessibilitySupport = function () {\r\n        var value = this._codeEditor.getOption(2 /* accessibilitySupport */);\r\n        this._findInput.setFocusInputOnOptionClick(value !== 2 /* Enabled */);\r\n    };\r\n    FindWidget.ID = 'editor.contrib.findWidget';\r\n    return FindWidget;\r\n}(Widget));\r\nexport { FindWidget };\r\nvar SimpleButton = /** @class */ (function (_super) {\r\n    __extends(SimpleButton, _super);\r\n    function SimpleButton(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this._opts = opts;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.title = _this._opts.label;\r\n        _this._domNode.tabIndex = 0;\r\n        _this._domNode.className = 'button ' + _this._opts.className;\r\n        _this._domNode.setAttribute('role', 'button');\r\n        _this._domNode.setAttribute('aria-label', _this._opts.label);\r\n        _this.onclick(_this._domNode, function (e) {\r\n            _this._opts.onTrigger();\r\n            e.preventDefault();\r\n        });\r\n        _this.onkeydown(_this._domNode, function (e) {\r\n            if (e.equals(10 /* Space */) || e.equals(3 /* Enter */)) {\r\n                _this._opts.onTrigger();\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n            if (_this._opts.onKeyDown) {\r\n                _this._opts.onKeyDown(e);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SimpleButton.prototype, \"domNode\", {\r\n        get: function () {\r\n            return this._domNode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SimpleButton.prototype.isEnabled = function () {\r\n        return (this._domNode.tabIndex >= 0);\r\n    };\r\n    SimpleButton.prototype.focus = function () {\r\n        this._domNode.focus();\r\n    };\r\n    SimpleButton.prototype.setEnabled = function (enabled) {\r\n        dom.toggleClass(this._domNode, 'disabled', !enabled);\r\n        this._domNode.setAttribute('aria-disabled', String(!enabled));\r\n        this._domNode.tabIndex = enabled ? 0 : -1;\r\n    };\r\n    SimpleButton.prototype.setExpanded = function (expanded) {\r\n        this._domNode.setAttribute('aria-expanded', String(!!expanded));\r\n    };\r\n    SimpleButton.prototype.toggleClass = function (className, shouldHaveIt) {\r\n        dom.toggleClass(this._domNode, className, shouldHaveIt);\r\n    };\r\n    return SimpleButton;\r\n}(Widget));\r\nexport { SimpleButton };\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var addBackgroundColorRule = function (selector, color) {\r\n        if (color) {\r\n            collector.addRule(\".monaco-editor \" + selector + \" { background-color: \" + color + \"; }\");\r\n        }\r\n    };\r\n    addBackgroundColorRule('.findMatch', theme.getColor(editorFindMatchHighlight));\r\n    addBackgroundColorRule('.currentFindMatch', theme.getColor(editorFindMatch));\r\n    addBackgroundColorRule('.findScope', theme.getColor(editorFindRangeHighlight));\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    addBackgroundColorRule('.find-widget', widgetBackground);\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .find-widget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var findMatchHighlightBorder = theme.getColor(editorFindMatchHighlightBorder);\r\n    if (findMatchHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .findMatch { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + findMatchHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var findMatchBorder = theme.getColor(editorFindMatchBorder);\r\n    if (findMatchBorder) {\r\n        collector.addRule(\".monaco-editor .currentFindMatch { border: 2px solid \" + findMatchBorder + \"; padding: 1px; box-sizing: border-box; }\");\r\n    }\r\n    var findRangeHighlightBorder = theme.getColor(editorFindRangeHighlightBorder);\r\n    if (findRangeHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .findScope { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + findRangeHighlightBorder + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .find-widget { border: 1px solid \" + hcBorder + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorWidgetForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .find-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var error = theme.getColor(errorForeground);\r\n    if (error) {\r\n        collector.addRule(\".monaco-editor .find-widget.no-results .matchesCount { color: \" + error + \"; }\");\r\n    }\r\n    var resizeBorderBackground = theme.getColor(editorWidgetResizeBorder);\r\n    if (resizeBorderBackground) {\r\n        collector.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \" + resizeBorderBackground + \"; width: 3px !important; margin-left: -4px;}\");\r\n    }\r\n    else {\r\n        var border = theme.getColor(editorWidgetBorder);\r\n        if (border) {\r\n            collector.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \" + border + \"; width: 3px !important; margin-left: -4px;}\");\r\n        }\r\n    }\r\n    // This rule is used to override the outline color for synthetic-focus find input.\r\n    var focusOutline = theme.getColor(focusBorder);\r\n    if (focusOutline) {\r\n        collector.addRule(\".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: \" + focusOutline + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Delayer } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding, CONTEXT_REPLACE_INPUT_FOCUSED } from './findModel.js';\r\nimport { FindOptionsWidget } from './findOptionsWidget.js';\r\nimport { FindReplaceState } from './findState.js';\r\nimport { FindWidget } from './findWidget.js';\r\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\r\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nvar SEARCH_STRING_MAX_LENGTH = 524288;\r\nexport function getSelectionSearchString(editor) {\r\n    if (!editor.hasModel()) {\r\n        return null;\r\n    }\r\n    var selection = editor.getSelection();\r\n    // if selection spans multiple lines, default search string to empty\r\n    if (selection.startLineNumber === selection.endLineNumber) {\r\n        if (selection.isEmpty()) {\r\n            var wordAtPosition = editor.getModel().getWordAtPosition(selection.getStartPosition());\r\n            if (wordAtPosition) {\r\n                return wordAtPosition.word;\r\n            }\r\n        }\r\n        else {\r\n            if (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\r\n                return editor.getModel().getValueInRange(selection);\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nvar CommonFindController = /** @class */ (function (_super) {\r\n    __extends(CommonFindController, _super);\r\n    function CommonFindController(editor, contextKeyService, storageService, clipboardService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\r\n        _this._contextKeyService = contextKeyService;\r\n        _this._storageService = storageService;\r\n        _this._clipboardService = clipboardService;\r\n        _this._updateHistoryDelayer = new Delayer(500);\r\n        _this._state = _this._register(new FindReplaceState());\r\n        _this.loadQueryState();\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        _this._model = null;\r\n        _this._register(_this._editor.onDidChangeModel(function () {\r\n            var shouldRestartFind = (_this._editor.getModel() && _this._state.isRevealed);\r\n            _this.disposeModel();\r\n            _this._state.change({\r\n                searchScope: null,\r\n                matchCase: _this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, false),\r\n                wholeWord: _this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, false),\r\n                isRegex: _this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, false),\r\n                preserveCase: _this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, false)\r\n            }, false);\r\n            if (shouldRestartFind) {\r\n                _this._start({\r\n                    forceRevealReplace: false,\r\n                    seedSearchStringFromSelection: false && _this._editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                    seedSearchStringFromGlobalClipboard: false,\r\n                    shouldFocus: 0 /* NoFocusChange */,\r\n                    shouldAnimate: false,\r\n                    updateSearchScope: false\r\n                });\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    CommonFindController.get = function (editor) {\r\n        return editor.getContribution(CommonFindController.ID);\r\n    };\r\n    CommonFindController.prototype.dispose = function () {\r\n        this.disposeModel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    CommonFindController.prototype.disposeModel = function () {\r\n        if (this._model) {\r\n            this._model.dispose();\r\n            this._model = null;\r\n        }\r\n    };\r\n    CommonFindController.prototype._onStateChanged = function (e) {\r\n        this.saveQueryState(e);\r\n        if (e.isRevealed) {\r\n            if (this._state.isRevealed) {\r\n                this._findWidgetVisible.set(true);\r\n            }\r\n            else {\r\n                this._findWidgetVisible.reset();\r\n                this.disposeModel();\r\n            }\r\n        }\r\n        if (e.searchString) {\r\n            this.setGlobalBufferTerm(this._state.searchString);\r\n        }\r\n    };\r\n    CommonFindController.prototype.saveQueryState = function (e) {\r\n        if (e.isRegex) {\r\n            this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.wholeWord) {\r\n            this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.matchCase) {\r\n            this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.preserveCase) {\r\n            this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* WORKSPACE */);\r\n        }\r\n    };\r\n    CommonFindController.prototype.loadQueryState = function () {\r\n        this._state.change({\r\n            matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, this._state.matchCase),\r\n            wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, this._state.wholeWord),\r\n            isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, this._state.isRegex),\r\n            preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, this._state.preserveCase)\r\n        }, false);\r\n    };\r\n    CommonFindController.prototype.isFindInputFocused = function () {\r\n        return !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\r\n    };\r\n    CommonFindController.prototype.getState = function () {\r\n        return this._state;\r\n    };\r\n    CommonFindController.prototype.closeFindWidget = function () {\r\n        this._state.change({\r\n            isRevealed: false,\r\n            searchScope: null\r\n        }, false);\r\n        this._editor.focus();\r\n    };\r\n    CommonFindController.prototype.toggleCaseSensitive = function () {\r\n        this._state.change({ matchCase: !this._state.matchCase }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleWholeWords = function () {\r\n        this._state.change({ wholeWord: !this._state.wholeWord }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleRegex = function () {\r\n        this._state.change({ isRegex: !this._state.isRegex }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleSearchScope = function () {\r\n        if (this._state.searchScope) {\r\n            this._state.change({ searchScope: null }, true);\r\n        }\r\n        else {\r\n            if (this._editor.hasModel()) {\r\n                var selection = this._editor.getSelection();\r\n                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                    selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n                }\r\n                if (!selection.isEmpty()) {\r\n                    this._state.change({ searchScope: selection }, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CommonFindController.prototype.setSearchString = function (searchString) {\r\n        if (this._state.isRegex) {\r\n            searchString = strings.escapeRegExpCharacters(searchString);\r\n        }\r\n        this._state.change({ searchString: searchString }, false);\r\n    };\r\n    CommonFindController.prototype.highlightFindOptions = function () {\r\n        // overwritten in subclass\r\n    };\r\n    CommonFindController.prototype._start = function (opts) {\r\n        this.disposeModel();\r\n        if (!this._editor.hasModel()) {\r\n            // cannot do anything with an editor that doesn't have a model...\r\n            return;\r\n        }\r\n        var stateChanges = {\r\n            isRevealed: true\r\n        };\r\n        if (opts.seedSearchStringFromSelection) {\r\n            var selectionSearchString = getSelectionSearchString(this._editor);\r\n            if (selectionSearchString) {\r\n                if (this._state.isRegex) {\r\n                    stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\r\n                }\r\n                else {\r\n                    stateChanges.searchString = selectionSearchString;\r\n                }\r\n            }\r\n        }\r\n        if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\r\n            var selectionSearchString = this.getGlobalBufferTerm();\r\n            if (selectionSearchString) {\r\n                stateChanges.searchString = selectionSearchString;\r\n            }\r\n        }\r\n        // Overwrite isReplaceRevealed\r\n        if (opts.forceRevealReplace) {\r\n            stateChanges.isReplaceRevealed = true;\r\n        }\r\n        else if (!this._findWidgetVisible.get()) {\r\n            stateChanges.isReplaceRevealed = false;\r\n        }\r\n        if (opts.updateSearchScope) {\r\n            var currentSelection = this._editor.getSelection();\r\n            if (!currentSelection.isEmpty()) {\r\n                stateChanges.searchScope = currentSelection;\r\n            }\r\n        }\r\n        this._state.change(stateChanges, false);\r\n        if (!this._model) {\r\n            this._model = new FindModelBoundToEditorModel(this._editor, this._state);\r\n        }\r\n    };\r\n    CommonFindController.prototype.start = function (opts) {\r\n        this._start(opts);\r\n    };\r\n    CommonFindController.prototype.moveToNextMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToNextMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.moveToPrevMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToPrevMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replace = function () {\r\n        if (this._model) {\r\n            this._model.replace();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replaceAll = function () {\r\n        if (this._model) {\r\n            this._model.replaceAll();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.selectAllMatches = function () {\r\n        if (this._model) {\r\n            this._model.selectAllMatches();\r\n            this._editor.focus();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.getGlobalBufferTerm = function () {\r\n        if (this._editor.getOption(28 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            return this._clipboardService.readFindText();\r\n        }\r\n        return '';\r\n    };\r\n    CommonFindController.prototype.setGlobalBufferTerm = function (text) {\r\n        if (this._editor.getOption(28 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            this._clipboardService.writeFindText(text);\r\n        }\r\n    };\r\n    CommonFindController.ID = 'editor.contrib.findController';\r\n    CommonFindController = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IStorageService),\r\n        __param(3, IClipboardService)\r\n    ], CommonFindController);\r\n    return CommonFindController;\r\n}(Disposable));\r\nexport { CommonFindController };\r\nvar FindController = /** @class */ (function (_super) {\r\n    __extends(FindController, _super);\r\n    function FindController(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService) {\r\n        var _this = _super.call(this, editor, _contextKeyService, _storageService, clipboardService) || this;\r\n        _this._contextViewService = _contextViewService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._themeService = _themeService;\r\n        _this._notificationService = _notificationService;\r\n        _this._widget = null;\r\n        _this._findOptionsWidget = null;\r\n        return _this;\r\n    }\r\n    FindController.prototype._start = function (opts) {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        var selection = this._editor.getSelection();\r\n        var updateSearchScope = false;\r\n        switch (this._editor.getOption(28 /* find */).autoFindInSelection) {\r\n            case 'always':\r\n                updateSearchScope = true;\r\n                break;\r\n            case 'never':\r\n                updateSearchScope = false;\r\n                break;\r\n            case 'multiline':\r\n                var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\r\n                updateSearchScope = isSelectionMultipleLine;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        opts.updateSearchScope = updateSearchScope;\r\n        _super.prototype._start.call(this, opts);\r\n        if (opts.shouldFocus === 2 /* FocusReplaceInput */) {\r\n            this._widget.focusReplaceInput();\r\n        }\r\n        else if (opts.shouldFocus === 1 /* FocusFindInput */) {\r\n            this._widget.focusFindInput();\r\n        }\r\n    };\r\n    FindController.prototype.highlightFindOptions = function () {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        if (this._state.isRevealed) {\r\n            this._widget.highlightFindOptions();\r\n        }\r\n        else {\r\n            this._findOptionsWidget.highlightFindOptions();\r\n        }\r\n    };\r\n    FindController.prototype._createFindWidget = function () {\r\n        this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\r\n        this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\r\n    };\r\n    FindController = __decorate([\r\n        __param(1, IContextViewService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IKeybindingService),\r\n        __param(4, IThemeService),\r\n        __param(5, INotificationService),\r\n        __param(6, IStorageService),\r\n        __param(7, optional(IClipboardService))\r\n    ], FindController);\r\n    return FindController;\r\n}(CommonFindController));\r\nexport { FindController };\r\nvar StartFindAction = /** @class */ (function (_super) {\r\n    __extends(StartFindAction, _super);\r\n    function StartFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindAction,\r\n            label: nls.localize('startFindAction', \"Find\"),\r\n            alias: 'Find',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 36 /* KEY_F */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).globalFindClipboard,\r\n                shouldFocus: 1 /* FocusFindInput */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindAction;\r\n}(EditorAction));\r\nexport { StartFindAction };\r\nvar StartFindWithSelectionAction = /** @class */ (function (_super) {\r\n    __extends(StartFindWithSelectionAction, _super);\r\n    function StartFindWithSelectionAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindWithSelection,\r\n            label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\r\n            alias: 'Find With Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 35 /* KEY_E */,\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindWithSelectionAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: true,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            controller.setGlobalBufferTerm(controller.getState().searchString);\r\n        }\r\n    };\r\n    return StartFindWithSelectionAction;\r\n}(EditorAction));\r\nexport { StartFindWithSelectionAction };\r\nvar MatchFindAction = /** @class */ (function (_super) {\r\n    __extends(MatchFindAction, _super);\r\n    function MatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller && !this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: true,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return MatchFindAction;\r\n}(EditorAction));\r\nexport { MatchFindAction };\r\nvar NextMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction, _super);\r\n    function NextMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */, secondary: [61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction };\r\nvar NextMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction2, _super);\r\n    function NextMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction2 };\r\nvar PreviousMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction, _super);\r\n    function PreviousMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 37 /* KEY_G */, secondary: [1024 /* Shift */ | 61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction };\r\nvar PreviousMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction2, _super);\r\n    function PreviousMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 1024 /* Shift */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction2 };\r\nvar SelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(SelectionMatchFindAction, _super);\r\n    function SelectionMatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SelectionMatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectionSearchString = getSelectionSearchString(editor);\r\n        if (selectionSearchString) {\r\n            controller.setSearchString(selectionSearchString);\r\n        }\r\n        if (!this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return SelectionMatchFindAction;\r\n}(EditorAction));\r\nexport { SelectionMatchFindAction };\r\nvar NextSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextSelectionMatchFindAction, _super);\r\n    function NextSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextSelectionMatchFindAction,\r\n            label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\r\n            alias: 'Find Next Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { NextSelectionMatchFindAction };\r\nvar PreviousSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousSelectionMatchFindAction, _super);\r\n    function PreviousSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousSelectionMatchFindAction,\r\n            label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\r\n            alias: 'Find Previous Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { PreviousSelectionMatchFindAction };\r\nvar StartFindReplaceAction = /** @class */ (function (_super) {\r\n    __extends(StartFindReplaceAction, _super);\r\n    function StartFindReplaceAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindReplaceAction,\r\n            label: nls.localize('startReplace', \"Replace\"),\r\n            alias: 'Replace',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 38 /* KEY_H */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 36 /* KEY_F */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindReplaceAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel() || editor.getOption(68 /* readOnly */)) {\r\n            return;\r\n        }\r\n        var controller = CommonFindController.get(editor);\r\n        var currentSelection = editor.getSelection();\r\n        var findInputFocused = controller.isFindInputFocused();\r\n        // we only seed search string from selection when the current selection is single line and not empty,\r\n        // + the find input is not focused\r\n        var seedSearchStringFromSelection = !currentSelection.isEmpty()\r\n            && currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(28 /* find */).seedSearchStringFromSelection\r\n            && !findInputFocused;\r\n        /*\r\n         * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\r\n\r\n         * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\r\n         * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\r\n         * findInputFocused false seedSearchStringFromSelection false FocusFindInput\r\n         */\r\n        var shouldFocus = (findInputFocused || seedSearchStringFromSelection) ?\r\n            2 /* FocusReplaceInput */ : 1 /* FocusFindInput */;\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: true,\r\n                seedSearchStringFromSelection: seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                shouldFocus: shouldFocus,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindReplaceAction;\r\n}(EditorAction));\r\nexport { StartFindReplaceAction };\r\nregisterEditorContribution(CommonFindController.ID, FindController);\r\nregisterEditorAction(StartFindAction);\r\nregisterEditorAction(StartFindWithSelectionAction);\r\nregisterEditorAction(NextMatchFindAction);\r\nregisterEditorAction(NextMatchFindAction2);\r\nregisterEditorAction(PreviousMatchFindAction);\r\nregisterEditorAction(PreviousMatchFindAction2);\r\nregisterEditorAction(NextSelectionMatchFindAction);\r\nregisterEditorAction(PreviousSelectionMatchFindAction);\r\nregisterEditorAction(StartFindReplaceAction);\r\nvar FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.CloseFindWidgetCommand,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.closeFindWidget(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleCaseSensitiveCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleCaseSensitive(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleCaseSensitiveKeybinding.primary,\r\n        mac: ToggleCaseSensitiveKeybinding.mac,\r\n        win: ToggleCaseSensitiveKeybinding.win,\r\n        linux: ToggleCaseSensitiveKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleWholeWordCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleWholeWords(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleWholeWordKeybinding.primary,\r\n        mac: ToggleWholeWordKeybinding.mac,\r\n        win: ToggleWholeWordKeybinding.win,\r\n        linux: ToggleWholeWordKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleRegexCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleRegex(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleRegexKeybinding.primary,\r\n        mac: ToggleRegexKeybinding.mac,\r\n        win: ToggleRegexKeybinding.win,\r\n        linux: ToggleRegexKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleSearchScopeCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleSearchScope(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleSearchScopeKeybinding.primary,\r\n        mac: ToggleSearchScopeKeybinding.mac,\r\n        win: ToggleSearchScopeKeybinding.win,\r\n        linux: ToggleSearchScopeKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 22 /* KEY_1 */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: undefined,\r\n        mac: {\r\n            primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n        }\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.SelectAllMatchesAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.selectAllMatches(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport var MAX_FOLDING_REGIONS = 0xFFFF;\r\nexport var MAX_LINE_NUMBER = 0xFFFFFF;\r\nvar MASK_INDENT = 0xFF000000;\r\nvar FoldingRegions = /** @class */ (function () {\r\n    function FoldingRegions(startIndexes, endIndexes, types) {\r\n        if (startIndexes.length !== endIndexes.length || startIndexes.length > MAX_FOLDING_REGIONS) {\r\n            throw new Error('invalid startIndexes or endIndexes size');\r\n        }\r\n        this._startIndexes = startIndexes;\r\n        this._endIndexes = endIndexes;\r\n        this._collapseStates = new Uint32Array(Math.ceil(startIndexes.length / 32));\r\n        this._types = types;\r\n        this._parentsComputed = false;\r\n    }\r\n    FoldingRegions.prototype.ensureParentIndices = function () {\r\n        var _this = this;\r\n        if (!this._parentsComputed) {\r\n            this._parentsComputed = true;\r\n            var parentIndexes_1 = [];\r\n            var isInsideLast = function (startLineNumber, endLineNumber) {\r\n                var index = parentIndexes_1[parentIndexes_1.length - 1];\r\n                return _this.getStartLineNumber(index) <= startLineNumber && _this.getEndLineNumber(index) >= endLineNumber;\r\n            };\r\n            for (var i = 0, len = this._startIndexes.length; i < len; i++) {\r\n                var startLineNumber = this._startIndexes[i];\r\n                var endLineNumber = this._endIndexes[i];\r\n                if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n                    throw new Error('startLineNumber or endLineNumber must not exceed ' + MAX_LINE_NUMBER);\r\n                }\r\n                while (parentIndexes_1.length > 0 && !isInsideLast(startLineNumber, endLineNumber)) {\r\n                    parentIndexes_1.pop();\r\n                }\r\n                var parentIndex = parentIndexes_1.length > 0 ? parentIndexes_1[parentIndexes_1.length - 1] : -1;\r\n                parentIndexes_1.push(i);\r\n                this._startIndexes[i] = startLineNumber + ((parentIndex & 0xFF) << 24);\r\n                this._endIndexes[i] = endLineNumber + ((parentIndex & 0xFF00) << 16);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(FoldingRegions.prototype, \"length\", {\r\n        get: function () {\r\n            return this._startIndexes.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingRegions.prototype.getStartLineNumber = function (index) {\r\n        return this._startIndexes[index] & MAX_LINE_NUMBER;\r\n    };\r\n    FoldingRegions.prototype.getEndLineNumber = function (index) {\r\n        return this._endIndexes[index] & MAX_LINE_NUMBER;\r\n    };\r\n    FoldingRegions.prototype.getType = function (index) {\r\n        return this._types ? this._types[index] : undefined;\r\n    };\r\n    FoldingRegions.prototype.hasTypes = function () {\r\n        return !!this._types;\r\n    };\r\n    FoldingRegions.prototype.isCollapsed = function (index) {\r\n        var arrayIndex = (index / 32) | 0;\r\n        var bit = index % 32;\r\n        return (this._collapseStates[arrayIndex] & (1 << bit)) !== 0;\r\n    };\r\n    FoldingRegions.prototype.setCollapsed = function (index, newState) {\r\n        var arrayIndex = (index / 32) | 0;\r\n        var bit = index % 32;\r\n        var value = this._collapseStates[arrayIndex];\r\n        if (newState) {\r\n            this._collapseStates[arrayIndex] = value | (1 << bit);\r\n        }\r\n        else {\r\n            this._collapseStates[arrayIndex] = value & ~(1 << bit);\r\n        }\r\n    };\r\n    FoldingRegions.prototype.toRegion = function (index) {\r\n        return new FoldingRegion(this, index);\r\n    };\r\n    FoldingRegions.prototype.getParentIndex = function (index) {\r\n        this.ensureParentIndices();\r\n        var parent = ((this._startIndexes[index] & MASK_INDENT) >>> 24) + ((this._endIndexes[index] & MASK_INDENT) >>> 16);\r\n        if (parent === MAX_FOLDING_REGIONS) {\r\n            return -1;\r\n        }\r\n        return parent;\r\n    };\r\n    FoldingRegions.prototype.contains = function (index, line) {\r\n        return this.getStartLineNumber(index) <= line && this.getEndLineNumber(index) >= line;\r\n    };\r\n    FoldingRegions.prototype.findIndex = function (line) {\r\n        var low = 0, high = this._startIndexes.length;\r\n        if (high === 0) {\r\n            return -1; // no children\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (line < this.getStartLineNumber(mid)) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        return low - 1;\r\n    };\r\n    FoldingRegions.prototype.findRange = function (line) {\r\n        var index = this.findIndex(line);\r\n        if (index >= 0) {\r\n            var endLineNumber = this.getEndLineNumber(index);\r\n            if (endLineNumber >= line) {\r\n                return index;\r\n            }\r\n            index = this.getParentIndex(index);\r\n            while (index !== -1) {\r\n                if (this.contains(index, line)) {\r\n                    return index;\r\n                }\r\n                index = this.getParentIndex(index);\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    FoldingRegions.prototype.toString = function () {\r\n        var res = [];\r\n        for (var i = 0; i < this.length; i++) {\r\n            res[i] = \"[\" + (this.isCollapsed(i) ? '+' : '-') + \"] \" + this.getStartLineNumber(i) + \"/\" + this.getEndLineNumber(i);\r\n        }\r\n        return res.join(', ');\r\n    };\r\n    return FoldingRegions;\r\n}());\r\nexport { FoldingRegions };\r\nvar FoldingRegion = /** @class */ (function () {\r\n    function FoldingRegion(ranges, index) {\r\n        this.ranges = ranges;\r\n        this.index = index;\r\n    }\r\n    Object.defineProperty(FoldingRegion.prototype, \"startLineNumber\", {\r\n        get: function () {\r\n            return this.ranges.getStartLineNumber(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"endLineNumber\", {\r\n        get: function () {\r\n            return this.ranges.getEndLineNumber(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"regionIndex\", {\r\n        get: function () {\r\n            return this.index;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"parentIndex\", {\r\n        get: function () {\r\n            return this.ranges.getParentIndex(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"isCollapsed\", {\r\n        get: function () {\r\n            return this.ranges.isCollapsed(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingRegion.prototype.containedBy = function (range) {\r\n        return range.startLineNumber <= this.startLineNumber && range.endLineNumber >= this.endLineNumber;\r\n    };\r\n    FoldingRegion.prototype.containsLine = function (lineNumber) {\r\n        return this.startLineNumber <= lineNumber && lineNumber <= this.endLineNumber;\r\n    };\r\n    return FoldingRegion;\r\n}());\r\nexport { FoldingRegion };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { FoldingRegions } from './foldingRanges.js';\r\nvar FoldingModel = /** @class */ (function () {\r\n    function FoldingModel(textModel, decorationProvider) {\r\n        this._updateEventEmitter = new Emitter();\r\n        this.onDidChange = this._updateEventEmitter.event;\r\n        this._textModel = textModel;\r\n        this._decorationProvider = decorationProvider;\r\n        this._regions = new FoldingRegions(new Uint32Array(0), new Uint32Array(0));\r\n        this._editorDecorationIds = [];\r\n        this._isInitialized = false;\r\n    }\r\n    Object.defineProperty(FoldingModel.prototype, \"regions\", {\r\n        get: function () { return this._regions; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingModel.prototype, \"textModel\", {\r\n        get: function () { return this._textModel; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingModel.prototype, \"isInitialized\", {\r\n        get: function () { return this._isInitialized; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingModel.prototype.toggleCollapseState = function (regions) {\r\n        var _this = this;\r\n        if (!regions.length) {\r\n            return;\r\n        }\r\n        var processed = {};\r\n        this._decorationProvider.changeDecorations(function (accessor) {\r\n            for (var _i = 0, regions_1 = regions; _i < regions_1.length; _i++) {\r\n                var region = regions_1[_i];\r\n                var index = region.regionIndex;\r\n                var editorDecorationId = _this._editorDecorationIds[index];\r\n                if (editorDecorationId && !processed[editorDecorationId]) {\r\n                    processed[editorDecorationId] = true;\r\n                    var newCollapseState = !_this._regions.isCollapsed(index);\r\n                    _this._regions.setCollapsed(index, newCollapseState);\r\n                    accessor.changeDecorationOptions(editorDecorationId, _this._decorationProvider.getDecorationOption(newCollapseState));\r\n                }\r\n            }\r\n        });\r\n        this._updateEventEmitter.fire({ model: this, collapseStateChanged: regions });\r\n    };\r\n    FoldingModel.prototype.update = function (newRegions, blockedLineNumers) {\r\n        var _this = this;\r\n        if (blockedLineNumers === void 0) { blockedLineNumers = []; }\r\n        var newEditorDecorations = [];\r\n        var isBlocked = function (startLineNumber, endLineNumber) {\r\n            for (var _i = 0, blockedLineNumers_1 = blockedLineNumers; _i < blockedLineNumers_1.length; _i++) {\r\n                var blockedLineNumber = blockedLineNumers_1[_i];\r\n                if (startLineNumber < blockedLineNumber && blockedLineNumber <= endLineNumber) { // first line is visible\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        var initRange = function (index, isCollapsed) {\r\n            var startLineNumber = newRegions.getStartLineNumber(index);\r\n            if (isCollapsed && isBlocked(startLineNumber, newRegions.getEndLineNumber(index))) {\r\n                isCollapsed = false;\r\n            }\r\n            newRegions.setCollapsed(index, isCollapsed);\r\n            var maxColumn = _this._textModel.getLineMaxColumn(startLineNumber);\r\n            var decorationRange = {\r\n                startLineNumber: startLineNumber,\r\n                startColumn: maxColumn,\r\n                endLineNumber: startLineNumber,\r\n                endColumn: maxColumn\r\n            };\r\n            newEditorDecorations.push({ range: decorationRange, options: _this._decorationProvider.getDecorationOption(isCollapsed) });\r\n        };\r\n        var i = 0;\r\n        var nextCollapsed = function () {\r\n            while (i < _this._regions.length) {\r\n                var isCollapsed = _this._regions.isCollapsed(i);\r\n                i++;\r\n                if (isCollapsed) {\r\n                    return i - 1;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n        var k = 0;\r\n        var collapsedIndex = nextCollapsed();\r\n        while (collapsedIndex !== -1 && k < newRegions.length) {\r\n            // get the latest range\r\n            var decRange = this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);\r\n            if (decRange) {\r\n                var collapsedStartLineNumber = decRange.startLineNumber;\r\n                if (this._textModel.getLineMaxColumn(collapsedStartLineNumber) === decRange.startColumn) { // test that the decoration is still at the end otherwise it got deleted\r\n                    while (k < newRegions.length) {\r\n                        var startLineNumber = newRegions.getStartLineNumber(k);\r\n                        if (collapsedStartLineNumber >= startLineNumber) {\r\n                            initRange(k, collapsedStartLineNumber === startLineNumber);\r\n                            k++;\r\n                        }\r\n                        else {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            collapsedIndex = nextCollapsed();\r\n        }\r\n        while (k < newRegions.length) {\r\n            initRange(k, false);\r\n            k++;\r\n        }\r\n        this._editorDecorationIds = this._decorationProvider.deltaDecorations(this._editorDecorationIds, newEditorDecorations);\r\n        this._regions = newRegions;\r\n        this._isInitialized = true;\r\n        this._updateEventEmitter.fire({ model: this });\r\n    };\r\n    /**\r\n     * Collapse state memento, for persistence only\r\n     */\r\n    FoldingModel.prototype.getMemento = function () {\r\n        var collapsedRanges = [];\r\n        for (var i = 0; i < this._regions.length; i++) {\r\n            if (this._regions.isCollapsed(i)) {\r\n                var range = this._textModel.getDecorationRange(this._editorDecorationIds[i]);\r\n                if (range) {\r\n                    var startLineNumber = range.startLineNumber;\r\n                    var endLineNumber = range.endLineNumber + this._regions.getEndLineNumber(i) - this._regions.getStartLineNumber(i);\r\n                    collapsedRanges.push({ startLineNumber: startLineNumber, endLineNumber: endLineNumber });\r\n                }\r\n            }\r\n        }\r\n        if (collapsedRanges.length > 0) {\r\n            return collapsedRanges;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Apply persisted state, for persistence only\r\n     */\r\n    FoldingModel.prototype.applyMemento = function (state) {\r\n        if (!Array.isArray(state)) {\r\n            return;\r\n        }\r\n        var toToogle = [];\r\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\r\n            var range = state_1[_i];\r\n            var region = this.getRegionAtLine(range.startLineNumber);\r\n            if (region && !region.isCollapsed) {\r\n                toToogle.push(region);\r\n            }\r\n        }\r\n        this.toggleCollapseState(toToogle);\r\n    };\r\n    FoldingModel.prototype.dispose = function () {\r\n        this._decorationProvider.deltaDecorations(this._editorDecorationIds, []);\r\n    };\r\n    FoldingModel.prototype.getAllRegionsAtLine = function (lineNumber, filter) {\r\n        var result = [];\r\n        if (this._regions) {\r\n            var index = this._regions.findRange(lineNumber);\r\n            var level = 1;\r\n            while (index >= 0) {\r\n                var current = this._regions.toRegion(index);\r\n                if (!filter || filter(current, level)) {\r\n                    result.push(current);\r\n                }\r\n                level++;\r\n                index = current.parentIndex;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    FoldingModel.prototype.getRegionAtLine = function (lineNumber) {\r\n        if (this._regions) {\r\n            var index = this._regions.findRange(lineNumber);\r\n            if (index >= 0) {\r\n                return this._regions.toRegion(index);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    FoldingModel.prototype.getRegionsInside = function (region, filter) {\r\n        var result = [];\r\n        var index = region ? region.regionIndex + 1 : 0;\r\n        var endLineNumber = region ? region.endLineNumber : Number.MAX_VALUE;\r\n        if (filter && filter.length === 2) {\r\n            var levelStack = [];\r\n            for (var i = index, len = this._regions.length; i < len; i++) {\r\n                var current = this._regions.toRegion(i);\r\n                if (this._regions.getStartLineNumber(i) < endLineNumber) {\r\n                    while (levelStack.length > 0 && !current.containedBy(levelStack[levelStack.length - 1])) {\r\n                        levelStack.pop();\r\n                    }\r\n                    levelStack.push(current);\r\n                    if (filter(current, levelStack.length)) {\r\n                        result.push(current);\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var i = index, len = this._regions.length; i < len; i++) {\r\n                var current = this._regions.toRegion(i);\r\n                if (this._regions.getStartLineNumber(i) < endLineNumber) {\r\n                    if (!filter || filter(current)) {\r\n                        result.push(current);\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return FoldingModel;\r\n}());\r\nexport { FoldingModel };\r\n/**\r\n * Collapse or expand the regions at the given locations\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\r\n */\r\nexport function toggleCollapseState(foldingModel, levels, lineNumbers) {\r\n    var toToggle = [];\r\n    var _loop_1 = function (lineNumber) {\r\n        var region = foldingModel.getRegionAtLine(lineNumber);\r\n        if (region) {\r\n            var doCollapse_1 = !region.isCollapsed;\r\n            toToggle.push(region);\r\n            if (levels > 1) {\r\n                var regionsInside = foldingModel.getRegionsInside(region, function (r, level) { return r.isCollapsed !== doCollapse_1 && level < levels; });\r\n                toToggle.push.apply(toToggle, regionsInside);\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, lineNumbers_1 = lineNumbers; _i < lineNumbers_1.length; _i++) {\r\n        var lineNumber = lineNumbers_1[_i];\r\n        _loop_1(lineNumber);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Collapse or expand the regions at the given locations including all children.\r\n * @param doCollapse Wheter to collase or expand\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\r\n */\r\nexport function setCollapseStateLevelsDown(foldingModel, doCollapse, levels, lineNumbers) {\r\n    if (levels === void 0) { levels = Number.MAX_VALUE; }\r\n    var toToggle = [];\r\n    if (lineNumbers && lineNumbers.length > 0) {\r\n        for (var _i = 0, lineNumbers_2 = lineNumbers; _i < lineNumbers_2.length; _i++) {\r\n            var lineNumber = lineNumbers_2[_i];\r\n            var region = foldingModel.getRegionAtLine(lineNumber);\r\n            if (region) {\r\n                if (region.isCollapsed !== doCollapse) {\r\n                    toToggle.push(region);\r\n                }\r\n                if (levels > 1) {\r\n                    var regionsInside = foldingModel.getRegionsInside(region, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\r\n                    toToggle.push.apply(toToggle, regionsInside);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        var regionsInside = foldingModel.getRegionsInside(null, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\r\n        toToggle.push.apply(toToggle, regionsInside);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Collapse or expand the regions at the given locations including all parents.\r\n * @param doCollapse Wheter to collase or expand\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand.\r\n */\r\nexport function setCollapseStateLevelsUp(foldingModel, doCollapse, levels, lineNumbers) {\r\n    var toToggle = [];\r\n    for (var _i = 0, lineNumbers_3 = lineNumbers; _i < lineNumbers_3.length; _i++) {\r\n        var lineNumber = lineNumbers_3[_i];\r\n        var regions = foldingModel.getAllRegionsAtLine(lineNumber, function (region, level) { return region.isCollapsed !== doCollapse && level <= levels; });\r\n        toToggle.push.apply(toToggle, regions);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Collapse or expand a region at the given locations. If the inner most region is already collapsed/expanded, uses the first parent instead.\r\n * @param doCollapse Wheter to collase or expand\r\n * @param lineNumbers the location of the regions to collapse or expand.\r\n */\r\nexport function setCollapseStateUp(foldingModel, doCollapse, lineNumbers) {\r\n    var toToggle = [];\r\n    for (var _i = 0, lineNumbers_4 = lineNumbers; _i < lineNumbers_4.length; _i++) {\r\n        var lineNumber = lineNumbers_4[_i];\r\n        var regions = foldingModel.getAllRegionsAtLine(lineNumber, function (region) { return region.isCollapsed !== doCollapse; });\r\n        if (regions.length > 0) {\r\n            toToggle.push(regions[0]);\r\n        }\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds or unfolds all regions that have a given level, except if they contain one of the blocked lines.\r\n * @param foldLevel level. Level == 1 is the top level\r\n * @param doCollapse Wheter to collase or expand\r\n*/\r\nexport function setCollapseStateAtLevel(foldingModel, foldLevel, doCollapse, blockedLineNumbers) {\r\n    var filter = function (region, level) { return level === foldLevel && region.isCollapsed !== doCollapse && !blockedLineNumbers.some(function (line) { return region.containsLine(line); }); };\r\n    var toToggle = foldingModel.getRegionsInside(null, filter);\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds all regions for which the lines start with a given regex\r\n * @param foldingModel the folding model\r\n */\r\nexport function setCollapseStateForMatchingLines(foldingModel, regExp, doCollapse) {\r\n    var editorModel = foldingModel.textModel;\r\n    var regions = foldingModel.regions;\r\n    var toToggle = [];\r\n    for (var i = regions.length - 1; i >= 0; i--) {\r\n        if (doCollapse !== regions.isCollapsed(i)) {\r\n            var startLineNumber = regions.getStartLineNumber(i);\r\n            if (regExp.test(editorModel.getLineContent(startLineNumber))) {\r\n                toToggle.push(regions.toRegion(i));\r\n            }\r\n        }\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds all regions of the given type\r\n * @param foldingModel the folding model\r\n */\r\nexport function setCollapseStateForType(foldingModel, type, doCollapse) {\r\n    var regions = foldingModel.regions;\r\n    var toToggle = [];\r\n    for (var i = regions.length - 1; i >= 0; i--) {\r\n        if (doCollapse !== regions.isCollapsed(i) && type === regions.getType(i)) {\r\n            toToggle.push(regions.toRegion(i));\r\n        }\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nvar FoldingDecorationProvider = /** @class */ (function () {\r\n    function FoldingDecorationProvider(editor) {\r\n        this.editor = editor;\r\n        this.autoHideFoldingControls = true;\r\n        this.showFoldingHighlights = true;\r\n    }\r\n    FoldingDecorationProvider.prototype.getDecorationOption = function (isCollapsed) {\r\n        if (isCollapsed) {\r\n            return this.showFoldingHighlights ? FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION;\r\n        }\r\n        else if (this.autoHideFoldingControls) {\r\n            return FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\r\n        }\r\n        else {\r\n            return FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\r\n        }\r\n    };\r\n    FoldingDecorationProvider.prototype.deltaDecorations = function (oldDecorations, newDecorations) {\r\n        return this.editor.deltaDecorations(oldDecorations, newDecorations);\r\n    };\r\n    FoldingDecorationProvider.prototype.changeDecorations = function (callback) {\r\n        return this.editor.changeDecorations(callback);\r\n    };\r\n    FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        afterContentClassName: 'inline-folded',\r\n        linesDecorationsClassName: 'codicon codicon-chevron-right'\r\n    });\r\n    FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        afterContentClassName: 'inline-folded',\r\n        className: 'folded-background',\r\n        isWholeLine: true,\r\n        linesDecorationsClassName: 'codicon codicon-chevron-right'\r\n    });\r\n    FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        linesDecorationsClassName: 'codicon codicon-chevron-down'\r\n    });\r\n    FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        linesDecorationsClassName: 'codicon codicon-chevron-down alwaysShowFoldIcons'\r\n    });\r\n    return FoldingDecorationProvider;\r\n}());\r\nexport { FoldingDecorationProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { findFirstInSorted } from '../../../base/common/arrays.js';\r\nvar HiddenRangeModel = /** @class */ (function () {\r\n    function HiddenRangeModel(model) {\r\n        var _this = this;\r\n        this._updateEventEmitter = new Emitter();\r\n        this._foldingModel = model;\r\n        this._foldingModelListener = model.onDidChange(function (_) { return _this.updateHiddenRanges(); });\r\n        this._hiddenRanges = [];\r\n        if (model.regions.length) {\r\n            this.updateHiddenRanges();\r\n        }\r\n    }\r\n    Object.defineProperty(HiddenRangeModel.prototype, \"onDidChange\", {\r\n        get: function () { return this._updateEventEmitter.event; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HiddenRangeModel.prototype, \"hiddenRanges\", {\r\n        get: function () { return this._hiddenRanges; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HiddenRangeModel.prototype.updateHiddenRanges = function () {\r\n        var updateHiddenAreas = false;\r\n        var newHiddenAreas = [];\r\n        var i = 0; // index into hidden\r\n        var k = 0;\r\n        var lastCollapsedStart = Number.MAX_VALUE;\r\n        var lastCollapsedEnd = -1;\r\n        var ranges = this._foldingModel.regions;\r\n        for (; i < ranges.length; i++) {\r\n            if (!ranges.isCollapsed(i)) {\r\n                continue;\r\n            }\r\n            var startLineNumber = ranges.getStartLineNumber(i) + 1; // the first line is not hidden\r\n            var endLineNumber = ranges.getEndLineNumber(i);\r\n            if (lastCollapsedStart <= startLineNumber && endLineNumber <= lastCollapsedEnd) {\r\n                // ignore ranges contained in collapsed regions\r\n                continue;\r\n            }\r\n            if (!updateHiddenAreas && k < this._hiddenRanges.length && this._hiddenRanges[k].startLineNumber === startLineNumber && this._hiddenRanges[k].endLineNumber === endLineNumber) {\r\n                // reuse the old ranges\r\n                newHiddenAreas.push(this._hiddenRanges[k]);\r\n                k++;\r\n            }\r\n            else {\r\n                updateHiddenAreas = true;\r\n                newHiddenAreas.push(new Range(startLineNumber, 1, endLineNumber, 1));\r\n            }\r\n            lastCollapsedStart = startLineNumber;\r\n            lastCollapsedEnd = endLineNumber;\r\n        }\r\n        if (updateHiddenAreas || k < this._hiddenRanges.length) {\r\n            this.applyHiddenRanges(newHiddenAreas);\r\n        }\r\n    };\r\n    HiddenRangeModel.prototype.applyMemento = function (state) {\r\n        if (!Array.isArray(state) || state.length === 0) {\r\n            return false;\r\n        }\r\n        var hiddenRanges = [];\r\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\r\n            var r = state_1[_i];\r\n            if (!r.startLineNumber || !r.endLineNumber) {\r\n                return false;\r\n            }\r\n            hiddenRanges.push(new Range(r.startLineNumber + 1, 1, r.endLineNumber, 1));\r\n        }\r\n        this.applyHiddenRanges(hiddenRanges);\r\n        return true;\r\n    };\r\n    /**\r\n     * Collapse state memento, for persistence only, only used if folding model is not yet initialized\r\n     */\r\n    HiddenRangeModel.prototype.getMemento = function () {\r\n        return this._hiddenRanges.map(function (r) { return ({ startLineNumber: r.startLineNumber - 1, endLineNumber: r.endLineNumber }); });\r\n    };\r\n    HiddenRangeModel.prototype.applyHiddenRanges = function (newHiddenAreas) {\r\n        this._hiddenRanges = newHiddenAreas;\r\n        this._updateEventEmitter.fire(newHiddenAreas);\r\n    };\r\n    HiddenRangeModel.prototype.hasRanges = function () {\r\n        return this._hiddenRanges.length > 0;\r\n    };\r\n    HiddenRangeModel.prototype.isHidden = function (line) {\r\n        return findRange(this._hiddenRanges, line) !== null;\r\n    };\r\n    HiddenRangeModel.prototype.adjustSelections = function (selections) {\r\n        var _this = this;\r\n        var hasChanges = false;\r\n        var editorModel = this._foldingModel.textModel;\r\n        var lastRange = null;\r\n        var adjustLine = function (line) {\r\n            if (!lastRange || !isInside(line, lastRange)) {\r\n                lastRange = findRange(_this._hiddenRanges, line);\r\n            }\r\n            if (lastRange) {\r\n                return lastRange.startLineNumber - 1;\r\n            }\r\n            return null;\r\n        };\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            var adjustedStartLine = adjustLine(selection.startLineNumber);\r\n            if (adjustedStartLine) {\r\n                selection = selection.setStartPosition(adjustedStartLine, editorModel.getLineMaxColumn(adjustedStartLine));\r\n                hasChanges = true;\r\n            }\r\n            var adjustedEndLine = adjustLine(selection.endLineNumber);\r\n            if (adjustedEndLine) {\r\n                selection = selection.setEndPosition(adjustedEndLine, editorModel.getLineMaxColumn(adjustedEndLine));\r\n                hasChanges = true;\r\n            }\r\n            selections[i] = selection;\r\n        }\r\n        return hasChanges;\r\n    };\r\n    HiddenRangeModel.prototype.dispose = function () {\r\n        if (this.hiddenRanges.length > 0) {\r\n            this._hiddenRanges = [];\r\n            this._updateEventEmitter.fire(this._hiddenRanges);\r\n        }\r\n        if (this._foldingModelListener) {\r\n            this._foldingModelListener.dispose();\r\n            this._foldingModelListener = null;\r\n        }\r\n    };\r\n    return HiddenRangeModel;\r\n}());\r\nexport { HiddenRangeModel };\r\nfunction isInside(line, range) {\r\n    return line >= range.startLineNumber && line <= range.endLineNumber;\r\n}\r\nfunction findRange(ranges, line) {\r\n    var i = findFirstInSorted(ranges, function (r) { return line < r.startLineNumber; }) - 1;\r\n    if (i >= 0 && ranges[i].endLineNumber >= line) {\r\n        return ranges[i];\r\n    }\r\n    return null;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { FoldingRegions, MAX_LINE_NUMBER } from './foldingRanges.js';\r\nimport { TextModel } from '../../common/model/textModel.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nvar MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT = 5000;\r\nexport var ID_INDENT_PROVIDER = 'indent';\r\nvar IndentRangeProvider = /** @class */ (function () {\r\n    function IndentRangeProvider(editorModel) {\r\n        this.editorModel = editorModel;\r\n        this.id = ID_INDENT_PROVIDER;\r\n    }\r\n    IndentRangeProvider.prototype.dispose = function () {\r\n    };\r\n    IndentRangeProvider.prototype.compute = function (cancelationToken) {\r\n        var foldingRules = LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id);\r\n        var offSide = foldingRules && !!foldingRules.offSide;\r\n        var markers = foldingRules && foldingRules.markers;\r\n        return Promise.resolve(computeRanges(this.editorModel, offSide, markers));\r\n    };\r\n    return IndentRangeProvider;\r\n}());\r\nexport { IndentRangeProvider };\r\n// public only for testing\r\nvar RangesCollector = /** @class */ (function () {\r\n    function RangesCollector(foldingRangesLimit) {\r\n        this._startIndexes = [];\r\n        this._endIndexes = [];\r\n        this._indentOccurrences = [];\r\n        this._length = 0;\r\n        this._foldingRangesLimit = foldingRangesLimit;\r\n    }\r\n    RangesCollector.prototype.insertFirst = function (startLineNumber, endLineNumber, indent) {\r\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n            return;\r\n        }\r\n        var index = this._length;\r\n        this._startIndexes[index] = startLineNumber;\r\n        this._endIndexes[index] = endLineNumber;\r\n        this._length++;\r\n        if (indent < 1000) {\r\n            this._indentOccurrences[indent] = (this._indentOccurrences[indent] || 0) + 1;\r\n        }\r\n    };\r\n    RangesCollector.prototype.toIndentRanges = function (model) {\r\n        if (this._length <= this._foldingRangesLimit) {\r\n            // reverse and create arrays of the exact length\r\n            var startIndexes = new Uint32Array(this._length);\r\n            var endIndexes = new Uint32Array(this._length);\r\n            for (var i = this._length - 1, k = 0; i >= 0; i--, k++) {\r\n                startIndexes[k] = this._startIndexes[i];\r\n                endIndexes[k] = this._endIndexes[i];\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes);\r\n        }\r\n        else {\r\n            var entries = 0;\r\n            var maxIndent = this._indentOccurrences.length;\r\n            for (var i = 0; i < this._indentOccurrences.length; i++) {\r\n                var n = this._indentOccurrences[i];\r\n                if (n) {\r\n                    if (n + entries > this._foldingRangesLimit) {\r\n                        maxIndent = i;\r\n                        break;\r\n                    }\r\n                    entries += n;\r\n                }\r\n            }\r\n            var tabSize = model.getOptions().tabSize;\r\n            // reverse and create arrays of the exact length\r\n            var startIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var endIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            for (var i = this._length - 1, k = 0; i >= 0; i--) {\r\n                var startIndex = this._startIndexes[i];\r\n                var lineContent = model.getLineContent(startIndex);\r\n                var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n                if (indent < maxIndent || (indent === maxIndent && entries++ < this._foldingRangesLimit)) {\r\n                    startIndexes[k] = startIndex;\r\n                    endIndexes[k] = this._endIndexes[i];\r\n                    k++;\r\n                }\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes);\r\n        }\r\n    };\r\n    return RangesCollector;\r\n}());\r\nexport { RangesCollector };\r\nexport function computeRanges(model, offSide, markers, foldingRangesLimit) {\r\n    if (foldingRangesLimit === void 0) { foldingRangesLimit = MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT; }\r\n    var tabSize = model.getOptions().tabSize;\r\n    var result = new RangesCollector(foldingRangesLimit);\r\n    var pattern = undefined;\r\n    if (markers) {\r\n        pattern = new RegExp(\"(\" + markers.start.source + \")|(?:\" + markers.end.source + \")\");\r\n    }\r\n    var previousRegions = [];\r\n    var line = model.getLineCount() + 1;\r\n    previousRegions.push({ indent: -1, endAbove: line, line: line }); // sentinel, to make sure there's at least one entry\r\n    for (var line_1 = model.getLineCount(); line_1 > 0; line_1--) {\r\n        var lineContent = model.getLineContent(line_1);\r\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n        var previous = previousRegions[previousRegions.length - 1];\r\n        if (indent === -1) {\r\n            if (offSide) {\r\n                // for offSide languages, empty lines are associated to the previous block\r\n                // note: the next block is already written to the results, so this only\r\n                // impacts the end position of the block before\r\n                previous.endAbove = line_1;\r\n            }\r\n            continue; // only whitespace\r\n        }\r\n        var m = void 0;\r\n        if (pattern && (m = lineContent.match(pattern))) {\r\n            // folding pattern match\r\n            if (m[1]) { // start pattern match\r\n                // discard all regions until the folding pattern\r\n                var i = previousRegions.length - 1;\r\n                while (i > 0 && previousRegions[i].indent !== -2) {\r\n                    i--;\r\n                }\r\n                if (i > 0) {\r\n                    previousRegions.length = i + 1;\r\n                    previous = previousRegions[i];\r\n                    // new folding range from pattern, includes the end line\r\n                    result.insertFirst(line_1, previous.line, indent);\r\n                    previous.line = line_1;\r\n                    previous.indent = indent;\r\n                    previous.endAbove = line_1;\r\n                    continue;\r\n                }\r\n                else {\r\n                    // no end marker found, treat line as a regular line\r\n                }\r\n            }\r\n            else { // end pattern match\r\n                previousRegions.push({ indent: -2, endAbove: line_1, line: line_1 });\r\n                continue;\r\n            }\r\n        }\r\n        if (previous.indent > indent) {\r\n            // discard all regions with larger indent\r\n            do {\r\n                previousRegions.pop();\r\n                previous = previousRegions[previousRegions.length - 1];\r\n            } while (previous.indent > indent);\r\n            // new folding range\r\n            var endLineNumber = previous.endAbove - 1;\r\n            if (endLineNumber - line_1 >= 1) { // needs at east size 1\r\n                result.insertFirst(line_1, endLineNumber, indent);\r\n            }\r\n        }\r\n        if (previous.indent === indent) {\r\n            previous.endAbove = line_1;\r\n        }\r\n        else { // previous.indent < indent\r\n            // new region with a bigger indent\r\n            previousRegions.push({ indent: indent, endAbove: line_1, line: line_1 });\r\n        }\r\n    }\r\n    return result.toIndentRanges(model);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { MAX_LINE_NUMBER, FoldingRegions } from './foldingRanges.js';\r\nvar MAX_FOLDING_REGIONS = 5000;\r\nvar foldingContext = {};\r\nexport var ID_SYNTAX_PROVIDER = 'syntax';\r\nvar SyntaxRangeProvider = /** @class */ (function () {\r\n    function SyntaxRangeProvider(editorModel, providers, limit) {\r\n        if (limit === void 0) { limit = MAX_FOLDING_REGIONS; }\r\n        this.editorModel = editorModel;\r\n        this.providers = providers;\r\n        this.limit = limit;\r\n        this.id = ID_SYNTAX_PROVIDER;\r\n    }\r\n    SyntaxRangeProvider.prototype.compute = function (cancellationToken) {\r\n        var _this = this;\r\n        return collectSyntaxRanges(this.providers, this.editorModel, cancellationToken).then(function (ranges) {\r\n            if (ranges) {\r\n                var res = sanitizeRanges(ranges, _this.limit);\r\n                return res;\r\n            }\r\n            return null;\r\n        });\r\n    };\r\n    SyntaxRangeProvider.prototype.dispose = function () {\r\n    };\r\n    return SyntaxRangeProvider;\r\n}());\r\nexport { SyntaxRangeProvider };\r\nfunction collectSyntaxRanges(providers, model, cancellationToken) {\r\n    var rangeData = null;\r\n    var promises = providers.map(function (provider, i) {\r\n        return Promise.resolve(provider.provideFoldingRanges(model, foldingContext, cancellationToken)).then(function (ranges) {\r\n            if (cancellationToken.isCancellationRequested) {\r\n                return;\r\n            }\r\n            if (Array.isArray(ranges)) {\r\n                if (!Array.isArray(rangeData)) {\r\n                    rangeData = [];\r\n                }\r\n                var nLines = model.getLineCount();\r\n                for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\r\n                    var r = ranges_1[_i];\r\n                    if (r.start > 0 && r.end > r.start && r.end <= nLines) {\r\n                        rangeData.push({ start: r.start, end: r.end, rank: i, kind: r.kind });\r\n                    }\r\n                }\r\n            }\r\n        }, onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function (_) {\r\n        return rangeData;\r\n    });\r\n}\r\nvar RangesCollector = /** @class */ (function () {\r\n    function RangesCollector(foldingRangesLimit) {\r\n        this._startIndexes = [];\r\n        this._endIndexes = [];\r\n        this._nestingLevels = [];\r\n        this._nestingLevelCounts = [];\r\n        this._types = [];\r\n        this._length = 0;\r\n        this._foldingRangesLimit = foldingRangesLimit;\r\n    }\r\n    RangesCollector.prototype.add = function (startLineNumber, endLineNumber, type, nestingLevel) {\r\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n            return;\r\n        }\r\n        var index = this._length;\r\n        this._startIndexes[index] = startLineNumber;\r\n        this._endIndexes[index] = endLineNumber;\r\n        this._nestingLevels[index] = nestingLevel;\r\n        this._types[index] = type;\r\n        this._length++;\r\n        if (nestingLevel < 30) {\r\n            this._nestingLevelCounts[nestingLevel] = (this._nestingLevelCounts[nestingLevel] || 0) + 1;\r\n        }\r\n    };\r\n    RangesCollector.prototype.toIndentRanges = function () {\r\n        if (this._length <= this._foldingRangesLimit) {\r\n            var startIndexes = new Uint32Array(this._length);\r\n            var endIndexes = new Uint32Array(this._length);\r\n            for (var i = 0; i < this._length; i++) {\r\n                startIndexes[i] = this._startIndexes[i];\r\n                endIndexes[i] = this._endIndexes[i];\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes, this._types);\r\n        }\r\n        else {\r\n            var entries = 0;\r\n            var maxLevel = this._nestingLevelCounts.length;\r\n            for (var i = 0; i < this._nestingLevelCounts.length; i++) {\r\n                var n = this._nestingLevelCounts[i];\r\n                if (n) {\r\n                    if (n + entries > this._foldingRangesLimit) {\r\n                        maxLevel = i;\r\n                        break;\r\n                    }\r\n                    entries += n;\r\n                }\r\n            }\r\n            var startIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var endIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var types = [];\r\n            for (var i = 0, k = 0; i < this._length; i++) {\r\n                var level = this._nestingLevels[i];\r\n                if (level < maxLevel || (level === maxLevel && entries++ < this._foldingRangesLimit)) {\r\n                    startIndexes[k] = this._startIndexes[i];\r\n                    endIndexes[k] = this._endIndexes[i];\r\n                    types[k] = this._types[i];\r\n                    k++;\r\n                }\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes, types);\r\n        }\r\n    };\r\n    return RangesCollector;\r\n}());\r\nexport { RangesCollector };\r\nexport function sanitizeRanges(rangeData, limit) {\r\n    var sorted = rangeData.sort(function (d1, d2) {\r\n        var diff = d1.start - d2.start;\r\n        if (diff === 0) {\r\n            diff = d1.rank - d2.rank;\r\n        }\r\n        return diff;\r\n    });\r\n    var collector = new RangesCollector(limit);\r\n    var top = undefined;\r\n    var previous = [];\r\n    for (var _i = 0, sorted_1 = sorted; _i < sorted_1.length; _i++) {\r\n        var entry = sorted_1[_i];\r\n        if (!top) {\r\n            top = entry;\r\n            collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n        }\r\n        else {\r\n            if (entry.start > top.start) {\r\n                if (entry.end <= top.end) {\r\n                    previous.push(top);\r\n                    top = entry;\r\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n                }\r\n                else {\r\n                    if (entry.start > top.end) {\r\n                        do {\r\n                            top = previous.pop();\r\n                        } while (top && entry.start > top.end);\r\n                        if (top) {\r\n                            previous.push(top);\r\n                        }\r\n                        top = entry;\r\n                    }\r\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return collector.toIndentRanges();\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { sanitizeRanges } from './syntaxRangeProvider.js';\r\nexport var ID_INIT_PROVIDER = 'init';\r\nvar InitializingRangeProvider = /** @class */ (function () {\r\n    function InitializingRangeProvider(editorModel, initialRanges, onTimeout, timeoutTime) {\r\n        this.editorModel = editorModel;\r\n        this.id = ID_INIT_PROVIDER;\r\n        if (initialRanges.length) {\r\n            var toDecorationRange = function (range) {\r\n                return {\r\n                    range: {\r\n                        startLineNumber: range.startLineNumber,\r\n                        startColumn: 0,\r\n                        endLineNumber: range.endLineNumber,\r\n                        endColumn: editorModel.getLineLength(range.endLineNumber)\r\n                    },\r\n                    options: {\r\n                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */\r\n                    }\r\n                };\r\n            };\r\n            this.decorationIds = editorModel.deltaDecorations([], initialRanges.map(toDecorationRange));\r\n            this.timeout = setTimeout(onTimeout, timeoutTime);\r\n        }\r\n    }\r\n    InitializingRangeProvider.prototype.dispose = function () {\r\n        if (this.decorationIds) {\r\n            this.editorModel.deltaDecorations(this.decorationIds, []);\r\n            this.decorationIds = undefined;\r\n        }\r\n        if (typeof this.timeout === 'number') {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    };\r\n    InitializingRangeProvider.prototype.compute = function (cancelationToken) {\r\n        var foldingRangeData = [];\r\n        if (this.decorationIds) {\r\n            for (var _i = 0, _a = this.decorationIds; _i < _a.length; _i++) {\r\n                var id = _a[_i];\r\n                var range = this.editorModel.getDecorationRange(id);\r\n                if (range) {\r\n                    foldingRangeData.push({ start: range.startLineNumber, end: range.endLineNumber, rank: 1 });\r\n                }\r\n            }\r\n        }\r\n        return Promise.resolve(sanitizeRanges(foldingRangeData, Number.MAX_VALUE));\r\n    };\r\n    return InitializingRangeProvider;\r\n}());\r\nexport { InitializingRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './folding.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as types from '../../../base/common/types.js';\r\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\r\nimport { RunOnceScheduler, Delayer, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, registerInstantiatedEditorAction } from '../../browser/editorExtensions.js';\r\nimport { FoldingModel, setCollapseStateAtLevel, setCollapseStateLevelsDown, setCollapseStateLevelsUp, setCollapseStateForMatchingLines, setCollapseStateForType, toggleCollapseState, setCollapseStateUp } from './foldingModel.js';\r\nimport { FoldingDecorationProvider } from './foldingDecorations.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { HiddenRangeModel } from './hiddenRangeModel.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { IndentRangeProvider } from './indentRangeProvider.js';\r\nimport { FoldingRangeProviderRegistry, FoldingRangeKind } from '../../common/modes.js';\r\nimport { SyntaxRangeProvider, ID_SYNTAX_PROVIDER } from './syntaxRangeProvider.js';\r\nimport { InitializingRangeProvider, ID_INIT_PROVIDER } from './intializingRangeProvider.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { registerColor, editorSelectionBackground, transparent } from '../../../platform/theme/common/colorRegistry.js';\r\nvar CONTEXT_FOLDING_ENABLED = new RawContextKey('foldingEnabled', false);\r\nvar FoldingController = /** @class */ (function (_super) {\r\n    __extends(FoldingController, _super);\r\n    function FoldingController(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.contextKeyService = contextKeyService;\r\n        _this.localToDispose = _this._register(new DisposableStore());\r\n        _this.editor = editor;\r\n        var options = _this.editor.getOptions();\r\n        _this._isEnabled = options.get(30 /* folding */);\r\n        _this._useFoldingProviders = options.get(31 /* foldingStrategy */) !== 'indentation';\r\n        _this.foldingModel = null;\r\n        _this.hiddenRangeModel = null;\r\n        _this.rangeProvider = null;\r\n        _this.foldingRegionPromise = null;\r\n        _this.foldingStateMemento = null;\r\n        _this.foldingModelPromise = null;\r\n        _this.updateScheduler = null;\r\n        _this.cursorChangedScheduler = null;\r\n        _this.mouseDownInfo = null;\r\n        _this.foldingDecorationProvider = new FoldingDecorationProvider(editor);\r\n        _this.foldingDecorationProvider.autoHideFoldingControls = options.get(84 /* showFoldingControls */) === 'mouseover';\r\n        _this.foldingDecorationProvider.showFoldingHighlights = options.get(32 /* foldingHighlight */);\r\n        _this.foldingEnabled = CONTEXT_FOLDING_ENABLED.bindTo(_this.contextKeyService);\r\n        _this.foldingEnabled.set(_this._isEnabled);\r\n        _this._register(_this.editor.onDidChangeModel(function () { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(30 /* folding */)) {\r\n                var options_1 = _this.editor.getOptions();\r\n                _this._isEnabled = options_1.get(30 /* folding */);\r\n                _this.foldingEnabled.set(_this._isEnabled);\r\n                _this.onModelChanged();\r\n            }\r\n            if (e.hasChanged(84 /* showFoldingControls */) || e.hasChanged(32 /* foldingHighlight */)) {\r\n                var options_2 = _this.editor.getOptions();\r\n                _this.foldingDecorationProvider.autoHideFoldingControls = options_2.get(84 /* showFoldingControls */) === 'mouseover';\r\n                _this.foldingDecorationProvider.showFoldingHighlights = options_2.get(32 /* foldingHighlight */);\r\n                _this.onModelContentChanged();\r\n            }\r\n            if (e.hasChanged(31 /* foldingStrategy */)) {\r\n                var options_3 = _this.editor.getOptions();\r\n                _this._useFoldingProviders = options_3.get(31 /* foldingStrategy */) !== 'indentation';\r\n                _this.onFoldingStrategyChanged();\r\n            }\r\n        }));\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    FoldingController.get = function (editor) {\r\n        return editor.getContribution(FoldingController.ID);\r\n    };\r\n    /**\r\n     * Store view state.\r\n     */\r\n    FoldingController.prototype.saveViewState = function () {\r\n        var model = this.editor.getModel();\r\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization()) {\r\n            return {};\r\n        }\r\n        if (this.foldingModel) { // disposed ?\r\n            var collapsedRegions = this.foldingModel.isInitialized ? this.foldingModel.getMemento() : this.hiddenRangeModel.getMemento();\r\n            var provider = this.rangeProvider ? this.rangeProvider.id : undefined;\r\n            return { collapsedRegions: collapsedRegions, lineCount: model.getLineCount(), provider: provider };\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Restore view state.\r\n     */\r\n    FoldingController.prototype.restoreViewState = function (state) {\r\n        var model = this.editor.getModel();\r\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization() || !this.hiddenRangeModel) {\r\n            return;\r\n        }\r\n        if (!state || !state.collapsedRegions || state.lineCount !== model.getLineCount()) {\r\n            return;\r\n        }\r\n        if (state.provider === ID_SYNTAX_PROVIDER || state.provider === ID_INIT_PROVIDER) {\r\n            this.foldingStateMemento = state;\r\n        }\r\n        var collapsedRegions = state.collapsedRegions;\r\n        // set the hidden ranges right away, before waiting for the folding model.\r\n        if (this.hiddenRangeModel.applyMemento(collapsedRegions)) {\r\n            var foldingModel = this.getFoldingModel();\r\n            if (foldingModel) {\r\n                foldingModel.then(function (foldingModel) {\r\n                    if (foldingModel) {\r\n                        foldingModel.applyMemento(collapsedRegions);\r\n                    }\r\n                }).then(undefined, onUnexpectedError);\r\n            }\r\n        }\r\n    };\r\n    FoldingController.prototype.onModelChanged = function () {\r\n        var _this = this;\r\n        this.localToDispose.clear();\r\n        var model = this.editor.getModel();\r\n        if (!this._isEnabled || !model || model.isTooLargeForTokenization()) {\r\n            // huge files get no view model, so they cannot support hidden areas\r\n            return;\r\n        }\r\n        this.foldingModel = new FoldingModel(model, this.foldingDecorationProvider);\r\n        this.localToDispose.add(this.foldingModel);\r\n        this.hiddenRangeModel = new HiddenRangeModel(this.foldingModel);\r\n        this.localToDispose.add(this.hiddenRangeModel);\r\n        this.localToDispose.add(this.hiddenRangeModel.onDidChange(function (hr) { return _this.onHiddenRangesChanges(hr); }));\r\n        this.updateScheduler = new Delayer(200);\r\n        this.cursorChangedScheduler = new RunOnceScheduler(function () { return _this.revealCursor(); }, 200);\r\n        this.localToDispose.add(this.cursorChangedScheduler);\r\n        this.localToDispose.add(FoldingRangeProviderRegistry.onDidChange(function () { return _this.onFoldingStrategyChanged(); }));\r\n        this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function () { return _this.onFoldingStrategyChanged(); })); // covers model language changes as well\r\n        this.localToDispose.add(this.editor.onDidChangeModelContent(function () { return _this.onModelContentChanged(); }));\r\n        this.localToDispose.add(this.editor.onDidChangeCursorPosition(function () { return _this.onCursorPositionChanged(); }));\r\n        this.localToDispose.add(this.editor.onMouseDown(function (e) { return _this.onEditorMouseDown(e); }));\r\n        this.localToDispose.add(this.editor.onMouseUp(function (e) { return _this.onEditorMouseUp(e); }));\r\n        this.localToDispose.add({\r\n            dispose: function () {\r\n                if (_this.foldingRegionPromise) {\r\n                    _this.foldingRegionPromise.cancel();\r\n                    _this.foldingRegionPromise = null;\r\n                }\r\n                if (_this.updateScheduler) {\r\n                    _this.updateScheduler.cancel();\r\n                }\r\n                _this.updateScheduler = null;\r\n                _this.foldingModel = null;\r\n                _this.foldingModelPromise = null;\r\n                _this.hiddenRangeModel = null;\r\n                _this.cursorChangedScheduler = null;\r\n                _this.foldingStateMemento = null;\r\n                if (_this.rangeProvider) {\r\n                    _this.rangeProvider.dispose();\r\n                }\r\n                _this.rangeProvider = null;\r\n            }\r\n        });\r\n        this.onModelContentChanged();\r\n    };\r\n    FoldingController.prototype.onFoldingStrategyChanged = function () {\r\n        if (this.rangeProvider) {\r\n            this.rangeProvider.dispose();\r\n        }\r\n        this.rangeProvider = null;\r\n        this.onModelContentChanged();\r\n    };\r\n    FoldingController.prototype.getRangeProvider = function (editorModel) {\r\n        var _this = this;\r\n        if (this.rangeProvider) {\r\n            return this.rangeProvider;\r\n        }\r\n        this.rangeProvider = new IndentRangeProvider(editorModel); // fallback\r\n        if (this._useFoldingProviders && this.foldingModel) {\r\n            var foldingProviders = FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);\r\n            if (foldingProviders.length === 0 && this.foldingStateMemento && this.foldingStateMemento.collapsedRegions) {\r\n                var rangeProvider = this.rangeProvider = new InitializingRangeProvider(editorModel, this.foldingStateMemento.collapsedRegions, function () {\r\n                    // if after 30 the InitializingRangeProvider is still not replaced, force a refresh\r\n                    _this.foldingStateMemento = null;\r\n                    _this.onFoldingStrategyChanged();\r\n                }, 30000);\r\n                return rangeProvider; // keep memento in case there are still no foldingProviders on the next request.\r\n            }\r\n            else if (foldingProviders.length > 0) {\r\n                this.rangeProvider = new SyntaxRangeProvider(editorModel, foldingProviders);\r\n            }\r\n        }\r\n        this.foldingStateMemento = null;\r\n        return this.rangeProvider;\r\n    };\r\n    FoldingController.prototype.getFoldingModel = function () {\r\n        return this.foldingModelPromise;\r\n    };\r\n    FoldingController.prototype.onModelContentChanged = function () {\r\n        var _this = this;\r\n        if (this.updateScheduler) {\r\n            if (this.foldingRegionPromise) {\r\n                this.foldingRegionPromise.cancel();\r\n                this.foldingRegionPromise = null;\r\n            }\r\n            this.foldingModelPromise = this.updateScheduler.trigger(function () {\r\n                var foldingModel = _this.foldingModel;\r\n                if (!foldingModel) { // null if editor has been disposed, or folding turned off\r\n                    return null;\r\n                }\r\n                var foldingRegionPromise = _this.foldingRegionPromise = createCancelablePromise(function (token) { return _this.getRangeProvider(foldingModel.textModel).compute(token); });\r\n                return foldingRegionPromise.then(function (foldingRanges) {\r\n                    if (foldingRanges && foldingRegionPromise === _this.foldingRegionPromise) { // new request or cancelled in the meantime?\r\n                        // some cursors might have moved into hidden regions, make sure they are in expanded regions\r\n                        var selections = _this.editor.getSelections();\r\n                        var selectionLineNumbers = selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\r\n                        foldingModel.update(foldingRanges, selectionLineNumbers);\r\n                    }\r\n                    return foldingModel;\r\n                });\r\n            }).then(undefined, function (err) {\r\n                onUnexpectedError(err);\r\n                return null;\r\n            });\r\n        }\r\n    };\r\n    FoldingController.prototype.onHiddenRangesChanges = function (hiddenRanges) {\r\n        if (this.hiddenRangeModel && hiddenRanges.length) {\r\n            var selections = this.editor.getSelections();\r\n            if (selections) {\r\n                if (this.hiddenRangeModel.adjustSelections(selections)) {\r\n                    this.editor.setSelections(selections);\r\n                }\r\n            }\r\n        }\r\n        this.editor.setHiddenAreas(hiddenRanges);\r\n    };\r\n    FoldingController.prototype.onCursorPositionChanged = function () {\r\n        if (this.hiddenRangeModel && this.hiddenRangeModel.hasRanges()) {\r\n            this.cursorChangedScheduler.schedule();\r\n        }\r\n    };\r\n    FoldingController.prototype.revealCursor = function () {\r\n        var _this = this;\r\n        var foldingModel = this.getFoldingModel();\r\n        if (!foldingModel) {\r\n            return;\r\n        }\r\n        foldingModel.then(function (foldingModel) {\r\n            if (foldingModel) {\r\n                var selections = _this.editor.getSelections();\r\n                if (selections && selections.length > 0) {\r\n                    var toToggle = [];\r\n                    var _loop_1 = function (selection) {\r\n                        var lineNumber = selection.selectionStartLineNumber;\r\n                        if (_this.hiddenRangeModel && _this.hiddenRangeModel.isHidden(lineNumber)) {\r\n                            toToggle.push.apply(toToggle, foldingModel.getAllRegionsAtLine(lineNumber, function (r) { return r.isCollapsed && lineNumber > r.startLineNumber; }));\r\n                        }\r\n                    };\r\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n                        var selection = selections_1[_i];\r\n                        _loop_1(selection);\r\n                    }\r\n                    if (toToggle.length) {\r\n                        foldingModel.toggleCollapseState(toToggle);\r\n                        _this.reveal(selections[0].getPosition());\r\n                    }\r\n                }\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    FoldingController.prototype.onEditorMouseDown = function (e) {\r\n        this.mouseDownInfo = null;\r\n        if (!this.hiddenRangeModel || !e.target || !e.target.range) {\r\n            return;\r\n        }\r\n        if (!e.event.leftButton && !e.event.middleButton) {\r\n            return;\r\n        }\r\n        var range = e.target.range;\r\n        var iconClicked = false;\r\n        switch (e.target.type) {\r\n            case 4 /* GUTTER_LINE_DECORATIONS */:\r\n                var data = e.target.detail;\r\n                var offsetLeftInGutter = e.target.element.offsetLeft;\r\n                var gutterOffsetX = data.offsetX - offsetLeftInGutter;\r\n                // const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;\r\n                // TODO@joao TODO@alex TODO@martin this is such that we don't collide with dirty diff\r\n                if (gutterOffsetX < 5) { // the whitespace between the border and the real folding icon border is 5px\r\n                    return;\r\n                }\r\n                iconClicked = true;\r\n                break;\r\n            case 6 /* CONTENT_TEXT */: {\r\n                if (this.hiddenRangeModel.hasRanges()) {\r\n                    var model = this.editor.getModel();\r\n                    if (model && range.startColumn === model.getLineMaxColumn(range.startLineNumber)) {\r\n                        break;\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            default:\r\n                return;\r\n        }\r\n        this.mouseDownInfo = { lineNumber: range.startLineNumber, iconClicked: iconClicked };\r\n    };\r\n    FoldingController.prototype.onEditorMouseUp = function (e) {\r\n        var _this = this;\r\n        var foldingModel = this.getFoldingModel();\r\n        if (!foldingModel || !this.mouseDownInfo || !e.target) {\r\n            return;\r\n        }\r\n        var lineNumber = this.mouseDownInfo.lineNumber;\r\n        var iconClicked = this.mouseDownInfo.iconClicked;\r\n        var range = e.target.range;\r\n        if (!range || range.startLineNumber !== lineNumber) {\r\n            return;\r\n        }\r\n        if (iconClicked) {\r\n            if (e.target.type !== 4 /* GUTTER_LINE_DECORATIONS */) {\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            var model = this.editor.getModel();\r\n            if (!model || range.startColumn !== model.getLineMaxColumn(lineNumber)) {\r\n                return;\r\n            }\r\n        }\r\n        foldingModel.then(function (foldingModel) {\r\n            if (foldingModel) {\r\n                var region = foldingModel.getRegionAtLine(lineNumber);\r\n                if (region && region.startLineNumber === lineNumber) {\r\n                    var isCollapsed = region.isCollapsed;\r\n                    if (iconClicked || isCollapsed) {\r\n                        var toToggle = [];\r\n                        var recursive = e.event.middleButton || e.event.shiftKey;\r\n                        if (recursive) {\r\n                            for (var _i = 0, _a = foldingModel.getRegionsInside(region); _i < _a.length; _i++) {\r\n                                var r = _a[_i];\r\n                                if (r.isCollapsed === isCollapsed) {\r\n                                    toToggle.push(r);\r\n                                }\r\n                            }\r\n                        }\r\n                        // when recursive, first only collapse all children. If all are already folded or there are no children, also fold parent.\r\n                        if (isCollapsed || !recursive || toToggle.length === 0) {\r\n                            toToggle.push(region);\r\n                        }\r\n                        foldingModel.toggleCollapseState(toToggle);\r\n                        _this.reveal({ lineNumber: lineNumber, column: 1 });\r\n                    }\r\n                }\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    FoldingController.prototype.reveal = function (position) {\r\n        this.editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\r\n    };\r\n    FoldingController.ID = 'editor.contrib.folding';\r\n    FoldingController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], FoldingController);\r\n    return FoldingController;\r\n}(Disposable));\r\nexport { FoldingController };\r\nvar FoldingAction = /** @class */ (function (_super) {\r\n    __extends(FoldingAction, _super);\r\n    function FoldingAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FoldingAction.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        var foldingController = FoldingController.get(editor);\r\n        if (!foldingController) {\r\n            return;\r\n        }\r\n        var foldingModelPromise = foldingController.getFoldingModel();\r\n        if (foldingModelPromise) {\r\n            this.reportTelemetry(accessor, editor);\r\n            return foldingModelPromise.then(function (foldingModel) {\r\n                if (foldingModel) {\r\n                    _this.invoke(foldingController, foldingModel, editor, args);\r\n                    var selection = editor.getSelection();\r\n                    if (selection) {\r\n                        foldingController.reveal(selection.getStartPosition());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    FoldingAction.prototype.getSelectedLines = function (editor) {\r\n        var selections = editor.getSelections();\r\n        return selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\r\n    };\r\n    FoldingAction.prototype.getLineNumbers = function (args, editor) {\r\n        if (args && args.selectionLines) {\r\n            return args.selectionLines.map(function (l) { return l + 1; }); // to 0-bases line numbers\r\n        }\r\n        return this.getSelectedLines(editor);\r\n    };\r\n    FoldingAction.prototype.run = function (_accessor, _editor) {\r\n    };\r\n    return FoldingAction;\r\n}(EditorAction));\r\nfunction foldingArgumentsConstraint(args) {\r\n    if (!types.isUndefined(args)) {\r\n        if (!types.isObject(args)) {\r\n            return false;\r\n        }\r\n        var foldingArgs = args;\r\n        if (!types.isUndefined(foldingArgs.levels) && !types.isNumber(foldingArgs.levels)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(foldingArgs.direction) && !types.isString(foldingArgs.direction)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(foldingArgs.selectionLines) && (!types.isArray(foldingArgs.selectionLines) || !foldingArgs.selectionLines.every(types.isNumber))) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nvar UnfoldAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAction, _super);\r\n    function UnfoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfold',\r\n            label: nls.localize('unfoldAction.label', \"Unfold\"),\r\n            alias: 'Unfold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 89 /* US_CLOSE_SQUARE_BRACKET */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 89 /* US_CLOSE_SQUARE_BRACKET */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            description: {\r\n                description: 'Unfold the content in the editor',\r\n                args: [\r\n                    {\r\n                        name: 'Unfold editor argument',\r\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\\n\\t\\t\\t\\t\\t\\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\\n\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\",\r\n                        constraint: foldingArgumentsConstraint,\r\n                        schema: {\r\n                            'type': 'object',\r\n                            'properties': {\r\n                                'levels': {\r\n                                    'type': 'number',\r\n                                    'default': 1\r\n                                },\r\n                                'direction': {\r\n                                    'type': 'string',\r\n                                    'enum': ['up', 'down'],\r\n                                    'default': 'down'\r\n                                },\r\n                                'selectionLines': {\r\n                                    'type': 'array',\r\n                                    'items': {\r\n                                        'type': 'number'\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAction.prototype.invoke = function (_foldingController, foldingModel, editor, args) {\r\n        var levels = args && args.levels || 1;\r\n        var lineNumbers = this.getLineNumbers(args, editor);\r\n        if (args && args.direction === 'up') {\r\n            setCollapseStateLevelsUp(foldingModel, false, levels, lineNumbers);\r\n        }\r\n        else {\r\n            setCollapseStateLevelsDown(foldingModel, false, levels, lineNumbers);\r\n        }\r\n    };\r\n    return UnfoldAction;\r\n}(FoldingAction));\r\nvar UnFoldRecursivelyAction = /** @class */ (function (_super) {\r\n    __extends(UnFoldRecursivelyAction, _super);\r\n    function UnFoldRecursivelyAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldRecursively',\r\n            label: nls.localize('unFoldRecursivelyAction.label', \"Unfold Recursively\"),\r\n            alias: 'Unfold Recursively',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnFoldRecursivelyAction.prototype.invoke = function (_foldingController, foldingModel, editor, _args) {\r\n        setCollapseStateLevelsDown(foldingModel, false, Number.MAX_VALUE, this.getSelectedLines(editor));\r\n    };\r\n    return UnFoldRecursivelyAction;\r\n}(FoldingAction));\r\nvar FoldAction = /** @class */ (function (_super) {\r\n    __extends(FoldAction, _super);\r\n    function FoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.fold',\r\n            label: nls.localize('foldAction.label', \"Fold\"),\r\n            alias: 'Fold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 87 /* US_OPEN_SQUARE_BRACKET */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 87 /* US_OPEN_SQUARE_BRACKET */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            description: {\r\n                description: 'Fold the content in the editor',\r\n                args: [\r\n                    {\r\n                        name: 'Fold editor argument',\r\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to fold.\\n\\t\\t\\t\\t\\t\\t\\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\\n\\t\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\\n\\t\\t\\t\\t\\t\\t\",\r\n                        constraint: foldingArgumentsConstraint,\r\n                        schema: {\r\n                            'type': 'object',\r\n                            'properties': {\r\n                                'levels': {\r\n                                    'type': 'number',\r\n                                },\r\n                                'direction': {\r\n                                    'type': 'string',\r\n                                    'enum': ['up', 'down'],\r\n                                },\r\n                                'selectionLines': {\r\n                                    'type': 'array',\r\n                                    'items': {\r\n                                        'type': 'number'\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAction.prototype.invoke = function (_foldingController, foldingModel, editor, args) {\r\n        var lineNumbers = this.getLineNumbers(args, editor);\r\n        var levels = args && args.levels;\r\n        var direction = args && args.direction;\r\n        if (typeof levels !== 'number' && typeof direction !== 'string') {\r\n            // fold the region at the location or if already collapsed, the first uncollapsed parent instead.\r\n            setCollapseStateUp(foldingModel, true, lineNumbers);\r\n        }\r\n        else {\r\n            if (direction === 'up') {\r\n                setCollapseStateLevelsUp(foldingModel, true, levels || 1, lineNumbers);\r\n            }\r\n            else {\r\n                setCollapseStateLevelsDown(foldingModel, true, levels || 1, lineNumbers);\r\n            }\r\n        }\r\n    };\r\n    return FoldAction;\r\n}(FoldingAction));\r\nvar ToggleFoldAction = /** @class */ (function (_super) {\r\n    __extends(ToggleFoldAction, _super);\r\n    function ToggleFoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.toggleFold',\r\n            label: nls.localize('toggleFoldAction.label', \"Toggle Fold\"),\r\n            alias: 'Toggle Fold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 42 /* KEY_L */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ToggleFoldAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        var selectedLines = this.getSelectedLines(editor);\r\n        toggleCollapseState(foldingModel, 1, selectedLines);\r\n    };\r\n    return ToggleFoldAction;\r\n}(FoldingAction));\r\nvar FoldRecursivelyAction = /** @class */ (function (_super) {\r\n    __extends(FoldRecursivelyAction, _super);\r\n    function FoldRecursivelyAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldRecursively',\r\n            label: nls.localize('foldRecursivelyAction.label', \"Fold Recursively\"),\r\n            alias: 'Fold Recursively',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldRecursivelyAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        var selectedLines = this.getSelectedLines(editor);\r\n        setCollapseStateLevelsDown(foldingModel, true, Number.MAX_VALUE, selectedLines);\r\n    };\r\n    return FoldRecursivelyAction;\r\n}(FoldingAction));\r\nvar FoldAllBlockCommentsAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllBlockCommentsAction, _super);\r\n    function FoldAllBlockCommentsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAllBlockComments',\r\n            label: nls.localize('foldAllBlockComments.label', \"Fold All Block Comments\"),\r\n            alias: 'Fold All Block Comments',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 85 /* US_SLASH */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllBlockCommentsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Comment.value, true);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var comments = LanguageConfigurationRegistry.getComments(editorModel.getLanguageIdentifier().id);\r\n            if (comments && comments.blockCommentStartToken) {\r\n                var regExp = new RegExp('^\\\\s*' + escapeRegExpCharacters(comments.blockCommentStartToken));\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\r\n            }\r\n        }\r\n    };\r\n    return FoldAllBlockCommentsAction;\r\n}(FoldingAction));\r\nvar FoldAllRegionsAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllRegionsAction, _super);\r\n    function FoldAllRegionsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAllMarkerRegions',\r\n            label: nls.localize('foldAllMarkerRegions.label', \"Fold All Regions\"),\r\n            alias: 'Fold All Regions',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 29 /* KEY_8 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllRegionsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, true);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageIdentifier().id);\r\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\r\n                var regExp = new RegExp(foldingRules.markers.start);\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\r\n            }\r\n        }\r\n    };\r\n    return FoldAllRegionsAction;\r\n}(FoldingAction));\r\nvar UnfoldAllRegionsAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAllRegionsAction, _super);\r\n    function UnfoldAllRegionsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldAllMarkerRegions',\r\n            label: nls.localize('unfoldAllMarkerRegions.label', \"Unfold All Regions\"),\r\n            alias: 'Unfold All Regions',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 30 /* KEY_9 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAllRegionsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, false);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageIdentifier().id);\r\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\r\n                var regExp = new RegExp(foldingRules.markers.start);\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, false);\r\n            }\r\n        }\r\n    };\r\n    return UnfoldAllRegionsAction;\r\n}(FoldingAction));\r\nvar FoldAllAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllAction, _super);\r\n    function FoldAllAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAll',\r\n            label: nls.localize('foldAllAction.label', \"Fold All\"),\r\n            alias: 'Fold All',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 21 /* KEY_0 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllAction.prototype.invoke = function (_foldingController, foldingModel, _editor) {\r\n        setCollapseStateLevelsDown(foldingModel, true);\r\n    };\r\n    return FoldAllAction;\r\n}(FoldingAction));\r\nvar UnfoldAllAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAllAction, _super);\r\n    function UnfoldAllAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldAll',\r\n            label: nls.localize('unfoldAllAction.label', \"Unfold All\"),\r\n            alias: 'Unfold All',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 40 /* KEY_J */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAllAction.prototype.invoke = function (_foldingController, foldingModel, _editor) {\r\n        setCollapseStateLevelsDown(foldingModel, false);\r\n    };\r\n    return UnfoldAllAction;\r\n}(FoldingAction));\r\nvar FoldLevelAction = /** @class */ (function (_super) {\r\n    __extends(FoldLevelAction, _super);\r\n    function FoldLevelAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FoldLevelAction.prototype.getFoldingLevel = function () {\r\n        return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length));\r\n    };\r\n    FoldLevelAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        setCollapseStateAtLevel(foldingModel, this.getFoldingLevel(), true, this.getSelectedLines(editor));\r\n    };\r\n    FoldLevelAction.ID_PREFIX = 'editor.foldLevel';\r\n    FoldLevelAction.ID = function (level) { return FoldLevelAction.ID_PREFIX + level; };\r\n    return FoldLevelAction;\r\n}(FoldingAction));\r\nregisterEditorContribution(FoldingController.ID, FoldingController);\r\nregisterEditorAction(UnfoldAction);\r\nregisterEditorAction(UnFoldRecursivelyAction);\r\nregisterEditorAction(FoldAction);\r\nregisterEditorAction(FoldRecursivelyAction);\r\nregisterEditorAction(FoldAllAction);\r\nregisterEditorAction(UnfoldAllAction);\r\nregisterEditorAction(FoldAllBlockCommentsAction);\r\nregisterEditorAction(FoldAllRegionsAction);\r\nregisterEditorAction(UnfoldAllRegionsAction);\r\nregisterEditorAction(ToggleFoldAction);\r\nfor (var i = 1; i <= 7; i++) {\r\n    registerInstantiatedEditorAction(new FoldLevelAction({\r\n        id: FoldLevelAction.ID(i),\r\n        label: nls.localize('foldLevelAction.label', \"Fold Level {0}\", i),\r\n        alias: \"Fold Level \" + i,\r\n        precondition: CONTEXT_FOLDING_ENABLED,\r\n        kbOpts: {\r\n            kbExpr: EditorContextKeys.editorTextFocus,\r\n            primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | (21 /* KEY_0 */ + i)),\r\n            weight: 100 /* EditorContrib */\r\n        }\r\n    }));\r\n}\r\nexport var foldBackgroundBackground = registerColor('editor.foldBackground', { light: transparent(editorSelectionBackground, 0.3), dark: transparent(editorSelectionBackground, 0.3), hc: null }, nls.localize('editorSelectionBackground', \"Color of the editor selection.\"));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var foldBackground = theme.getColor(foldBackgroundBackground);\r\n    if (foldBackground) {\r\n        collector.addRule(\".monaco-editor .folded-background { background-color: \" + foldBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorZoom } from '../../common/config/editorZoom.js';\r\nvar EditorFontZoomIn = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomIn, _super);\r\n    function EditorFontZoomIn() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomIn',\r\n            label: nls.localize('EditorFontZoomIn.label', \"Editor Font Zoom In\"),\r\n            alias: 'Editor Font Zoom In',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomIn.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() + 1);\r\n    };\r\n    return EditorFontZoomIn;\r\n}(EditorAction));\r\nvar EditorFontZoomOut = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomOut, _super);\r\n    function EditorFontZoomOut() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomOut',\r\n            label: nls.localize('EditorFontZoomOut.label', \"Editor Font Zoom Out\"),\r\n            alias: 'Editor Font Zoom Out',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomOut.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() - 1);\r\n    };\r\n    return EditorFontZoomOut;\r\n}(EditorAction));\r\nvar EditorFontZoomReset = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomReset, _super);\r\n    function EditorFontZoomReset() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomReset',\r\n            label: nls.localize('EditorFontZoomReset.label', \"Editor Font Zoom Reset\"),\r\n            alias: 'Editor Font Zoom Reset',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomReset.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(0);\r\n    };\r\n    return EditorFontZoomReset;\r\n}(EditorAction));\r\nregisterEditorAction(EditorFontZoomIn);\r\nregisterEditorAction(EditorFontZoomOut);\r\nregisterEditorAction(EditorFontZoomReset);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar FormattingEdit = /** @class */ (function () {\r\n    function FormattingEdit() {\r\n    }\r\n    FormattingEdit._handleEolEdits = function (editor, edits) {\r\n        var newEol = undefined;\r\n        var singleEdits = [];\r\n        for (var _i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\r\n            var edit = edits_1[_i];\r\n            if (typeof edit.eol === 'number') {\r\n                newEol = edit.eol;\r\n            }\r\n            if (edit.range && typeof edit.text === 'string') {\r\n                singleEdits.push(edit);\r\n            }\r\n        }\r\n        if (typeof newEol === 'number') {\r\n            if (editor.hasModel()) {\r\n                editor.getModel().pushEOL(newEol);\r\n            }\r\n        }\r\n        return singleEdits;\r\n    };\r\n    FormattingEdit._isFullModelReplaceEdit = function (editor, edit) {\r\n        if (!editor.hasModel()) {\r\n            return false;\r\n        }\r\n        var model = editor.getModel();\r\n        var editRange = model.validateRange(edit.range);\r\n        var fullModelRange = model.getFullModelRange();\r\n        return fullModelRange.equalsRange(editRange);\r\n    };\r\n    FormattingEdit.execute = function (editor, _edits) {\r\n        editor.pushUndoStop();\r\n        var edits = FormattingEdit._handleEolEdits(editor, _edits);\r\n        if (edits.length === 1 && FormattingEdit._isFullModelReplaceEdit(editor, edits[0])) {\r\n            // We use replace semantics and hope that markers stay put...\r\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        else {\r\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replaceMove(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        editor.pushUndoStop();\r\n    };\r\n    return FormattingEdit;\r\n}());\r\nexport { FormattingEdit };\r\n","/**\r\n * **!Do not construct directly!**\r\n *\r\n * **!Only static methods because it gets serialized!**\r\n *\r\n * This represents the \"canonical\" version for an extension identifier. Extension ids\r\n * have to be case-insensitive (due to the marketplace), but we must ensure case\r\n * preservation because the extension API is already public at this time.\r\n *\r\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\r\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\r\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\r\n *\r\n * To make matters more complicated, an extension can optionally have an UUID. When two\r\n * extensions have the same UUID, they are considered equal even if their identifier is different.\r\n */\r\nvar ExtensionIdentifier = /** @class */ (function () {\r\n    function ExtensionIdentifier(value) {\r\n        this.value = value;\r\n        this._lower = value.toLowerCase();\r\n    }\r\n    /**\r\n     * Gives the value by which to index (for equality).\r\n     */\r\n    ExtensionIdentifier.toKey = function (id) {\r\n        if (typeof id === 'string') {\r\n            return id.toLowerCase();\r\n        }\r\n        return id._lower;\r\n    };\r\n    return ExtensionIdentifier;\r\n}());\r\nexport { ExtensionIdentifier };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { EditorStateCancellationTokenSource, TextModelCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { DocumentFormattingEditProviderRegistry, DocumentRangeFormattingEditProviderRegistry, OnTypeFormattingEditProviderRegistry } from '../../common/modes.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { FormattingEdit } from './formattingEdit.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ExtensionIdentifier } from '../../../platform/extensions/common/extensions.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { LinkedList } from '../../../base/common/linkedList.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { assertType } from '../../../base/common/types.js';\r\nexport function alertFormattingEdits(edits) {\r\n    edits = edits.filter(function (edit) { return edit.range; });\r\n    if (!edits.length) {\r\n        return;\r\n    }\r\n    var range = edits[0].range;\r\n    for (var i = 1; i < edits.length; i++) {\r\n        range = Range.plusRange(range, edits[i].range);\r\n    }\r\n    var startLineNumber = range.startLineNumber, endLineNumber = range.endLineNumber;\r\n    if (startLineNumber === endLineNumber) {\r\n        if (edits.length === 1) {\r\n            alert(nls.localize('hint11', \"Made 1 formatting edit on line {0}\", startLineNumber));\r\n        }\r\n        else {\r\n            alert(nls.localize('hintn1', \"Made {0} formatting edits on line {1}\", edits.length, startLineNumber));\r\n        }\r\n    }\r\n    else {\r\n        if (edits.length === 1) {\r\n            alert(nls.localize('hint1n', \"Made 1 formatting edit between lines {0} and {1}\", startLineNumber, endLineNumber));\r\n        }\r\n        else {\r\n            alert(nls.localize('hintnn', \"Made {0} formatting edits between lines {1} and {2}\", edits.length, startLineNumber, endLineNumber));\r\n        }\r\n    }\r\n}\r\nexport function getRealAndSyntheticDocumentFormattersOrdered(model) {\r\n    var result = [];\r\n    var seen = new Set();\r\n    // (1) add all document formatter\r\n    var docFormatter = DocumentFormattingEditProviderRegistry.ordered(model);\r\n    for (var _i = 0, docFormatter_1 = docFormatter; _i < docFormatter_1.length; _i++) {\r\n        var formatter = docFormatter_1[_i];\r\n        result.push(formatter);\r\n        if (formatter.extensionId) {\r\n            seen.add(ExtensionIdentifier.toKey(formatter.extensionId));\r\n        }\r\n    }\r\n    // (2) add all range formatter as document formatter (unless the same extension already did that)\r\n    var rangeFormatter = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n    var _loop_1 = function (formatter) {\r\n        if (formatter.extensionId) {\r\n            if (seen.has(ExtensionIdentifier.toKey(formatter.extensionId))) {\r\n                return \"continue\";\r\n            }\r\n            seen.add(ExtensionIdentifier.toKey(formatter.extensionId));\r\n        }\r\n        result.push({\r\n            displayName: formatter.displayName,\r\n            extensionId: formatter.extensionId,\r\n            provideDocumentFormattingEdits: function (model, options, token) {\r\n                return formatter.provideDocumentRangeFormattingEdits(model, model.getFullModelRange(), options, token);\r\n            }\r\n        });\r\n    };\r\n    for (var _a = 0, rangeFormatter_1 = rangeFormatter; _a < rangeFormatter_1.length; _a++) {\r\n        var formatter = rangeFormatter_1[_a];\r\n        _loop_1(formatter);\r\n    }\r\n    return result;\r\n}\r\nvar FormattingConflicts = /** @class */ (function () {\r\n    function FormattingConflicts() {\r\n    }\r\n    FormattingConflicts.select = function (formatter, document, mode) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var selector;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (formatter.length === 0) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        selector = FormattingConflicts._selectors.iterator().next().value;\r\n                        if (!selector) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, selector(formatter, document, mode)];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2: return [2 /*return*/, formatter[0]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FormattingConflicts._selectors = new LinkedList();\r\n    return FormattingConflicts;\r\n}());\r\nexport { FormattingConflicts };\r\nexport function formatDocumentRangeWithSelectedProvider(accessor, editorOrModel, range, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var instaService, model, provider, selected;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    instaService = accessor.get(IInstantiationService);\r\n                    model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\r\n                    provider = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n                    return [4 /*yield*/, FormattingConflicts.select(provider, model, mode)];\r\n                case 1:\r\n                    selected = _a.sent();\r\n                    if (!selected) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, instaService.invokeFunction(formatDocumentRangeWithProvider, selected, editorOrModel, range, token)];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentRangeWithProvider(accessor, provider, editorOrModel, range, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var workerService, model, cts, edits, rawEdits, range_1, initialSelection_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    workerService = accessor.get(IEditorWorkerService);\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        model = editorOrModel.getModel();\r\n                        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* Value */ | 4 /* Position */, token);\r\n                    }\r\n                    else {\r\n                        model = editorOrModel;\r\n                        cts = new TextModelCancellationTokenSource(editorOrModel, token);\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 4, 5]);\r\n                    return [4 /*yield*/, provider.provideDocumentRangeFormattingEdits(model, range, model.getFormattingOptions(), cts.token)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3:\r\n                    edits = _a.sent();\r\n                    if (cts.token.isCancellationRequested) {\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    cts.dispose();\r\n                    return [7 /*endfinally*/];\r\n                case 5:\r\n                    if (!edits || edits.length === 0) {\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        // use editor to apply edits\r\n                        FormattingEdit.execute(editorOrModel, edits);\r\n                        alertFormattingEdits(edits);\r\n                        editorOrModel.pushUndoStop();\r\n                        editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* Immediate */);\r\n                    }\r\n                    else {\r\n                        range_1 = edits[0].range;\r\n                        initialSelection_1 = new Selection(range_1.startLineNumber, range_1.startColumn, range_1.endLineNumber, range_1.endColumn);\r\n                        model.pushEditOperations([initialSelection_1], edits.map(function (edit) {\r\n                            return {\r\n                                text: edit.text,\r\n                                range: Range.lift(edit.range),\r\n                                forceMoveMarkers: true\r\n                            };\r\n                        }), function (undoEdits) {\r\n                            for (var _i = 0, undoEdits_1 = undoEdits; _i < undoEdits_1.length; _i++) {\r\n                                var range_2 = undoEdits_1[_i].range;\r\n                                if (Range.areIntersectingOrTouching(range_2, initialSelection_1)) {\r\n                                    return [new Selection(range_2.startLineNumber, range_2.startColumn, range_2.endLineNumber, range_2.endColumn)];\r\n                                }\r\n                            }\r\n                            return null;\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentWithSelectedProvider(accessor, editorOrModel, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var instaService, model, provider, selected;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    instaService = accessor.get(IInstantiationService);\r\n                    model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\r\n                    provider = getRealAndSyntheticDocumentFormattersOrdered(model);\r\n                    return [4 /*yield*/, FormattingConflicts.select(provider, model, mode)];\r\n                case 1:\r\n                    selected = _a.sent();\r\n                    if (!selected) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, instaService.invokeFunction(formatDocumentWithProvider, selected, editorOrModel, mode, token)];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentWithProvider(accessor, provider, editorOrModel, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var workerService, model, cts, edits, rawEdits, range, initialSelection_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    workerService = accessor.get(IEditorWorkerService);\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        model = editorOrModel.getModel();\r\n                        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* Value */ | 4 /* Position */, token);\r\n                    }\r\n                    else {\r\n                        model = editorOrModel;\r\n                        cts = new TextModelCancellationTokenSource(editorOrModel, token);\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 4, 5]);\r\n                    return [4 /*yield*/, provider.provideDocumentFormattingEdits(model, model.getFormattingOptions(), cts.token)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3:\r\n                    edits = _a.sent();\r\n                    if (cts.token.isCancellationRequested) {\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    cts.dispose();\r\n                    return [7 /*endfinally*/];\r\n                case 5:\r\n                    if (!edits || edits.length === 0) {\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        // use editor to apply edits\r\n                        FormattingEdit.execute(editorOrModel, edits);\r\n                        if (mode !== 2 /* Silent */) {\r\n                            alertFormattingEdits(edits);\r\n                            editorOrModel.pushUndoStop();\r\n                            editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* Immediate */);\r\n                        }\r\n                    }\r\n                    else {\r\n                        range = edits[0].range;\r\n                        initialSelection_2 = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\r\n                        model.pushEditOperations([initialSelection_2], edits.map(function (edit) {\r\n                            return {\r\n                                text: edit.text,\r\n                                range: Range.lift(edit.range),\r\n                                forceMoveMarkers: true\r\n                            };\r\n                        }), function (undoEdits) {\r\n                            for (var _i = 0, undoEdits_2 = undoEdits; _i < undoEdits_2.length; _i++) {\r\n                                var range_3 = undoEdits_2[_i].range;\r\n                                if (Range.areIntersectingOrTouching(range_3, initialSelection_2)) {\r\n                                    return [new Selection(range_3.startLineNumber, range_3.startColumn, range_3.endLineNumber, range_3.endColumn)];\r\n                                }\r\n                            }\r\n                            return null;\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getDocumentRangeFormattingEditsUntilResult(workerService, model, range, options, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var providers, _i, providers_1, provider, rawEdits;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    providers = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n                    _i = 0, providers_1 = providers;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(_i < providers_1.length)) return [3 /*break*/, 5];\r\n                    provider = providers_1[_i];\r\n                    return [4 /*yield*/, Promise.resolve(provider.provideDocumentRangeFormattingEdits(model, range, options, token)).catch(onUnexpectedExternalError)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    if (!isNonEmptyArray(rawEdits)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3: return [2 /*return*/, _a.sent()];\r\n                case 4:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 5: return [2 /*return*/, undefined];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getDocumentFormattingEditsUntilResult(workerService, model, options, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var providers, _i, providers_2, provider, rawEdits;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    providers = getRealAndSyntheticDocumentFormattersOrdered(model);\r\n                    _i = 0, providers_2 = providers;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(_i < providers_2.length)) return [3 /*break*/, 5];\r\n                    provider = providers_2[_i];\r\n                    return [4 /*yield*/, Promise.resolve(provider.provideDocumentFormattingEdits(model, options, token)).catch(onUnexpectedExternalError)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    if (!isNonEmptyArray(rawEdits)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3: return [2 /*return*/, _a.sent()];\r\n                case 4:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 5: return [2 /*return*/, undefined];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getOnTypeFormattingEdits(workerService, model, position, ch, options) {\r\n    var providers = OnTypeFormattingEditProviderRegistry.ordered(model);\r\n    if (providers.length === 0) {\r\n        return Promise.resolve(undefined);\r\n    }\r\n    if (providers[0].autoFormatTriggerCharacters.indexOf(ch) < 0) {\r\n        return Promise.resolve(undefined);\r\n    }\r\n    return Promise.resolve(providers[0].provideOnTypeFormattingEdits(model, position, ch, options, CancellationToken.None)).catch(onUnexpectedExternalError).then(function (edits) {\r\n        return workerService.computeMoreMinimalEdits(model.uri, edits);\r\n    });\r\n}\r\nCommandsRegistry.registerCommand('_executeFormatRangeProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var resource = args[0], range = args[1], options = args[2];\r\n    assertType(URI.isUri(resource));\r\n    assertType(Range.isIRange(range));\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getDocumentRangeFormattingEditsUntilResult(accessor.get(IEditorWorkerService), model, Range.lift(range), options, CancellationToken.None);\r\n});\r\nCommandsRegistry.registerCommand('_executeFormatDocumentProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var resource = args[0], options = args[1];\r\n    assertType(URI.isUri(resource));\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getDocumentFormattingEditsUntilResult(accessor.get(IEditorWorkerService), model, options, CancellationToken.None);\r\n});\r\nCommandsRegistry.registerCommand('_executeFormatOnTypeProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var resource = args[0], position = args[1], ch = args[2], options = args[3];\r\n    assertType(URI.isUri(resource));\r\n    assertType(Position.isIPosition(position));\r\n    assertType(typeof ch === 'string');\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getOnTypeFormattingEdits(accessor.get(IEditorWorkerService), model, Position.lift(position), ch, options);\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { DocumentRangeFormattingEditProviderRegistry, OnTypeFormattingEditProviderRegistry } from '../../common/modes.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { getOnTypeFormattingEdits, alertFormattingEdits, formatDocumentRangeWithSelectedProvider, formatDocumentWithSelectedProvider } from './format.js';\r\nimport { FormattingEdit } from './formattingEdit.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar FormatOnType = /** @class */ (function () {\r\n    function FormatOnType(editor, _workerService) {\r\n        var _this = this;\r\n        this._workerService = _workerService;\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModel = new DisposableStore();\r\n        this._editor = editor;\r\n        this._callOnDispose.add(editor.onDidChangeConfiguration(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModel(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        this._callOnDispose.add(OnTypeFormattingEditProviderRegistry.onDidChange(this._update, this));\r\n    }\r\n    FormatOnType.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        this._callOnModel.dispose();\r\n    };\r\n    FormatOnType.prototype._update = function () {\r\n        var _this = this;\r\n        // clean up\r\n        this._callOnModel.clear();\r\n        // we are disabled\r\n        if (!this._editor.getOption(39 /* formatOnType */)) {\r\n            return;\r\n        }\r\n        // no model\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        // no support\r\n        var support = OnTypeFormattingEditProviderRegistry.ordered(model)[0];\r\n        if (!support || !support.autoFormatTriggerCharacters) {\r\n            return;\r\n        }\r\n        // register typing listeners that will trigger the format\r\n        var triggerChars = new CharacterSet();\r\n        for (var _i = 0, _a = support.autoFormatTriggerCharacters; _i < _a.length; _i++) {\r\n            var ch = _a[_i];\r\n            triggerChars.add(ch.charCodeAt(0));\r\n        }\r\n        this._callOnModel.add(this._editor.onDidType(function (text) {\r\n            var lastCharCode = text.charCodeAt(text.length - 1);\r\n            if (triggerChars.has(lastCharCode)) {\r\n                _this._trigger(String.fromCharCode(lastCharCode));\r\n            }\r\n        }));\r\n    };\r\n    FormatOnType.prototype._trigger = function (ch) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this._editor.getSelections().length > 1) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var position = this._editor.getPosition();\r\n        var canceled = false;\r\n        // install a listener that checks if edits happens before the\r\n        // position on which we format right now. If so, we won't\r\n        // apply the format edits\r\n        var unbind = this._editor.onDidChangeModelContent(function (e) {\r\n            if (e.isFlush) {\r\n                // a model.setValue() was called\r\n                // cancel only once\r\n                canceled = true;\r\n                unbind.dispose();\r\n                return;\r\n            }\r\n            for (var i = 0, len = e.changes.length; i < len; i++) {\r\n                var change = e.changes[i];\r\n                if (change.range.endLineNumber <= position.lineNumber) {\r\n                    // cancel only once\r\n                    canceled = true;\r\n                    unbind.dispose();\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n        getOnTypeFormattingEdits(this._workerService, model, position, ch, model.getFormattingOptions()).then(function (edits) {\r\n            unbind.dispose();\r\n            if (canceled) {\r\n                return;\r\n            }\r\n            if (isNonEmptyArray(edits)) {\r\n                FormattingEdit.execute(_this._editor, edits);\r\n                alertFormattingEdits(edits);\r\n            }\r\n        }, function (err) {\r\n            unbind.dispose();\r\n            throw err;\r\n        });\r\n    };\r\n    FormatOnType.ID = 'editor.contrib.autoFormat';\r\n    FormatOnType = __decorate([\r\n        __param(1, IEditorWorkerService)\r\n    ], FormatOnType);\r\n    return FormatOnType;\r\n}());\r\nvar FormatOnPaste = /** @class */ (function () {\r\n    function FormatOnPaste(editor, _instantiationService) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this._instantiationService = _instantiationService;\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModel = new DisposableStore();\r\n        this._callOnDispose.add(editor.onDidChangeConfiguration(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModel(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        this._callOnDispose.add(DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update, this));\r\n    }\r\n    FormatOnPaste.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        this._callOnModel.dispose();\r\n    };\r\n    FormatOnPaste.prototype._update = function () {\r\n        var _this = this;\r\n        // clean up\r\n        this._callOnModel.clear();\r\n        // we are disabled\r\n        if (!this.editor.getOption(38 /* formatOnPaste */)) {\r\n            return;\r\n        }\r\n        // no model\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        // no formatter\r\n        if (!DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())) {\r\n            return;\r\n        }\r\n        this._callOnModel.add(this.editor.onDidPaste(function (_a) {\r\n            var range = _a.range;\r\n            return _this._trigger(range);\r\n        }));\r\n    };\r\n    FormatOnPaste.prototype._trigger = function (range) {\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this.editor.getSelections().length > 1) {\r\n            return;\r\n        }\r\n        this._instantiationService.invokeFunction(formatDocumentRangeWithSelectedProvider, this.editor, range, 2 /* Silent */, CancellationToken.None).catch(onUnexpectedError);\r\n    };\r\n    FormatOnPaste.ID = 'editor.contrib.formatOnPaste';\r\n    FormatOnPaste = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], FormatOnPaste);\r\n    return FormatOnPaste;\r\n}());\r\nvar FormatDocumentAction = /** @class */ (function (_super) {\r\n    __extends(FormatDocumentAction, _super);\r\n    function FormatDocumentAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.formatDocument',\r\n            label: nls.localize('formatDocument.label', \"Format Document\"),\r\n            alias: 'Format Document',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasDocumentFormattingProvider),\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.hasDocumentFormattingProvider),\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 36 /* KEY_F */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 39 /* KEY_I */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                when: EditorContextKeys.hasDocumentFormattingProvider,\r\n                group: '1_modification',\r\n                order: 1.3\r\n            }\r\n        }) || this;\r\n    }\r\n    FormatDocumentAction.prototype.run = function (accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var instaService;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.hasModel()) return [3 /*break*/, 2];\r\n                        instaService = accessor.get(IInstantiationService);\r\n                        return [4 /*yield*/, instaService.invokeFunction(formatDocumentWithSelectedProvider, editor, 1 /* Explicit */, CancellationToken.None)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatDocumentAction;\r\n}(EditorAction));\r\nvar FormatSelectionAction = /** @class */ (function (_super) {\r\n    __extends(FormatSelectionAction, _super);\r\n    function FormatSelectionAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.formatSelection',\r\n            label: nls.localize('formatSelection.label', \"Format Selection\"),\r\n            alias: 'Format Selection',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasDocumentSelectionFormattingProvider),\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.hasDocumentSelectionFormattingProvider),\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 36 /* KEY_F */),\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                when: ContextKeyExpr.and(EditorContextKeys.hasDocumentSelectionFormattingProvider, EditorContextKeys.hasNonEmptySelection),\r\n                group: '1_modification',\r\n                order: 1.31\r\n            }\r\n        }) || this;\r\n    }\r\n    FormatSelectionAction.prototype.run = function (accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var instaService, model, range;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.hasModel()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        instaService = accessor.get(IInstantiationService);\r\n                        model = editor.getModel();\r\n                        range = editor.getSelection();\r\n                        if (range.isEmpty()) {\r\n                            range = new Range(range.startLineNumber, 1, range.startLineNumber, model.getLineMaxColumn(range.startLineNumber));\r\n                        }\r\n                        return [4 /*yield*/, instaService.invokeFunction(formatDocumentRangeWithSelectedProvider, editor, range, 1 /* Explicit */, CancellationToken.None)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatSelectionAction;\r\n}(EditorAction));\r\nregisterEditorContribution(FormatOnType.ID, FormatOnType);\r\nregisterEditorContribution(FormatOnPaste.ID, FormatOnPaste);\r\nregisterEditorAction(FormatDocumentAction);\r\nregisterEditorAction(FormatSelectionAction);\r\n// this is the old format action that does both (format document OR format selection)\r\n// and we keep it here such that existing keybinding configurations etc will still work\r\nCommandsRegistry.registerCommand('editor.action.format', function (accessor) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var editor, commandService;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n                if (!editor || !editor.hasModel()) {\r\n                    return [2 /*return*/];\r\n                }\r\n                commandService = accessor.get(ICommandService);\r\n                if (!editor.getSelection().isEmpty()) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, commandService.executeCommand('editor.action.formatDocument')];\r\n            case 1:\r\n                _a.sent();\r\n                return [3 /*break*/, 4];\r\n            case 2: return [4 /*yield*/, commandService.executeCommand('editor.action.formatSelection')];\r\n            case 3:\r\n                _a.sent();\r\n                _a.label = 4;\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { flatten, coalesce } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\r\nimport { DefinitionProviderRegistry, ImplementationProviderRegistry, TypeDefinitionProviderRegistry, DeclarationProviderRegistry, ReferenceProviderRegistry } from '../../common/modes.js';\r\nfunction getLocationLinks(model, position, registry, provide) {\r\n    var provider = registry.ordered(model);\r\n    // get results\r\n    var promises = provider.map(function (provider) {\r\n        return Promise.resolve(provide(provider, model, position)).then(undefined, function (err) {\r\n            onUnexpectedExternalError(err);\r\n            return undefined;\r\n        });\r\n    });\r\n    return Promise.all(promises)\r\n        .then(flatten)\r\n        .then(coalesce);\r\n}\r\nexport function getDefinitionsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, DefinitionProviderRegistry, function (provider, model, position) {\r\n        return provider.provideDefinition(model, position, token);\r\n    });\r\n}\r\nexport function getDeclarationsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, DeclarationProviderRegistry, function (provider, model, position) {\r\n        return provider.provideDeclaration(model, position, token);\r\n    });\r\n}\r\nexport function getImplementationsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, ImplementationProviderRegistry, function (provider, model, position) {\r\n        return provider.provideImplementation(model, position, token);\r\n    });\r\n}\r\nexport function getTypeDefinitionsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, TypeDefinitionProviderRegistry, function (provider, model, position) {\r\n        return provider.provideTypeDefinition(model, position, token);\r\n    });\r\n}\r\nexport function getReferencesAtPosition(model, position, compact, token) {\r\n    var _this = this;\r\n    return getLocationLinks(model, position, ReferenceProviderRegistry, function (provider, model, position) { return __awaiter(_this, void 0, void 0, function () {\r\n        var result, resultWithoutDeclaration;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, provider.provideReferences(model, position, { includeDeclaration: true }, token)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    if (!compact || !result || result.length !== 2) {\r\n                        return [2 /*return*/, result];\r\n                    }\r\n                    return [4 /*yield*/, provider.provideReferences(model, position, { includeDeclaration: false }, token)];\r\n                case 2:\r\n                    resultWithoutDeclaration = _a.sent();\r\n                    if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\r\n                        return [2 /*return*/, resultWithoutDeclaration];\r\n                    }\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nregisterModelAndPositionCommand('_executeDefinitionProvider', function (model, position) { return getDefinitionsAtPosition(model, position, CancellationToken.None); });\r\nregisterModelAndPositionCommand('_executeDeclarationProvider', function (model, position) { return getDeclarationsAtPosition(model, position, CancellationToken.None); });\r\nregisterModelAndPositionCommand('_executeImplementationProvider', function (model, position) { return getImplementationsAtPosition(model, position, CancellationToken.None); });\r\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', function (model, position) { return getTypeDefinitionsAtPosition(model, position, CancellationToken.None); });\r\nregisterModelAndPositionCommand('_executeReferenceProvider', function (model, position) { return getReferencesAtPosition(model, position, false, CancellationToken.None); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\r\nimport { registerEditorCommand, EditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { dispose, combinedDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { localize } from '../../../nls.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nexport var ctxHasSymbols = new RawContextKey('hasSymbols', false);\r\nexport var ISymbolNavigationService = createDecorator('ISymbolNavigationService');\r\nvar SymbolNavigationService = /** @class */ (function () {\r\n    function SymbolNavigationService(contextKeyService, _editorService, _notificationService, _keybindingService) {\r\n        this._editorService = _editorService;\r\n        this._notificationService = _notificationService;\r\n        this._keybindingService = _keybindingService;\r\n        this._currentModel = undefined;\r\n        this._currentIdx = -1;\r\n        this._ignoreEditorChange = false;\r\n        this._ctxHasSymbols = ctxHasSymbols.bindTo(contextKeyService);\r\n    }\r\n    SymbolNavigationService.prototype.reset = function () {\r\n        this._ctxHasSymbols.reset();\r\n        dispose(this._currentState);\r\n        dispose(this._currentMessage);\r\n        this._currentModel = undefined;\r\n        this._currentIdx = -1;\r\n    };\r\n    SymbolNavigationService.prototype.put = function (anchor) {\r\n        var _this = this;\r\n        var refModel = anchor.parent.parent;\r\n        if (refModel.references.length <= 1) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        this._currentModel = refModel;\r\n        this._currentIdx = refModel.references.indexOf(anchor);\r\n        this._ctxHasSymbols.set(true);\r\n        this._showMessage();\r\n        var editorState = new EditorState(this._editorService);\r\n        var listener = editorState.onDidChange(function (_) {\r\n            if (_this._ignoreEditorChange) {\r\n                return;\r\n            }\r\n            var editor = _this._editorService.getActiveCodeEditor();\r\n            if (!editor) {\r\n                return;\r\n            }\r\n            var model = editor.getModel();\r\n            var position = editor.getPosition();\r\n            if (!model || !position) {\r\n                return;\r\n            }\r\n            var seenUri = false;\r\n            var seenPosition = false;\r\n            for (var _i = 0, _a = refModel.references; _i < _a.length; _i++) {\r\n                var reference = _a[_i];\r\n                if (isEqual(reference.uri, model.uri)) {\r\n                    seenUri = true;\r\n                    seenPosition = seenPosition || Range.containsPosition(reference.range, position);\r\n                }\r\n                else if (seenUri) {\r\n                    break;\r\n                }\r\n            }\r\n            if (!seenUri || !seenPosition) {\r\n                _this.reset();\r\n            }\r\n        });\r\n        this._currentState = combinedDisposable(editorState, listener);\r\n    };\r\n    SymbolNavigationService.prototype.revealNext = function (source) {\r\n        var _this = this;\r\n        if (!this._currentModel) {\r\n            return Promise.resolve();\r\n        }\r\n        // get next result and advance\r\n        this._currentIdx += 1;\r\n        this._currentIdx %= this._currentModel.references.length;\r\n        var reference = this._currentModel.references[this._currentIdx];\r\n        // status\r\n        this._showMessage();\r\n        // open editor, ignore events while that happens\r\n        this._ignoreEditorChange = true;\r\n        return this._editorService.openCodeEditor({\r\n            resource: reference.uri,\r\n            options: {\r\n                selection: Range.collapseToStart(reference.range),\r\n                revealInCenterIfOutsideViewport: true\r\n            }\r\n        }, source).finally(function () {\r\n            _this._ignoreEditorChange = false;\r\n        });\r\n    };\r\n    SymbolNavigationService.prototype._showMessage = function () {\r\n        dispose(this._currentMessage);\r\n        var kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');\r\n        var message = kb\r\n            ? localize('location.kb', \"Symbol {0} of {1}, {2} for next\", this._currentIdx + 1, this._currentModel.references.length, kb.getLabel())\r\n            : localize('location', \"Symbol {0} of {1}\", this._currentIdx + 1, this._currentModel.references.length);\r\n        this._currentMessage = this._notificationService.status(message);\r\n    };\r\n    SymbolNavigationService = __decorate([\r\n        __param(0, IContextKeyService),\r\n        __param(1, ICodeEditorService),\r\n        __param(2, INotificationService),\r\n        __param(3, IKeybindingService)\r\n    ], SymbolNavigationService);\r\n    return SymbolNavigationService;\r\n}());\r\nregisterSingleton(ISymbolNavigationService, SymbolNavigationService, true);\r\nregisterEditorCommand(new /** @class */ (function (_super) {\r\n    __extends(class_1, _super);\r\n    function class_1() {\r\n        return _super.call(this, {\r\n            id: 'editor.gotoNextSymbolFromResult',\r\n            precondition: ctxHasSymbols,\r\n            kbOpts: {\r\n                weight: 100 /* EditorContrib */,\r\n                primary: 70 /* F12 */\r\n            }\r\n        }) || this;\r\n    }\r\n    class_1.prototype.runEditorCommand = function (accessor, editor) {\r\n        return accessor.get(ISymbolNavigationService).revealNext(editor);\r\n    };\r\n    return class_1;\r\n}(EditorCommand)));\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'editor.gotoNextSymbolFromResult.cancel',\r\n    weight: 100 /* EditorContrib */,\r\n    when: ctxHasSymbols,\r\n    primary: 9 /* Escape */,\r\n    handler: function (accessor) {\r\n        accessor.get(ISymbolNavigationService).reset();\r\n    }\r\n});\r\n//\r\nvar EditorState = /** @class */ (function () {\r\n    function EditorState(editorService) {\r\n        this._listener = new Map();\r\n        this._disposables = new DisposableStore();\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));\r\n        this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));\r\n        editorService.listCodeEditors().forEach(this._onDidAddEditor, this);\r\n    }\r\n    EditorState.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n        this._onDidChange.dispose();\r\n        this._listener.forEach(dispose);\r\n    };\r\n    EditorState.prototype._onDidAddEditor = function (editor) {\r\n        var _this = this;\r\n        this._listener.set(editor, combinedDisposable(editor.onDidChangeCursorPosition(function (_) { return _this._onDidChange.fire({ editor: editor }); }), editor.onDidChangeModelContent(function (_) { return _this._onDidChange.fire({ editor: editor }); })));\r\n    };\r\n    EditorState.prototype._onDidRemoveEditor = function (editor) {\r\n        dispose(this._listener.get(editor));\r\n        this._listener.delete(editor);\r\n    };\r\n    EditorState = __decorate([\r\n        __param(0, ICodeEditorService)\r\n    ], EditorState);\r\n    return EditorState;\r\n}());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { createCancelablePromise, raceCancellation } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { isWeb } from '../../../base/common/platform.js';\r\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport * as corePosition from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { isLocationLink } from '../../common/modes.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { PeekContext } from '../peekView/peekView.js';\r\nimport { ReferencesController } from './peek/referencesController.js';\r\nimport { ReferencesModel } from './referencesModel.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from './goToSymbol.js';\r\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { ISymbolNavigationService } from './symbolNavigation.js';\r\nimport { isStandalone } from '../../../base/browser/browser.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { assertType } from '../../../base/common/types.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\r\nMenuRegistry.appendMenuItem(7 /* EditorContext */, {\r\n    submenu: 8 /* EditorContextPeek */,\r\n    title: nls.localize('peek.submenu', \"Peek\"),\r\n    group: 'navigation',\r\n    order: 100\r\n});\r\nvar SymbolNavigationAction = /** @class */ (function (_super) {\r\n    __extends(SymbolNavigationAction, _super);\r\n    function SymbolNavigationAction(configuration, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._configuration = configuration;\r\n        return _this;\r\n    }\r\n    SymbolNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var notificationService = accessor.get(INotificationService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var progressService = accessor.get(IEditorProgressService);\r\n        var symbolNavService = accessor.get(ISymbolNavigationService);\r\n        var model = editor.getModel();\r\n        var pos = editor.getPosition();\r\n        var cts = new EditorStateCancellationTokenSource(editor, 1 /* Value */ | 4 /* Position */);\r\n        var promise = raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then(function (references) { return __awaiter(_this, void 0, void 0, function () {\r\n            var altAction, altActionId, referenceCount, info;\r\n            return __generator(this, function (_a) {\r\n                if (!references || cts.token.isCancellationRequested) {\r\n                    return [2 /*return*/];\r\n                }\r\n                alert(references.ariaMessage);\r\n                if (references.referenceAt(model.uri, pos)) {\r\n                    altActionId = this._getAlternativeCommand(editor);\r\n                    if (altActionId !== this.id) {\r\n                        altAction = editor.getAction(altActionId);\r\n                    }\r\n                }\r\n                referenceCount = references.references.length;\r\n                if (referenceCount === 0) {\r\n                    // no result -> show message\r\n                    if (!this._configuration.muteMessage) {\r\n                        info = model.getWordAtPosition(pos);\r\n                        MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\r\n                    }\r\n                }\r\n                else if (referenceCount === 1 && altAction) {\r\n                    // already at the only result, run alternative\r\n                    altAction.run();\r\n                }\r\n                else {\r\n                    // normal results handling\r\n                    return [2 /*return*/, this._onResult(editorService, symbolNavService, editor, references)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        }); }, function (err) {\r\n            // report an error\r\n            notificationService.error(err);\r\n        }).finally(function () {\r\n            cts.dispose();\r\n        });\r\n        progressService.showWhile(promise, 250);\r\n        return promise;\r\n    };\r\n    SymbolNavigationAction.prototype._onResult = function (editorService, symbolNavService, editor, model) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var gotoLocation, next, peek, targetEditor;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        gotoLocation = this._getGoToPreference(editor);\r\n                        if (!(!(editor instanceof EmbeddedCodeEditorWidget) && (this._configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1)))) return [3 /*break*/, 1];\r\n                        this._openInPeek(editor, model);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        next = model.firstReference();\r\n                        peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\r\n                        return [4 /*yield*/, this._openReference(editor, editorService, next, this._configuration.openToSide, !peek)];\r\n                    case 2:\r\n                        targetEditor = _a.sent();\r\n                        if (peek && targetEditor) {\r\n                            this._openInPeek(targetEditor, model);\r\n                        }\r\n                        else {\r\n                            model.dispose();\r\n                        }\r\n                        // keep remaining locations around when using\r\n                        // 'goto'-mode\r\n                        if (gotoLocation === 'goto') {\r\n                            symbolNavService.put(next);\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openReference = function (editor, editorService, reference, sideBySide, highlight) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var range, targetEditor, modelNow_1, ids_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        range = undefined;\r\n                        if (isLocationLink(reference)) {\r\n                            range = reference.targetSelectionRange;\r\n                        }\r\n                        if (!range) {\r\n                            range = reference.range;\r\n                        }\r\n                        return [4 /*yield*/, editorService.openCodeEditor({\r\n                                resource: reference.uri,\r\n                                options: {\r\n                                    selection: Range.collapseToStart(range),\r\n                                    revealInCenterIfOutsideViewport: true\r\n                                }\r\n                            }, editor, sideBySide)];\r\n                    case 1:\r\n                        targetEditor = _a.sent();\r\n                        if (!targetEditor) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (highlight) {\r\n                            modelNow_1 = targetEditor.getModel();\r\n                            ids_1 = targetEditor.deltaDecorations([], [{ range: range, options: { className: 'symbolHighlight' } }]);\r\n                            setTimeout(function () {\r\n                                if (targetEditor.getModel() === modelNow_1) {\r\n                                    targetEditor.deltaDecorations(ids_1, []);\r\n                                }\r\n                            }, 350);\r\n                        }\r\n                        return [2 /*return*/, targetEditor];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openInPeek = function (target, model) {\r\n        var controller = ReferencesController.get(target);\r\n        if (controller && target.hasModel()) {\r\n            controller.toggleWidget(target.getSelection(), createCancelablePromise(function (_) { return Promise.resolve(model); }), this._configuration.openInPeek);\r\n        }\r\n        else {\r\n            model.dispose();\r\n        }\r\n    };\r\n    return SymbolNavigationAction;\r\n}(EditorAction));\r\n//#region --- DEFINITION\r\nvar DefinitionAction = /** @class */ (function (_super) {\r\n    __extends(DefinitionAction, _super);\r\n    function DefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('def.title', 'Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\r\n            : nls.localize('generic.noResults', \"No definition found\");\r\n    };\r\n    DefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeDefinitionCommand;\r\n    };\r\n    DefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleDefinitions;\r\n    };\r\n    return DefinitionAction;\r\n}(SymbolNavigationAction));\r\nexport { DefinitionAction };\r\nvar goToDefinitionKb = isWeb && !isStandalone\r\n    ? 2048 /* CtrlCmd */ | 70 /* F12 */\r\n    : 70 /* F12 */;\r\nregisterEditorAction((_a = /** @class */ (function (_super) {\r\n        __extends(GoToDefinitionAction, _super);\r\n        function GoToDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDefinitionAction.id,\r\n                label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\r\n                alias: 'Go to Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: goToDefinitionKb,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.1\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 2,\r\n                    title: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return GoToDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _a.id = 'editor.action.revealDefinition',\r\n    _a));\r\nregisterEditorAction((_b = /** @class */ (function (_super) {\r\n        __extends(OpenDefinitionToSideAction, _super);\r\n        function OpenDefinitionToSideAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: true,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: OpenDefinitionToSideAction.id,\r\n                label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\r\n                alias: 'Open Definition to the Side',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, goToDefinitionKb),\r\n                    weight: 100 /* EditorContrib */\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\r\n            return _this;\r\n        }\r\n        return OpenDefinitionToSideAction;\r\n    }(DefinitionAction)),\r\n    _b.id = 'editor.action.revealDefinitionAside',\r\n    _b));\r\nregisterEditorAction((_c = /** @class */ (function (_super) {\r\n        __extends(PeekDefinitionAction, _super);\r\n        function PeekDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekDefinitionAction.id,\r\n                label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\r\n                alias: 'Peek Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 512 /* Alt */ | 70 /* F12 */,\r\n                    linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 68 /* F10 */ },\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 2\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return PeekDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _c.id = 'editor.action.peekDefinition',\r\n    _c));\r\n//#endregion\r\n//#region --- DECLARATION\r\nvar DeclarationAction = /** @class */ (function (_super) {\r\n    __extends(DeclarationAction, _super);\r\n    function DeclarationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeclarationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDeclarationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('decl.title', 'Declarations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n    };\r\n    DeclarationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeDeclarationCommand;\r\n    };\r\n    DeclarationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleDeclarations;\r\n    };\r\n    return DeclarationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_d = /** @class */ (function (_super) {\r\n        __extends(GoToDeclarationAction, _super);\r\n        function GoToDeclarationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDeclarationAction.id,\r\n                label: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\r\n                alias: 'Go to Declaration',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.3\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\r\n                },\r\n            }) || this;\r\n        }\r\n        GoToDeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n            return info && info.word\r\n                ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n                : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n        };\r\n        return GoToDeclarationAction;\r\n    }(DeclarationAction)),\r\n    _d.id = 'editor.action.revealDeclaration',\r\n    _d));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekDeclarationAction, _super);\r\n    function PeekDeclarationAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.peekDeclaration',\r\n            label: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\r\n            alias: 'Peek Declaration',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return PeekDeclarationAction;\r\n}(DeclarationAction)));\r\n//#endregion\r\n//#region --- TYPE DEFINITION\r\nvar TypeDefinitionAction = /** @class */ (function (_super) {\r\n    __extends(TypeDefinitionAction, _super);\r\n    function TypeDefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TypeDefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getTypeDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('typedef.title', 'Type Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\r\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\r\n    };\r\n    TypeDefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeTypeDefinitionCommand;\r\n    };\r\n    TypeDefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleTypeDefinitions;\r\n    };\r\n    return TypeDefinitionAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_e = /** @class */ (function (_super) {\r\n        __extends(GoToTypeDefinitionAction, _super);\r\n        function GoToTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\r\n                alias: 'Go to Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 0,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.4\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _e.ID = 'editor.action.goToTypeDefinition',\r\n    _e));\r\nregisterEditorAction((_f = /** @class */ (function (_super) {\r\n        __extends(PeekTypeDefinitionAction, _super);\r\n        function PeekTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\r\n                alias: 'Peek Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 4\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _f.ID = 'editor.action.peekTypeDefinition',\r\n    _f));\r\n//#endregion\r\n//#region --- IMPLEMENTATION\r\nvar ImplementationAction = /** @class */ (function (_super) {\r\n    __extends(ImplementationAction, _super);\r\n    function ImplementationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ImplementationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getImplementationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('impl.title', 'Implementations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\r\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\r\n    };\r\n    ImplementationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeImplementationCommand;\r\n    };\r\n    ImplementationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleImplementations;\r\n    };\r\n    return ImplementationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_g = /** @class */ (function (_super) {\r\n        __extends(GoToImplementationAction, _super);\r\n        function GoToImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToImplementationAction.ID,\r\n                label: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\r\n                alias: 'Go to Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 4,\r\n                    title: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.45\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToImplementationAction;\r\n    }(ImplementationAction)),\r\n    _g.ID = 'editor.action.goToImplementation',\r\n    _g));\r\nregisterEditorAction((_h = /** @class */ (function (_super) {\r\n        __extends(PeekImplementationAction, _super);\r\n        function PeekImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekImplementationAction.ID,\r\n                label: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\r\n                alias: 'Peek Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 5\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekImplementationAction;\r\n    }(ImplementationAction)),\r\n    _h.ID = 'editor.action.peekImplementation',\r\n    _h));\r\n//#endregion\r\n//#region --- REFERENCES\r\nvar ReferencesAction = /** @class */ (function (_super) {\r\n    __extends(ReferencesAction, _super);\r\n    function ReferencesAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ReferencesAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info\r\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\r\n            : nls.localize('references.noGeneric', \"No references found\");\r\n    };\r\n    ReferencesAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeReferenceCommand;\r\n    };\r\n    ReferencesAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleReferences;\r\n    };\r\n    return ReferencesAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(GoToReferencesAction, _super);\r\n    function GoToReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: false,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.goToReferences',\r\n            label: nls.localize('goToReferences.label', \"Go to References\"),\r\n            alias: 'Go to References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 70 /* F12 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 1.45\r\n            },\r\n            menuOpts: {\r\n                menuId: 19 /* MenubarGoMenu */,\r\n                group: '4_symbol_nav',\r\n                order: 5,\r\n                title: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\r\n            },\r\n        }) || this;\r\n    }\r\n    GoToReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, true, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return GoToReferencesAction;\r\n}(ReferencesAction)));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekReferencesAction, _super);\r\n    function PeekReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.referenceSearch.trigger',\r\n            label: nls.localize('references.action.label', \"Peek References\"),\r\n            alias: 'Peek References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 6\r\n            }\r\n        }) || this;\r\n    }\r\n    PeekReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, false, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return PeekReferencesAction;\r\n}(ReferencesAction)));\r\n//#endregion\r\n//#region --- GENERIC goto symbols command\r\nvar GenericGoToLocationAction = /** @class */ (function (_super) {\r\n    __extends(GenericGoToLocationAction, _super);\r\n    function GenericGoToLocationAction(config, _references, _gotoMultipleBehaviour) {\r\n        var _this = _super.call(this, config, {\r\n            id: 'editor.action.goToLocation',\r\n            label: nls.localize('label.generic', \"Go To Any Symbol\"),\r\n            alias: 'Go To Any Symbol',\r\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n        }) || this;\r\n        _this._references = _references;\r\n        _this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\r\n        return _this;\r\n    }\r\n    GenericGoToLocationAction.prototype._getLocationModel = function (_model, _position, _token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'))];\r\n            });\r\n        });\r\n    };\r\n    GenericGoToLocationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\r\n    };\r\n    GenericGoToLocationAction.prototype._getGoToPreference = function (editor) {\r\n        var _a;\r\n        return (_a = this._gotoMultipleBehaviour) !== null && _a !== void 0 ? _a : editor.getOption(41 /* gotoLocation */).multipleReferences;\r\n    };\r\n    GenericGoToLocationAction.prototype._getAlternativeCommand = function () { return ''; };\r\n    return GenericGoToLocationAction;\r\n}(SymbolNavigationAction));\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.goToLocations',\r\n    description: {\r\n        description: 'Go to locations from a position in a file',\r\n        args: [\r\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\r\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\r\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\r\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\r\n        ]\r\n    },\r\n    handler: function (accessor, resource, position, references, multiple, openInPeek) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var editorService, editor;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    assertType(URI.isUri(resource));\r\n                    assertType(corePosition.Position.isIPosition(position));\r\n                    assertType(Array.isArray(references));\r\n                    assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\r\n                    assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\r\n                    editorService = accessor.get(ICodeEditorService);\r\n                    return [4 /*yield*/, editorService.openCodeEditor({ resource: resource }, editorService.getFocusedCodeEditor())];\r\n                case 1:\r\n                    editor = _a.sent();\r\n                    if (isCodeEditor(editor)) {\r\n                        editor.setPosition(position);\r\n                        editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\r\n                        return [2 /*return*/, editor.invokeWithinContext(function (accessor) {\r\n                                var command = new GenericGoToLocationAction({ muteMessage: true, openInPeek: Boolean(openInPeek), openToSide: false }, references, multiple);\r\n                                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\r\n                            })];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }\r\n});\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.peekLocations',\r\n    description: {\r\n        description: 'Peek locations from a position in a file',\r\n        args: [\r\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\r\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\r\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\r\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\r\n        ]\r\n    },\r\n    handler: function (accessor, resource, position, references, multiple) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, true);\r\n            return [2 /*return*/];\r\n        });\r\n    }); }\r\n});\r\n//#endregion\r\n//#region --- REFERENCE search special commands\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.findReferences',\r\n    handler: function (accessor, resource, position) {\r\n        assertType(URI.isUri(resource));\r\n        assertType(corePosition.Position.isIPosition(position));\r\n        var codeEditorService = accessor.get(ICodeEditorService);\r\n        return codeEditorService.openCodeEditor({ resource: resource }, codeEditorService.getFocusedCodeEditor()).then(function (control) {\r\n            if (!isCodeEditor(control) || !control.hasModel()) {\r\n                return undefined;\r\n            }\r\n            var controller = ReferencesController.get(control);\r\n            if (!controller) {\r\n                return undefined;\r\n            }\r\n            var references = createCancelablePromise(function (token) { return getReferencesAtPosition(control.getModel(), corePosition.Position.lift(position), false, token).then(function (references) { return new ReferencesModel(references, nls.localize('ref.title', 'References')); }); });\r\n            var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n            return Promise.resolve(controller.toggleWidget(range, references, false));\r\n        });\r\n    }\r\n});\r\n// use NEW command\r\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { equals } from './arrays.js';\r\nimport { escapeCodicons } from './codicons.js';\r\nvar MarkdownString = /** @class */ (function () {\r\n    function MarkdownString(_value, isTrustedOrOptions) {\r\n        if (_value === void 0) { _value = ''; }\r\n        if (isTrustedOrOptions === void 0) { isTrustedOrOptions = false; }\r\n        var _a, _b;\r\n        this._value = _value;\r\n        if (typeof isTrustedOrOptions === 'boolean') {\r\n            this._isTrusted = isTrustedOrOptions;\r\n            this._supportThemeIcons = false;\r\n        }\r\n        else {\r\n            this._isTrusted = (_a = isTrustedOrOptions.isTrusted) !== null && _a !== void 0 ? _a : false;\r\n            this._supportThemeIcons = (_b = isTrustedOrOptions.supportThemeIcons) !== null && _b !== void 0 ? _b : false;\r\n        }\r\n    }\r\n    Object.defineProperty(MarkdownString.prototype, \"value\", {\r\n        get: function () { return this._value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkdownString.prototype, \"isTrusted\", {\r\n        get: function () { return this._isTrusted; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkdownString.prototype, \"supportThemeIcons\", {\r\n        get: function () { return this._supportThemeIcons; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkdownString.prototype.appendText = function (value) {\r\n        // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n        this._value += (this._supportThemeIcons ? escapeCodicons(value) : value)\r\n            .replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            .replace('\\n', '\\n\\n');\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendMarkdown = function (value) {\r\n        this._value += value;\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendCodeblock = function (langId, code) {\r\n        this._value += '\\n```';\r\n        this._value += langId;\r\n        this._value += '\\n';\r\n        this._value += code;\r\n        this._value += '\\n```\\n';\r\n        return this;\r\n    };\r\n    return MarkdownString;\r\n}());\r\nexport { MarkdownString };\r\nexport function isEmptyMarkdownString(oneOrMany) {\r\n    if (isMarkdownString(oneOrMany)) {\r\n        return !oneOrMany.value;\r\n    }\r\n    else if (Array.isArray(oneOrMany)) {\r\n        return oneOrMany.every(isEmptyMarkdownString);\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nexport function isMarkdownString(thing) {\r\n    if (thing instanceof MarkdownString) {\r\n        return true;\r\n    }\r\n    else if (thing && typeof thing === 'object') {\r\n        return typeof thing.value === 'string'\r\n            && (typeof thing.isTrusted === 'boolean' || thing.isTrusted === undefined)\r\n            && (typeof thing.supportThemeIcons === 'boolean' || thing.supportThemeIcons === undefined);\r\n    }\r\n    return false;\r\n}\r\nexport function markedStringsEquals(a, b) {\r\n    if (!a && !b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else if (Array.isArray(a) && Array.isArray(b)) {\r\n        return equals(a, b, markdownStringEqual);\r\n    }\r\n    else if (isMarkdownString(a) && isMarkdownString(b)) {\r\n        return markdownStringEqual(a, b);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nfunction markdownStringEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else {\r\n        return a.value === b.value && a.isTrusted === b.isTrusted && a.supportThemeIcons === b.supportThemeIcons;\r\n    }\r\n}\r\nexport function removeMarkdownEscapes(text) {\r\n    if (!text) {\r\n        return text;\r\n    }\r\n    return text.replace(/\\\\([\\\\`*_{}[\\]()#+\\-.!])/g, '$1');\r\n}\r\nexport function parseHrefAndDimensions(href) {\r\n    var dimensions = [];\r\n    var splitted = href.split('|').map(function (s) { return s.trim(); });\r\n    href = splitted[0];\r\n    var parameters = splitted[1];\r\n    if (parameters) {\r\n        var heightFromParams = /height=(\\d+)/.exec(parameters);\r\n        var widthFromParams = /width=(\\d+)/.exec(parameters);\r\n        var height = heightFromParams ? heightFromParams[1] : '';\r\n        var width = widthFromParams ? widthFromParams[1] : '';\r\n        var widthIsFinite = isFinite(parseInt(width));\r\n        var heightIsFinite = isFinite(parseInt(height));\r\n        if (widthIsFinite) {\r\n            dimensions.push(\"width=\\\"\" + width + \"\\\"\");\r\n        }\r\n        if (heightIsFinite) {\r\n            dimensions.push(\"height=\\\"\" + height + \"\\\"\");\r\n        }\r\n    }\r\n    return { href: href, dimensions: dimensions };\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { Emitter } from '../../../../base/common/event.js';\r\nimport * as platform from '../../../../base/common/platform.js';\r\nfunction hasModifier(e, modifier) {\r\n    return !!e[modifier];\r\n}\r\n/**\r\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\r\n */\r\nvar ClickLinkMouseEvent = /** @class */ (function () {\r\n    function ClickLinkMouseEvent(source, opts) {\r\n        this.target = source.target;\r\n        this.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\r\n        this.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\r\n        this.isNoneOrSingleMouseDown = (browser.isIE || source.event.detail <= 1); // IE does not support event.detail properly\r\n    }\r\n    return ClickLinkMouseEvent;\r\n}());\r\nexport { ClickLinkMouseEvent };\r\n/**\r\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\r\n */\r\nvar ClickLinkKeyboardEvent = /** @class */ (function () {\r\n    function ClickLinkKeyboardEvent(source, opts) {\r\n        this.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\r\n        this.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\r\n        this.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\r\n    }\r\n    return ClickLinkKeyboardEvent;\r\n}());\r\nexport { ClickLinkKeyboardEvent };\r\nvar ClickLinkOptions = /** @class */ (function () {\r\n    function ClickLinkOptions(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier) {\r\n        this.triggerKey = triggerKey;\r\n        this.triggerModifier = triggerModifier;\r\n        this.triggerSideBySideKey = triggerSideBySideKey;\r\n        this.triggerSideBySideModifier = triggerSideBySideModifier;\r\n    }\r\n    ClickLinkOptions.prototype.equals = function (other) {\r\n        return (this.triggerKey === other.triggerKey\r\n            && this.triggerModifier === other.triggerModifier\r\n            && this.triggerSideBySideKey === other.triggerSideBySideKey\r\n            && this.triggerSideBySideModifier === other.triggerSideBySideModifier);\r\n    };\r\n    return ClickLinkOptions;\r\n}());\r\nexport { ClickLinkOptions };\r\nfunction createOptions(multiCursorModifier) {\r\n    if (multiCursorModifier === 'altKey') {\r\n        if (platform.isMacintosh) {\r\n            return new ClickLinkOptions(57 /* Meta */, 'metaKey', 6 /* Alt */, 'altKey');\r\n        }\r\n        return new ClickLinkOptions(5 /* Ctrl */, 'ctrlKey', 6 /* Alt */, 'altKey');\r\n    }\r\n    if (platform.isMacintosh) {\r\n        return new ClickLinkOptions(6 /* Alt */, 'altKey', 57 /* Meta */, 'metaKey');\r\n    }\r\n    return new ClickLinkOptions(6 /* Alt */, 'altKey', 5 /* Ctrl */, 'ctrlKey');\r\n}\r\nvar ClickLinkGesture = /** @class */ (function (_super) {\r\n    __extends(ClickLinkGesture, _super);\r\n    function ClickLinkGesture(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onMouseMoveOrRelevantKeyDown = _this._register(new Emitter());\r\n        _this.onMouseMoveOrRelevantKeyDown = _this._onMouseMoveOrRelevantKeyDown.event;\r\n        _this._onExecute = _this._register(new Emitter());\r\n        _this.onExecute = _this._onExecute.event;\r\n        _this._onCancel = _this._register(new Emitter());\r\n        _this.onCancel = _this._onCancel.event;\r\n        _this._editor = editor;\r\n        _this._opts = createOptions(_this._editor.getOption(59 /* multiCursorModifier */));\r\n        _this.lastMouseMoveEvent = null;\r\n        _this.hasTriggerKeyOnMouseDown = false;\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(59 /* multiCursorModifier */)) {\r\n                var newOpts = createOptions(_this._editor.getOption(59 /* multiCursorModifier */));\r\n                if (_this._opts.equals(newOpts)) {\r\n                    return;\r\n                }\r\n                _this._opts = newOpts;\r\n                _this.lastMouseMoveEvent = null;\r\n                _this.hasTriggerKeyOnMouseDown = false;\r\n                _this._onCancel.fire();\r\n            }\r\n        }));\r\n        _this._register(_this._editor.onMouseMove(function (e) { return _this.onEditorMouseMove(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseDown(function (e) { return _this.onEditorMouseDown(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseUp(function (e) { return _this.onEditorMouseUp(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(new ClickLinkKeyboardEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(new ClickLinkKeyboardEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseDrag(function () { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidChangeCursorSelection(function (e) { return _this.onDidChangeCursorSelection(e); }));\r\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidChangeModelContent(function () { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged || e.scrollLeftChanged) {\r\n                _this.resetHandler();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ClickLinkGesture.prototype.onDidChangeCursorSelection = function (e) {\r\n        if (e.selection && e.selection.startColumn !== e.selection.endColumn) {\r\n            this.resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/Microsoft/vscode/issues/7827)\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseMove = function (mouseEvent) {\r\n        this.lastMouseMoveEvent = mouseEvent;\r\n        this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseDown = function (mouseEvent) {\r\n        // We need to record if we had the trigger key on mouse down because someone might select something in the editor\r\n        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\r\n        // release the mouse button without wanting to do the navigation.\r\n        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\r\n        this.hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseUp = function (mouseEvent) {\r\n        if (this.hasTriggerKeyOnMouseDown) {\r\n            this._onExecute.fire(mouseEvent);\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorKeyDown = function (e) {\r\n        if (this.lastMouseMoveEvent\r\n            && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\r\n                || (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\r\n            )) {\r\n            this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent, e]);\r\n        }\r\n        else if (e.hasTriggerModifier) {\r\n            this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorKeyUp = function (e) {\r\n        if (e.keyCodeIsTriggerKey) {\r\n            this._onCancel.fire();\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.resetHandler = function () {\r\n        this.lastMouseMoveEvent = null;\r\n        this.hasTriggerKeyOnMouseDown = false;\r\n        this._onCancel.fire();\r\n    };\r\n    return ClickLinkGesture;\r\n}(Disposable));\r\nexport { ClickLinkGesture };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './goToDefinitionAtPosition.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport { createCancelablePromise } from '../../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\r\nimport { IModeService } from '../../../common/services/modeService.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { DefinitionProviderRegistry } from '../../../common/modes.js';\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { getDefinitionsAtPosition } from '../goToSymbol.js';\r\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { editorActiveLinkForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { EditorState } from '../../../browser/core/editorState.js';\r\nimport { DefinitionAction } from '../goToCommands.js';\r\nimport { ClickLinkGesture } from './clickLinkGesture.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { withNullAsUndefined } from '../../../../base/common/types.js';\r\nvar GotoDefinitionAtPositionEditorContribution = /** @class */ (function () {\r\n    function GotoDefinitionAtPositionEditorContribution(editor, textModelResolverService, modeService) {\r\n        var _this = this;\r\n        this.textModelResolverService = textModelResolverService;\r\n        this.modeService = modeService;\r\n        this.toUnhook = new DisposableStore();\r\n        this.toUnhookForKeyboard = new DisposableStore();\r\n        this.linkDecorations = [];\r\n        this.currentWordAtPosition = null;\r\n        this.previousPromise = null;\r\n        this.editor = editor;\r\n        var linkGesture = new ClickLinkGesture(editor);\r\n        this.toUnhook.add(linkGesture);\r\n        this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\r\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\r\n            _this.startFindDefinitionFromMouse(mouseEvent, withNullAsUndefined(keyboardEvent));\r\n        }));\r\n        this.toUnhook.add(linkGesture.onExecute(function (mouseEvent) {\r\n            if (_this.isEnabled(mouseEvent)) {\r\n                _this.gotoDefinition(mouseEvent.target.position, mouseEvent.hasSideBySideModifier).then(function () {\r\n                    _this.removeLinkDecorations();\r\n                }, function (error) {\r\n                    _this.removeLinkDecorations();\r\n                    onUnexpectedError(error);\r\n                });\r\n            }\r\n        }));\r\n        this.toUnhook.add(linkGesture.onCancel(function () {\r\n            _this.removeLinkDecorations();\r\n            _this.currentWordAtPosition = null;\r\n        }));\r\n    }\r\n    GotoDefinitionAtPositionEditorContribution.get = function (editor) {\r\n        return editor.getContribution(GotoDefinitionAtPositionEditorContribution.ID);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromCursor = function (position) {\r\n        // For issue: https://github.com/microsoft/vscode/issues/46257\r\n        // equivalent to mouse move with meta/ctrl key\r\n        var _this = this;\r\n        // First find the definition and add decorations\r\n        // to the editor to be shown with the content hover widget\r\n        return this.startFindDefinition(position).then(function () {\r\n            // Add listeners for editor cursor move and key down events\r\n            // Dismiss the \"extended\" editor decorations when the user hides\r\n            // the hover widget. There is no event for the widget itself so these\r\n            // serve as a best effort. After removing the link decorations, the hover\r\n            // widget is clean and will only show declarations per next request.\r\n            _this.toUnhookForKeyboard.add(_this.editor.onDidChangeCursorPosition(function () {\r\n                _this.currentWordAtPosition = null;\r\n                _this.removeLinkDecorations();\r\n                _this.toUnhookForKeyboard.clear();\r\n            }));\r\n            _this.toUnhookForKeyboard.add(_this.editor.onKeyDown(function (e) {\r\n                if (e) {\r\n                    _this.currentWordAtPosition = null;\r\n                    _this.removeLinkDecorations();\r\n                    _this.toUnhookForKeyboard.clear();\r\n                }\r\n            }));\r\n        });\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromMouse = function (mouseEvent, withKey) {\r\n        // check if we are active and on a content widget\r\n        if (mouseEvent.target.type === 9 /* CONTENT_WIDGET */ && this.linkDecorations.length > 0) {\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {\r\n            this.currentWordAtPosition = null;\r\n            this.removeLinkDecorations();\r\n            return;\r\n        }\r\n        var position = mouseEvent.target.position;\r\n        this.startFindDefinition(position);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinition = function (position) {\r\n        var _this = this;\r\n        var _a;\r\n        // Dispose listeners for updating decorations when using keyboard to show definition hover\r\n        this.toUnhookForKeyboard.clear();\r\n        // Find word at mouse position\r\n        var word = position ? (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position) : null;\r\n        if (!word) {\r\n            this.currentWordAtPosition = null;\r\n            this.removeLinkDecorations();\r\n            return Promise.resolve(0);\r\n        }\r\n        // Return early if word at position is still the same\r\n        if (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) {\r\n            return Promise.resolve(0);\r\n        }\r\n        this.currentWordAtPosition = word;\r\n        // Find definition and decorate word if found\r\n        var state = new EditorState(this.editor, 4 /* Position */ | 1 /* Value */ | 2 /* Selection */ | 8 /* Scroll */);\r\n        if (this.previousPromise) {\r\n            this.previousPromise.cancel();\r\n            this.previousPromise = null;\r\n        }\r\n        this.previousPromise = createCancelablePromise(function (token) { return _this.findDefinition(position, token); });\r\n        return this.previousPromise.then(function (results) {\r\n            if (!results || !results.length || !state.validate(_this.editor)) {\r\n                _this.removeLinkDecorations();\r\n                return;\r\n            }\r\n            // Multiple results\r\n            if (results.length > 1) {\r\n                _this.addDecoration(new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn), new MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length)));\r\n            }\r\n            // Single result\r\n            else {\r\n                var result_1 = results[0];\r\n                if (!result_1.uri) {\r\n                    return;\r\n                }\r\n                _this.textModelResolverService.createModelReference(result_1.uri).then(function (ref) {\r\n                    if (!ref.object || !ref.object.textEditorModel) {\r\n                        ref.dispose();\r\n                        return;\r\n                    }\r\n                    var textEditorModel = ref.object.textEditorModel;\r\n                    var startLineNumber = result_1.range.startLineNumber;\r\n                    if (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {\r\n                        // invalid range\r\n                        ref.dispose();\r\n                        return;\r\n                    }\r\n                    var previewValue = _this.getPreviewValue(textEditorModel, startLineNumber, result_1);\r\n                    var wordRange;\r\n                    if (result_1.originSelectionRange) {\r\n                        wordRange = Range.lift(result_1.originSelectionRange);\r\n                    }\r\n                    else {\r\n                        wordRange = new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\r\n                    }\r\n                    var modeId = _this.modeService.getModeIdByFilepathOrFirstLine(textEditorModel.uri);\r\n                    _this.addDecoration(wordRange, new MarkdownString().appendCodeblock(modeId ? modeId : '', previewValue));\r\n                    ref.dispose();\r\n                });\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewValue = function (textEditorModel, startLineNumber, result) {\r\n        var rangeToUse = result.targetSelectionRange ? result.range : this.getPreviewRangeBasedOnBrackets(textEditorModel, startLineNumber);\r\n        var numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;\r\n        if (numberOfLinesInRange >= GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES) {\r\n            rangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);\r\n        }\r\n        var previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);\r\n        return previewValue;\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.stripIndentationFromPreviewRange = function (textEditorModel, startLineNumber, previewRange) {\r\n        var startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\r\n        var minIndent = startIndent;\r\n        for (var endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++) {\r\n            var endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\r\n            minIndent = Math.min(minIndent, endIndent);\r\n        }\r\n        var previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(\"^\\\\s{\" + (minIndent - 1) + \"}\", 'gm'), '').trim();\r\n        return previewValue;\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnIndentation = function (textEditorModel, startLineNumber) {\r\n        var startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\r\n        var maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\r\n        var endLineNumber = startLineNumber + 1;\r\n        for (; endLineNumber < maxLineNumber; endLineNumber++) {\r\n            var endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\r\n            if (startIndent === endIndent) {\r\n                break;\r\n            }\r\n        }\r\n        return new Range(startLineNumber, 1, endLineNumber + 1, 1);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnBrackets = function (textEditorModel, startLineNumber) {\r\n        var maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\r\n        var brackets = [];\r\n        var ignoreFirstEmpty = true;\r\n        var currentBracket = textEditorModel.findNextBracket(new Position(startLineNumber, 1));\r\n        while (currentBracket !== null) {\r\n            if (brackets.length === 0) {\r\n                brackets.push(currentBracket);\r\n            }\r\n            else {\r\n                var lastBracket = brackets[brackets.length - 1];\r\n                if (lastBracket.open[0] === currentBracket.open[0] && lastBracket.isOpen && !currentBracket.isOpen) {\r\n                    brackets.pop();\r\n                }\r\n                else {\r\n                    brackets.push(currentBracket);\r\n                }\r\n                if (brackets.length === 0) {\r\n                    if (ignoreFirstEmpty) {\r\n                        ignoreFirstEmpty = false;\r\n                    }\r\n                    else {\r\n                        return new Range(startLineNumber, 1, currentBracket.range.endLineNumber + 1, 1);\r\n                    }\r\n                }\r\n            }\r\n            var maxColumn = textEditorModel.getLineMaxColumn(startLineNumber);\r\n            var nextLineNumber = currentBracket.range.endLineNumber;\r\n            var nextColumn = currentBracket.range.endColumn;\r\n            if (maxColumn === currentBracket.range.endColumn) {\r\n                nextLineNumber++;\r\n                nextColumn = 1;\r\n            }\r\n            if (nextLineNumber > maxLineNumber) {\r\n                return new Range(startLineNumber, 1, maxLineNumber + 1, 1);\r\n            }\r\n            currentBracket = textEditorModel.findNextBracket(new Position(nextLineNumber, nextColumn));\r\n        }\r\n        return new Range(startLineNumber, 1, maxLineNumber + 1, 1);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.addDecoration = function (range, hoverMessage) {\r\n        var newDecorations = {\r\n            range: range,\r\n            options: {\r\n                inlineClassName: 'goto-definition-link',\r\n                hoverMessage: hoverMessage\r\n            }\r\n        };\r\n        this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, [newDecorations]);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.removeLinkDecorations = function () {\r\n        if (this.linkDecorations.length > 0) {\r\n            this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, []);\r\n        }\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.isEnabled = function (mouseEvent, withKey) {\r\n        return this.editor.hasModel() &&\r\n            mouseEvent.isNoneOrSingleMouseDown &&\r\n            (mouseEvent.target.type === 6 /* CONTENT_TEXT */) &&\r\n            (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false)) &&\r\n            DefinitionProviderRegistry.has(this.editor.getModel());\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.findDefinition = function (position, token) {\r\n        var model = this.editor.getModel();\r\n        if (!model) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return getDefinitionsAtPosition(model, position, token);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.gotoDefinition = function (position, openToSide) {\r\n        var _this = this;\r\n        this.editor.setPosition(position);\r\n        var action = new DefinitionAction({ openToSide: openToSide, openInPeek: false, muteMessage: true }, { alias: '', label: '', id: '', precondition: undefined });\r\n        return this.editor.invokeWithinContext(function (accessor) { return action.run(accessor, _this.editor); });\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.dispose = function () {\r\n        this.toUnhook.dispose();\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.ID = 'editor.contrib.gotodefinitionatposition';\r\n    GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES = 8;\r\n    GotoDefinitionAtPositionEditorContribution = __decorate([\r\n        __param(1, ITextModelService),\r\n        __param(2, IModeService)\r\n    ], GotoDefinitionAtPositionEditorContribution);\r\n    return GotoDefinitionAtPositionEditorContribution;\r\n}());\r\nexport { GotoDefinitionAtPositionEditorContribution };\r\nregisterEditorContribution(GotoDefinitionAtPositionEditorContribution.ID, GotoDefinitionAtPositionEditorContribution);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .goto-definition-link { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport Severity from '../../../base/common/severity.js';\r\nimport { registerThemingParticipant } from '../../theme/common/themeService.js';\r\nimport { problemsErrorIconForeground, problemsInfoIconForeground, problemsWarningIconForeground } from '../../theme/common/colorRegistry.js';\r\nexport var SeverityIcon;\r\n(function (SeverityIcon) {\r\n    function className(severity) {\r\n        switch (severity) {\r\n            case Severity.Ignore:\r\n                return 'severity-ignore codicon-info';\r\n            case Severity.Info:\r\n                return 'codicon-info';\r\n            case Severity.Warning:\r\n                return 'codicon-warning';\r\n            case Severity.Error:\r\n                return 'codicon-error';\r\n        }\r\n        return '';\r\n    }\r\n    SeverityIcon.className = className;\r\n})(SeverityIcon || (SeverityIcon = {}));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var errorIconForeground = theme.getColor(problemsErrorIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-error,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-error,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-error,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-error {\\n\\t\\t\\t\\tcolor: \" + errorIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var warningIconForeground = theme.getColor(problemsWarningIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-warning,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-warning,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-warning,\\n\\t\\t\\t.extension-editor .codicon-warning,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-warning {\\n\\t\\t\\t\\tcolor: \" + warningIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var infoIconForeground = theme.getColor(problemsInfoIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-info,\\n\\t\\t\\t.markers-panel .marker-icon.codicon-info,\\n\\t\\t\\t.extensions-viewlet > .extensions .codicon-info,\\n\\t\\t\\t.extension-editor .codicon-info,\\n\\t\\t\\t.monaco-dialog-box .dialog-message-row .codicon-info {\\n\\t\\t\\t\\tcolor: \" + infoIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './media/gotoErrorWidget.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerColor, oneOf, textLinkForeground, editorErrorForeground, editorErrorBorder, editorWarningForeground, editorWarningBorder, editorInfoForeground, editorInfoBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { Color } from '../../../base/common/color.js';\r\nimport { ScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { getBaseLabel, getPathLabel } from '../../../base/common/labels.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { PeekViewWidget, peekViewTitleForeground, peekViewTitleInfoForeground } from '../peekView/peekView.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { SeverityIcon } from '../../../platform/severityIcon/common/severityIcon.js';\r\nvar MessageWidget = /** @class */ (function () {\r\n    function MessageWidget(parent, editor, onRelatedInformation, _openerService) {\r\n        var _this = this;\r\n        this._openerService = _openerService;\r\n        this._lines = 0;\r\n        this._longestLineLength = 0;\r\n        this._relatedDiagnostics = new WeakMap();\r\n        this._disposables = new DisposableStore();\r\n        this._editor = editor;\r\n        var domNode = document.createElement('div');\r\n        domNode.className = 'descriptioncontainer';\r\n        domNode.setAttribute('aria-live', 'assertive');\r\n        domNode.setAttribute('role', 'alert');\r\n        this._messageBlock = document.createElement('div');\r\n        dom.addClass(this._messageBlock, 'message');\r\n        domNode.appendChild(this._messageBlock);\r\n        this._relatedBlock = document.createElement('div');\r\n        domNode.appendChild(this._relatedBlock);\r\n        this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', function (event) {\r\n            event.preventDefault();\r\n            var related = _this._relatedDiagnostics.get(event.target);\r\n            if (related) {\r\n                onRelatedInformation(related);\r\n            }\r\n        }));\r\n        this._scrollable = new ScrollableElement(domNode, {\r\n            horizontal: 1 /* Auto */,\r\n            vertical: 1 /* Auto */,\r\n            useShadows: false,\r\n            horizontalScrollbarSize: 3,\r\n            verticalScrollbarSize: 3\r\n        });\r\n        parent.appendChild(this._scrollable.getDomNode());\r\n        this._disposables.add(this._scrollable.onScroll(function (e) {\r\n            domNode.style.left = \"-\" + e.scrollLeft + \"px\";\r\n            domNode.style.top = \"-\" + e.scrollTop + \"px\";\r\n        }));\r\n        this._disposables.add(this._scrollable);\r\n    }\r\n    MessageWidget.prototype.dispose = function () {\r\n        dispose(this._disposables);\r\n    };\r\n    MessageWidget.prototype.update = function (_a) {\r\n        var _this = this;\r\n        var source = _a.source, message = _a.message, relatedInformation = _a.relatedInformation, code = _a.code;\r\n        var sourceAndCodeLength = ((source === null || source === void 0 ? void 0 : source.length) || 0) + '()'.length;\r\n        if (code) {\r\n            if (typeof code === 'string') {\r\n                sourceAndCodeLength += code.length;\r\n            }\r\n            else {\r\n                sourceAndCodeLength += code.value.length;\r\n            }\r\n        }\r\n        var lines = message.split(/\\r\\n|\\r|\\n/g);\r\n        this._lines = lines.length;\r\n        this._longestLineLength = 0;\r\n        for (var _i = 0, lines_1 = lines; _i < lines_1.length; _i++) {\r\n            var line = lines_1[_i];\r\n            this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);\r\n        }\r\n        dom.clearNode(this._messageBlock);\r\n        this._editor.applyFontInfo(this._messageBlock);\r\n        var lastLineElement = this._messageBlock;\r\n        for (var _b = 0, lines_2 = lines; _b < lines_2.length; _b++) {\r\n            var line = lines_2[_b];\r\n            lastLineElement = document.createElement('div');\r\n            lastLineElement.innerText = line;\r\n            if (line === '') {\r\n                lastLineElement.style.height = this._messageBlock.style.lineHeight;\r\n            }\r\n            this._messageBlock.appendChild(lastLineElement);\r\n        }\r\n        if (source || code) {\r\n            var detailsElement = document.createElement('span');\r\n            dom.addClass(detailsElement, 'details');\r\n            lastLineElement.appendChild(detailsElement);\r\n            if (source) {\r\n                var sourceElement = document.createElement('span');\r\n                sourceElement.innerText = source;\r\n                dom.addClass(sourceElement, 'source');\r\n                detailsElement.appendChild(sourceElement);\r\n            }\r\n            if (code) {\r\n                if (typeof code === 'string') {\r\n                    var codeElement = document.createElement('span');\r\n                    codeElement.innerText = \"(\" + code + \")\";\r\n                    dom.addClass(codeElement, 'code');\r\n                    detailsElement.appendChild(codeElement);\r\n                }\r\n                else {\r\n                    this._codeLink = dom.$('a.code-link');\r\n                    this._codeLink.setAttribute('href', \"\" + code.link.toString());\r\n                    this._codeLink.onclick = function (e) {\r\n                        _this._openerService.open(code.link);\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    };\r\n                    var codeElement = dom.append(this._codeLink, dom.$('span'));\r\n                    codeElement.innerText = code.value;\r\n                    detailsElement.appendChild(this._codeLink);\r\n                }\r\n            }\r\n        }\r\n        dom.clearNode(this._relatedBlock);\r\n        this._editor.applyFontInfo(this._relatedBlock);\r\n        if (isNonEmptyArray(relatedInformation)) {\r\n            var relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\r\n            relatedInformationNode.style.paddingTop = Math.floor(this._editor.getOption(49 /* lineHeight */) * 0.66) + \"px\";\r\n            this._lines += 1;\r\n            for (var _c = 0, relatedInformation_1 = relatedInformation; _c < relatedInformation_1.length; _c++) {\r\n                var related = relatedInformation_1[_c];\r\n                var container = document.createElement('div');\r\n                var relatedResource = document.createElement('a');\r\n                dom.addClass(relatedResource, 'filename');\r\n                relatedResource.innerHTML = getBaseLabel(related.resource) + \"(\" + related.startLineNumber + \", \" + related.startColumn + \"): \";\r\n                relatedResource.title = getPathLabel(related.resource, undefined);\r\n                this._relatedDiagnostics.set(relatedResource, related);\r\n                var relatedMessage = document.createElement('span');\r\n                relatedMessage.innerText = related.message;\r\n                container.appendChild(relatedResource);\r\n                container.appendChild(relatedMessage);\r\n                this._lines += 1;\r\n                relatedInformationNode.appendChild(container);\r\n            }\r\n        }\r\n        var fontInfo = this._editor.getOption(34 /* fontInfo */);\r\n        var scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\r\n        var scrollHeight = fontInfo.lineHeight * this._lines;\r\n        this._scrollable.setScrollDimensions({ scrollWidth: scrollWidth, scrollHeight: scrollHeight });\r\n    };\r\n    MessageWidget.prototype.layout = function (height, width) {\r\n        this._scrollable.getDomNode().style.height = height + \"px\";\r\n        this._scrollable.getDomNode().style.width = width + \"px\";\r\n        this._scrollable.setScrollDimensions({ width: width, height: height });\r\n    };\r\n    MessageWidget.prototype.getHeightInLines = function () {\r\n        return Math.min(17, this._lines);\r\n    };\r\n    return MessageWidget;\r\n}());\r\nvar MarkerNavigationWidget = /** @class */ (function (_super) {\r\n    __extends(MarkerNavigationWidget, _super);\r\n    function MarkerNavigationWidget(editor, actions, _themeService, _openerService) {\r\n        var _this = _super.call(this, editor, { showArrow: true, showFrame: true, isAccessible: true }) || this;\r\n        _this.actions = actions;\r\n        _this._themeService = _themeService;\r\n        _this._openerService = _openerService;\r\n        _this._callOnDispose = new DisposableStore();\r\n        _this._onDidSelectRelatedInformation = new Emitter();\r\n        _this.onDidSelectRelatedInformation = _this._onDidSelectRelatedInformation.event;\r\n        _this._severity = MarkerSeverity.Warning;\r\n        _this._backgroundColor = Color.white;\r\n        _this._applyTheme(_themeService.getTheme());\r\n        _this._callOnDispose.add(_themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this.create();\r\n        return _this;\r\n    }\r\n    MarkerNavigationWidget.prototype._applyTheme = function (theme) {\r\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\r\n        var colorId = editorMarkerNavigationError;\r\n        if (this._severity === MarkerSeverity.Warning) {\r\n            colorId = editorMarkerNavigationWarning;\r\n        }\r\n        else if (this._severity === MarkerSeverity.Info) {\r\n            colorId = editorMarkerNavigationInfo;\r\n        }\r\n        var frameColor = theme.getColor(colorId);\r\n        this.style({\r\n            arrowColor: frameColor,\r\n            frameColor: frameColor,\r\n            headerBackgroundColor: this._backgroundColor,\r\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\r\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\r\n        }); // style() will trigger _applyStyles\r\n    };\r\n    MarkerNavigationWidget.prototype._applyStyles = function () {\r\n        if (this._parentContainer) {\r\n            this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\r\n        }\r\n        _super.prototype._applyStyles.call(this);\r\n    };\r\n    MarkerNavigationWidget.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    MarkerNavigationWidget.prototype._fillHead = function (container) {\r\n        _super.prototype._fillHead.call(this, container);\r\n        this._actionbarWidget.push(this.actions, { label: false, icon: true, index: 0 });\r\n    };\r\n    MarkerNavigationWidget.prototype._fillTitleIcon = function (container) {\r\n        this._icon = dom.append(container, dom.$(''));\r\n    };\r\n    MarkerNavigationWidget.prototype._getActionBarOptions = function () {\r\n        return {\r\n            orientation: 0 /* HORIZONTAL */\r\n        };\r\n    };\r\n    MarkerNavigationWidget.prototype._fillBody = function (container) {\r\n        var _this = this;\r\n        this._parentContainer = container;\r\n        dom.addClass(container, 'marker-widget');\r\n        this._parentContainer.tabIndex = 0;\r\n        this._parentContainer.setAttribute('role', 'tooltip');\r\n        this._container = document.createElement('div');\r\n        container.appendChild(this._container);\r\n        this._message = new MessageWidget(this._container, this.editor, function (related) { return _this._onDidSelectRelatedInformation.fire(related); }, this._openerService);\r\n        this._disposables.add(this._message);\r\n    };\r\n    MarkerNavigationWidget.prototype.show = function (where, heightInLines) {\r\n        throw new Error('call showAtMarker');\r\n    };\r\n    MarkerNavigationWidget.prototype.showAtMarker = function (marker, markerIdx, markerCount) {\r\n        // update:\r\n        // * title\r\n        // * message\r\n        this._container.classList.remove('stale');\r\n        this._message.update(marker);\r\n        // update frame color (only applied on 'show')\r\n        this._severity = marker.severity;\r\n        this._applyTheme(this._themeService.getTheme());\r\n        // show\r\n        var range = Range.lift(marker);\r\n        var editorPosition = this.editor.getPosition();\r\n        var position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\r\n        _super.prototype.show.call(this, position, this.computeRequiredHeight());\r\n        var model = this.editor.getModel();\r\n        if (model) {\r\n            var detail = markerCount > 1\r\n                ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount)\r\n                : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\r\n            this.setTitle(basename(model.uri), detail);\r\n        }\r\n        this._icon.className = \"codicon \" + SeverityIcon.className(MarkerSeverity.toSeverity(this._severity));\r\n        this.editor.revealPositionInCenter(position, 0 /* Smooth */);\r\n        this.editor.focus();\r\n    };\r\n    MarkerNavigationWidget.prototype.updateMarker = function (marker) {\r\n        this._container.classList.remove('stale');\r\n        this._message.update(marker);\r\n    };\r\n    MarkerNavigationWidget.prototype.showStale = function () {\r\n        this._container.classList.add('stale');\r\n        this._relayout();\r\n    };\r\n    MarkerNavigationWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\r\n        this._heightInPixel = heightInPixel;\r\n        this._message.layout(heightInPixel, widthInPixel);\r\n        this._container.style.height = heightInPixel + \"px\";\r\n    };\r\n    MarkerNavigationWidget.prototype._onWidth = function (widthInPixel) {\r\n        this._message.layout(this._heightInPixel, widthInPixel);\r\n    };\r\n    MarkerNavigationWidget.prototype._relayout = function () {\r\n        _super.prototype._relayout.call(this, this.computeRequiredHeight());\r\n    };\r\n    MarkerNavigationWidget.prototype.computeRequiredHeight = function () {\r\n        return 3 + this._message.getHeightInLines();\r\n    };\r\n    return MarkerNavigationWidget;\r\n}(PeekViewWidget));\r\nexport { MarkerNavigationWidget };\r\n// theming\r\nvar errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\r\nvar warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\r\nvar infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\r\nexport var editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hc: errorDefault }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\r\nexport var editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hc: warningDefault }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\r\nexport var editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hc: infoDefault }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\r\nexport var editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', { dark: '#2D2D30', light: Color.white, hc: '#0C141F' }, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var linkFg = theme.getColor(textLinkForeground);\r\n    if (linkFg) {\r\n        collector.addRule(\".monaco-editor .marker-widget a { color: \" + linkFg + \"; }\");\r\n        collector.addRule(\".monaco-editor .marker-widget a.code-link span:hover { color: \" + linkFg + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\r\nimport { compare } from '../../../base/common/strings.js';\r\nimport { binarySearch, find } from '../../../base/common/arrays.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nvar MarkerModel = /** @class */ (function () {\r\n    function MarkerModel(editor, markers) {\r\n        var _this = this;\r\n        this._toUnbind = new DisposableStore();\r\n        this._editor = editor;\r\n        this._markers = [];\r\n        this._nextIdx = -1;\r\n        this._ignoreSelectionChange = false;\r\n        this._onCurrentMarkerChanged = new Emitter();\r\n        this._onMarkerSetChanged = new Emitter();\r\n        this.setMarkers(markers);\r\n        // listen on editor\r\n        this._toUnbind.add(this._editor.onDidDispose(function () { return _this.dispose(); }));\r\n        this._toUnbind.add(this._editor.onDidChangeCursorPosition(function () {\r\n            if (_this._ignoreSelectionChange) {\r\n                return;\r\n            }\r\n            if (_this.currentMarker && _this._editor.getPosition() && Range.containsPosition(_this.currentMarker, _this._editor.getPosition())) {\r\n                return;\r\n            }\r\n            _this._nextIdx = -1;\r\n        }));\r\n    }\r\n    Object.defineProperty(MarkerModel.prototype, \"onCurrentMarkerChanged\", {\r\n        get: function () {\r\n            return this._onCurrentMarkerChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkerModel.prototype, \"onMarkerSetChanged\", {\r\n        get: function () {\r\n            return this._onMarkerSetChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.setMarkers = function (markers) {\r\n        var oldMarker = this._nextIdx >= 0 ? this._markers[this._nextIdx] : undefined;\r\n        this._markers = markers || [];\r\n        this._markers.sort(MarkerNavigationAction.compareMarker);\r\n        if (!oldMarker) {\r\n            this._nextIdx = -1;\r\n        }\r\n        else {\r\n            this._nextIdx = Math.max(-1, binarySearch(this._markers, oldMarker, MarkerNavigationAction.compareMarker));\r\n        }\r\n        this._onMarkerSetChanged.fire(this);\r\n    };\r\n    MarkerModel.prototype.withoutWatchingEditorPosition = function (callback) {\r\n        this._ignoreSelectionChange = true;\r\n        try {\r\n            callback();\r\n        }\r\n        finally {\r\n            this._ignoreSelectionChange = false;\r\n        }\r\n    };\r\n    MarkerModel.prototype._initIdx = function (fwd) {\r\n        var found = false;\r\n        var position = this._editor.getPosition();\r\n        for (var i = 0; i < this._markers.length; i++) {\r\n            var range = Range.lift(this._markers[i]);\r\n            if (range.isEmpty() && this._editor.getModel()) {\r\n                var word = this._editor.getModel().getWordAtPosition(range.getStartPosition());\r\n                if (word) {\r\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\r\n                }\r\n            }\r\n            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\r\n                this._nextIdx = i;\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            // after the last change\r\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\r\n        }\r\n        if (this._nextIdx < 0) {\r\n            this._nextIdx = this._markers.length - 1;\r\n        }\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"currentMarker\", {\r\n        get: function () {\r\n            return this.canNavigate() ? this._markers[this._nextIdx] : undefined;\r\n        },\r\n        set: function (marker) {\r\n            var idx = this._nextIdx;\r\n            this._nextIdx = -1;\r\n            if (marker) {\r\n                this._nextIdx = this.indexOf(marker);\r\n            }\r\n            if (this._nextIdx !== idx) {\r\n                this._onCurrentMarkerChanged.fire(marker);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.move = function (fwd, inCircles) {\r\n        if (!this.canNavigate()) {\r\n            this._onCurrentMarkerChanged.fire(undefined);\r\n            return !inCircles;\r\n        }\r\n        var oldIdx = this._nextIdx;\r\n        var atEdge = false;\r\n        if (this._nextIdx === -1) {\r\n            this._initIdx(fwd);\r\n        }\r\n        else if (fwd) {\r\n            if (inCircles || this._nextIdx + 1 < this._markers.length) {\r\n                this._nextIdx = (this._nextIdx + 1) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        else if (!fwd) {\r\n            if (inCircles || this._nextIdx > 0) {\r\n                this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        if (oldIdx !== this._nextIdx) {\r\n            var marker = this._markers[this._nextIdx];\r\n            this._onCurrentMarkerChanged.fire(marker);\r\n        }\r\n        return atEdge;\r\n    };\r\n    MarkerModel.prototype.canNavigate = function () {\r\n        return this._markers.length > 0;\r\n    };\r\n    MarkerModel.prototype.findMarkerAtPosition = function (pos) {\r\n        return find(this._markers, function (marker) { return Range.containsPosition(marker, pos); });\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"total\", {\r\n        get: function () {\r\n            return this._markers.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.indexOf = function (marker) {\r\n        return 1 + this._markers.indexOf(marker);\r\n    };\r\n    MarkerModel.prototype.dispose = function () {\r\n        this._toUnbind.dispose();\r\n    };\r\n    return MarkerModel;\r\n}());\r\nvar MarkerController = /** @class */ (function () {\r\n    function MarkerController(editor, _markerService, _contextKeyService, _themeService, _editorService, _keybindingService, _openerService) {\r\n        this._markerService = _markerService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._themeService = _themeService;\r\n        this._editorService = _editorService;\r\n        this._keybindingService = _keybindingService;\r\n        this._openerService = _openerService;\r\n        this._model = null;\r\n        this._widget = null;\r\n        this._disposeOnClose = new DisposableStore();\r\n        this._editor = editor;\r\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\r\n    }\r\n    MarkerController.get = function (editor) {\r\n        return editor.getContribution(MarkerController.ID);\r\n    };\r\n    MarkerController.prototype.dispose = function () {\r\n        this._cleanUp();\r\n        this._disposeOnClose.dispose();\r\n    };\r\n    MarkerController.prototype._cleanUp = function () {\r\n        this._widgetVisible.reset();\r\n        this._disposeOnClose.clear();\r\n        this._widget = null;\r\n        this._model = null;\r\n    };\r\n    MarkerController.prototype.getOrCreateModel = function () {\r\n        var _this = this;\r\n        if (this._model) {\r\n            return this._model;\r\n        }\r\n        var markers = this._getMarkers();\r\n        this._model = new MarkerModel(this._editor, markers);\r\n        this._markerService.onMarkerChanged(this._onMarkerChanged, this, this._disposeOnClose);\r\n        var prevMarkerKeybinding = this._keybindingService.lookupKeybinding(PrevMarkerAction.ID);\r\n        var nextMarkerKeybinding = this._keybindingService.lookupKeybinding(NextMarkerAction.ID);\r\n        var actions = [\r\n            new Action(NextMarkerAction.ID, NextMarkerAction.LABEL + (nextMarkerKeybinding ? \" (\" + nextMarkerKeybinding.getLabel() + \")\" : ''), 'show-next-problem codicon-chevron-down', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(true, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); }),\r\n            new Action(PrevMarkerAction.ID, PrevMarkerAction.LABEL + (prevMarkerKeybinding ? \" (\" + prevMarkerKeybinding.getLabel() + \")\" : ''), 'show-previous-problem codicon-chevron-up', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(false, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); })\r\n        ];\r\n        this._widget = new MarkerNavigationWidget(this._editor, actions, this._themeService, this._openerService);\r\n        this._widgetVisible.set(true);\r\n        this._widget.onDidClose(function () { return _this.closeMarkersNavigation(); }, this, this._disposeOnClose);\r\n        this._disposeOnClose.add(this._model);\r\n        this._disposeOnClose.add(this._widget);\r\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\r\n            var action = actions_1[_i];\r\n            this._disposeOnClose.add(action);\r\n        }\r\n        this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function (related) {\r\n            _this._editorService.openCodeEditor({\r\n                resource: related.resource,\r\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\r\n            }, _this._editor).then(undefined, onUnexpectedError);\r\n            _this.closeMarkersNavigation(false);\r\n        }));\r\n        this._disposeOnClose.add(this._editor.onDidChangeModel(function () { return _this._cleanUp(); }));\r\n        this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function (marker) {\r\n            if (!marker || !_this._model) {\r\n                _this._cleanUp();\r\n            }\r\n            else {\r\n                _this._model.withoutWatchingEditorPosition(function () {\r\n                    if (!_this._widget || !_this._model) {\r\n                        return;\r\n                    }\r\n                    _this._widget.showAtMarker(marker, _this._model.indexOf(marker), _this._model.total);\r\n                });\r\n            }\r\n        }));\r\n        this._disposeOnClose.add(this._model.onMarkerSetChanged(function () {\r\n            if (!_this._widget || !_this._widget.position || !_this._model) {\r\n                return;\r\n            }\r\n            var marker = _this._model.findMarkerAtPosition(_this._widget.position);\r\n            if (marker) {\r\n                _this._widget.updateMarker(marker);\r\n            }\r\n            else {\r\n                _this._widget.showStale();\r\n            }\r\n        }));\r\n        return this._model;\r\n    };\r\n    MarkerController.prototype.closeMarkersNavigation = function (focusEditor) {\r\n        if (focusEditor === void 0) { focusEditor = true; }\r\n        this._cleanUp();\r\n        if (focusEditor) {\r\n            this._editor.focus();\r\n        }\r\n    };\r\n    MarkerController.prototype.show = function (marker) {\r\n        var model = this.getOrCreateModel();\r\n        model.currentMarker = marker;\r\n    };\r\n    MarkerController.prototype._onMarkerChanged = function (changedResources) {\r\n        var editorModel = this._editor.getModel();\r\n        if (!editorModel) {\r\n            return;\r\n        }\r\n        if (!this._model) {\r\n            return;\r\n        }\r\n        if (!changedResources.some(function (r) { return isEqual(editorModel.uri, r); })) {\r\n            return;\r\n        }\r\n        this._model.setMarkers(this._getMarkers());\r\n    };\r\n    MarkerController.prototype._getMarkers = function () {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return [];\r\n        }\r\n        return this._markerService.read({\r\n            resource: model.uri,\r\n            severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\r\n        });\r\n    };\r\n    MarkerController.ID = 'editor.contrib.markerController';\r\n    MarkerController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IThemeService),\r\n        __param(4, ICodeEditorService),\r\n        __param(5, IKeybindingService),\r\n        __param(6, IOpenerService)\r\n    ], MarkerController);\r\n    return MarkerController;\r\n}());\r\nexport { MarkerController };\r\nvar MarkerNavigationAction = /** @class */ (function (_super) {\r\n    __extends(MarkerNavigationAction, _super);\r\n    function MarkerNavigationAction(next, multiFile, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        _this._multiFile = multiFile;\r\n        return _this;\r\n    }\r\n    MarkerNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        var markerService = accessor.get(IMarkerService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var controller = MarkerController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var model = controller.getOrCreateModel();\r\n        var atEdge = model.move(this._isNext, !this._multiFile);\r\n        if (!atEdge || !this._multiFile) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // try with the next/prev file\r\n        var markers = markerService.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info }).sort(MarkerNavigationAction.compareMarker);\r\n        if (markers.length === 0) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var editorModel = editor.getModel();\r\n        if (!editorModel) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var oldMarker = model.currentMarker || { resource: editorModel.uri, severity: MarkerSeverity.Error, startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 };\r\n        var idx = binarySearch(markers, oldMarker, MarkerNavigationAction.compareMarker);\r\n        if (idx < 0) {\r\n            // find best match...\r\n            idx = ~idx;\r\n            idx %= markers.length;\r\n        }\r\n        else if (this._isNext) {\r\n            idx = (idx + 1) % markers.length;\r\n        }\r\n        else {\r\n            idx = (idx + markers.length - 1) % markers.length;\r\n        }\r\n        var newMarker = markers[idx];\r\n        if (isEqual(newMarker.resource, editorModel.uri)) {\r\n            // the next `resource` is this resource which\r\n            // means we cycle within this file\r\n            model.move(this._isNext, true);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // close the widget for this editor-instance, open the resource\r\n        // for the next marker and re-start marker navigation in there\r\n        controller.closeMarkersNavigation();\r\n        return editorService.openCodeEditor({\r\n            resource: newMarker.resource,\r\n            options: { pinned: false, revealIfOpened: true, revealInCenterIfOutsideViewport: true, selection: newMarker }\r\n        }, editor).then(function (editor) {\r\n            if (!editor) {\r\n                return undefined;\r\n            }\r\n            return editor.getAction(_this.id).run();\r\n        });\r\n    };\r\n    MarkerNavigationAction.compareMarker = function (a, b) {\r\n        var res = compare(a.resource.toString(), b.resource.toString());\r\n        if (res === 0) {\r\n            res = MarkerSeverity.compare(a.severity, b.severity);\r\n        }\r\n        if (res === 0) {\r\n            res = Range.compareRangesUsingStarts(a, b);\r\n        }\r\n        return res;\r\n    };\r\n    return MarkerNavigationAction;\r\n}(EditorAction));\r\nvar NextMarkerAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerAction, _super);\r\n    function NextMarkerAction() {\r\n        return _super.call(this, true, false, {\r\n            id: NextMarkerAction.ID,\r\n            label: NextMarkerAction.LABEL,\r\n            alias: 'Go to Next Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.focus, primary: 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    NextMarkerAction.ID = 'editor.action.marker.next';\r\n    NextMarkerAction.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\");\r\n    return NextMarkerAction;\r\n}(MarkerNavigationAction));\r\nexport { NextMarkerAction };\r\nvar PrevMarkerAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerAction, _super);\r\n    function PrevMarkerAction() {\r\n        return _super.call(this, false, false, {\r\n            id: PrevMarkerAction.ID,\r\n            label: PrevMarkerAction.LABEL,\r\n            alias: 'Go to Previous Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.focus, primary: 1024 /* Shift */ | 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    PrevMarkerAction.ID = 'editor.action.marker.prev';\r\n    PrevMarkerAction.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\");\r\n    return PrevMarkerAction;\r\n}(MarkerNavigationAction));\r\nvar NextMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerInFilesAction, _super);\r\n    function NextMarkerInFilesAction() {\r\n        return _super.call(this, true, true, {\r\n            id: 'editor.action.marker.nextInFiles',\r\n            label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Next Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nvar PrevMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerInFilesAction, _super);\r\n    function PrevMarkerInFilesAction() {\r\n        return _super.call(this, false, true, {\r\n            id: 'editor.action.marker.prevInFiles',\r\n            label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nregisterEditorContribution(MarkerController.ID, MarkerController);\r\nregisterEditorAction(NextMarkerAction);\r\nregisterEditorAction(PrevMarkerAction);\r\nregisterEditorAction(NextMarkerInFilesAction);\r\nregisterEditorAction(PrevMarkerInFilesAction);\r\nvar CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\r\nvar MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\r\nregisterEditorCommand(new MarkerCommand({\r\n    id: 'closeMarkersNavigation',\r\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\r\n    handler: function (x) { return x.closeMarkersNavigation(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 50,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.nextInFiles',\r\n        title: nls.localize({ key: 'miGotoNextProblem', comment: ['&& denotes a mnemonic'] }, \"Next &&Problem\")\r\n    },\r\n    order: 1\r\n});\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.prevInFiles',\r\n        title: nls.localize({ key: 'miGotoPreviousProblem', comment: ['&& denotes a mnemonic'] }, \"Previous &&Problem\")\r\n    },\r\n    order: 2\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nvar ColorPickerModel = /** @class */ (function () {\r\n    function ColorPickerModel(color, availableColorPresentations, presentationIndex) {\r\n        this.presentationIndex = presentationIndex;\r\n        this._onColorFlushed = new Emitter();\r\n        this.onColorFlushed = this._onColorFlushed.event;\r\n        this._onDidChangeColor = new Emitter();\r\n        this.onDidChangeColor = this._onDidChangeColor.event;\r\n        this._onDidChangePresentation = new Emitter();\r\n        this.onDidChangePresentation = this._onDidChangePresentation.event;\r\n        this.originalColor = color;\r\n        this._color = color;\r\n        this._colorPresentations = availableColorPresentations;\r\n    }\r\n    Object.defineProperty(ColorPickerModel.prototype, \"color\", {\r\n        get: function () {\r\n            return this._color;\r\n        },\r\n        set: function (color) {\r\n            if (this._color.equals(color)) {\r\n                return;\r\n            }\r\n            this._color = color;\r\n            this._onDidChangeColor.fire(color);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorPickerModel.prototype, \"presentation\", {\r\n        get: function () { return this.colorPresentations[this.presentationIndex]; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorPickerModel.prototype, \"colorPresentations\", {\r\n        get: function () {\r\n            return this._colorPresentations;\r\n        },\r\n        set: function (colorPresentations) {\r\n            this._colorPresentations = colorPresentations;\r\n            if (this.presentationIndex > colorPresentations.length - 1) {\r\n                this.presentationIndex = 0;\r\n            }\r\n            this._onDidChangePresentation.fire(this.presentation);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColorPickerModel.prototype.selectNextColorPresentation = function () {\r\n        this.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;\r\n        this.flushColor();\r\n        this._onDidChangePresentation.fire(this.presentation);\r\n    };\r\n    ColorPickerModel.prototype.guessColorPresentation = function (color, originalText) {\r\n        for (var i = 0; i < this.colorPresentations.length; i++) {\r\n            if (originalText === this.colorPresentations[i].label) {\r\n                this.presentationIndex = i;\r\n                this._onDidChangePresentation.fire(this.presentation);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    ColorPickerModel.prototype.flushColor = function () {\r\n        this._onColorFlushed.fire(this._color);\r\n    };\r\n    return ColorPickerModel;\r\n}());\r\nexport { ColorPickerModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './colorPicker.css';\r\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar $ = dom.$;\r\nvar ColorPickerHeader = /** @class */ (function (_super) {\r\n    __extends(ColorPickerHeader, _super);\r\n    function ColorPickerHeader(container, model, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.domNode = $('.colorpicker-header');\r\n        dom.append(container, _this.domNode);\r\n        _this.pickedColorNode = dom.append(_this.domNode, $('.picked-color'));\r\n        var colorBox = dom.append(_this.domNode, $('.original-color'));\r\n        colorBox.style.backgroundColor = Color.Format.CSS.format(_this.model.originalColor) || '';\r\n        _this.backgroundColor = themeService.getTheme().getColor(editorHoverBackground) || Color.white;\r\n        _this._register(registerThemingParticipant(function (theme, collector) {\r\n            _this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this.pickedColorNode, dom.EventType.CLICK, function () { return _this.model.selectNextColorPresentation(); }));\r\n        _this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, function () {\r\n            _this.model.color = _this.model.originalColor;\r\n            _this.model.flushColor();\r\n        }));\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this._register(model.onDidChangePresentation(_this.onDidChangePresentation, _this));\r\n        _this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\r\n        dom.toggleClass(_this.pickedColorNode, 'light', model.color.rgba.a < 0.5 ? _this.backgroundColor.isLighter() : model.color.isLighter());\r\n        return _this;\r\n    }\r\n    ColorPickerHeader.prototype.onDidChangeColor = function (color) {\r\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\r\n        dom.toggleClass(this.pickedColorNode, 'light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\r\n        this.onDidChangePresentation();\r\n    };\r\n    ColorPickerHeader.prototype.onDidChangePresentation = function () {\r\n        this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\r\n    };\r\n    return ColorPickerHeader;\r\n}(Disposable));\r\nexport { ColorPickerHeader };\r\nvar ColorPickerBody = /** @class */ (function (_super) {\r\n    __extends(ColorPickerBody, _super);\r\n    function ColorPickerBody(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this.domNode = $('.colorpicker-body');\r\n        dom.append(container, _this.domNode);\r\n        _this.saturationBox = new SaturationBox(_this.domNode, _this.model, _this.pixelRatio);\r\n        _this._register(_this.saturationBox);\r\n        _this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange, _this));\r\n        _this._register(_this.saturationBox.onColorFlushed(_this.flushColor, _this));\r\n        _this.opacityStrip = new OpacityStrip(_this.domNode, _this.model);\r\n        _this._register(_this.opacityStrip);\r\n        _this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange, _this));\r\n        _this._register(_this.opacityStrip.onColorFlushed(_this.flushColor, _this));\r\n        _this.hueStrip = new HueStrip(_this.domNode, _this.model);\r\n        _this._register(_this.hueStrip);\r\n        _this._register(_this.hueStrip.onDidChange(_this.onDidHueChange, _this));\r\n        _this._register(_this.hueStrip.onColorFlushed(_this.flushColor, _this));\r\n        return _this;\r\n    }\r\n    ColorPickerBody.prototype.flushColor = function () {\r\n        this.model.flushColor();\r\n    };\r\n    ColorPickerBody.prototype.onDidSaturationValueChange = function (_a) {\r\n        var s = _a.s, v = _a.v;\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.onDidOpacityChange = function (a) {\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\r\n    };\r\n    ColorPickerBody.prototype.onDidHueChange = function (value) {\r\n        var hsva = this.model.color.hsva;\r\n        var h = (1 - value) * 360;\r\n        this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.layout = function () {\r\n        this.saturationBox.layout();\r\n        this.opacityStrip.layout();\r\n        this.hueStrip.layout();\r\n    };\r\n    return ColorPickerBody;\r\n}(Disposable));\r\nexport { ColorPickerBody };\r\nvar SaturationBox = /** @class */ (function (_super) {\r\n    __extends(SaturationBox, _super);\r\n    function SaturationBox(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = $('.saturation-wrap');\r\n        dom.append(container, _this.domNode);\r\n        // Create canvas, draw selected color\r\n        _this.canvas = document.createElement('canvas');\r\n        _this.canvas.className = 'saturation-box';\r\n        dom.append(_this.domNode, _this.canvas);\r\n        // Add selection circle\r\n        _this.selection = $('.saturation-selection');\r\n        dom.append(_this.domNode, _this.selection);\r\n        _this.layout();\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this._register(_this.model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.monitor = null;\r\n        return _this;\r\n    }\r\n    SaturationBox.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        this.monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        if (e.target !== this.selection) {\r\n            this.onDidChangePosition(e.offsetX, e.offsetY);\r\n        }\r\n        this.monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) { return _this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            if (_this.monitor) {\r\n                _this.monitor.stopMonitoring(true);\r\n                _this.monitor = null;\r\n            }\r\n        }, true);\r\n    };\r\n    SaturationBox.prototype.onDidChangePosition = function (left, top) {\r\n        var s = Math.max(0, Math.min(1, left / this.width));\r\n        var v = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.paintSelection(s, v);\r\n        this._onDidChange.fire({ s: s, v: v });\r\n    };\r\n    SaturationBox.prototype.layout = function () {\r\n        this.width = this.domNode.offsetWidth;\r\n        this.height = this.domNode.offsetHeight;\r\n        this.canvas.width = this.width * this.pixelRatio;\r\n        this.canvas.height = this.height * this.pixelRatio;\r\n        this.paint();\r\n        var hsva = this.model.color.hsva;\r\n        this.paintSelection(hsva.s, hsva.v);\r\n    };\r\n    SaturationBox.prototype.paint = function () {\r\n        var hsva = this.model.color.hsva;\r\n        var saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\r\n        var ctx = this.canvas.getContext('2d');\r\n        var whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\r\n        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\r\n        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\r\n        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n        var blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\r\n        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\r\n        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\r\n        ctx.rect(0, 0, this.canvas.width, this.canvas.height);\r\n        ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\r\n        ctx.fill();\r\n        ctx.fillStyle = whiteGradient;\r\n        ctx.fill();\r\n        ctx.fillStyle = blackGradient;\r\n        ctx.fill();\r\n    };\r\n    SaturationBox.prototype.paintSelection = function (s, v) {\r\n        this.selection.style.left = s * this.width + \"px\";\r\n        this.selection.style.top = this.height - v * this.height + \"px\";\r\n    };\r\n    SaturationBox.prototype.onDidChangeColor = function () {\r\n        if (this.monitor && this.monitor.isMonitoring()) {\r\n            return;\r\n        }\r\n        this.paint();\r\n    };\r\n    return SaturationBox;\r\n}(Disposable));\r\nvar Strip = /** @class */ (function (_super) {\r\n    __extends(Strip, _super);\r\n    function Strip(container, model) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = dom.append(container, $('.strip'));\r\n        _this.overlay = dom.append(_this.domNode, $('.overlay'));\r\n        _this.slider = dom.append(_this.domNode, $('.slider'));\r\n        _this.slider.style.top = \"0px\";\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this.layout();\r\n        return _this;\r\n    }\r\n    Strip.prototype.layout = function () {\r\n        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\r\n        var value = this.getValue(this.model.color);\r\n        this.updateSliderPosition(value);\r\n    };\r\n    Strip.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        var monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        dom.addClass(this.domNode, 'grabbing');\r\n        if (e.target !== this.slider) {\r\n            this.onDidChangeTop(e.offsetY);\r\n        }\r\n        monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) { return _this.onDidChangeTop(event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            monitor.stopMonitoring(true);\r\n            dom.removeClass(_this.domNode, 'grabbing');\r\n        }, true);\r\n    };\r\n    Strip.prototype.onDidChangeTop = function (top) {\r\n        var value = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.updateSliderPosition(value);\r\n        this._onDidChange.fire(value);\r\n    };\r\n    Strip.prototype.updateSliderPosition = function (value) {\r\n        this.slider.style.top = (1 - value) * this.height + \"px\";\r\n    };\r\n    return Strip;\r\n}(Disposable));\r\nvar OpacityStrip = /** @class */ (function (_super) {\r\n    __extends(OpacityStrip, _super);\r\n    function OpacityStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'opacity-strip');\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.onDidChangeColor(_this.model.color);\r\n        return _this;\r\n    }\r\n    OpacityStrip.prototype.onDidChangeColor = function (color) {\r\n        var _a = color.rgba, r = _a.r, g = _a.g, b = _a.b;\r\n        var opaque = new Color(new RGBA(r, g, b, 1));\r\n        var transparent = new Color(new RGBA(r, g, b, 0));\r\n        this.overlay.style.background = \"linear-gradient(to bottom, \" + opaque + \" 0%, \" + transparent + \" 100%)\";\r\n    };\r\n    OpacityStrip.prototype.getValue = function (color) {\r\n        return color.hsva.a;\r\n    };\r\n    return OpacityStrip;\r\n}(Strip));\r\nvar HueStrip = /** @class */ (function (_super) {\r\n    __extends(HueStrip, _super);\r\n    function HueStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'hue-strip');\r\n        return _this;\r\n    }\r\n    HueStrip.prototype.getValue = function (color) {\r\n        return 1 - (color.hsva.h / 360);\r\n    };\r\n    return HueStrip;\r\n}(Strip));\r\nvar ColorPickerWidget = /** @class */ (function (_super) {\r\n    __extends(ColorPickerWidget, _super);\r\n    function ColorPickerWidget(container, model, pixelRatio, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._register(onDidChangeZoomLevel(function () { return _this.layout(); }));\r\n        var element = $('.colorpicker-widget');\r\n        container.appendChild(element);\r\n        var header = new ColorPickerHeader(element, _this.model, themeService);\r\n        _this.body = new ColorPickerBody(element, _this.model, _this.pixelRatio);\r\n        _this._register(header);\r\n        _this._register(_this.body);\r\n        return _this;\r\n    }\r\n    ColorPickerWidget.prototype.layout = function () {\r\n        this.body.layout();\r\n    };\r\n    return ColorPickerWidget;\r\n}(Widget));\r\nexport { ColorPickerWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\r\nimport { HoverProviderRegistry } from '../../common/modes.js';\r\nexport function getHover(model, position, token) {\r\n    var supports = HoverProviderRegistry.ordered(model);\r\n    var promises = supports.map(function (support) {\r\n        return Promise.resolve(support.provideHover(model, position, token)).then(function (hover) {\r\n            return hover && isValid(hover) ? hover : undefined;\r\n        }, function (err) {\r\n            onUnexpectedExternalError(err);\r\n            return undefined;\r\n        });\r\n    });\r\n    return Promise.all(promises).then(coalesce);\r\n}\r\nregisterModelAndPositionCommand('_executeHoverProvider', function (model, position) { return getHover(model, position, CancellationToken.None); });\r\nfunction isValid(result) {\r\n    var hasRange = (typeof result.range !== 'undefined');\r\n    var hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\r\n    return hasRange && hasHtmlContent;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { RunOnceScheduler, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar HoverOperation = /** @class */ (function () {\r\n    function HoverOperation(computer, success, error, progress, hoverTime) {\r\n        var _this = this;\r\n        this._computer = computer;\r\n        this._state = 0 /* IDLE */;\r\n        this._hoverTime = hoverTime;\r\n        this._firstWaitScheduler = new RunOnceScheduler(function () { return _this._triggerAsyncComputation(); }, 0);\r\n        this._secondWaitScheduler = new RunOnceScheduler(function () { return _this._triggerSyncComputation(); }, 0);\r\n        this._loadingMessageScheduler = new RunOnceScheduler(function () { return _this._showLoadingMessage(); }, 0);\r\n        this._asyncComputationPromise = null;\r\n        this._asyncComputationPromiseDone = false;\r\n        this._completeCallback = success;\r\n        this._errorCallback = error;\r\n        this._progressCallback = progress;\r\n    }\r\n    HoverOperation.prototype.setHoverTime = function (hoverTime) {\r\n        this._hoverTime = hoverTime;\r\n    };\r\n    HoverOperation.prototype._firstWaitTime = function () {\r\n        return this._hoverTime / 2;\r\n    };\r\n    HoverOperation.prototype._secondWaitTime = function () {\r\n        return this._hoverTime / 2;\r\n    };\r\n    HoverOperation.prototype._loadingMessageTime = function () {\r\n        return 3 * this._hoverTime;\r\n    };\r\n    HoverOperation.prototype._triggerAsyncComputation = function () {\r\n        var _this = this;\r\n        this._state = 2 /* SECOND_WAIT */;\r\n        this._secondWaitScheduler.schedule(this._secondWaitTime());\r\n        if (this._computer.computeAsync) {\r\n            this._asyncComputationPromiseDone = false;\r\n            this._asyncComputationPromise = createCancelablePromise(function (token) { return _this._computer.computeAsync(token); });\r\n            this._asyncComputationPromise.then(function (asyncResult) {\r\n                _this._asyncComputationPromiseDone = true;\r\n                _this._withAsyncResult(asyncResult);\r\n            }, function (e) { return _this._onError(e); });\r\n        }\r\n        else {\r\n            this._asyncComputationPromiseDone = true;\r\n        }\r\n    };\r\n    HoverOperation.prototype._triggerSyncComputation = function () {\r\n        if (this._computer.computeSync) {\r\n            this._computer.onResult(this._computer.computeSync(), true);\r\n        }\r\n        if (this._asyncComputationPromiseDone) {\r\n            this._state = 0 /* IDLE */;\r\n            this._onComplete(this._computer.getResult());\r\n        }\r\n        else {\r\n            this._state = 3 /* WAITING_FOR_ASYNC_COMPUTATION */;\r\n            this._onProgress(this._computer.getResult());\r\n        }\r\n    };\r\n    HoverOperation.prototype._showLoadingMessage = function () {\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            this._onProgress(this._computer.getResultWithLoadingMessage());\r\n        }\r\n    };\r\n    HoverOperation.prototype._withAsyncResult = function (asyncResult) {\r\n        if (asyncResult) {\r\n            this._computer.onResult(asyncResult, false);\r\n        }\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            this._state = 0 /* IDLE */;\r\n            this._onComplete(this._computer.getResult());\r\n        }\r\n    };\r\n    HoverOperation.prototype._onComplete = function (value) {\r\n        if (this._completeCallback) {\r\n            this._completeCallback(value);\r\n        }\r\n    };\r\n    HoverOperation.prototype._onError = function (error) {\r\n        if (this._errorCallback) {\r\n            this._errorCallback(error);\r\n        }\r\n        else {\r\n            onUnexpectedError(error);\r\n        }\r\n    };\r\n    HoverOperation.prototype._onProgress = function (value) {\r\n        if (this._progressCallback) {\r\n            this._progressCallback(value);\r\n        }\r\n    };\r\n    HoverOperation.prototype.start = function (mode) {\r\n        if (mode === 0 /* Delayed */) {\r\n            if (this._state === 0 /* IDLE */) {\r\n                this._state = 1 /* FIRST_WAIT */;\r\n                this._firstWaitScheduler.schedule(this._firstWaitTime());\r\n                this._loadingMessageScheduler.schedule(this._loadingMessageTime());\r\n            }\r\n        }\r\n        else {\r\n            switch (this._state) {\r\n                case 0 /* IDLE */:\r\n                    this._triggerAsyncComputation();\r\n                    this._secondWaitScheduler.cancel();\r\n                    this._triggerSyncComputation();\r\n                    break;\r\n                case 2 /* SECOND_WAIT */:\r\n                    this._secondWaitScheduler.cancel();\r\n                    this._triggerSyncComputation();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    HoverOperation.prototype.cancel = function () {\r\n        this._loadingMessageScheduler.cancel();\r\n        if (this._state === 1 /* FIRST_WAIT */) {\r\n            this._firstWaitScheduler.cancel();\r\n        }\r\n        if (this._state === 2 /* SECOND_WAIT */) {\r\n            this._secondWaitScheduler.cancel();\r\n            if (this._asyncComputationPromise) {\r\n                this._asyncComputationPromise.cancel();\r\n                this._asyncComputationPromise = null;\r\n            }\r\n        }\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            if (this._asyncComputationPromise) {\r\n                this._asyncComputationPromise.cancel();\r\n                this._asyncComputationPromise = null;\r\n            }\r\n        }\r\n        this._state = 0 /* IDLE */;\r\n    };\r\n    return HoverOperation;\r\n}());\r\nexport { HoverOperation };\r\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n// BEGIN MONACOCHANGE\nvar __marked_exports;\n// END MONACOCHANGE\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (cap = this.rules.nptable.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (cap = this.rules.table.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      var lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n      var checked = this.token.checked;\n      var task = this.token.task;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n      return this.renderer.listitem(body, task, checked);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var level = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\n// BEGIN MONACOCHANGE\n// if (typeof module !== 'undefined' && typeof exports === 'object') {\n//   module.exports = marked;\n// } else if (typeof define === 'function' && define.amd) {\n//   define(function() { return marked; });\n// } else {\n//   root.marked = marked;\n// }\n// })(this || (typeof window !== 'undefined' ? window : global));\n__marked_exports = marked;\n}).call(this);\n\n// ESM-comment-begin\n// define(function() { return __marked_exports; });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport var marked = __marked_exports;\nexport var Parser = __marked_exports.Parser;\nexport var parser = __marked_exports.parser;\nexport var Renderer = __marked_exports.Renderer;\nexport var TextRenderer = __marked_exports.TextRenderer;\nexport var Lexer = __marked_exports.Lexer;\nexport var lexer = __marked_exports.lexer;\nexport var InlineLexer = __marked_exports.InlineLexer;\nexport var inlineLexer = __marked_exports.inlineLexer;\nexport var parse = __marked_exports.parse;\n// ESM-uncomment-end\n// END MONACOCHANGE\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { toggleClass } from '../../../base/browser/dom.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nvar ContentHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ContentHoverWidget, _super);\r\n    function ContentHoverWidget(id, editor) {\r\n        var _this = _super.call(this) || this;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this._id = id;\r\n        _this._editor = editor;\r\n        _this._isVisible = false;\r\n        _this._stoleFocus = false;\r\n        _this._containerDomNode = document.createElement('div');\r\n        _this._containerDomNode.className = 'monaco-editor-hover hidden';\r\n        _this._containerDomNode.tabIndex = 0;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'monaco-editor-hover-content';\r\n        _this.scrollbar = new DomScrollableElement(_this._domNode, {});\r\n        _this._register(_this.scrollbar);\r\n        _this._containerDomNode.appendChild(_this.scrollbar.getDomNode());\r\n        _this.onkeydown(_this._containerDomNode, function (e) {\r\n            if (e.equals(9 /* Escape */)) {\r\n                _this.hide();\r\n            }\r\n        });\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(34 /* fontInfo */)) {\r\n                _this.updateFont();\r\n            }\r\n        }));\r\n        _this._editor.onDidLayoutChange(function (e) { return _this.layout(); });\r\n        _this.layout();\r\n        _this._editor.addContentWidget(_this);\r\n        _this._showAtPosition = null;\r\n        _this._showAtRange = null;\r\n        _this._stoleFocus = false;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ContentHoverWidget.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._isVisible;\r\n        },\r\n        set: function (value) {\r\n            this._isVisible = value;\r\n            toggleClass(this._containerDomNode, 'hidden', !this._isVisible);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContentHoverWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    ContentHoverWidget.prototype.getDomNode = function () {\r\n        return this._containerDomNode;\r\n    };\r\n    ContentHoverWidget.prototype.showAt = function (position, range, focus) {\r\n        // Position has changed\r\n        this._showAtPosition = position;\r\n        this._showAtRange = range;\r\n        this.isVisible = true;\r\n        this._editor.layoutContentWidget(this);\r\n        // Simply force a synchronous render on the editor\r\n        // such that the widget does not really render with left = '0px'\r\n        this._editor.render();\r\n        this._stoleFocus = focus;\r\n        if (focus) {\r\n            this._containerDomNode.focus();\r\n        }\r\n    };\r\n    ContentHoverWidget.prototype.hide = function () {\r\n        if (!this.isVisible) {\r\n            return;\r\n        }\r\n        this.isVisible = false;\r\n        this._editor.layoutContentWidget(this);\r\n        if (this._stoleFocus) {\r\n            this._editor.focus();\r\n        }\r\n    };\r\n    ContentHoverWidget.prototype.getPosition = function () {\r\n        if (this.isVisible) {\r\n            return {\r\n                position: this._showAtPosition,\r\n                range: this._showAtRange,\r\n                preference: [\r\n                    1 /* ABOVE */,\r\n                    2 /* BELOW */\r\n                ]\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ContentHoverWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ContentHoverWidget.prototype.updateFont = function () {\r\n        var _this = this;\r\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\r\n        codeClasses.forEach(function (node) { return _this._editor.applyFontInfo(node); });\r\n    };\r\n    ContentHoverWidget.prototype.updateContents = function (node) {\r\n        this._domNode.textContent = '';\r\n        this._domNode.appendChild(node);\r\n        this.updateFont();\r\n        this._editor.layoutContentWidget(this);\r\n        this.onContentsChange();\r\n    };\r\n    ContentHoverWidget.prototype.onContentsChange = function () {\r\n        this.scrollbar.scanDomNode();\r\n    };\r\n    ContentHoverWidget.prototype.layout = function () {\r\n        var height = Math.max(this._editor.getLayoutInfo().height / 4, 250);\r\n        var _a = this._editor.getOption(34 /* fontInfo */), fontSize = _a.fontSize, lineHeight = _a.lineHeight;\r\n        this._domNode.style.fontSize = fontSize + \"px\";\r\n        this._domNode.style.lineHeight = lineHeight + \"px\";\r\n        this._domNode.style.maxHeight = height + \"px\";\r\n        this._domNode.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + \"px\";\r\n    };\r\n    return ContentHoverWidget;\r\n}(Widget));\r\nexport { ContentHoverWidget };\r\nvar GlyphHoverWidget = /** @class */ (function (_super) {\r\n    __extends(GlyphHoverWidget, _super);\r\n    function GlyphHoverWidget(id, editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._id = id;\r\n        _this._editor = editor;\r\n        _this._isVisible = false;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'monaco-editor-hover hidden';\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._showAtLineNumber = -1;\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(34 /* fontInfo */)) {\r\n                _this.updateFont();\r\n            }\r\n        }));\r\n        _this._editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(GlyphHoverWidget.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._isVisible;\r\n        },\r\n        set: function (value) {\r\n            this._isVisible = value;\r\n            toggleClass(this._domNode, 'hidden', !this._isVisible);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GlyphHoverWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    GlyphHoverWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    GlyphHoverWidget.prototype.showAt = function (lineNumber) {\r\n        this._showAtLineNumber = lineNumber;\r\n        if (!this.isVisible) {\r\n            this.isVisible = true;\r\n        }\r\n        var editorLayout = this._editor.getLayoutInfo();\r\n        var topForLineNumber = this._editor.getTopForLineNumber(this._showAtLineNumber);\r\n        var editorScrollTop = this._editor.getScrollTop();\r\n        var lineHeight = this._editor.getOption(49 /* lineHeight */);\r\n        var nodeHeight = this._domNode.clientHeight;\r\n        var top = topForLineNumber - editorScrollTop - ((nodeHeight - lineHeight) / 2);\r\n        this._domNode.style.left = editorLayout.glyphMarginLeft + editorLayout.glyphMarginWidth + \"px\";\r\n        this._domNode.style.top = Math.max(Math.round(top), 0) + \"px\";\r\n    };\r\n    GlyphHoverWidget.prototype.hide = function () {\r\n        if (!this.isVisible) {\r\n            return;\r\n        }\r\n        this.isVisible = false;\r\n    };\r\n    GlyphHoverWidget.prototype.getPosition = function () {\r\n        return null;\r\n    };\r\n    GlyphHoverWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    GlyphHoverWidget.prototype.updateFont = function () {\r\n        var _this = this;\r\n        var codeTags = Array.prototype.slice.call(this._domNode.getElementsByTagName('code'));\r\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\r\n        __spreadArrays(codeTags, codeClasses).forEach(function (node) { return _this._editor.applyFontInfo(node); });\r\n    };\r\n    GlyphHoverWidget.prototype.updateContents = function (node) {\r\n        this._domNode.textContent = '';\r\n        this._domNode.appendChild(node);\r\n        this.updateFont();\r\n    };\r\n    return GlyphHoverWidget;\r\n}(Widget));\r\nexport { GlyphHoverWidget };\r\n","/*\nThe MIT License (MIT)\n\nCopyright © 2015 Nicolas Bevacqua\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nlet __insane_func;\n\n(function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \"function\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\"Cannot find module '\" + i + \"'\"); throw a.code = \"MODULE_NOT_FOUND\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({\n\t1: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar toMap = require('./toMap');\n\t\tvar uris = ['background', 'base', 'cite', 'href', 'longdesc', 'src', 'usemap'];\n\n\t\tmodule.exports = {\n\t\t\turis: toMap(uris) // attributes that have an href and hence need to be sanitized\n\t\t};\n\n\t}, { \"./toMap\": 10 }], 2: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar defaults = {\n\t\t\tallowedAttributes: {\n\t\t\t\t'*': ['title', 'accesskey'],\n\t\t\t\ta: ['href', 'name', 'target', 'aria-label'],\n\t\t\t\tiframe: ['allowfullscreen', 'frameborder', 'src'],\n\t\t\t\timg: ['src', 'alt', 'title', 'aria-label']\n\t\t\t},\n\t\t\tallowedClasses: {},\n\t\t\tallowedSchemes: ['http', 'https', 'mailto'],\n\t\t\tallowedTags: [\n\t\t\t\t'a', 'abbr', 'article', 'b', 'blockquote', 'br', 'caption', 'code', 'del', 'details', 'div', 'em',\n\t\t\t\t'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'ins', 'kbd', 'li', 'main', 'mark',\n\t\t\t\t'ol', 'p', 'pre', 'section', 'span', 'strike', 'strong', 'sub', 'summary', 'sup', 'table',\n\t\t\t\t'tbody', 'td', 'th', 'thead', 'tr', 'u', 'ul'\n\t\t\t],\n\t\t\tfilter: null\n\t\t};\n\n\t\tmodule.exports = defaults;\n\n\t}, {}], 3: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar toMap = require('./toMap');\n\t\tvar voids = ['area', 'br', 'col', 'hr', 'img', 'wbr', 'input', 'base', 'basefont', 'link', 'meta'];\n\n\t\tmodule.exports = {\n\t\t\tvoids: toMap(voids)\n\t\t};\n\n\t}, { \"./toMap\": 10 }], 4: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar assign = require('assignment');\n\t\tvar parser = require('./parser');\n\t\tvar sanitizer = require('./sanitizer');\n\t\tvar defaults = require('./defaults');\n\n\t\tfunction insane(html, options, strict) {\n\t\t\tvar buffer = [];\n\t\t\tvar configuration = strict === true ? options : assign({}, defaults, options);\n\t\t\tvar handler = sanitizer(buffer, configuration);\n\n\t\t\tparser(html, handler);\n\n\t\t\treturn buffer.join('');\n\t\t}\n\n\t\tinsane.defaults = defaults;\n\t\tmodule.exports = insane;\n\t\t__insane_func = insane;\n\n\t}, { \"./defaults\": 2, \"./parser\": 7, \"./sanitizer\": 8, \"assignment\": 6, \"he\": 9 }], 5: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tmodule.exports = function lowercase(string) {\n\t\t\treturn typeof string === 'string' ? string.toLowerCase() : string;\n\t\t};\n\n\t}, {}], 6: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tfunction assignment(result) {\n\t\t\tvar stack = Array.prototype.slice.call(arguments, 1);\n\t\t\tvar item;\n\t\t\tvar key;\n\t\t\twhile (stack.length) {\n\t\t\t\titem = stack.shift();\n\t\t\t\tfor (key in item) {\n\t\t\t\t\tif (item.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (Object.prototype.toString.call(result[key]) === '[object Object]') {\n\t\t\t\t\t\t\tresult[key] = assignment(result[key], item[key]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult[key] = item[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tmodule.exports = assignment;\n\n\t}, {}], 7: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar lowercase = require('./lowercase');\n\t\tvar attributes = require('./attributes');\n\t\tvar elements = require('./elements');\n\t\tvar rstart = /^<\\s*([\\w:-]+)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*>/;\n\t\tvar rend = /^<\\s*\\/\\s*([\\w:-]+)[^>]*>/;\n\t\tvar rattrs = /([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g;\n\t\tvar rtag = /^</;\n\t\tvar rtagend = /^<\\s*\\//;\n\n\t\tfunction createStack() {\n\t\t\tvar stack = [];\n\t\t\tstack.lastItem = function lastItem() {\n\t\t\t\treturn stack[stack.length - 1];\n\t\t\t};\n\t\t\treturn stack;\n\t\t}\n\n\t\tfunction parser(html, handler) {\n\t\t\tvar stack = createStack();\n\t\t\tvar last = html;\n\t\t\tvar chars;\n\n\t\t\twhile (html) {\n\t\t\t\tparsePart();\n\t\t\t}\n\t\t\tparseEndTag(); // clean up any remaining tags\n\n\t\t\tfunction parsePart() {\n\t\t\t\tchars = true;\n\t\t\t\tparseTag();\n\n\t\t\t\tvar same = html === last;\n\t\t\t\tlast = html;\n\n\t\t\t\tif (same) { // discard, because it's invalid\n\t\t\t\t\thtml = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseTag() {\n\t\t\t\tif (html.substr(0, 4) === '<!--') { // comments\n\t\t\t\t\tparseComment();\n\t\t\t\t} else if (rtagend.test(html)) {\n\t\t\t\t\tparseEdge(rend, parseEndTag);\n\t\t\t\t} else if (rtag.test(html)) {\n\t\t\t\t\tparseEdge(rstart, parseStartTag);\n\t\t\t\t}\n\t\t\t\tparseTagDecode();\n\t\t\t}\n\n\t\t\tfunction parseEdge(regex, parser) {\n\t\t\t\tvar match = html.match(regex);\n\t\t\t\tif (match) {\n\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\tmatch[0].replace(regex, parser);\n\t\t\t\t\tchars = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseComment() {\n\t\t\t\tvar index = html.indexOf('-->');\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tif (handler.comment) {\n\t\t\t\t\t\thandler.comment(html.substring(4, index));\n\t\t\t\t\t}\n\t\t\t\t\thtml = html.substring(index + 3);\n\t\t\t\t\tchars = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseTagDecode() {\n\t\t\t\tif (!chars) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar text;\n\t\t\t\tvar index = html.indexOf('<');\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\ttext = html.substring(0, index);\n\t\t\t\t\thtml = html.substring(index);\n\t\t\t\t} else {\n\t\t\t\t\ttext = html;\n\t\t\t\t\thtml = '';\n\t\t\t\t}\n\t\t\t\tif (handler.chars) {\n\t\t\t\t\thandler.chars(text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseStartTag(tag, tagName, rest, unary) {\n\t\t\t\tvar attrs = {};\n\t\t\t\tvar low = lowercase(tagName);\n\t\t\t\tvar u = elements.voids[low] || !!unary;\n\n\t\t\t\trest.replace(rattrs, attrReplacer);\n\n\t\t\t\tif (!u) {\n\t\t\t\t\tstack.push(low);\n\t\t\t\t}\n\t\t\t\tif (handler.start) {\n\t\t\t\t\thandler.start(low, attrs, u);\n\t\t\t\t}\n\n\t\t\t\tfunction attrReplacer(match, name, doubleQuotedValue, singleQuotedValue, unquotedValue) {\n\t\t\t\t\tif (doubleQuotedValue === void 0 && singleQuotedValue === void 0 && unquotedValue === void 0) {\n\t\t\t\t\t\tattrs[name] = void 0; // attribute is like <button disabled></button>\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattrs[name] = he.decode(doubleQuotedValue || singleQuotedValue || unquotedValue || '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseEndTag(tag, tagName) {\n\t\t\t\tvar i;\n\t\t\t\tvar pos = 0;\n\t\t\t\tvar low = lowercase(tagName);\n\t\t\t\tif (low) {\n\t\t\t\t\tfor (pos = stack.length - 1; pos >= 0; pos--) {\n\t\t\t\t\t\tif (stack[pos] === low) {\n\t\t\t\t\t\t\tbreak; // find the closest opened tag of the same type\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pos >= 0) {\n\t\t\t\t\tfor (i = stack.length - 1; i >= pos; i--) {\n\t\t\t\t\t\tif (handler.end) { // close all the open elements, up the stack\n\t\t\t\t\t\t\thandler.end(stack[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstack.length = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmodule.exports = parser;\n\n\t}, { \"./attributes\": 1, \"./elements\": 3, \"./lowercase\": 5, \"he\": 9 }], 8: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar lowercase = require('./lowercase');\n\t\tvar attributes = require('./attributes');\n\t\tvar elements = require('./elements');\n\n\t\tfunction sanitizer(buffer, options) {\n\t\t\tvar last;\n\t\t\tvar context;\n\t\t\tvar o = options || {};\n\n\t\t\treset();\n\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end,\n\t\t\t\tchars: chars\n\t\t\t};\n\n\t\t\tfunction out(value) {\n\t\t\t\tbuffer.push(value);\n\t\t\t}\n\n\t\t\tfunction start(tag, attrs, unary) {\n\t\t\t\tvar low = lowercase(tag);\n\n\t\t\t\tif (context.ignoring) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\t\t\t\tif ((o.allowedTags || []).indexOf(low) === -1) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\t\t\t\tif (o.filter && !o.filter({ tag: low, attrs: attrs })) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\n\t\t\t\tout('<');\n\t\t\t\tout(low);\n\t\t\t\tObject.keys(attrs).forEach(parse);\n\t\t\t\tout(unary ? '/>' : '>');\n\n\t\t\t\tfunction parse(key) {\n\t\t\t\t\tvar value = attrs[key];\n\t\t\t\t\tvar classesOk = (o.allowedClasses || {})[low] || [];\n\t\t\t\t\tvar attrsOk = (o.allowedAttributes || {})[low] || [];\n\t\t\t\t\tattrsOk = attrsOk.concat((o.allowedAttributes || {})['*'] || []);\n\t\t\t\t\tvar valid;\n\t\t\t\t\tvar lkey = lowercase(key);\n\t\t\t\t\tif (lkey === 'class' && attrsOk.indexOf(lkey) === -1) {\n\t\t\t\t\t\tvalue = value.split(' ').filter(isValidClass).join(' ').trim();\n\t\t\t\t\t\tvalid = value.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = attrsOk.indexOf(lkey) !== -1 && (attributes.uris[lkey] !== true || testUrl(value));\n\t\t\t\t\t}\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tout(' ');\n\t\t\t\t\t\tout(key);\n\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\tout('=\"');\n\t\t\t\t\t\t\tout(he.encode(value));\n\t\t\t\t\t\t\tout('\"');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfunction isValidClass(className) {\n\t\t\t\t\t\treturn classesOk && classesOk.indexOf(className) !== -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction end(tag) {\n\t\t\t\tvar low = lowercase(tag);\n\t\t\t\tvar allowed = (o.allowedTags || []).indexOf(low) !== -1;\n\t\t\t\tif (allowed) {\n\t\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\t\tout('</');\n\t\t\t\t\t\tout(low);\n\t\t\t\t\t\tout('>');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunignore(low);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tunignore(low);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction testUrl(text) {\n\t\t\t\tvar start = text[0];\n\t\t\t\tif (start === '#' || start === '/') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar colon = text.indexOf(':');\n\t\t\t\tif (colon === -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar questionmark = text.indexOf('?');\n\t\t\t\tif (questionmark !== -1 && colon > questionmark) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar hash = text.indexOf('#');\n\t\t\t\tif (hash !== -1 && colon > hash) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn o.allowedSchemes.some(matches);\n\n\t\t\t\tfunction matches(scheme) {\n\t\t\t\t\treturn text.indexOf(scheme + ':') === 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction chars(text) {\n\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\tout(o.transformText ? o.transformText(text) : text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction ignore(tag) {\n\t\t\t\tif (elements.voids[tag]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\tcontext = { ignoring: tag, depth: 1 };\n\t\t\t\t} else if (context.ignoring === tag) {\n\t\t\t\t\tcontext.depth++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction unignore(tag) {\n\t\t\t\tif (context.ignoring === tag) {\n\t\t\t\t\tif (--context.depth <= 0) {\n\t\t\t\t\t\treset();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction reset() {\n\t\t\t\tcontext = { ignoring: false, depth: 0 };\n\t\t\t}\n\t\t}\n\n\t\tmodule.exports = sanitizer;\n\n\t}, { \"./attributes\": 1, \"./elements\": 3, \"./lowercase\": 5, \"he\": 9 }], 9: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar escapes = {\n\t\t\t'&': '&amp;',\n\t\t\t'<': '&lt;',\n\t\t\t'>': '&gt;',\n\t\t\t'\"': '&quot;',\n\t\t\t\"'\": '&#39;'\n\t\t};\n\t\tvar unescapes = {\n\t\t\t'&amp;': '&',\n\t\t\t'&lt;': '<',\n\t\t\t'&gt;': '>',\n\t\t\t'&quot;': '\"',\n\t\t\t'&#39;': \"'\"\n\t\t};\n\t\tvar rescaped = /(&amp;|&lt;|&gt;|&quot;|&#39;)/g;\n\t\tvar runescaped = /[&<>\"']/g;\n\n\t\tfunction escapeHtmlChar(match) {\n\t\t\treturn escapes[match];\n\t\t}\n\t\tfunction unescapeHtmlChar(match) {\n\t\t\treturn unescapes[match];\n\t\t}\n\n\t\tfunction escapeHtml(text) {\n\t\t\treturn text == null ? '' : String(text).replace(runescaped, escapeHtmlChar);\n\t\t}\n\n\t\tfunction unescapeHtml(html) {\n\t\t\treturn html == null ? '' : String(html).replace(rescaped, unescapeHtmlChar);\n\t\t}\n\n\t\tescapeHtml.options = unescapeHtml.options = {};\n\n\t\tmodule.exports = {\n\t\t\tencode: escapeHtml,\n\t\t\tescape: escapeHtml,\n\t\t\tdecode: unescapeHtml,\n\t\t\tunescape: unescapeHtml,\n\t\t\tversion: '1.0.0-browser'\n\t\t};\n\n\t}, {}], 10: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tfunction toMap(list) {\n\t\t\treturn list.reduce(asKey, {});\n\t\t}\n\n\t\tfunction asKey(accumulator, item) {\n\t\t\taccumulator[item] = true;\n\t\t\treturn accumulator;\n\t\t}\n\n\t\tmodule.exports = toMap;\n\n\t}, {}]\n}, {}, [4]);\n\n// ESM-comment-begin\n// define(function() { return { insane: __insane_func }; });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport var insane = __insane_func;\n// ESM-uncomment-end\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as DOM from './dom.js';\r\nimport { createElement } from './formattedTextRenderer.js';\r\nimport { onUnexpectedError } from '../common/errors.js';\r\nimport { parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\r\nimport { defaultGenerator } from '../common/idGenerator.js';\r\nimport * as marked from '../common/marked/marked.js';\r\nimport { insane } from '../common/insane/insane.js';\r\nimport { parse } from '../common/marshalling.js';\r\nimport { cloneAndChange } from '../common/objects.js';\r\nimport { escape } from '../common/strings.js';\r\nimport { URI } from '../common/uri.js';\r\nimport { Schemas } from '../common/network.js';\r\nimport { renderCodicons, markdownEscapeEscapedCodicons } from '../common/codicons.js';\r\n/**\r\n * Create html nodes for the given content element.\r\n */\r\nexport function renderMarkdown(markdown, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    var _uriMassage = function (part) {\r\n        var data;\r\n        try {\r\n            data = parse(decodeURIComponent(part));\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        if (!data) {\r\n            return part;\r\n        }\r\n        data = cloneAndChange(data, function (value) {\r\n            if (markdown.uris && markdown.uris[value]) {\r\n                return URI.revive(markdown.uris[value]);\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        });\r\n        return encodeURIComponent(JSON.stringify(data));\r\n    };\r\n    var _href = function (href, isDomUri) {\r\n        var data = markdown.uris && markdown.uris[href];\r\n        if (!data) {\r\n            return href; // no uri exists\r\n        }\r\n        var uri = URI.revive(data);\r\n        if (URI.parse(href).toString() === uri.toString()) {\r\n            return href; // no tranformation performed\r\n        }\r\n        if (isDomUri) {\r\n            uri = DOM.asDomUri(uri);\r\n        }\r\n        if (uri.query) {\r\n            uri = uri.with({ query: _uriMassage(uri.query) });\r\n        }\r\n        return uri.toString(true);\r\n    };\r\n    // signal to code-block render that the\r\n    // element has been created\r\n    var signalInnerHTML;\r\n    var withInnerHTML = new Promise(function (c) { return signalInnerHTML = c; });\r\n    var renderer = new marked.Renderer();\r\n    renderer.image = function (href, title, text) {\r\n        var _a;\r\n        var dimensions = [];\r\n        var attributes = [];\r\n        if (href) {\r\n            (_a = parseHrefAndDimensions(href), href = _a.href, dimensions = _a.dimensions);\r\n            href = _href(href, true);\r\n            attributes.push(\"src=\\\"\" + href + \"\\\"\");\r\n        }\r\n        if (text) {\r\n            attributes.push(\"alt=\\\"\" + text + \"\\\"\");\r\n        }\r\n        if (title) {\r\n            attributes.push(\"title=\\\"\" + title + \"\\\"\");\r\n        }\r\n        if (dimensions.length) {\r\n            attributes = attributes.concat(dimensions);\r\n        }\r\n        return '<img ' + attributes.join(' ') + '>';\r\n    };\r\n    renderer.link = function (href, title, text) {\r\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\r\n        if (href === text) { // raw link case\r\n            text = removeMarkdownEscapes(text);\r\n        }\r\n        href = _href(href, false);\r\n        title = removeMarkdownEscapes(title);\r\n        href = removeMarkdownEscapes(href);\r\n        if (!href\r\n            || href.match(/^data:|javascript:/i)\r\n            || (href.match(/^command:/i) && !markdown.isTrusted)\r\n            || href.match(/^command:(\\/\\/\\/)?_workbench\\.downloadResource/i)) {\r\n            // drop the link\r\n            return text;\r\n        }\r\n        else {\r\n            // HTML Encode href\r\n            href = href.replace(/&/g, '&amp;')\r\n                .replace(/</g, '&lt;')\r\n                .replace(/>/g, '&gt;')\r\n                .replace(/\"/g, '&quot;')\r\n                .replace(/'/g, '&#39;');\r\n            return \"<a href=\\\"#\\\" data-href=\\\"\" + href + \"\\\" title=\\\"\" + (title || href) + \"\\\">\" + text + \"</a>\";\r\n        }\r\n    };\r\n    renderer.paragraph = function (text) {\r\n        return \"<p>\" + (markdown.supportThemeIcons ? renderCodicons(text) : text) + \"</p>\";\r\n    };\r\n    if (options.codeBlockRenderer) {\r\n        renderer.code = function (code, lang) {\r\n            var value = options.codeBlockRenderer(lang, code);\r\n            // when code-block rendering is async we return sync\r\n            // but update the node with the real result later.\r\n            var id = defaultGenerator.nextId();\r\n            var promise = Promise.all([value, withInnerHTML]).then(function (values) {\r\n                var strValue = values[0];\r\n                var span = element.querySelector(\"div[data-code=\\\"\" + id + \"\\\"]\");\r\n                if (span) {\r\n                    span.innerHTML = strValue;\r\n                }\r\n            }).catch(function (err) {\r\n                // ignore\r\n            });\r\n            if (options.codeBlockRenderCallback) {\r\n                promise.then(options.codeBlockRenderCallback);\r\n            }\r\n            return \"<div class=\\\"code\\\" data-code=\\\"\" + id + \"\\\">\" + escape(code) + \"</div>\";\r\n        };\r\n    }\r\n    var actionHandler = options.actionHandler;\r\n    if (actionHandler) {\r\n        actionHandler.disposeables.add(DOM.addStandardDisposableListener(element, 'click', function (event) {\r\n            var target = event.target;\r\n            if (target.tagName !== 'A') {\r\n                target = target.parentElement;\r\n                if (!target || target.tagName !== 'A') {\r\n                    return;\r\n                }\r\n            }\r\n            try {\r\n                var href = target.dataset['href'];\r\n                if (href) {\r\n                    actionHandler.callback(href, event);\r\n                }\r\n            }\r\n            catch (err) {\r\n                onUnexpectedError(err);\r\n            }\r\n            finally {\r\n                event.preventDefault();\r\n            }\r\n        }));\r\n    }\r\n    var markedOptions = {\r\n        sanitize: true,\r\n        renderer: renderer\r\n    };\r\n    var allowedSchemes = [Schemas.http, Schemas.https, Schemas.mailto, Schemas.data, Schemas.file, Schemas.vscodeRemote, Schemas.vscodeRemoteResource];\r\n    if (markdown.isTrusted) {\r\n        allowedSchemes.push(Schemas.command);\r\n    }\r\n    var renderedMarkdown = marked.parse(markdown.supportThemeIcons\r\n        ? markdownEscapeEscapedCodicons(markdown.value)\r\n        : markdown.value, markedOptions);\r\n    element.innerHTML = insane(renderedMarkdown, {\r\n        allowedSchemes: allowedSchemes,\r\n        allowedAttributes: {\r\n            'a': ['href', 'name', 'target', 'data-href'],\r\n            'iframe': ['allowfullscreen', 'frameborder', 'src'],\r\n            'img': ['src', 'title', 'alt', 'width', 'height'],\r\n            'div': ['class', 'data-code'],\r\n            'span': ['class']\r\n        }\r\n    });\r\n    signalInnerHTML();\r\n    return element;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { renderMarkdown } from '../../../base/browser/markdownRenderer.js';\r\nimport { IOpenerService, NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { tokenizeToString } from '../../common/modes/textToHtmlTokenizer.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { DisposableStore, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { TokenizationRegistry } from '../../common/modes.js';\r\nvar MarkdownRenderer = /** @class */ (function (_super) {\r\n    __extends(MarkdownRenderer, _super);\r\n    function MarkdownRenderer(_editor, _modeService, _openerService) {\r\n        if (_openerService === void 0) { _openerService = NullOpenerService; }\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._modeService = _modeService;\r\n        _this._openerService = _openerService;\r\n        _this._onDidRenderCodeBlock = _this._register(new Emitter());\r\n        _this.onDidRenderCodeBlock = _this._onDidRenderCodeBlock.event;\r\n        return _this;\r\n    }\r\n    MarkdownRenderer.prototype.getOptions = function (disposeables) {\r\n        var _this = this;\r\n        return {\r\n            codeBlockRenderer: function (languageAlias, value) {\r\n                // In markdown,\r\n                // it is possible that we stumble upon language aliases (e.g.js instead of javascript)\r\n                // it is possible no alias is given in which case we fall back to the current editor lang\r\n                var modeId = null;\r\n                if (languageAlias) {\r\n                    modeId = _this._modeService.getModeIdForLanguageName(languageAlias);\r\n                }\r\n                else {\r\n                    var model = _this._editor.getModel();\r\n                    if (model) {\r\n                        modeId = model.getLanguageIdentifier().language;\r\n                    }\r\n                }\r\n                _this._modeService.triggerMode(modeId || '');\r\n                return Promise.resolve(true).then(function (_) {\r\n                    var promise = TokenizationRegistry.getPromise(modeId || '');\r\n                    if (promise) {\r\n                        return promise.then(function (support) { return tokenizeToString(value, support); });\r\n                    }\r\n                    return tokenizeToString(value, undefined);\r\n                }).then(function (code) {\r\n                    return \"<span style=\\\"font-family: \" + _this._editor.getOption(34 /* fontInfo */).fontFamily + \"\\\">\" + code + \"</span>\";\r\n                });\r\n            },\r\n            codeBlockRenderCallback: function () { return _this._onDidRenderCodeBlock.fire(); },\r\n            actionHandler: {\r\n                callback: function (content) {\r\n                    _this._openerService.open(content, { fromUserGesture: true }).catch(onUnexpectedError);\r\n                },\r\n                disposeables: disposeables\r\n            }\r\n        };\r\n    };\r\n    MarkdownRenderer.prototype.render = function (markdown) {\r\n        var disposeables = new DisposableStore();\r\n        var element;\r\n        if (!markdown) {\r\n            element = document.createElement('span');\r\n        }\r\n        else {\r\n            element = renderMarkdown(markdown, this.getOptions(disposeables));\r\n        }\r\n        return {\r\n            element: element,\r\n            dispose: function () { return disposeables.dispose(); }\r\n        };\r\n    };\r\n    MarkdownRenderer = __decorate([\r\n        __param(1, IModeService),\r\n        __param(2, optional(IOpenerService))\r\n    ], MarkdownRenderer);\r\n    return MarkdownRenderer;\r\n}(Disposable));\r\nexport { MarkdownRenderer };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { MarkdownString, isEmptyMarkdownString, markedStringsEquals } from '../../../base/common/htmlContent.js';\r\nimport { toDisposable, DisposableStore, combinedDisposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { HoverProviderRegistry, TokenizationRegistry } from '../../common/modes.js';\r\nimport { getColorPresentations } from '../colorPicker/color.js';\r\nimport { ColorDetector } from '../colorPicker/colorDetector.js';\r\nimport { ColorPickerModel } from '../colorPicker/colorPickerModel.js';\r\nimport { ColorPickerWidget } from '../colorPicker/colorPickerWidget.js';\r\nimport { getHover } from './getHover.js';\r\nimport { HoverOperation } from './hoverOperation.js';\r\nimport { ContentHoverWidget } from './hoverWidgets.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { coalesce, isNonEmptyArray, asArray } from '../../../base/common/arrays.js';\r\nimport { IMarkerData, MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { MarkerController, NextMarkerAction } from '../gotoError/gotoError.js';\r\nimport { createCancelablePromise } from '../../../base/common/async.js';\r\nimport { getCodeActions } from '../codeAction/codeAction.js';\r\nimport { QuickFixAction, QuickFixController } from '../codeAction/codeActionCommands.js';\r\nimport { CodeActionKind } from '../codeAction/types.js';\r\nimport { textLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nvar $ = dom.$;\r\nvar ColorHover = /** @class */ (function () {\r\n    function ColorHover(range, color, provider) {\r\n        this.range = range;\r\n        this.color = color;\r\n        this.provider = provider;\r\n    }\r\n    return ColorHover;\r\n}());\r\nvar MarkerHover = /** @class */ (function () {\r\n    function MarkerHover(range, marker) {\r\n        this.range = range;\r\n        this.marker = marker;\r\n    }\r\n    return MarkerHover;\r\n}());\r\nvar ModesContentComputer = /** @class */ (function () {\r\n    function ModesContentComputer(editor, _markerDecorationsService) {\r\n        this._markerDecorationsService = _markerDecorationsService;\r\n        this._editor = editor;\r\n        this._result = [];\r\n    }\r\n    ModesContentComputer.prototype.setRange = function (range) {\r\n        this._range = range;\r\n        this._result = [];\r\n    };\r\n    ModesContentComputer.prototype.clearResult = function () {\r\n        this._result = [];\r\n    };\r\n    ModesContentComputer.prototype.computeAsync = function (token) {\r\n        if (!this._editor.hasModel() || !this._range) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!HoverProviderRegistry.has(model)) {\r\n            return Promise.resolve([]);\r\n        }\r\n        return getHover(model, new Position(this._range.startLineNumber, this._range.startColumn), token);\r\n    };\r\n    ModesContentComputer.prototype.computeSync = function () {\r\n        var _this = this;\r\n        if (!this._editor.hasModel() || !this._range) {\r\n            return [];\r\n        }\r\n        var model = this._editor.getModel();\r\n        var lineNumber = this._range.startLineNumber;\r\n        if (lineNumber > this._editor.getModel().getLineCount()) {\r\n            // Illegal line number => no results\r\n            return [];\r\n        }\r\n        var colorDetector = ColorDetector.get(this._editor);\r\n        var maxColumn = model.getLineMaxColumn(lineNumber);\r\n        var lineDecorations = this._editor.getLineDecorations(lineNumber);\r\n        var didFindColor = false;\r\n        var hoverRange = this._range;\r\n        var result = lineDecorations.map(function (d) {\r\n            var startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\r\n            var endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\r\n            if (startColumn > hoverRange.startColumn || hoverRange.endColumn > endColumn) {\r\n                return null;\r\n            }\r\n            var range = new Range(hoverRange.startLineNumber, startColumn, hoverRange.startLineNumber, endColumn);\r\n            var marker = _this._markerDecorationsService.getMarker(model, d);\r\n            if (marker) {\r\n                return new MarkerHover(range, marker);\r\n            }\r\n            var colorData = colorDetector.getColorData(d.range.getStartPosition());\r\n            if (!didFindColor && colorData) {\r\n                didFindColor = true;\r\n                var _a = colorData.colorInfo, color = _a.color, range_1 = _a.range;\r\n                return new ColorHover(range_1, color, colorData.provider);\r\n            }\r\n            else {\r\n                if (isEmptyMarkdownString(d.options.hoverMessage)) {\r\n                    return null;\r\n                }\r\n                var contents = d.options.hoverMessage ? asArray(d.options.hoverMessage) : [];\r\n                return { contents: contents, range: range };\r\n            }\r\n        });\r\n        return coalesce(result);\r\n    };\r\n    ModesContentComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\r\n        // Always put synchronous messages before asynchronous ones\r\n        if (isFromSynchronousComputation) {\r\n            this._result = result.concat(this._result.sort(function (a, b) {\r\n                if (a instanceof ColorHover) { // sort picker messages at to the top\r\n                    return -1;\r\n                }\r\n                else if (b instanceof ColorHover) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            }));\r\n        }\r\n        else {\r\n            this._result = this._result.concat(result);\r\n        }\r\n    };\r\n    ModesContentComputer.prototype.getResult = function () {\r\n        return this._result.slice(0);\r\n    };\r\n    ModesContentComputer.prototype.getResultWithLoadingMessage = function () {\r\n        return this._result.slice(0).concat([this._getLoadingMessage()]);\r\n    };\r\n    ModesContentComputer.prototype._getLoadingMessage = function () {\r\n        return {\r\n            range: this._range,\r\n            contents: [new MarkdownString().appendText(nls.localize('modesContentHover.loading', \"Loading...\"))]\r\n        };\r\n    };\r\n    return ModesContentComputer;\r\n}());\r\nvar markerCodeActionTrigger = {\r\n    type: 2 /* Manual */,\r\n    filter: { include: CodeActionKind.QuickFix }\r\n};\r\nvar ModesContentHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ModesContentHoverWidget, _super);\r\n    function ModesContentHoverWidget(editor, markerDecorationsService, _themeService, _keybindingService, _modeService, _openerService) {\r\n        if (_openerService === void 0) { _openerService = NullOpenerService; }\r\n        var _this = _super.call(this, ModesContentHoverWidget.ID, editor) || this;\r\n        _this._themeService = _themeService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._modeService = _modeService;\r\n        _this._openerService = _openerService;\r\n        _this.renderDisposable = _this._register(new MutableDisposable());\r\n        _this._messages = [];\r\n        _this._lastRange = null;\r\n        _this._computer = new ModesContentComputer(_this._editor, markerDecorationsService);\r\n        _this._highlightDecorations = [];\r\n        _this._isChangingDecorations = false;\r\n        _this._shouldFocus = false;\r\n        _this._colorPicker = null;\r\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result, true); }, null, function (result) { return _this._withResult(result, false); }, _this._editor.getOption(44 /* hover */).delay);\r\n        _this._register(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.FOCUS, function () {\r\n            if (_this._colorPicker) {\r\n                dom.addClass(_this.getDomNode(), 'colorpicker-hover');\r\n            }\r\n        }));\r\n        _this._register(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.BLUR, function () {\r\n            dom.removeClass(_this.getDomNode(), 'colorpicker-hover');\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            _this._hoverOperation.setHoverTime(_this._editor.getOption(44 /* hover */).delay);\r\n        }));\r\n        _this._register(TokenizationRegistry.onDidChange(function (e) {\r\n            if (_this.isVisible && _this._lastRange && _this._messages.length > 0) {\r\n                _this._domNode.textContent = '';\r\n                _this._renderMessages(_this._lastRange, _this._messages);\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ModesContentHoverWidget.prototype.dispose = function () {\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ModesContentHoverWidget.prototype.onModelDecorationsChanged = function () {\r\n        if (this._isChangingDecorations) {\r\n            return;\r\n        }\r\n        if (this.isVisible) {\r\n            // The decorations have changed and the hover is visible,\r\n            // we need to recompute the displayed text\r\n            this._hoverOperation.cancel();\r\n            this._computer.clearResult();\r\n            if (!this._colorPicker) { // TODO@Michel ensure that displayed text for other decorations is computed even if color picker is in place\r\n                this._hoverOperation.start(0 /* Delayed */);\r\n            }\r\n        }\r\n    };\r\n    ModesContentHoverWidget.prototype.startShowingAt = function (range, mode, focus) {\r\n        if (this._lastRange && this._lastRange.equalsRange(range)) {\r\n            // We have to show the widget at the exact same range as before, so no work is needed\r\n            return;\r\n        }\r\n        this._hoverOperation.cancel();\r\n        if (this.isVisible) {\r\n            // The range might have changed, but the hover is visible\r\n            // Instead of hiding it completely, filter out messages that are still in the new range and\r\n            // kick off a new computation\r\n            if (!this._showAtPosition || this._showAtPosition.lineNumber !== range.startLineNumber) {\r\n                this.hide();\r\n            }\r\n            else {\r\n                var filteredMessages = [];\r\n                for (var i = 0, len = this._messages.length; i < len; i++) {\r\n                    var msg = this._messages[i];\r\n                    var rng = msg.range;\r\n                    if (rng && rng.startColumn <= range.startColumn && rng.endColumn >= range.endColumn) {\r\n                        filteredMessages.push(msg);\r\n                    }\r\n                }\r\n                if (filteredMessages.length > 0) {\r\n                    if (hoverContentsEquals(filteredMessages, this._messages)) {\r\n                        return;\r\n                    }\r\n                    this._renderMessages(range, filteredMessages);\r\n                }\r\n                else {\r\n                    this.hide();\r\n                }\r\n            }\r\n        }\r\n        this._lastRange = range;\r\n        this._computer.setRange(range);\r\n        this._shouldFocus = focus;\r\n        this._hoverOperation.start(mode);\r\n    };\r\n    ModesContentHoverWidget.prototype.hide = function () {\r\n        this._lastRange = null;\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.hide.call(this);\r\n        this._isChangingDecorations = true;\r\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, []);\r\n        this._isChangingDecorations = false;\r\n        this.renderDisposable.clear();\r\n        this._colorPicker = null;\r\n    };\r\n    ModesContentHoverWidget.prototype.isColorPickerVisible = function () {\r\n        if (this._colorPicker) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModesContentHoverWidget.prototype._withResult = function (result, complete) {\r\n        this._messages = result;\r\n        if (this._lastRange && this._messages.length > 0) {\r\n            this._renderMessages(this._lastRange, this._messages);\r\n        }\r\n        else if (complete) {\r\n            this.hide();\r\n        }\r\n    };\r\n    ModesContentHoverWidget.prototype._renderMessages = function (renderRange, messages) {\r\n        var _this = this;\r\n        this.renderDisposable.dispose();\r\n        this._colorPicker = null;\r\n        // update column from which to show\r\n        var renderColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */;\r\n        var highlightRange = messages[0].range ? Range.lift(messages[0].range) : null;\r\n        var fragment = document.createDocumentFragment();\r\n        var isEmptyHoverContent = true;\r\n        var containColorPicker = false;\r\n        var markdownDisposeables = new DisposableStore();\r\n        var markerMessages = [];\r\n        messages.forEach(function (msg) {\r\n            if (!msg.range) {\r\n                return;\r\n            }\r\n            renderColumn = Math.min(renderColumn, msg.range.startColumn);\r\n            highlightRange = highlightRange ? Range.plusRange(highlightRange, msg.range) : Range.lift(msg.range);\r\n            if (msg instanceof ColorHover) {\r\n                containColorPicker = true;\r\n                var _a = msg.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\r\n                var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\r\n                var color_1 = new Color(rgba);\r\n                if (!_this._editor.hasModel()) {\r\n                    return;\r\n                }\r\n                var editorModel_1 = _this._editor.getModel();\r\n                var range_2 = new Range(msg.range.startLineNumber, msg.range.startColumn, msg.range.endLineNumber, msg.range.endColumn);\r\n                var colorInfo = { range: msg.range, color: msg.color };\r\n                // create blank olor picker model and widget first to ensure it's positioned correctly.\r\n                var model_1 = new ColorPickerModel(color_1, [], 0);\r\n                var widget_1 = new ColorPickerWidget(fragment, model_1, _this._editor.getOption(105 /* pixelRatio */), _this._themeService);\r\n                getColorPresentations(editorModel_1, colorInfo, msg.provider, CancellationToken.None).then(function (colorPresentations) {\r\n                    model_1.colorPresentations = colorPresentations || [];\r\n                    if (!_this._editor.hasModel()) {\r\n                        // gone...\r\n                        return;\r\n                    }\r\n                    var originalText = _this._editor.getModel().getValueInRange(msg.range);\r\n                    model_1.guessColorPresentation(color_1, originalText);\r\n                    var updateEditorModel = function () {\r\n                        var textEdits;\r\n                        var newRange;\r\n                        if (model_1.presentation.textEdit) {\r\n                            textEdits = [model_1.presentation.textEdit];\r\n                            newRange = new Range(model_1.presentation.textEdit.range.startLineNumber, model_1.presentation.textEdit.range.startColumn, model_1.presentation.textEdit.range.endLineNumber, model_1.presentation.textEdit.range.endColumn);\r\n                            newRange = newRange.setEndPosition(newRange.endLineNumber, newRange.startColumn + model_1.presentation.textEdit.text.length);\r\n                        }\r\n                        else {\r\n                            textEdits = [{ identifier: null, range: range_2, text: model_1.presentation.label, forceMoveMarkers: false }];\r\n                            newRange = range_2.setEndPosition(range_2.endLineNumber, range_2.startColumn + model_1.presentation.label.length);\r\n                        }\r\n                        _this._editor.pushUndoStop();\r\n                        _this._editor.executeEdits('colorpicker', textEdits);\r\n                        if (model_1.presentation.additionalTextEdits) {\r\n                            textEdits = __spreadArrays(model_1.presentation.additionalTextEdits);\r\n                            _this._editor.executeEdits('colorpicker', textEdits);\r\n                            _this.hide();\r\n                        }\r\n                        _this._editor.pushUndoStop();\r\n                        range_2 = newRange;\r\n                    };\r\n                    var updateColorPresentations = function (color) {\r\n                        return getColorPresentations(editorModel_1, {\r\n                            range: range_2,\r\n                            color: {\r\n                                red: color.rgba.r / 255,\r\n                                green: color.rgba.g / 255,\r\n                                blue: color.rgba.b / 255,\r\n                                alpha: color.rgba.a\r\n                            }\r\n                        }, msg.provider, CancellationToken.None).then(function (colorPresentations) {\r\n                            model_1.colorPresentations = colorPresentations || [];\r\n                        });\r\n                    };\r\n                    var colorListener = model_1.onColorFlushed(function (color) {\r\n                        updateColorPresentations(color).then(updateEditorModel);\r\n                    });\r\n                    var colorChangeListener = model_1.onDidChangeColor(updateColorPresentations);\r\n                    _this._colorPicker = widget_1;\r\n                    _this.showAt(range_2.getStartPosition(), range_2, _this._shouldFocus);\r\n                    _this.updateContents(fragment);\r\n                    _this._colorPicker.layout();\r\n                    _this.renderDisposable.value = combinedDisposable(colorListener, colorChangeListener, widget_1, markdownDisposeables);\r\n                });\r\n            }\r\n            else {\r\n                if (msg instanceof MarkerHover) {\r\n                    markerMessages.push(msg);\r\n                    isEmptyHoverContent = false;\r\n                }\r\n                else {\r\n                    msg.contents\r\n                        .filter(function (contents) { return !isEmptyMarkdownString(contents); })\r\n                        .forEach(function (contents) {\r\n                        var markdownHoverElement = $('div.hover-row.markdown-hover');\r\n                        var hoverContentsElement = dom.append(markdownHoverElement, $('div.hover-contents'));\r\n                        var renderer = markdownDisposeables.add(new MarkdownRenderer(_this._editor, _this._modeService, _this._openerService));\r\n                        markdownDisposeables.add(renderer.onDidRenderCodeBlock(function () {\r\n                            hoverContentsElement.className = 'hover-contents code-hover-contents';\r\n                            _this.onContentsChange();\r\n                        }));\r\n                        var renderedContents = markdownDisposeables.add(renderer.render(contents));\r\n                        hoverContentsElement.appendChild(renderedContents.element);\r\n                        fragment.appendChild(markdownHoverElement);\r\n                        isEmptyHoverContent = false;\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        if (markerMessages.length) {\r\n            markerMessages.forEach(function (msg) { return fragment.appendChild(_this.renderMarkerHover(msg)); });\r\n            var markerHoverForStatusbar = markerMessages.length === 1 ? markerMessages[0] : markerMessages.sort(function (a, b) { return MarkerSeverity.compare(a.marker.severity, b.marker.severity); })[0];\r\n            fragment.appendChild(this.renderMarkerStatusbar(markerHoverForStatusbar));\r\n        }\r\n        // show\r\n        if (!containColorPicker && !isEmptyHoverContent) {\r\n            this.showAt(new Position(renderRange.startLineNumber, renderColumn), highlightRange, this._shouldFocus);\r\n            this.updateContents(fragment);\r\n        }\r\n        this._isChangingDecorations = true;\r\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, highlightRange ? [{\r\n                range: highlightRange,\r\n                options: ModesContentHoverWidget._DECORATION_OPTIONS\r\n            }] : []);\r\n        this._isChangingDecorations = false;\r\n    };\r\n    ModesContentHoverWidget.prototype.renderMarkerHover = function (markerHover) {\r\n        var _this = this;\r\n        var hoverElement = $('div.hover-row');\r\n        var markerElement = dom.append(hoverElement, $('div.marker.hover-contents'));\r\n        var _a = markerHover.marker, source = _a.source, message = _a.message, code = _a.code, relatedInformation = _a.relatedInformation;\r\n        this._editor.applyFontInfo(markerElement);\r\n        var messageElement = dom.append(markerElement, $('span'));\r\n        messageElement.style.whiteSpace = 'pre-wrap';\r\n        messageElement.innerText = message;\r\n        if (source || code) {\r\n            if (typeof code === 'string') {\r\n                var detailsElement = dom.append(markerElement, $('span'));\r\n                detailsElement.style.opacity = '0.6';\r\n                detailsElement.style.paddingLeft = '6px';\r\n                detailsElement.innerText = source && code ? source + \"(\" + code + \")\" : source ? source : \"(\" + code + \")\";\r\n            }\r\n            else {\r\n                if (code) {\r\n                    var sourceAndCodeElement = $('span');\r\n                    if (source) {\r\n                        var sourceElement = dom.append(sourceAndCodeElement, $('span'));\r\n                        sourceElement.innerText = source;\r\n                    }\r\n                    this._codeLink = dom.append(sourceAndCodeElement, $('a.code-link'));\r\n                    this._codeLink.setAttribute('href', code.link.toString());\r\n                    this._codeLink.onclick = function (e) {\r\n                        _this._openerService.open(code.link);\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    };\r\n                    var codeElement = dom.append(this._codeLink, $('span'));\r\n                    codeElement.innerText = code.value;\r\n                    var detailsElement = dom.append(markerElement, sourceAndCodeElement);\r\n                    detailsElement.style.opacity = '0.6';\r\n                    detailsElement.style.paddingLeft = '6px';\r\n                }\r\n            }\r\n        }\r\n        if (isNonEmptyArray(relatedInformation)) {\r\n            var _loop_1 = function (message_1, resource, startLineNumber, startColumn) {\r\n                var relatedInfoContainer = dom.append(markerElement, $('div'));\r\n                relatedInfoContainer.style.marginTop = '8px';\r\n                var a = dom.append(relatedInfoContainer, $('a'));\r\n                a.innerText = basename(resource) + \"(\" + startLineNumber + \", \" + startColumn + \"): \";\r\n                a.style.cursor = 'pointer';\r\n                a.onclick = function (e) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    if (_this._openerService) {\r\n                        _this._openerService.open(resource.with({ fragment: startLineNumber + \",\" + startColumn }), { fromUserGesture: true }).catch(onUnexpectedError);\r\n                    }\r\n                };\r\n                var messageElement_1 = dom.append(relatedInfoContainer, $('span'));\r\n                messageElement_1.innerText = message_1;\r\n                this_1._editor.applyFontInfo(messageElement_1);\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, relatedInformation_1 = relatedInformation; _i < relatedInformation_1.length; _i++) {\r\n                var _b = relatedInformation_1[_i], message_1 = _b.message, resource = _b.resource, startLineNumber = _b.startLineNumber, startColumn = _b.startColumn;\r\n                _loop_1(message_1, resource, startLineNumber, startColumn);\r\n            }\r\n        }\r\n        return hoverElement;\r\n    };\r\n    ModesContentHoverWidget.prototype.renderMarkerStatusbar = function (markerHover) {\r\n        var _this = this;\r\n        var hoverElement = $('div.hover-row.status-bar');\r\n        var disposables = new DisposableStore();\r\n        var actionsElement = dom.append(hoverElement, $('div.actions'));\r\n        if (markerHover.marker.severity === MarkerSeverity.Error || markerHover.marker.severity === MarkerSeverity.Warning || markerHover.marker.severity === MarkerSeverity.Info) {\r\n            disposables.add(this.renderAction(actionsElement, {\r\n                label: nls.localize('peek problem', \"Peek Problem\"),\r\n                commandId: NextMarkerAction.ID,\r\n                run: function () {\r\n                    _this.hide();\r\n                    MarkerController.get(_this._editor).show(markerHover.marker);\r\n                    _this._editor.focus();\r\n                }\r\n            }));\r\n        }\r\n        var quickfixPlaceholderElement = dom.append(actionsElement, $('div'));\r\n        quickfixPlaceholderElement.style.opacity = '0';\r\n        quickfixPlaceholderElement.style.transition = 'opacity 0.2s';\r\n        setTimeout(function () { return quickfixPlaceholderElement.style.opacity = '1'; }, 200);\r\n        quickfixPlaceholderElement.textContent = nls.localize('checkingForQuickFixes', \"Checking for quick fixes...\");\r\n        disposables.add(toDisposable(function () { return quickfixPlaceholderElement.remove(); }));\r\n        var codeActionsPromise = this.getCodeActions(markerHover.marker);\r\n        disposables.add(toDisposable(function () { return codeActionsPromise.cancel(); }));\r\n        codeActionsPromise.then(function (actions) {\r\n            quickfixPlaceholderElement.style.transition = '';\r\n            quickfixPlaceholderElement.style.opacity = '1';\r\n            if (!actions.validActions.length) {\r\n                actions.dispose();\r\n                quickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\r\n                return;\r\n            }\r\n            quickfixPlaceholderElement.remove();\r\n            var showing = false;\r\n            disposables.add(toDisposable(function () {\r\n                if (!showing) {\r\n                    actions.dispose();\r\n                }\r\n            }));\r\n            disposables.add(_this.renderAction(actionsElement, {\r\n                label: nls.localize('quick fixes', \"Quick Fix...\"),\r\n                commandId: QuickFixAction.Id,\r\n                run: function (target) {\r\n                    showing = true;\r\n                    var controller = QuickFixController.get(_this._editor);\r\n                    var elementPosition = dom.getDomNodePagePosition(target);\r\n                    controller.showCodeActions(markerCodeActionTrigger, actions, {\r\n                        x: elementPosition.left + 6,\r\n                        y: elementPosition.top + elementPosition.height + 6\r\n                    });\r\n                }\r\n            }));\r\n        });\r\n        this.renderDisposable.value = disposables;\r\n        return hoverElement;\r\n    };\r\n    ModesContentHoverWidget.prototype.getCodeActions = function (marker) {\r\n        var _this = this;\r\n        return createCancelablePromise(function (cancellationToken) {\r\n            return getCodeActions(_this._editor.getModel(), new Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn), markerCodeActionTrigger, cancellationToken);\r\n        });\r\n    };\r\n    ModesContentHoverWidget.prototype.renderAction = function (parent, actionOptions) {\r\n        var actionContainer = dom.append(parent, $('div.action-container'));\r\n        var action = dom.append(actionContainer, $('a.action'));\r\n        if (actionOptions.iconClass) {\r\n            dom.append(action, $(\"span.icon.\" + actionOptions.iconClass));\r\n        }\r\n        var label = dom.append(action, $('span'));\r\n        label.textContent = actionOptions.label;\r\n        var keybinding = this._keybindingService.lookupKeybinding(actionOptions.commandId);\r\n        if (keybinding) {\r\n            label.title = actionOptions.label + \" (\" + keybinding.getLabel() + \")\";\r\n        }\r\n        return dom.addDisposableListener(actionContainer, dom.EventType.CLICK, function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            actionOptions.run(actionContainer);\r\n        });\r\n    };\r\n    ModesContentHoverWidget.ID = 'editor.contrib.modesContentHoverWidget';\r\n    ModesContentHoverWidget._DECORATION_OPTIONS = ModelDecorationOptions.register({\r\n        className: 'hoverHighlight'\r\n    });\r\n    return ModesContentHoverWidget;\r\n}(ContentHoverWidget));\r\nexport { ModesContentHoverWidget };\r\nfunction hoverContentsEquals(first, second) {\r\n    if ((!first && second) || (first && !second) || first.length !== second.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < first.length; i++) {\r\n        var firstElement = first[i];\r\n        var secondElement = second[i];\r\n        if (firstElement instanceof MarkerHover && secondElement instanceof MarkerHover) {\r\n            return IMarkerData.makeKey(firstElement.marker) === IMarkerData.makeKey(secondElement.marker);\r\n        }\r\n        if (firstElement instanceof ColorHover || secondElement instanceof ColorHover) {\r\n            return false;\r\n        }\r\n        if (firstElement instanceof MarkerHover || secondElement instanceof MarkerHover) {\r\n            return false;\r\n        }\r\n        if (!markedStringsEquals(firstElement.contents, secondElement.contents)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var linkFg = theme.getColor(textLinkForeground);\r\n    if (linkFg) {\r\n        collector.addRule(\".monaco-editor-hover .hover-contents a.code-link span:hover { color: \" + linkFg + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { $ } from '../../../base/browser/dom.js';\r\nimport { isEmptyMarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { HoverOperation } from './hoverOperation.js';\r\nimport { GlyphHoverWidget } from './hoverWidgets.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { asArray } from '../../../base/common/arrays.js';\r\nvar MarginComputer = /** @class */ (function () {\r\n    function MarginComputer(editor) {\r\n        this._editor = editor;\r\n        this._lineNumber = -1;\r\n        this._result = [];\r\n    }\r\n    MarginComputer.prototype.setLineNumber = function (lineNumber) {\r\n        this._lineNumber = lineNumber;\r\n        this._result = [];\r\n    };\r\n    MarginComputer.prototype.clearResult = function () {\r\n        this._result = [];\r\n    };\r\n    MarginComputer.prototype.computeSync = function () {\r\n        var toHoverMessage = function (contents) {\r\n            return {\r\n                value: contents\r\n            };\r\n        };\r\n        var lineDecorations = this._editor.getLineDecorations(this._lineNumber);\r\n        var result = [];\r\n        if (!lineDecorations) {\r\n            return result;\r\n        }\r\n        for (var _i = 0, lineDecorations_1 = lineDecorations; _i < lineDecorations_1.length; _i++) {\r\n            var d = lineDecorations_1[_i];\r\n            if (!d.options.glyphMarginClassName) {\r\n                continue;\r\n            }\r\n            var hoverMessage = d.options.glyphMarginHoverMessage;\r\n            if (!hoverMessage || isEmptyMarkdownString(hoverMessage)) {\r\n                continue;\r\n            }\r\n            result.push.apply(result, asArray(hoverMessage).map(toHoverMessage));\r\n        }\r\n        return result;\r\n    };\r\n    MarginComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\r\n        this._result = this._result.concat(result);\r\n    };\r\n    MarginComputer.prototype.getResult = function () {\r\n        return this._result;\r\n    };\r\n    MarginComputer.prototype.getResultWithLoadingMessage = function () {\r\n        return this.getResult();\r\n    };\r\n    return MarginComputer;\r\n}());\r\nvar ModesGlyphHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ModesGlyphHoverWidget, _super);\r\n    function ModesGlyphHoverWidget(editor, modeService, openerService) {\r\n        if (openerService === void 0) { openerService = NullOpenerService; }\r\n        var _this = _super.call(this, ModesGlyphHoverWidget.ID, editor) || this;\r\n        _this._renderDisposeables = _this._register(new DisposableStore());\r\n        _this._messages = [];\r\n        _this._lastLineNumber = -1;\r\n        _this._markdownRenderer = _this._register(new MarkdownRenderer(_this._editor, modeService, openerService));\r\n        _this._computer = new MarginComputer(_this._editor);\r\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result); }, undefined, function (result) { return _this._withResult(result); }, 300);\r\n        return _this;\r\n    }\r\n    ModesGlyphHoverWidget.prototype.dispose = function () {\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ModesGlyphHoverWidget.prototype.onModelDecorationsChanged = function () {\r\n        if (this.isVisible) {\r\n            // The decorations have changed and the hover is visible,\r\n            // we need to recompute the displayed text\r\n            this._hoverOperation.cancel();\r\n            this._computer.clearResult();\r\n            this._hoverOperation.start(0 /* Delayed */);\r\n        }\r\n    };\r\n    ModesGlyphHoverWidget.prototype.startShowingAt = function (lineNumber) {\r\n        if (this._lastLineNumber === lineNumber) {\r\n            // We have to show the widget at the exact same line number as before, so no work is needed\r\n            return;\r\n        }\r\n        this._hoverOperation.cancel();\r\n        this.hide();\r\n        this._lastLineNumber = lineNumber;\r\n        this._computer.setLineNumber(lineNumber);\r\n        this._hoverOperation.start(0 /* Delayed */);\r\n    };\r\n    ModesGlyphHoverWidget.prototype.hide = function () {\r\n        this._lastLineNumber = -1;\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.hide.call(this);\r\n    };\r\n    ModesGlyphHoverWidget.prototype._withResult = function (result) {\r\n        this._messages = result;\r\n        if (this._messages.length > 0) {\r\n            this._renderMessages(this._lastLineNumber, this._messages);\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    ModesGlyphHoverWidget.prototype._renderMessages = function (lineNumber, messages) {\r\n        this._renderDisposeables.clear();\r\n        var fragment = document.createDocumentFragment();\r\n        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n            var msg = messages_1[_i];\r\n            var renderedContents = this._markdownRenderer.render(msg.value);\r\n            this._renderDisposeables.add(renderedContents);\r\n            fragment.appendChild($('div.hover-row', undefined, renderedContents.element));\r\n        }\r\n        this.updateContents(fragment);\r\n        this.showAt(lineNumber);\r\n    };\r\n    ModesGlyphHoverWidget.ID = 'editor.contrib.modesGlyphHoverWidget';\r\n    return ModesGlyphHoverWidget;\r\n}(GlyphHoverWidget));\r\nexport { ModesGlyphHoverWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './hover.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { ModesContentHoverWidget } from './modesContentHover.js';\r\nimport { ModesGlyphHoverWidget } from './modesGlyphHover.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorHoverBackground, editorHoverBorder, editorHoverHighlight, textCodeBlockBackground, textLinkForeground, editorHoverStatusBarBackground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { IMarkerDecorationsService } from '../../common/services/markersDecorationService.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { GotoDefinitionAtPositionEditorContribution } from '../gotoSymbol/link/goToDefinitionAtPosition.js';\r\nvar ModesHoverController = /** @class */ (function () {\r\n    function ModesHoverController(_editor, _openerService, _modeService, _markerDecorationsService, _keybindingService, _themeService) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._openerService = _openerService;\r\n        this._modeService = _modeService;\r\n        this._markerDecorationsService = _markerDecorationsService;\r\n        this._keybindingService = _keybindingService;\r\n        this._themeService = _themeService;\r\n        this._toUnhook = new DisposableStore();\r\n        this._contentWidget = new MutableDisposable();\r\n        this._glyphWidget = new MutableDisposable();\r\n        this._isMouseDown = false;\r\n        this._hoverClicked = false;\r\n        this._hookEvents();\r\n        this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(44 /* hover */)) {\r\n                _this._hideWidgets();\r\n                _this._unhookEvents();\r\n                _this._hookEvents();\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(ModesHoverController.prototype, \"contentWidget\", {\r\n        get: function () {\r\n            if (!this._contentWidget.value) {\r\n                this._createHoverWidgets();\r\n            }\r\n            return this._contentWidget.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ModesHoverController.prototype, \"glyphWidget\", {\r\n        get: function () {\r\n            if (!this._glyphWidget.value) {\r\n                this._createHoverWidgets();\r\n            }\r\n            return this._glyphWidget.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ModesHoverController.get = function (editor) {\r\n        return editor.getContribution(ModesHoverController.ID);\r\n    };\r\n    ModesHoverController.prototype._hookEvents = function () {\r\n        var _this = this;\r\n        var hideWidgetsEventHandler = function () { return _this._hideWidgets(); };\r\n        var hoverOpts = this._editor.getOption(44 /* hover */);\r\n        this._isHoverEnabled = hoverOpts.enabled;\r\n        this._isHoverSticky = hoverOpts.sticky;\r\n        if (this._isHoverEnabled) {\r\n            this._toUnhook.add(this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\r\n            this._toUnhook.add(this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\r\n            this._toUnhook.add(this._editor.onMouseMove(function (e) { return _this._onEditorMouseMove(e); }));\r\n            this._toUnhook.add(this._editor.onKeyDown(function (e) { return _this._onKeyDown(e); }));\r\n            this._toUnhook.add(this._editor.onDidChangeModelDecorations(function () { return _this._onModelDecorationsChanged(); }));\r\n        }\r\n        else {\r\n            this._toUnhook.add(this._editor.onMouseMove(hideWidgetsEventHandler));\r\n        }\r\n        this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidScrollChange(function (e) { return _this._onEditorScrollChanged(e); }));\r\n    };\r\n    ModesHoverController.prototype._unhookEvents = function () {\r\n        this._toUnhook.clear();\r\n    };\r\n    ModesHoverController.prototype._onModelDecorationsChanged = function () {\r\n        this.contentWidget.onModelDecorationsChanged();\r\n        this.glyphWidget.onModelDecorationsChanged();\r\n    };\r\n    ModesHoverController.prototype._onEditorScrollChanged = function (e) {\r\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseDown = function (mouseEvent) {\r\n        this._isMouseDown = true;\r\n        var targetType = mouseEvent.target.type;\r\n        if (targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            this._hoverClicked = true;\r\n            // mouse down on top of content hover widget\r\n            return;\r\n        }\r\n        if (targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse down on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType !== 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail !== ModesGlyphHoverWidget.ID) {\r\n            this._hoverClicked = false;\r\n        }\r\n        this._hideWidgets();\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseUp = function (mouseEvent) {\r\n        this._isMouseDown = false;\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseMove = function (mouseEvent) {\r\n        var targetType = mouseEvent.target.type;\r\n        if (this._isMouseDown && this._hoverClicked && this.contentWidget.isColorPickerVisible()) {\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            // mouse moved on top of content hover widget\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse moved on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType === 7 /* CONTENT_EMPTY */) {\r\n            var epsilon = this._editor.getOption(34 /* fontInfo */).typicalHalfwidthCharacterWidth / 2;\r\n            var data = mouseEvent.target.detail;\r\n            if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) {\r\n                // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\r\n                targetType = 6 /* CONTENT_TEXT */;\r\n            }\r\n        }\r\n        if (targetType === 6 /* CONTENT_TEXT */) {\r\n            this.glyphWidget.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.range) {\r\n                this.contentWidget.startShowingAt(mouseEvent.target.range, 0 /* Delayed */, false);\r\n            }\r\n        }\r\n        else if (targetType === 2 /* GUTTER_GLYPH_MARGIN */) {\r\n            this.contentWidget.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.position) {\r\n                this.glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);\r\n            }\r\n        }\r\n        else {\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._onKeyDown = function (e) {\r\n        if (e.keyCode !== 5 /* Ctrl */ && e.keyCode !== 6 /* Alt */ && e.keyCode !== 57 /* Meta */ && e.keyCode !== 4 /* Shift */) {\r\n            // Do not hide hover when a modifier key is pressed\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._hideWidgets = function () {\r\n        if (!this._glyphWidget.value || !this._contentWidget.value || (this._isMouseDown && this._hoverClicked && this._contentWidget.value.isColorPickerVisible())) {\r\n            return;\r\n        }\r\n        this._glyphWidget.value.hide();\r\n        this._contentWidget.value.hide();\r\n    };\r\n    ModesHoverController.prototype._createHoverWidgets = function () {\r\n        this._contentWidget.value = new ModesContentHoverWidget(this._editor, this._markerDecorationsService, this._themeService, this._keybindingService, this._modeService, this._openerService);\r\n        this._glyphWidget.value = new ModesGlyphHoverWidget(this._editor, this._modeService, this._openerService);\r\n    };\r\n    ModesHoverController.prototype.showContentHover = function (range, mode, focus) {\r\n        this.contentWidget.startShowingAt(range, mode, focus);\r\n    };\r\n    ModesHoverController.prototype.dispose = function () {\r\n        this._unhookEvents();\r\n        this._toUnhook.dispose();\r\n        this._didChangeConfigurationHandler.dispose();\r\n        this._glyphWidget.dispose();\r\n        this._contentWidget.dispose();\r\n    };\r\n    ModesHoverController.ID = 'editor.contrib.hover';\r\n    ModesHoverController = __decorate([\r\n        __param(1, IOpenerService),\r\n        __param(2, IModeService),\r\n        __param(3, IMarkerDecorationsService),\r\n        __param(4, IKeybindingService),\r\n        __param(5, IThemeService)\r\n    ], ModesHoverController);\r\n    return ModesHoverController;\r\n}());\r\nexport { ModesHoverController };\r\nvar ShowHoverAction = /** @class */ (function (_super) {\r\n    __extends(ShowHoverAction, _super);\r\n    function ShowHoverAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showHover',\r\n            label: nls.localize({\r\n                key: 'showHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of a hover in the editor.',\r\n                    'This allows for users to show the hover without using the mouse.'\r\n                ]\r\n            }, \"Show Hover\"),\r\n            alias: 'Show Hover',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 39 /* KEY_I */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowHoverAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var position = editor.getPosition();\r\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        var focus = editor.getOption(2 /* accessibilitySupport */) === 2 /* Enabled */;\r\n        controller.showContentHover(range, 1 /* Immediate */, focus);\r\n    };\r\n    return ShowHoverAction;\r\n}(EditorAction));\r\nvar ShowDefinitionPreviewHoverAction = /** @class */ (function (_super) {\r\n    __extends(ShowDefinitionPreviewHoverAction, _super);\r\n    function ShowDefinitionPreviewHoverAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showDefinitionPreviewHover',\r\n            label: nls.localize({\r\n                key: 'showDefinitionPreviewHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\r\n                    'This allows for users to show the definition preview hover without using the mouse.'\r\n                ]\r\n            }, \"Show Definition Preview Hover\"),\r\n            alias: 'Show Definition Preview Hover',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    ShowDefinitionPreviewHoverAction.prototype.run = function (accessor, editor) {\r\n        var controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var position = editor.getPosition();\r\n        if (!position) {\r\n            return;\r\n        }\r\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        var goto = GotoDefinitionAtPositionEditorContribution.get(editor);\r\n        var promise = goto.startFindDefinitionFromCursor(position);\r\n        if (promise) {\r\n            promise.then(function () {\r\n                controller.showContentHover(range, 1 /* Immediate */, true);\r\n            });\r\n        }\r\n        else {\r\n            controller.showContentHover(range, 1 /* Immediate */, true);\r\n        }\r\n    };\r\n    return ShowDefinitionPreviewHoverAction;\r\n}(EditorAction));\r\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController);\r\nregisterEditorAction(ShowHoverAction);\r\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var editorHoverHighlightColor = theme.getColor(editorHoverHighlight);\r\n    if (editorHoverHighlightColor) {\r\n        collector.addRule(\".monaco-editor .hoverHighlight { background-color: \" + editorHoverHighlightColor + \"; }\");\r\n    }\r\n    var hoverBackground = theme.getColor(editorHoverBackground);\r\n    if (hoverBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { background-color: \" + hoverBackground + \"; }\");\r\n    }\r\n    var hoverBorder = theme.getColor(editorHoverBorder);\r\n    if (hoverBorder) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { border: 1px solid \" + hoverBorder + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover hr { border-top: 1px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover a { color: \" + link + \"; }\");\r\n    }\r\n    var hoverForeground = theme.getColor(editorHoverForeground);\r\n    if (hoverForeground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { color: \" + hoverForeground + \"; }\");\r\n    }\r\n    var actionsBackground = theme.getColor(editorHoverStatusBarBackground);\r\n    if (actionsBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: \" + actionsBackground + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Selection } from '../../common/core/selection.js';\r\nvar InPlaceReplaceCommand = /** @class */ (function () {\r\n    function InPlaceReplaceCommand(editRange, originalSelection, text) {\r\n        this._editRange = editRange;\r\n        this._originalSelection = originalSelection;\r\n        this._text = text;\r\n    }\r\n    InPlaceReplaceCommand.prototype.getEditOperations = function (model, builder) {\r\n        builder.addTrackedEditOperation(this._editRange, this._text);\r\n    };\r\n    InPlaceReplaceCommand.prototype.computeCursorState = function (model, helper) {\r\n        var inverseEditOperations = helper.getInverseEditOperations();\r\n        var srcRange = inverseEditOperations[0].range;\r\n        if (!this._originalSelection.isEmpty()) {\r\n            // Preserve selection and extends to typed text\r\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\r\n        }\r\n        return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\r\n    };\r\n    return InPlaceReplaceCommand;\r\n}());\r\nexport { InPlaceReplaceCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { registerEditorAction, EditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { InPlaceReplaceCommand } from './inPlaceReplaceCommand.js';\r\nimport { EditorState } from '../../browser/core/editorState.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { createCancelablePromise, timeout } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar InPlaceReplaceController = /** @class */ (function () {\r\n    function InPlaceReplaceController(editor, editorWorkerService) {\r\n        this.decorationIds = [];\r\n        this.editor = editor;\r\n        this.editorWorkerService = editorWorkerService;\r\n    }\r\n    InPlaceReplaceController.get = function (editor) {\r\n        return editor.getContribution(InPlaceReplaceController.ID);\r\n    };\r\n    InPlaceReplaceController.prototype.dispose = function () {\r\n    };\r\n    InPlaceReplaceController.prototype.run = function (source, up) {\r\n        var _this = this;\r\n        // cancel any pending request\r\n        if (this.currentRequest) {\r\n            this.currentRequest.cancel();\r\n        }\r\n        var editorSelection = this.editor.getSelection();\r\n        var model = this.editor.getModel();\r\n        if (!model || !editorSelection) {\r\n            return undefined;\r\n        }\r\n        var selection = editorSelection;\r\n        if (selection.startLineNumber !== selection.endLineNumber) {\r\n            // Can't accept multiline selection\r\n            return undefined;\r\n        }\r\n        var state = new EditorState(this.editor, 1 /* Value */ | 4 /* Position */);\r\n        var modelURI = model.uri;\r\n        if (!this.editorWorkerService.canNavigateValueSet(modelURI)) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        this.currentRequest = createCancelablePromise(function (token) { return _this.editorWorkerService.navigateValueSet(modelURI, selection, up); });\r\n        return this.currentRequest.then(function (result) {\r\n            if (!result || !result.range || !result.value) {\r\n                // No proper result\r\n                return;\r\n            }\r\n            if (!state.validate(_this.editor)) {\r\n                // state has changed\r\n                return;\r\n            }\r\n            // Selection\r\n            var editRange = Range.lift(result.range);\r\n            var highlightRange = result.range;\r\n            var diff = result.value.length - (selection.endColumn - selection.startColumn);\r\n            // highlight\r\n            highlightRange = {\r\n                startLineNumber: highlightRange.startLineNumber,\r\n                startColumn: highlightRange.startColumn,\r\n                endLineNumber: highlightRange.endLineNumber,\r\n                endColumn: highlightRange.startColumn + result.value.length\r\n            };\r\n            if (diff > 1) {\r\n                selection = new Selection(selection.startLineNumber, selection.startColumn, selection.endLineNumber, selection.endColumn + diff - 1);\r\n            }\r\n            // Insert new text\r\n            var command = new InPlaceReplaceCommand(editRange, selection, result.value);\r\n            _this.editor.pushUndoStop();\r\n            _this.editor.executeCommand(source, command);\r\n            _this.editor.pushUndoStop();\r\n            // add decoration\r\n            _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, [{\r\n                    range: highlightRange,\r\n                    options: InPlaceReplaceController.DECORATION\r\n                }]);\r\n            // remove decoration after delay\r\n            if (_this.decorationRemover) {\r\n                _this.decorationRemover.cancel();\r\n            }\r\n            _this.decorationRemover = timeout(350);\r\n            _this.decorationRemover.then(function () { return _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, []); }).catch(onUnexpectedError);\r\n        }).catch(onUnexpectedError);\r\n    };\r\n    InPlaceReplaceController.ID = 'editor.contrib.inPlaceReplaceController';\r\n    InPlaceReplaceController.DECORATION = ModelDecorationOptions.register({\r\n        className: 'valueSetReplacement'\r\n    });\r\n    InPlaceReplaceController = __decorate([\r\n        __param(1, IEditorWorkerService)\r\n    ], InPlaceReplaceController);\r\n    return InPlaceReplaceController;\r\n}());\r\nvar InPlaceReplaceUp = /** @class */ (function (_super) {\r\n    __extends(InPlaceReplaceUp, _super);\r\n    function InPlaceReplaceUp() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inPlaceReplace.up',\r\n            label: nls.localize('InPlaceReplaceAction.previous.label', \"Replace with Previous Value\"),\r\n            alias: 'Replace with Previous Value',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 82 /* US_COMMA */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InPlaceReplaceUp.prototype.run = function (accessor, editor) {\r\n        var controller = InPlaceReplaceController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        return controller.run(this.id, true);\r\n    };\r\n    return InPlaceReplaceUp;\r\n}(EditorAction));\r\nvar InPlaceReplaceDown = /** @class */ (function (_super) {\r\n    __extends(InPlaceReplaceDown, _super);\r\n    function InPlaceReplaceDown() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inPlaceReplace.down',\r\n            label: nls.localize('InPlaceReplaceAction.next.label', \"Replace with Next Value\"),\r\n            alias: 'Replace with Next Value',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 84 /* US_DOT */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InPlaceReplaceDown.prototype.run = function (accessor, editor) {\r\n        var controller = InPlaceReplaceController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        return controller.run(this.id, false);\r\n    };\r\n    return InPlaceReplaceDown;\r\n}(EditorAction));\r\nregisterEditorContribution(InPlaceReplaceController.ID, InPlaceReplaceController);\r\nregisterEditorAction(InPlaceReplaceUp);\r\nregisterEditorAction(InPlaceReplaceDown);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorBracketMatchBorder);\r\n    if (border) {\r\n        collector.addRule(\".monaco-editor.vs .valueSetReplacement { outline: solid 2px \" + border + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditOperation } from '../core/editOperation.js';\r\nimport { Range } from '../core/range.js';\r\nvar TrimTrailingWhitespaceCommand = /** @class */ (function () {\r\n    function TrimTrailingWhitespaceCommand(selection, cursors) {\r\n        this._selection = selection;\r\n        this._cursors = cursors;\r\n        this._selectionId = null;\r\n    }\r\n    TrimTrailingWhitespaceCommand.prototype.getEditOperations = function (model, builder) {\r\n        var ops = trimTrailingWhitespace(model, this._cursors);\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            var op = ops[i];\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n        this._selectionId = builder.trackSelection(this._selection);\r\n    };\r\n    TrimTrailingWhitespaceCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this._selectionId);\r\n    };\r\n    return TrimTrailingWhitespaceCommand;\r\n}());\r\nexport { TrimTrailingWhitespaceCommand };\r\n/**\r\n * Generate commands for trimming trailing whitespace on a model and ignore lines on which cursors are sitting.\r\n */\r\nexport function trimTrailingWhitespace(model, cursors) {\r\n    // Sort cursors ascending\r\n    cursors.sort(function (a, b) {\r\n        if (a.lineNumber === b.lineNumber) {\r\n            return a.column - b.column;\r\n        }\r\n        return a.lineNumber - b.lineNumber;\r\n    });\r\n    // Reduce multiple cursors on the same line and only keep the last one on the line\r\n    for (var i = cursors.length - 2; i >= 0; i--) {\r\n        if (cursors[i].lineNumber === cursors[i + 1].lineNumber) {\r\n            // Remove cursor at `i`\r\n            cursors.splice(i, 1);\r\n        }\r\n    }\r\n    var r = [];\r\n    var rLen = 0;\r\n    var cursorIndex = 0;\r\n    var cursorLen = cursors.length;\r\n    for (var lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++) {\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var maxLineColumn = lineContent.length + 1;\r\n        var minEditColumn = 0;\r\n        if (cursorIndex < cursorLen && cursors[cursorIndex].lineNumber === lineNumber) {\r\n            minEditColumn = cursors[cursorIndex].column;\r\n            cursorIndex++;\r\n            if (minEditColumn === maxLineColumn) {\r\n                // The cursor is at the end of the line => no edits for sure on this line\r\n                continue;\r\n            }\r\n        }\r\n        if (lineContent.length === 0) {\r\n            continue;\r\n        }\r\n        var lastNonWhitespaceIndex = strings.lastNonWhitespaceIndex(lineContent);\r\n        var fromColumn = 0;\r\n        if (lastNonWhitespaceIndex === -1) {\r\n            // Entire line is whitespace\r\n            fromColumn = 1;\r\n        }\r\n        else if (lastNonWhitespaceIndex !== lineContent.length - 1) {\r\n            // There is trailing whitespace\r\n            fromColumn = lastNonWhitespaceIndex + 2;\r\n        }\r\n        else {\r\n            // There is no trailing whitespace\r\n            continue;\r\n        }\r\n        fromColumn = Math.max(minEditColumn, fromColumn);\r\n        r[rLen++] = EditOperation.delete(new Range(lineNumber, fromColumn, lineNumber, maxLineColumn));\r\n    }\r\n    return r;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nvar CopyLinesCommand = /** @class */ (function () {\r\n    function CopyLinesCommand(selection, isCopyingDown) {\r\n        this._selection = selection;\r\n        this._isCopyingDown = isCopyingDown;\r\n        this._selectionDirection = 0 /* LTR */;\r\n        this._selectionId = null;\r\n        this._startLineNumberDelta = 0;\r\n        this._endLineNumberDelta = 0;\r\n    }\r\n    CopyLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._startLineNumberDelta = 0;\r\n        this._endLineNumberDelta = 0;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._endLineNumberDelta = 1;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var sourceLines = [];\r\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\r\n            sourceLines.push(model.getLineContent(i));\r\n        }\r\n        var sourceText = sourceLines.join('\\n');\r\n        if (sourceText === '') {\r\n            // Duplicating empty line\r\n            if (this._isCopyingDown) {\r\n                this._startLineNumberDelta++;\r\n                this._endLineNumberDelta++;\r\n            }\r\n        }\r\n        if (!this._isCopyingDown) {\r\n            builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + sourceText);\r\n        }\r\n        else {\r\n            builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), sourceText + '\\n');\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n        this._selectionDirection = this._selection.getDirection();\r\n    };\r\n    CopyLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._startLineNumberDelta !== 0 || this._endLineNumberDelta !== 0) {\r\n            var startLineNumber = result.startLineNumber;\r\n            var startColumn = result.startColumn;\r\n            var endLineNumber = result.endLineNumber;\r\n            var endColumn = result.endColumn;\r\n            if (this._startLineNumberDelta !== 0) {\r\n                startLineNumber = startLineNumber + this._startLineNumberDelta;\r\n                startColumn = 1;\r\n            }\r\n            if (this._endLineNumberDelta !== 0) {\r\n                endLineNumber = endLineNumber + this._endLineNumberDelta;\r\n                endColumn = 1;\r\n            }\r\n            result = Selection.createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, this._selectionDirection);\r\n        }\r\n        return result;\r\n    };\r\n    return CopyLinesCommand;\r\n}());\r\nexport { CopyLinesCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport function getSpaceCnt(str, tabSize) {\r\n    var spacesCnt = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (str.charAt(i) === '\\t') {\r\n            spacesCnt += tabSize;\r\n        }\r\n        else {\r\n            spacesCnt++;\r\n        }\r\n    }\r\n    return spacesCnt;\r\n}\r\nexport function generateIndent(spacesCnt, tabSize, insertSpaces) {\r\n    spacesCnt = spacesCnt < 0 ? 0 : spacesCnt;\r\n    var result = '';\r\n    if (!insertSpaces) {\r\n        var tabsCnt = Math.floor(spacesCnt / tabSize);\r\n        spacesCnt = spacesCnt % tabSize;\r\n        for (var i = 0; i < tabsCnt; i++) {\r\n            result += '\\t';\r\n        }\r\n    }\r\n    for (var i = 0; i < spacesCnt; i++) {\r\n        result += ' ';\r\n    }\r\n    return result;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { ShiftCommand } from '../../common/commands/shiftCommand.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { IndentAction } from '../../common/modes/languageConfiguration.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport * as indentUtils from '../indentation/indentUtils.js';\r\nvar MoveLinesCommand = /** @class */ (function () {\r\n    function MoveLinesCommand(selection, isMovingDown, autoIndent) {\r\n        this._selection = selection;\r\n        this._isMovingDown = isMovingDown;\r\n        this._autoIndent = autoIndent;\r\n        this._selectionId = null;\r\n        this._moveEndLineSelectionShrink = false;\r\n    }\r\n    MoveLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var modelLineCount = model.getLineCount();\r\n        if (this._isMovingDown && this._selection.endLineNumber === modelLineCount) {\r\n            this._selectionId = builder.trackSelection(this._selection);\r\n            return;\r\n        }\r\n        if (!this._isMovingDown && this._selection.startLineNumber === 1) {\r\n            this._selectionId = builder.trackSelection(this._selection);\r\n            return;\r\n        }\r\n        this._moveEndPositionDown = false;\r\n        var s = this._selection;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._moveEndPositionDown = true;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var _a = model.getOptions(), tabSize = _a.tabSize, indentSize = _a.indentSize, insertSpaces = _a.insertSpaces;\r\n        var indentConverter = this.buildIndentConverter(tabSize, indentSize, insertSpaces);\r\n        var virtualModel = {\r\n            getLineTokens: function (lineNumber) {\r\n                return model.getLineTokens(lineNumber);\r\n            },\r\n            getLanguageIdentifier: function () {\r\n                return model.getLanguageIdentifier();\r\n            },\r\n            getLanguageIdAtPosition: function (lineNumber, column) {\r\n                return model.getLanguageIdAtPosition(lineNumber, column);\r\n            },\r\n            getLineContent: null,\r\n        };\r\n        if (s.startLineNumber === s.endLineNumber && model.getLineMaxColumn(s.startLineNumber) === 1) {\r\n            // Current line is empty\r\n            var lineNumber = s.startLineNumber;\r\n            var otherLineNumber = (this._isMovingDown ? lineNumber + 1 : lineNumber - 1);\r\n            if (model.getLineMaxColumn(otherLineNumber) === 1) {\r\n                // Other line number is empty too, so no editing is needed\r\n                // Add a no-op to force running by the model\r\n                builder.addEditOperation(new Range(1, 1, 1, 1), null);\r\n            }\r\n            else {\r\n                // Type content from other line number on line number\r\n                builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), model.getLineContent(otherLineNumber));\r\n                // Remove content from other line number\r\n                builder.addEditOperation(new Range(otherLineNumber, 1, otherLineNumber, model.getLineMaxColumn(otherLineNumber)), null);\r\n            }\r\n            // Track selection at the other line number\r\n            s = new Selection(otherLineNumber, 1, otherLineNumber, 1);\r\n        }\r\n        else {\r\n            var movingLineNumber_1;\r\n            var movingLineText = void 0;\r\n            if (this._isMovingDown) {\r\n                movingLineNumber_1 = s.endLineNumber + 1;\r\n                movingLineText = model.getLineContent(movingLineNumber_1);\r\n                // Delete line that needs to be moved\r\n                builder.addEditOperation(new Range(movingLineNumber_1 - 1, model.getLineMaxColumn(movingLineNumber_1 - 1), movingLineNumber_1, model.getLineMaxColumn(movingLineNumber_1)), null);\r\n                var insertingText_1 = movingLineText;\r\n                if (this.shouldAutoIndent(model, s)) {\r\n                    var movingLineMatchResult = this.matchEnterRule(model, indentConverter, tabSize, movingLineNumber_1, s.startLineNumber - 1);\r\n                    // if s.startLineNumber - 1 matches onEnter rule, we still honor that.\r\n                    if (movingLineMatchResult !== null) {\r\n                        var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber_1));\r\n                        var newSpaceCnt = movingLineMatchResult + indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                        var newIndentation = indentUtils.generateIndent(newSpaceCnt, tabSize, insertSpaces);\r\n                        insertingText_1 = newIndentation + this.trimLeft(movingLineText);\r\n                    }\r\n                    else {\r\n                        // no enter rule matches, let's check indentatin rules then.\r\n                        virtualModel.getLineContent = function (lineNumber) {\r\n                            if (lineNumber === s.startLineNumber) {\r\n                                return model.getLineContent(movingLineNumber_1);\r\n                            }\r\n                            else {\r\n                                return model.getLineContent(lineNumber);\r\n                            }\r\n                        };\r\n                        var indentOfMovingLine = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber_1, 1), s.startLineNumber, indentConverter);\r\n                        if (indentOfMovingLine !== null) {\r\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber_1));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(indentOfMovingLine, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var newIndentation = indentUtils.generateIndent(newSpaceCnt, tabSize, insertSpaces);\r\n                                insertingText_1 = newIndentation + this.trimLeft(movingLineText);\r\n                            }\r\n                        }\r\n                    }\r\n                    // add edit operations for moving line first to make sure it's executed after we make indentation change\r\n                    // to s.startLineNumber\r\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\r\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber, insertingText_1);\r\n                    // check if the line being moved before matches onEnter rules, if so let's adjust the indentation by onEnter rules.\r\n                    if (ret !== null) {\r\n                        if (ret !== 0) {\r\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // it doesn't match onEnter rules, let's check indentation rules then.\r\n                        virtualModel.getLineContent = function (lineNumber) {\r\n                            if (lineNumber === s.startLineNumber) {\r\n                                return insertingText_1;\r\n                            }\r\n                            else if (lineNumber >= s.startLineNumber + 1 && lineNumber <= s.endLineNumber + 1) {\r\n                                return model.getLineContent(lineNumber - 1);\r\n                            }\r\n                            else {\r\n                                return model.getLineContent(lineNumber);\r\n                            }\r\n                        };\r\n                        var newIndentatOfMovingBlock = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber_1, 1), s.startLineNumber + 1, indentConverter);\r\n                        if (newIndentatOfMovingBlock !== null) {\r\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(newIndentatOfMovingBlock, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\r\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Insert line that needs to be moved before\r\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\r\n                }\r\n            }\r\n            else {\r\n                movingLineNumber_1 = s.startLineNumber - 1;\r\n                movingLineText = model.getLineContent(movingLineNumber_1);\r\n                // Delete line that needs to be moved\r\n                builder.addEditOperation(new Range(movingLineNumber_1, 1, movingLineNumber_1 + 1, 1), null);\r\n                // Insert line that needs to be moved after\r\n                builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + movingLineText);\r\n                if (this.shouldAutoIndent(model, s)) {\r\n                    virtualModel.getLineContent = function (lineNumber) {\r\n                        if (lineNumber === movingLineNumber_1) {\r\n                            return model.getLineContent(s.startLineNumber);\r\n                        }\r\n                        else {\r\n                            return model.getLineContent(lineNumber);\r\n                        }\r\n                    };\r\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber - 2);\r\n                    // check if s.startLineNumber - 2 matches onEnter rules, if so adjust the moving block by onEnter rules.\r\n                    if (ret !== null) {\r\n                        if (ret !== 0) {\r\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // it doesn't match any onEnter rule, let's check indentation rules then.\r\n                        var indentOfFirstLine = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(s.startLineNumber, 1), movingLineNumber_1, indentConverter);\r\n                        if (indentOfFirstLine !== null) {\r\n                            // adjust the indentation of the moving block\r\n                            var oldIndent = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(indentOfFirstLine, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndent, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\r\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n    };\r\n    MoveLinesCommand.prototype.buildIndentConverter = function (tabSize, indentSize, insertSpaces) {\r\n        return {\r\n            shiftIndent: function (indentation) {\r\n                return ShiftCommand.shiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\r\n            },\r\n            unshiftIndent: function (indentation) {\r\n                return ShiftCommand.unshiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\r\n            }\r\n        };\r\n    };\r\n    MoveLinesCommand.prototype.matchEnterRule = function (model, indentConverter, tabSize, line, oneLineAbove, oneLineAboveText) {\r\n        var validPrecedingLine = oneLineAbove;\r\n        while (validPrecedingLine >= 1) {\r\n            // ship empty lines as empty lines just inherit indentation\r\n            var lineContent = void 0;\r\n            if (validPrecedingLine === oneLineAbove && oneLineAboveText !== undefined) {\r\n                lineContent = oneLineAboveText;\r\n            }\r\n            else {\r\n                lineContent = model.getLineContent(validPrecedingLine);\r\n            }\r\n            var nonWhitespaceIdx = strings.lastNonWhitespaceIndex(lineContent);\r\n            if (nonWhitespaceIdx >= 0) {\r\n                break;\r\n            }\r\n            validPrecedingLine--;\r\n        }\r\n        if (validPrecedingLine < 1 || line > model.getLineCount()) {\r\n            return null;\r\n        }\r\n        var maxColumn = model.getLineMaxColumn(validPrecedingLine);\r\n        var enter = LanguageConfigurationRegistry.getEnterAction(this._autoIndent, model, new Range(validPrecedingLine, maxColumn, validPrecedingLine, maxColumn));\r\n        if (enter) {\r\n            var enterPrefix = enter.indentation;\r\n            if (enter.indentAction === IndentAction.None) {\r\n                enterPrefix = enter.indentation + enter.appendText;\r\n            }\r\n            else if (enter.indentAction === IndentAction.Indent) {\r\n                enterPrefix = enter.indentation + enter.appendText;\r\n            }\r\n            else if (enter.indentAction === IndentAction.IndentOutdent) {\r\n                enterPrefix = enter.indentation;\r\n            }\r\n            else if (enter.indentAction === IndentAction.Outdent) {\r\n                enterPrefix = indentConverter.unshiftIndent(enter.indentation) + enter.appendText;\r\n            }\r\n            var movingLineText = model.getLineContent(line);\r\n            if (this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix)) >= 0) {\r\n                var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(line));\r\n                var newIndentation = strings.getLeadingWhitespace(enterPrefix);\r\n                var indentMetadataOfMovelingLine = LanguageConfigurationRegistry.getIndentMetadata(model, line);\r\n                if (indentMetadataOfMovelingLine !== null && indentMetadataOfMovelingLine & 2 /* DECREASE_MASK */) {\r\n                    newIndentation = indentConverter.unshiftIndent(newIndentation);\r\n                }\r\n                var newSpaceCnt = indentUtils.getSpaceCnt(newIndentation, tabSize);\r\n                var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                return newSpaceCnt - oldSpaceCnt;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MoveLinesCommand.prototype.trimLeft = function (str) {\r\n        return str.replace(/^\\s+/, '');\r\n    };\r\n    MoveLinesCommand.prototype.shouldAutoIndent = function (model, selection) {\r\n        if (this._autoIndent < 4 /* Full */) {\r\n            return false;\r\n        }\r\n        // if it's not easy to tokenize, we stop auto indent.\r\n        if (!model.isCheapToTokenize(selection.startLineNumber)) {\r\n            return false;\r\n        }\r\n        var languageAtSelectionStart = model.getLanguageIdAtPosition(selection.startLineNumber, 1);\r\n        var languageAtSelectionEnd = model.getLanguageIdAtPosition(selection.endLineNumber, 1);\r\n        if (languageAtSelectionStart !== languageAtSelectionEnd) {\r\n            return false;\r\n        }\r\n        if (LanguageConfigurationRegistry.getIndentRulesSupport(languageAtSelectionStart) === null) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    MoveLinesCommand.prototype.getIndentEditsOfMovingBlock = function (model, builder, s, tabSize, insertSpaces, offset) {\r\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\r\n            var lineContent = model.getLineContent(i);\r\n            var originalIndent = strings.getLeadingWhitespace(lineContent);\r\n            var originalSpacesCnt = indentUtils.getSpaceCnt(originalIndent, tabSize);\r\n            var newSpacesCnt = originalSpacesCnt + offset;\r\n            var newIndent = indentUtils.generateIndent(newSpacesCnt, tabSize, insertSpaces);\r\n            if (newIndent !== originalIndent) {\r\n                builder.addEditOperation(new Range(i, 1, i, originalIndent.length + 1), newIndent);\r\n                if (i === s.endLineNumber && s.endColumn <= originalIndent.length + 1 && newIndent === '') {\r\n                    // as users select part of the original indent white spaces\r\n                    // when we adjust the indentation of endLine, we should adjust the cursor position as well.\r\n                    this._moveEndLineSelectionShrink = true;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MoveLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moveEndPositionDown) {\r\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\r\n        }\r\n        if (this._moveEndLineSelectionShrink && result.startLineNumber < result.endLineNumber) {\r\n            result = result.setEndPosition(result.endLineNumber, 2);\r\n        }\r\n        return result;\r\n    };\r\n    return MoveLinesCommand;\r\n}());\r\nexport { MoveLinesCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar SortLinesCommand = /** @class */ (function () {\r\n    function SortLinesCommand(selection, descending) {\r\n        this.selection = selection;\r\n        this.descending = descending;\r\n        this.selectionId = null;\r\n    }\r\n    SortLinesCommand.getCollator = function () {\r\n        if (!SortLinesCommand._COLLATOR) {\r\n            SortLinesCommand._COLLATOR = new Intl.Collator();\r\n        }\r\n        return SortLinesCommand._COLLATOR;\r\n    };\r\n    SortLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var op = sortLines(model, this.selection, this.descending);\r\n        if (op) {\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n        this.selectionId = builder.trackSelection(this.selection);\r\n    };\r\n    SortLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this.selectionId);\r\n    };\r\n    SortLinesCommand.canRun = function (model, selection, descending) {\r\n        if (model === null) {\r\n            return false;\r\n        }\r\n        var data = getSortData(model, selection, descending);\r\n        if (!data) {\r\n            return false;\r\n        }\r\n        for (var i = 0, len = data.before.length; i < len; i++) {\r\n            if (data.before[i] !== data.after[i]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    SortLinesCommand._COLLATOR = null;\r\n    return SortLinesCommand;\r\n}());\r\nexport { SortLinesCommand };\r\nfunction getSortData(model, selection, descending) {\r\n    var startLineNumber = selection.startLineNumber;\r\n    var endLineNumber = selection.endLineNumber;\r\n    if (selection.endColumn === 1) {\r\n        endLineNumber--;\r\n    }\r\n    // Nothing to sort if user didn't select anything.\r\n    if (startLineNumber >= endLineNumber) {\r\n        return null;\r\n    }\r\n    var linesToSort = [];\r\n    // Get the contents of the selection to be sorted.\r\n    for (var lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\r\n        linesToSort.push(model.getLineContent(lineNumber));\r\n    }\r\n    var sorted = linesToSort.slice(0);\r\n    sorted.sort(SortLinesCommand.getCollator().compare);\r\n    // If descending, reverse the order.\r\n    if (descending === true) {\r\n        sorted = sorted.reverse();\r\n    }\r\n    return {\r\n        startLineNumber: startLineNumber,\r\n        endLineNumber: endLineNumber,\r\n        before: linesToSort,\r\n        after: sorted\r\n    };\r\n}\r\n/**\r\n * Generate commands for sorting lines on a model.\r\n */\r\nfunction sortLines(model, selection, descending) {\r\n    var data = getSortData(model, selection, descending);\r\n    if (!data) {\r\n        return null;\r\n    }\r\n    return EditOperation.replace(new Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\\n'));\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { CoreEditingCommands } from '../../browser/controller/coreCommands.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection, ReplaceCommandThatSelectsText } from '../../common/commands/replaceCommand.js';\r\nimport { TrimTrailingWhitespaceCommand } from '../../common/commands/trimTrailingWhitespaceCommand.js';\r\nimport { TypeOperations } from '../../common/controller/cursorTypeOperations.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CopyLinesCommand } from './copyLinesCommand.js';\r\nimport { MoveLinesCommand } from './moveLinesCommand.js';\r\nimport { SortLinesCommand } from './sortLinesCommand.js';\r\n// copy lines\r\nvar AbstractCopyLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractCopyLinesAction, _super);\r\n    function AbstractCopyLinesAction(down, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.down = down;\r\n        return _this;\r\n    }\r\n    AbstractCopyLinesAction.prototype.run = function (_accessor, editor) {\r\n        var commands = [];\r\n        var selections = editor.getSelections() || [];\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new CopyLinesCommand(selection, this.down));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractCopyLinesAction;\r\n}(EditorAction));\r\nvar CopyLinesUpAction = /** @class */ (function (_super) {\r\n    __extends(CopyLinesUpAction, _super);\r\n    function CopyLinesUpAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.copyLinesUpAction',\r\n            label: nls.localize('lines.copyUp', \"Copy Line Up\"),\r\n            alias: 'Copy Line Up',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miCopyLinesUp', comment: ['&& denotes a mnemonic'] }, \"&&Copy Line Up\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    return CopyLinesUpAction;\r\n}(AbstractCopyLinesAction));\r\nvar CopyLinesDownAction = /** @class */ (function (_super) {\r\n    __extends(CopyLinesDownAction, _super);\r\n    function CopyLinesDownAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.copyLinesDownAction',\r\n            label: nls.localize('lines.copyDown', \"Copy Line Down\"),\r\n            alias: 'Copy Line Down',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miCopyLinesDown', comment: ['&& denotes a mnemonic'] }, \"Co&&py Line Down\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    return CopyLinesDownAction;\r\n}(AbstractCopyLinesAction));\r\nvar DuplicateSelectionAction = /** @class */ (function (_super) {\r\n    __extends(DuplicateSelectionAction, _super);\r\n    function DuplicateSelectionAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.duplicateSelection',\r\n            label: nls.localize('duplicateSelection', \"Duplicate Selection\"),\r\n            alias: 'Duplicate Selection',\r\n            precondition: EditorContextKeys.writable,\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miDuplicateSelection', comment: ['&& denotes a mnemonic'] }, \"&&Duplicate Selection\"),\r\n                order: 5\r\n            }\r\n        }) || this;\r\n    }\r\n    DuplicateSelectionAction.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        var model = editor.getModel();\r\n        for (var _i = 0, selections_2 = selections; _i < selections_2.length; _i++) {\r\n            var selection = selections_2[_i];\r\n            if (selection.isEmpty()) {\r\n                commands.push(new CopyLinesCommand(selection, true));\r\n            }\r\n            else {\r\n                var insertSelection = new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn);\r\n                commands.push(new ReplaceCommandThatSelectsText(insertSelection, model.getValueInRange(selection)));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return DuplicateSelectionAction;\r\n}(EditorAction));\r\nexport { DuplicateSelectionAction };\r\n// move lines\r\nvar AbstractMoveLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractMoveLinesAction, _super);\r\n    function AbstractMoveLinesAction(down, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.down = down;\r\n        return _this;\r\n    }\r\n    AbstractMoveLinesAction.prototype.run = function (_accessor, editor) {\r\n        var commands = [];\r\n        var selections = editor.getSelections() || [];\r\n        var autoIndent = editor.getOption(8 /* autoIndent */);\r\n        for (var _i = 0, selections_3 = selections; _i < selections_3.length; _i++) {\r\n            var selection = selections_3[_i];\r\n            commands.push(new MoveLinesCommand(selection, this.down, autoIndent));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractMoveLinesAction;\r\n}(EditorAction));\r\nvar MoveLinesUpAction = /** @class */ (function (_super) {\r\n    __extends(MoveLinesUpAction, _super);\r\n    function MoveLinesUpAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.moveLinesUpAction',\r\n            label: nls.localize('lines.moveUp', \"Move Line Up\"),\r\n            alias: 'Move Line Up',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 16 /* UpArrow */,\r\n                linux: { primary: 512 /* Alt */ | 16 /* UpArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miMoveLinesUp', comment: ['&& denotes a mnemonic'] }, \"Mo&&ve Line Up\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return MoveLinesUpAction;\r\n}(AbstractMoveLinesAction));\r\nvar MoveLinesDownAction = /** @class */ (function (_super) {\r\n    __extends(MoveLinesDownAction, _super);\r\n    function MoveLinesDownAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.moveLinesDownAction',\r\n            label: nls.localize('lines.moveDown', \"Move Line Down\"),\r\n            alias: 'Move Line Down',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 18 /* DownArrow */,\r\n                linux: { primary: 512 /* Alt */ | 18 /* DownArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miMoveLinesDown', comment: ['&& denotes a mnemonic'] }, \"Move &&Line Down\"),\r\n                order: 4\r\n            }\r\n        }) || this;\r\n    }\r\n    return MoveLinesDownAction;\r\n}(AbstractMoveLinesAction));\r\nvar AbstractSortLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractSortLinesAction, _super);\r\n    function AbstractSortLinesAction(descending, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.descending = descending;\r\n        return _this;\r\n    }\r\n    AbstractSortLinesAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections() || [];\r\n        for (var _i = 0, selections_4 = selections; _i < selections_4.length; _i++) {\r\n            var selection = selections_4[_i];\r\n            if (!SortLinesCommand.canRun(editor.getModel(), selection, this.descending)) {\r\n                return;\r\n            }\r\n        }\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            commands[i] = new SortLinesCommand(selections[i], this.descending);\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractSortLinesAction;\r\n}(EditorAction));\r\nexport { AbstractSortLinesAction };\r\nvar SortLinesAscendingAction = /** @class */ (function (_super) {\r\n    __extends(SortLinesAscendingAction, _super);\r\n    function SortLinesAscendingAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.sortLinesAscending',\r\n            label: nls.localize('lines.sortAscending', \"Sort Lines Ascending\"),\r\n            alias: 'Sort Lines Ascending',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return SortLinesAscendingAction;\r\n}(AbstractSortLinesAction));\r\nexport { SortLinesAscendingAction };\r\nvar SortLinesDescendingAction = /** @class */ (function (_super) {\r\n    __extends(SortLinesDescendingAction, _super);\r\n    function SortLinesDescendingAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.sortLinesDescending',\r\n            label: nls.localize('lines.sortDescending', \"Sort Lines Descending\"),\r\n            alias: 'Sort Lines Descending',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return SortLinesDescendingAction;\r\n}(AbstractSortLinesAction));\r\nexport { SortLinesDescendingAction };\r\nvar TrimTrailingWhitespaceAction = /** @class */ (function (_super) {\r\n    __extends(TrimTrailingWhitespaceAction, _super);\r\n    function TrimTrailingWhitespaceAction() {\r\n        return _super.call(this, {\r\n            id: TrimTrailingWhitespaceAction.ID,\r\n            label: nls.localize('lines.trimTrailingWhitespace', \"Trim Trailing Whitespace\"),\r\n            alias: 'Trim Trailing Whitespace',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 54 /* KEY_X */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TrimTrailingWhitespaceAction.prototype.run = function (_accessor, editor, args) {\r\n        var cursors = [];\r\n        if (args.reason === 'auto-save') {\r\n            // See https://github.com/editorconfig/editorconfig-vscode/issues/47\r\n            // It is very convenient for the editor config extension to invoke this action.\r\n            // So, if we get a reason:'auto-save' passed in, let's preserve cursor positions.\r\n            cursors = (editor.getSelections() || []).map(function (s) { return new Position(s.positionLineNumber, s.positionColumn); });\r\n        }\r\n        var selection = editor.getSelection();\r\n        if (selection === null) {\r\n            return;\r\n        }\r\n        var command = new TrimTrailingWhitespaceCommand(selection, cursors);\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, [command]);\r\n        editor.pushUndoStop();\r\n    };\r\n    TrimTrailingWhitespaceAction.ID = 'editor.action.trimTrailingWhitespace';\r\n    return TrimTrailingWhitespaceAction;\r\n}(EditorAction));\r\nexport { TrimTrailingWhitespaceAction };\r\nvar DeleteLinesAction = /** @class */ (function (_super) {\r\n    __extends(DeleteLinesAction, _super);\r\n    function DeleteLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.deleteLines',\r\n            label: nls.localize('lines.delete', \"Delete Line\"),\r\n            alias: 'Delete Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 41 /* KEY_K */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteLinesAction.prototype.run = function (_accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var ops = this._getLinesToRemove(editor);\r\n        var model = editor.getModel();\r\n        if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\r\n            // Model is empty\r\n            return;\r\n        }\r\n        var linesDeleted = 0;\r\n        var edits = [];\r\n        var cursorState = [];\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            var op = ops[i];\r\n            var startLineNumber = op.startLineNumber;\r\n            var endLineNumber = op.endLineNumber;\r\n            var startColumn = 1;\r\n            var endColumn = model.getLineMaxColumn(endLineNumber);\r\n            if (endLineNumber < model.getLineCount()) {\r\n                endLineNumber += 1;\r\n                endColumn = 1;\r\n            }\r\n            else if (startLineNumber > 1) {\r\n                startLineNumber -= 1;\r\n                startColumn = model.getLineMaxColumn(startLineNumber);\r\n            }\r\n            edits.push(EditOperation.replace(new Selection(startLineNumber, startColumn, endLineNumber, endColumn), ''));\r\n            cursorState.push(new Selection(startLineNumber - linesDeleted, op.positionColumn, startLineNumber - linesDeleted, op.positionColumn));\r\n            linesDeleted += (op.endLineNumber - op.startLineNumber + 1);\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, cursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    DeleteLinesAction.prototype._getLinesToRemove = function (editor) {\r\n        // Construct delete operations\r\n        var operations = editor.getSelections().map(function (s) {\r\n            var endLineNumber = s.endLineNumber;\r\n            if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n                endLineNumber -= 1;\r\n            }\r\n            return {\r\n                startLineNumber: s.startLineNumber,\r\n                selectionStartColumn: s.selectionStartColumn,\r\n                endLineNumber: endLineNumber,\r\n                positionColumn: s.positionColumn\r\n            };\r\n        });\r\n        // Sort delete operations\r\n        operations.sort(function (a, b) {\r\n            if (a.startLineNumber === b.startLineNumber) {\r\n                return a.endLineNumber - b.endLineNumber;\r\n            }\r\n            return a.startLineNumber - b.startLineNumber;\r\n        });\r\n        // Merge delete operations which are adjacent or overlapping\r\n        var mergedOperations = [];\r\n        var previousOperation = operations[0];\r\n        for (var i = 1; i < operations.length; i++) {\r\n            if (previousOperation.endLineNumber + 1 >= operations[i].startLineNumber) {\r\n                // Merge current operations into the previous one\r\n                previousOperation.endLineNumber = operations[i].endLineNumber;\r\n            }\r\n            else {\r\n                // Push previous operation\r\n                mergedOperations.push(previousOperation);\r\n                previousOperation = operations[i];\r\n            }\r\n        }\r\n        // Push the last operation\r\n        mergedOperations.push(previousOperation);\r\n        return mergedOperations;\r\n    };\r\n    return DeleteLinesAction;\r\n}(EditorAction));\r\nexport { DeleteLinesAction };\r\nvar IndentLinesAction = /** @class */ (function (_super) {\r\n    __extends(IndentLinesAction, _super);\r\n    function IndentLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.indentLines',\r\n            label: nls.localize('lines.indent', \"Indent Line\"),\r\n            alias: 'Indent Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    IndentLinesAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.indent(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n        editor.pushUndoStop();\r\n    };\r\n    return IndentLinesAction;\r\n}(EditorAction));\r\nexport { IndentLinesAction };\r\nvar OutdentLinesAction = /** @class */ (function (_super) {\r\n    __extends(OutdentLinesAction, _super);\r\n    function OutdentLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.outdentLines',\r\n            label: nls.localize('lines.outdent', \"Outdent Line\"),\r\n            alias: 'Outdent Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    OutdentLinesAction.prototype.run = function (_accessor, editor) {\r\n        CoreEditingCommands.Outdent.runEditorCommand(_accessor, editor, null);\r\n    };\r\n    return OutdentLinesAction;\r\n}(EditorAction));\r\nvar InsertLineBeforeAction = /** @class */ (function (_super) {\r\n    __extends(InsertLineBeforeAction, _super);\r\n    function InsertLineBeforeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertLineBefore',\r\n            label: nls.localize('lines.insertBefore', \"Insert Line Above\"),\r\n            alias: 'Insert Line Above',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertLineBeforeAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.lineInsertBefore(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n    };\r\n    return InsertLineBeforeAction;\r\n}(EditorAction));\r\nexport { InsertLineBeforeAction };\r\nvar InsertLineAfterAction = /** @class */ (function (_super) {\r\n    __extends(InsertLineAfterAction, _super);\r\n    function InsertLineAfterAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertLineAfter',\r\n            label: nls.localize('lines.insertAfter', \"Insert Line Below\"),\r\n            alias: 'Insert Line Below',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertLineAfterAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.lineInsertAfter(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n    };\r\n    return InsertLineAfterAction;\r\n}(EditorAction));\r\nexport { InsertLineAfterAction };\r\nvar AbstractDeleteAllToBoundaryAction = /** @class */ (function (_super) {\r\n    __extends(AbstractDeleteAllToBoundaryAction, _super);\r\n    function AbstractDeleteAllToBoundaryAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AbstractDeleteAllToBoundaryAction.prototype.run = function (_accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var primaryCursor = editor.getSelection();\r\n        var rangesToDelete = this._getRangesToDelete(editor);\r\n        // merge overlapping selections\r\n        var effectiveRanges = [];\r\n        for (var i = 0, count = rangesToDelete.length - 1; i < count; i++) {\r\n            var range = rangesToDelete[i];\r\n            var nextRange = rangesToDelete[i + 1];\r\n            if (Range.intersectRanges(range, nextRange) === null) {\r\n                effectiveRanges.push(range);\r\n            }\r\n            else {\r\n                rangesToDelete[i + 1] = Range.plusRange(range, nextRange);\r\n            }\r\n        }\r\n        effectiveRanges.push(rangesToDelete[rangesToDelete.length - 1]);\r\n        var endCursorState = this._getEndCursorState(primaryCursor, effectiveRanges);\r\n        var edits = effectiveRanges.map(function (range) {\r\n            return EditOperation.replace(range, '');\r\n        });\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, endCursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractDeleteAllToBoundaryAction;\r\n}(EditorAction));\r\nexport { AbstractDeleteAllToBoundaryAction };\r\nvar DeleteAllLeftAction = /** @class */ (function (_super) {\r\n    __extends(DeleteAllLeftAction, _super);\r\n    function DeleteAllLeftAction() {\r\n        return _super.call(this, {\r\n            id: 'deleteAllLeft',\r\n            label: nls.localize('lines.deleteAllLeft', \"Delete All Left\"),\r\n            alias: 'Delete All Left',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteAllLeftAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\r\n        var endPrimaryCursor = null;\r\n        var endCursorState = [];\r\n        var deletedLines = 0;\r\n        rangesToDelete.forEach(function (range) {\r\n            var endCursor;\r\n            if (range.endColumn === 1 && deletedLines > 0) {\r\n                var newStartLine = range.startLineNumber - deletedLines;\r\n                endCursor = new Selection(newStartLine, range.startColumn, newStartLine, range.startColumn);\r\n            }\r\n            else {\r\n                endCursor = new Selection(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);\r\n            }\r\n            deletedLines += range.endLineNumber - range.startLineNumber;\r\n            if (range.intersectRanges(primaryCursor)) {\r\n                endPrimaryCursor = endCursor;\r\n            }\r\n            else {\r\n                endCursorState.push(endCursor);\r\n            }\r\n        });\r\n        if (endPrimaryCursor) {\r\n            endCursorState.unshift(endPrimaryCursor);\r\n        }\r\n        return endCursorState;\r\n    };\r\n    DeleteAllLeftAction.prototype._getRangesToDelete = function (editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return [];\r\n        }\r\n        var rangesToDelete = selections;\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return [];\r\n        }\r\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\r\n        rangesToDelete = rangesToDelete.map(function (selection) {\r\n            if (selection.isEmpty()) {\r\n                if (selection.startColumn === 1) {\r\n                    var deleteFromLine = Math.max(1, selection.startLineNumber - 1);\r\n                    var deleteFromColumn = selection.startLineNumber === 1 ? 1 : model.getLineContent(deleteFromLine).length + 1;\r\n                    return new Range(deleteFromLine, deleteFromColumn, selection.startLineNumber, 1);\r\n                }\r\n                else {\r\n                    return new Range(selection.startLineNumber, 1, selection.startLineNumber, selection.startColumn);\r\n                }\r\n            }\r\n            else {\r\n                return new Range(selection.startLineNumber, 1, selection.endLineNumber, selection.endColumn);\r\n            }\r\n        });\r\n        return rangesToDelete;\r\n    };\r\n    return DeleteAllLeftAction;\r\n}(AbstractDeleteAllToBoundaryAction));\r\nexport { DeleteAllLeftAction };\r\nvar DeleteAllRightAction = /** @class */ (function (_super) {\r\n    __extends(DeleteAllRightAction, _super);\r\n    function DeleteAllRightAction() {\r\n        return _super.call(this, {\r\n            id: 'deleteAllRight',\r\n            label: nls.localize('lines.deleteAllRight', \"Delete All Right\"),\r\n            alias: 'Delete All Right',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 41 /* KEY_K */, secondary: [2048 /* CtrlCmd */ | 20 /* Delete */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteAllRightAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\r\n        var endPrimaryCursor = null;\r\n        var endCursorState = [];\r\n        for (var i = 0, len = rangesToDelete.length, offset = 0; i < len; i++) {\r\n            var range = rangesToDelete[i];\r\n            var endCursor = new Selection(range.startLineNumber - offset, range.startColumn, range.startLineNumber - offset, range.startColumn);\r\n            if (range.intersectRanges(primaryCursor)) {\r\n                endPrimaryCursor = endCursor;\r\n            }\r\n            else {\r\n                endCursorState.push(endCursor);\r\n            }\r\n        }\r\n        if (endPrimaryCursor) {\r\n            endCursorState.unshift(endPrimaryCursor);\r\n        }\r\n        return endCursorState;\r\n    };\r\n    DeleteAllRightAction.prototype._getRangesToDelete = function (editor) {\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return [];\r\n        }\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return [];\r\n        }\r\n        var rangesToDelete = selections.map(function (sel) {\r\n            if (sel.isEmpty()) {\r\n                var maxColumn = model.getLineMaxColumn(sel.startLineNumber);\r\n                if (sel.startColumn === maxColumn) {\r\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber + 1, 1);\r\n                }\r\n                else {\r\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber, maxColumn);\r\n                }\r\n            }\r\n            return sel;\r\n        });\r\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\r\n        return rangesToDelete;\r\n    };\r\n    return DeleteAllRightAction;\r\n}(AbstractDeleteAllToBoundaryAction));\r\nexport { DeleteAllRightAction };\r\nvar JoinLinesAction = /** @class */ (function (_super) {\r\n    __extends(JoinLinesAction, _super);\r\n    function JoinLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.joinLines',\r\n            label: nls.localize('lines.joinLines', \"Join Lines\"),\r\n            alias: 'Join Lines',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 40 /* KEY_J */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JoinLinesAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var primaryCursor = editor.getSelection();\r\n        if (primaryCursor === null) {\r\n            return;\r\n        }\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        var reducedSelections = [];\r\n        var lastSelection = selections.reduce(function (previousValue, currentValue) {\r\n            if (previousValue.isEmpty()) {\r\n                if (previousValue.endLineNumber === currentValue.startLineNumber) {\r\n                    if (primaryCursor.equalsSelection(previousValue)) {\r\n                        primaryCursor = currentValue;\r\n                    }\r\n                    return currentValue;\r\n                }\r\n                if (currentValue.startLineNumber > previousValue.endLineNumber + 1) {\r\n                    reducedSelections.push(previousValue);\r\n                    return currentValue;\r\n                }\r\n                else {\r\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\r\n                }\r\n            }\r\n            else {\r\n                if (currentValue.startLineNumber > previousValue.endLineNumber) {\r\n                    reducedSelections.push(previousValue);\r\n                    return currentValue;\r\n                }\r\n                else {\r\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\r\n                }\r\n            }\r\n        });\r\n        reducedSelections.push(lastSelection);\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var edits = [];\r\n        var endCursorState = [];\r\n        var endPrimaryCursor = primaryCursor;\r\n        var lineOffset = 0;\r\n        for (var i = 0, len = reducedSelections.length; i < len; i++) {\r\n            var selection = reducedSelections[i];\r\n            var startLineNumber = selection.startLineNumber;\r\n            var startColumn = 1;\r\n            var columnDeltaOffset = 0;\r\n            var endLineNumber = void 0, endColumn = void 0;\r\n            var selectionEndPositionOffset = model.getLineContent(selection.endLineNumber).length - selection.endColumn;\r\n            if (selection.isEmpty() || selection.startLineNumber === selection.endLineNumber) {\r\n                var position = selection.getStartPosition();\r\n                if (position.lineNumber < model.getLineCount()) {\r\n                    endLineNumber = startLineNumber + 1;\r\n                    endColumn = model.getLineMaxColumn(endLineNumber);\r\n                }\r\n                else {\r\n                    endLineNumber = position.lineNumber;\r\n                    endColumn = model.getLineMaxColumn(position.lineNumber);\r\n                }\r\n            }\r\n            else {\r\n                endLineNumber = selection.endLineNumber;\r\n                endColumn = model.getLineMaxColumn(endLineNumber);\r\n            }\r\n            var trimmedLinesContent = model.getLineContent(startLineNumber);\r\n            for (var i_1 = startLineNumber + 1; i_1 <= endLineNumber; i_1++) {\r\n                var lineText = model.getLineContent(i_1);\r\n                var firstNonWhitespaceIdx = model.getLineFirstNonWhitespaceColumn(i_1);\r\n                if (firstNonWhitespaceIdx >= 1) {\r\n                    var insertSpace = true;\r\n                    if (trimmedLinesContent === '') {\r\n                        insertSpace = false;\r\n                    }\r\n                    if (insertSpace && (trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === ' ' ||\r\n                        trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === '\\t')) {\r\n                        insertSpace = false;\r\n                        trimmedLinesContent = trimmedLinesContent.replace(/[\\s\\uFEFF\\xA0]+$/g, ' ');\r\n                    }\r\n                    var lineTextWithoutIndent = lineText.substr(firstNonWhitespaceIdx - 1);\r\n                    trimmedLinesContent += (insertSpace ? ' ' : '') + lineTextWithoutIndent;\r\n                    if (insertSpace) {\r\n                        columnDeltaOffset = lineTextWithoutIndent.length + 1;\r\n                    }\r\n                    else {\r\n                        columnDeltaOffset = lineTextWithoutIndent.length;\r\n                    }\r\n                }\r\n                else {\r\n                    columnDeltaOffset = 0;\r\n                }\r\n            }\r\n            var deleteSelection = new Range(startLineNumber, startColumn, endLineNumber, endColumn);\r\n            if (!deleteSelection.isEmpty()) {\r\n                var resultSelection = void 0;\r\n                if (selection.isEmpty()) {\r\n                    edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                    resultSelection = new Selection(deleteSelection.startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1, startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1);\r\n                }\r\n                else {\r\n                    if (selection.startLineNumber === selection.endLineNumber) {\r\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.endLineNumber - lineOffset, selection.endColumn);\r\n                    }\r\n                    else {\r\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.startLineNumber - lineOffset, trimmedLinesContent.length - selectionEndPositionOffset);\r\n                    }\r\n                }\r\n                if (Range.intersectRanges(deleteSelection, primaryCursor) !== null) {\r\n                    endPrimaryCursor = resultSelection;\r\n                }\r\n                else {\r\n                    endCursorState.push(resultSelection);\r\n                }\r\n            }\r\n            lineOffset += deleteSelection.endLineNumber - deleteSelection.startLineNumber;\r\n        }\r\n        endCursorState.unshift(endPrimaryCursor);\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, endCursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    return JoinLinesAction;\r\n}(EditorAction));\r\nexport { JoinLinesAction };\r\nvar TransposeAction = /** @class */ (function (_super) {\r\n    __extends(TransposeAction, _super);\r\n    function TransposeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transpose',\r\n            label: nls.localize('editor.transpose', \"Transpose characters around the cursor\"),\r\n            alias: 'Transpose characters around the cursor',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    TransposeAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (!selection.isEmpty()) {\r\n                continue;\r\n            }\r\n            var cursor = selection.getStartPosition();\r\n            var maxColumn = model.getLineMaxColumn(cursor.lineNumber);\r\n            if (cursor.column >= maxColumn) {\r\n                if (cursor.lineNumber === model.getLineCount()) {\r\n                    continue;\r\n                }\r\n                // The cursor is at the end of current line and current line is not empty\r\n                // then we transpose the character before the cursor and the line break if there is any following line.\r\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1);\r\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\r\n                commands.push(new ReplaceCommand(new Selection(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1), chars));\r\n            }\r\n            else {\r\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber, cursor.column + 1);\r\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\r\n                commands.push(new ReplaceCommandThatPreservesSelection(deleteSelection, chars, new Selection(cursor.lineNumber, cursor.column + 1, cursor.lineNumber, cursor.column + 1)));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return TransposeAction;\r\n}(EditorAction));\r\nexport { TransposeAction };\r\nvar AbstractCaseAction = /** @class */ (function (_super) {\r\n    __extends(AbstractCaseAction, _super);\r\n    function AbstractCaseAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AbstractCaseAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var wordSeparators = editor.getOption(96 /* wordSeparators */);\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                var cursor = selection.getStartPosition();\r\n                var word = model.getWordAtPosition(cursor);\r\n                if (!word) {\r\n                    continue;\r\n                }\r\n                var wordRange = new Range(cursor.lineNumber, word.startColumn, cursor.lineNumber, word.endColumn);\r\n                var text = model.getValueInRange(wordRange);\r\n                commands.push(new ReplaceCommandThatPreservesSelection(wordRange, this._modifyText(text, wordSeparators), new Selection(cursor.lineNumber, cursor.column, cursor.lineNumber, cursor.column)));\r\n            }\r\n            else {\r\n                var text = model.getValueInRange(selection);\r\n                commands.push(new ReplaceCommandThatPreservesSelection(selection, this._modifyText(text, wordSeparators), selection));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractCaseAction;\r\n}(EditorAction));\r\nexport { AbstractCaseAction };\r\nvar UpperCaseAction = /** @class */ (function (_super) {\r\n    __extends(UpperCaseAction, _super);\r\n    function UpperCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToUppercase',\r\n            label: nls.localize('editor.transformToUppercase', \"Transform to Uppercase\"),\r\n            alias: 'Transform to Uppercase',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    UpperCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        return text.toLocaleUpperCase();\r\n    };\r\n    return UpperCaseAction;\r\n}(AbstractCaseAction));\r\nexport { UpperCaseAction };\r\nvar LowerCaseAction = /** @class */ (function (_super) {\r\n    __extends(LowerCaseAction, _super);\r\n    function LowerCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToLowercase',\r\n            label: nls.localize('editor.transformToLowercase', \"Transform to Lowercase\"),\r\n            alias: 'Transform to Lowercase',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    LowerCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        return text.toLocaleLowerCase();\r\n    };\r\n    return LowerCaseAction;\r\n}(AbstractCaseAction));\r\nexport { LowerCaseAction };\r\nvar TitleCaseAction = /** @class */ (function (_super) {\r\n    __extends(TitleCaseAction, _super);\r\n    function TitleCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToTitlecase',\r\n            label: nls.localize('editor.transformToTitlecase', \"Transform to Title Case\"),\r\n            alias: 'Transform to Title Case',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    TitleCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        var separators = '\\r\\n\\t ' + wordSeparators;\r\n        var excludedChars = separators.split('');\r\n        var title = '';\r\n        var startUpperCase = true;\r\n        for (var i = 0; i < text.length; i++) {\r\n            var currentChar = text[i];\r\n            if (excludedChars.indexOf(currentChar) >= 0) {\r\n                startUpperCase = true;\r\n                title += currentChar;\r\n            }\r\n            else if (startUpperCase) {\r\n                startUpperCase = false;\r\n                title += currentChar.toLocaleUpperCase();\r\n            }\r\n            else {\r\n                title += currentChar.toLocaleLowerCase();\r\n            }\r\n        }\r\n        return title;\r\n    };\r\n    return TitleCaseAction;\r\n}(AbstractCaseAction));\r\nexport { TitleCaseAction };\r\nregisterEditorAction(CopyLinesUpAction);\r\nregisterEditorAction(CopyLinesDownAction);\r\nregisterEditorAction(DuplicateSelectionAction);\r\nregisterEditorAction(MoveLinesUpAction);\r\nregisterEditorAction(MoveLinesDownAction);\r\nregisterEditorAction(SortLinesAscendingAction);\r\nregisterEditorAction(SortLinesDescendingAction);\r\nregisterEditorAction(TrimTrailingWhitespaceAction);\r\nregisterEditorAction(DeleteLinesAction);\r\nregisterEditorAction(IndentLinesAction);\r\nregisterEditorAction(OutdentLinesAction);\r\nregisterEditorAction(InsertLineBeforeAction);\r\nregisterEditorAction(InsertLineAfterAction);\r\nregisterEditorAction(DeleteAllLeftAction);\r\nregisterEditorAction(DeleteAllRightAction);\r\nregisterEditorAction(JoinLinesAction);\r\nregisterEditorAction(TransposeAction);\r\nregisterEditorAction(UpperCaseAction);\r\nregisterEditorAction(LowerCaseAction);\r\nregisterEditorAction(TitleCaseAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { LinkProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { isDisposable, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nvar Link = /** @class */ (function () {\r\n    function Link(link, provider) {\r\n        this._link = link;\r\n        this._provider = provider;\r\n    }\r\n    Link.prototype.toJSON = function () {\r\n        return {\r\n            range: this.range,\r\n            url: this.url,\r\n            tooltip: this.tooltip\r\n        };\r\n    };\r\n    Object.defineProperty(Link.prototype, \"range\", {\r\n        get: function () {\r\n            return this._link.range;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Link.prototype, \"url\", {\r\n        get: function () {\r\n            return this._link.url;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Link.prototype, \"tooltip\", {\r\n        get: function () {\r\n            return this._link.tooltip;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Link.prototype.resolve = function (token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                if (this._link.url) {\r\n                    return [2 /*return*/, this._link.url];\r\n                }\r\n                if (typeof this._provider.resolveLink === 'function') {\r\n                    return [2 /*return*/, Promise.resolve(this._provider.resolveLink(this._link, token)).then(function (value) {\r\n                            _this._link = value || _this._link;\r\n                            if (_this._link.url) {\r\n                                // recurse\r\n                                return _this.resolve(token);\r\n                            }\r\n                            return Promise.reject(new Error('missing'));\r\n                        })];\r\n                }\r\n                return [2 /*return*/, Promise.reject(new Error('missing'))];\r\n            });\r\n        });\r\n    };\r\n    return Link;\r\n}());\r\nexport { Link };\r\nvar LinksList = /** @class */ (function (_super) {\r\n    __extends(LinksList, _super);\r\n    function LinksList(tuples) {\r\n        var _this = _super.call(this) || this;\r\n        var links = [];\r\n        var _loop_1 = function (list, provider) {\r\n            // merge all links\r\n            var newLinks = list.links.map(function (link) { return new Link(link, provider); });\r\n            links = LinksList._union(links, newLinks);\r\n            // register disposables\r\n            if (isDisposable(provider)) {\r\n                this_1._register(provider);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, tuples_1 = tuples; _i < tuples_1.length; _i++) {\r\n            var _a = tuples_1[_i], list = _a[0], provider = _a[1];\r\n            _loop_1(list, provider);\r\n        }\r\n        _this.links = links;\r\n        return _this;\r\n    }\r\n    LinksList._union = function (oldLinks, newLinks) {\r\n        // reunite oldLinks with newLinks and remove duplicates\r\n        var result = [];\r\n        var oldIndex;\r\n        var oldLen;\r\n        var newIndex;\r\n        var newLen;\r\n        for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\r\n            var oldLink = oldLinks[oldIndex];\r\n            var newLink = newLinks[newIndex];\r\n            if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\r\n                // Remove the oldLink\r\n                oldIndex++;\r\n                continue;\r\n            }\r\n            var comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\r\n            if (comparisonResult < 0) {\r\n                // oldLink is before\r\n                result.push(oldLink);\r\n                oldIndex++;\r\n            }\r\n            else {\r\n                // newLink is before\r\n                result.push(newLink);\r\n                newIndex++;\r\n            }\r\n        }\r\n        for (; oldIndex < oldLen; oldIndex++) {\r\n            result.push(oldLinks[oldIndex]);\r\n        }\r\n        for (; newIndex < newLen; newIndex++) {\r\n            result.push(newLinks[newIndex]);\r\n        }\r\n        return result;\r\n    };\r\n    return LinksList;\r\n}(Disposable));\r\nexport { LinksList };\r\nexport function getLinks(model, token) {\r\n    var lists = [];\r\n    // ask all providers for links in parallel\r\n    var promises = LinkProviderRegistry.ordered(model).reverse().map(function (provider, i) {\r\n        return Promise.resolve(provider.provideLinks(model, token)).then(function (result) {\r\n            if (result) {\r\n                lists[i] = [result, provider];\r\n            }\r\n        }, onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function () {\r\n        var result = new LinksList(coalesce(lists));\r\n        if (!token.isCancellationRequested) {\r\n            return result;\r\n        }\r\n        result.dispose();\r\n        return new LinksList([]);\r\n    });\r\n}\r\nCommandsRegistry.registerCommand('_executeLinkProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var uri, model, list, result;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    uri = args[0];\r\n                    if (!(uri instanceof URI)) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    model = accessor.get(IModelService).getModel(uri);\r\n                    if (!model) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    return [4 /*yield*/, getLinks(model, CancellationToken.None)];\r\n                case 1:\r\n                    list = _a.sent();\r\n                    if (!list) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    result = list.links.slice(0);\r\n                    list.dispose();\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './links.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as async from '../../../base/common/async.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { LinkProviderRegistry } from '../../common/modes.js';\r\nimport { ClickLinkGesture } from '../gotoSymbol/link/clickLinkGesture.js';\r\nimport { getLinks } from './getLinks.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nfunction getHoverMessage(link, useMetaKey) {\r\n    var executeCmd = link.url && /^command:/i.test(link.url.toString());\r\n    var label = link.tooltip\r\n        ? link.tooltip\r\n        : executeCmd\r\n            ? nls.localize('links.navigate.executeCmd', 'Execute command')\r\n            : nls.localize('links.navigate.follow', 'Follow link');\r\n    var kb = useMetaKey\r\n        ? platform.isMacintosh\r\n            ? nls.localize('links.navigate.kb.meta.mac', \"cmd + click\")\r\n            : nls.localize('links.navigate.kb.meta', \"ctrl + click\")\r\n        : platform.isMacintosh\r\n            ? nls.localize('links.navigate.kb.alt.mac', \"option + click\")\r\n            : nls.localize('links.navigate.kb.alt', \"alt + click\");\r\n    if (link.url) {\r\n        var hoverMessage = new MarkdownString('', true).appendMarkdown(\"[\" + label + \"](\" + link.url.toString() + \") (\" + kb + \")\");\r\n        return hoverMessage;\r\n    }\r\n    else {\r\n        return new MarkdownString().appendText(label + \" (\" + kb + \")\");\r\n    }\r\n}\r\nvar decoration = {\r\n    general: ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        collapseOnReplaceEdit: true,\r\n        inlineClassName: 'detected-link'\r\n    }),\r\n    active: ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        collapseOnReplaceEdit: true,\r\n        inlineClassName: 'detected-link-active'\r\n    })\r\n};\r\nvar LinkOccurrence = /** @class */ (function () {\r\n    function LinkOccurrence(link, decorationId) {\r\n        this.link = link;\r\n        this.decorationId = decorationId;\r\n    }\r\n    LinkOccurrence.decoration = function (link, useMetaKey) {\r\n        return {\r\n            range: link.range,\r\n            options: LinkOccurrence._getOptions(link, useMetaKey, false)\r\n        };\r\n    };\r\n    LinkOccurrence._getOptions = function (link, useMetaKey, isActive) {\r\n        var options = __assign({}, (isActive ? decoration.active : decoration.general));\r\n        options.hoverMessage = getHoverMessage(link, useMetaKey);\r\n        return options;\r\n    };\r\n    LinkOccurrence.prototype.activate = function (changeAccessor, useMetaKey) {\r\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, true));\r\n    };\r\n    LinkOccurrence.prototype.deactivate = function (changeAccessor, useMetaKey) {\r\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, false));\r\n    };\r\n    return LinkOccurrence;\r\n}());\r\nvar LinkDetector = /** @class */ (function () {\r\n    function LinkDetector(editor, openerService, notificationService) {\r\n        var _this = this;\r\n        this.listenersToRemove = new DisposableStore();\r\n        this.editor = editor;\r\n        this.openerService = openerService;\r\n        this.notificationService = notificationService;\r\n        var clickLinkGesture = new ClickLinkGesture(editor);\r\n        this.listenersToRemove.add(clickLinkGesture);\r\n        this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\r\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\r\n            _this._onEditorMouseMove(mouseEvent, keyboardEvent);\r\n        }));\r\n        this.listenersToRemove.add(clickLinkGesture.onExecute(function (e) {\r\n            _this.onEditorMouseUp(e);\r\n        }));\r\n        this.listenersToRemove.add(clickLinkGesture.onCancel(function (e) {\r\n            _this.cleanUpActiveLinkDecoration();\r\n        }));\r\n        this.enabled = editor.getOption(52 /* links */);\r\n        this.listenersToRemove.add(editor.onDidChangeConfiguration(function (e) {\r\n            var enabled = editor.getOption(52 /* links */);\r\n            if (_this.enabled === enabled) {\r\n                // No change in our configuration option\r\n                return;\r\n            }\r\n            _this.enabled = enabled;\r\n            // Remove any links (for the getting disabled case)\r\n            _this.updateDecorations([]);\r\n            // Stop any computation (for the getting disabled case)\r\n            _this.stop();\r\n            // Start computing (for the getting enabled case)\r\n            _this.beginCompute();\r\n        }));\r\n        this.listenersToRemove.add(editor.onDidChangeModelContent(function (e) { return _this.onChange(); }));\r\n        this.listenersToRemove.add(editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\r\n        this.listenersToRemove.add(editor.onDidChangeModelLanguage(function (e) { return _this.onModelModeChanged(); }));\r\n        this.listenersToRemove.add(LinkProviderRegistry.onDidChange(function (e) { return _this.onModelModeChanged(); }));\r\n        this.timeout = new async.TimeoutTimer();\r\n        this.computePromise = null;\r\n        this.activeLinksList = null;\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        this.beginCompute();\r\n    }\r\n    LinkDetector.get = function (editor) {\r\n        return editor.getContribution(LinkDetector.ID);\r\n    };\r\n    LinkDetector.prototype.onModelChanged = function () {\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        this.stop();\r\n        this.beginCompute();\r\n    };\r\n    LinkDetector.prototype.onModelModeChanged = function () {\r\n        this.stop();\r\n        this.beginCompute();\r\n    };\r\n    LinkDetector.prototype.onChange = function () {\r\n        var _this = this;\r\n        this.timeout.setIfNotSet(function () { return _this.beginCompute(); }, LinkDetector.RECOMPUTE_TIME);\r\n    };\r\n    LinkDetector.prototype.beginCompute = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, _a, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!this.editor.hasModel() || !this.enabled) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        model = this.editor.getModel();\r\n                        if (!LinkProviderRegistry.has(model)) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (this.activeLinksList) {\r\n                            this.activeLinksList.dispose();\r\n                            this.activeLinksList = null;\r\n                        }\r\n                        this.computePromise = async.createCancelablePromise(function (token) { return getLinks(model, token); });\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, 4, 5]);\r\n                        _a = this;\r\n                        return [4 /*yield*/, this.computePromise];\r\n                    case 2:\r\n                        _a.activeLinksList = _b.sent();\r\n                        this.updateDecorations(this.activeLinksList.links);\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_1 = _b.sent();\r\n                        onUnexpectedError(err_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        this.computePromise = null;\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LinkDetector.prototype.updateDecorations = function (links) {\r\n        var useMetaKey = (this.editor.getOption(59 /* multiCursorModifier */) === 'altKey');\r\n        var oldDecorations = [];\r\n        var keys = Object.keys(this.currentOccurrences);\r\n        for (var i = 0, len = keys.length; i < len; i++) {\r\n            var decorationId = keys[i];\r\n            var occurance = this.currentOccurrences[decorationId];\r\n            oldDecorations.push(occurance.decorationId);\r\n        }\r\n        var newDecorations = [];\r\n        if (links) {\r\n            // Not sure why this is sometimes null\r\n            for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\r\n                var link = links_1[_i];\r\n                newDecorations.push(LinkOccurrence.decoration(link, useMetaKey));\r\n            }\r\n        }\r\n        var decorations = this.editor.deltaDecorations(oldDecorations, newDecorations);\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        for (var i = 0, len = decorations.length; i < len; i++) {\r\n            var occurance = new LinkOccurrence(links[i], decorations[i]);\r\n            this.currentOccurrences[occurance.decorationId] = occurance;\r\n        }\r\n    };\r\n    LinkDetector.prototype._onEditorMouseMove = function (mouseEvent, withKey) {\r\n        var _this = this;\r\n        var useMetaKey = (this.editor.getOption(59 /* multiCursorModifier */) === 'altKey');\r\n        if (this.isEnabled(mouseEvent, withKey)) {\r\n            this.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\r\n            var occurrence_1 = this.getLinkOccurrence(mouseEvent.target.position);\r\n            if (occurrence_1) {\r\n                this.editor.changeDecorations(function (changeAccessor) {\r\n                    occurrence_1.activate(changeAccessor, useMetaKey);\r\n                    _this.activeLinkDecorationId = occurrence_1.decorationId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.cleanUpActiveLinkDecoration();\r\n        }\r\n    };\r\n    LinkDetector.prototype.cleanUpActiveLinkDecoration = function () {\r\n        var useMetaKey = (this.editor.getOption(59 /* multiCursorModifier */) === 'altKey');\r\n        if (this.activeLinkDecorationId) {\r\n            var occurrence_2 = this.currentOccurrences[this.activeLinkDecorationId];\r\n            if (occurrence_2) {\r\n                this.editor.changeDecorations(function (changeAccessor) {\r\n                    occurrence_2.deactivate(changeAccessor, useMetaKey);\r\n                });\r\n            }\r\n            this.activeLinkDecorationId = null;\r\n        }\r\n    };\r\n    LinkDetector.prototype.onEditorMouseUp = function (mouseEvent) {\r\n        if (!this.isEnabled(mouseEvent)) {\r\n            return;\r\n        }\r\n        var occurrence = this.getLinkOccurrence(mouseEvent.target.position);\r\n        if (!occurrence) {\r\n            return;\r\n        }\r\n        this.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier, true /* from user gesture */);\r\n    };\r\n    LinkDetector.prototype.openLinkOccurrence = function (occurrence, openToSide, fromUserGesture) {\r\n        var _this = this;\r\n        if (fromUserGesture === void 0) { fromUserGesture = false; }\r\n        if (!this.openerService) {\r\n            return;\r\n        }\r\n        var link = occurrence.link;\r\n        link.resolve(CancellationToken.None).then(function (uri) {\r\n            // open the uri\r\n            return _this.openerService.open(uri, { openToSide: openToSide, fromUserGesture: fromUserGesture });\r\n        }, function (err) {\r\n            var messageOrError = err instanceof Error ? err.message : err;\r\n            // different error cases\r\n            if (messageOrError === 'invalid') {\r\n                _this.notificationService.warn(nls.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url.toString()));\r\n            }\r\n            else if (messageOrError === 'missing') {\r\n                _this.notificationService.warn(nls.localize('missing.url', 'Failed to open this link because its target is missing.'));\r\n            }\r\n            else {\r\n                onUnexpectedError(err);\r\n            }\r\n        });\r\n    };\r\n    LinkDetector.prototype.getLinkOccurrence = function (position) {\r\n        if (!this.editor.hasModel() || !position) {\r\n            return null;\r\n        }\r\n        var decorations = this.editor.getModel().getDecorationsInRange({\r\n            startLineNumber: position.lineNumber,\r\n            startColumn: position.column,\r\n            endLineNumber: position.lineNumber,\r\n            endColumn: position.column\r\n        }, 0, true);\r\n        for (var _i = 0, decorations_1 = decorations; _i < decorations_1.length; _i++) {\r\n            var decoration_1 = decorations_1[_i];\r\n            var currentOccurrence = this.currentOccurrences[decoration_1.id];\r\n            if (currentOccurrence) {\r\n                return currentOccurrence;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LinkDetector.prototype.isEnabled = function (mouseEvent, withKey) {\r\n        return Boolean((mouseEvent.target.type === 6 /* CONTENT_TEXT */)\r\n            && (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey)));\r\n    };\r\n    LinkDetector.prototype.stop = function () {\r\n        this.timeout.cancel();\r\n        if (this.activeLinksList) {\r\n            this.activeLinksList.dispose();\r\n        }\r\n        if (this.computePromise) {\r\n            this.computePromise.cancel();\r\n            this.computePromise = null;\r\n        }\r\n    };\r\n    LinkDetector.prototype.dispose = function () {\r\n        this.listenersToRemove.dispose();\r\n        this.stop();\r\n        this.timeout.dispose();\r\n    };\r\n    LinkDetector.ID = 'editor.linkDetector';\r\n    LinkDetector.RECOMPUTE_TIME = 1000; // ms\r\n    LinkDetector = __decorate([\r\n        __param(1, IOpenerService),\r\n        __param(2, INotificationService)\r\n    ], LinkDetector);\r\n    return LinkDetector;\r\n}());\r\nvar OpenLinkAction = /** @class */ (function (_super) {\r\n    __extends(OpenLinkAction, _super);\r\n    function OpenLinkAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.openLink',\r\n            label: nls.localize('label', \"Open Link\"),\r\n            alias: 'Open Link',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    OpenLinkAction.prototype.run = function (accessor, editor) {\r\n        var linkDetector = LinkDetector.get(editor);\r\n        if (!linkDetector) {\r\n            return;\r\n        }\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var sel = selections_1[_i];\r\n            var link = linkDetector.getLinkOccurrence(sel.getEndPosition());\r\n            if (link) {\r\n                linkDetector.openLinkOccurrence(link, false);\r\n            }\r\n        }\r\n    };\r\n    return OpenLinkAction;\r\n}(EditorAction));\r\nregisterEditorContribution(LinkDetector.ID, LinkDetector);\r\nregisterEditorAction(OpenLinkAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .detected-link-active { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CursorMoveCommands } from '../../common/controller/cursorMoveCommands.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { DocumentHighlightProviderRegistry } from '../../common/modes.js';\r\nimport { CommonFindController } from '../find/findController.js';\r\nimport { overviewRulerSelectionHighlightForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nvar InsertCursorAbove = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAbove, _super);\r\n    function InsertCursorAbove() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorAbove',\r\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\r\n            alias: 'Add Cursor Above',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 16 /* UpArrow */,\r\n                linux: {\r\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 16 /* UpArrow */,\r\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */]\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorAbove', comment: ['&& denotes a mnemonic'] }, \"&&Add Cursor Above\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorAbove.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var useLogicalLine = (args && args.logicalLine === true);\r\n        var cursors = editor._getCursors();\r\n        var context = cursors.context;\r\n        if (context.config.readOnly) {\r\n            return;\r\n        }\r\n        context.model.pushStackElement();\r\n        cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.addCursorUp(context, cursors.getAll(), useLogicalLine));\r\n        cursors.reveal(args.source, true, 1 /* TopMost */, 0 /* Smooth */);\r\n    };\r\n    return InsertCursorAbove;\r\n}(EditorAction));\r\nexport { InsertCursorAbove };\r\nvar InsertCursorBelow = /** @class */ (function (_super) {\r\n    __extends(InsertCursorBelow, _super);\r\n    function InsertCursorBelow() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorBelow',\r\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\r\n            alias: 'Add Cursor Below',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 18 /* DownArrow */,\r\n                linux: {\r\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 18 /* DownArrow */,\r\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */]\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorBelow', comment: ['&& denotes a mnemonic'] }, \"A&&dd Cursor Below\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorBelow.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var useLogicalLine = (args && args.logicalLine === true);\r\n        var cursors = editor._getCursors();\r\n        var context = cursors.context;\r\n        if (context.config.readOnly) {\r\n            return;\r\n        }\r\n        context.model.pushStackElement();\r\n        cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.addCursorDown(context, cursors.getAll(), useLogicalLine));\r\n        cursors.reveal(args.source, true, 2 /* BottomMost */, 0 /* Smooth */);\r\n    };\r\n    return InsertCursorBelow;\r\n}(EditorAction));\r\nexport { InsertCursorBelow };\r\nvar InsertCursorAtEndOfEachLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtEndOfEachLineSelected, _super);\r\n    function InsertCursorAtEndOfEachLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\r\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\r\n            alias: 'Add Cursors to Line Ends',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 39 /* KEY_I */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorAtEndOfEachLineSelected', comment: ['&& denotes a mnemonic'] }, \"Add C&&ursors to Line Ends\"),\r\n                order: 4\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorAtEndOfEachLineSelected.prototype.getCursorsForSelection = function (selection, model, result) {\r\n        if (selection.isEmpty()) {\r\n            return;\r\n        }\r\n        for (var i = selection.startLineNumber; i < selection.endLineNumber; i++) {\r\n            var currentLineMaxColumn = model.getLineMaxColumn(i);\r\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\r\n        }\r\n        if (selection.endColumn > 1) {\r\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\r\n        }\r\n    };\r\n    InsertCursorAtEndOfEachLineSelected.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var newSelections = [];\r\n        selections.forEach(function (sel) { return _this.getCursorsForSelection(sel, model, newSelections); });\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtEndOfEachLineSelected;\r\n}(EditorAction));\r\nvar InsertCursorAtEndOfLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtEndOfLineSelected, _super);\r\n    function InsertCursorAtEndOfLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addCursorsToBottom',\r\n            label: nls.localize('mutlicursor.addCursorsToBottom', \"Add Cursors To Bottom\"),\r\n            alias: 'Add Cursors To Bottom',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InsertCursorAtEndOfLineSelected.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        var lineCount = editor.getModel().getLineCount();\r\n        var newSelections = [];\r\n        for (var i = selections[0].startLineNumber; i <= lineCount; i++) {\r\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\r\n        }\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtEndOfLineSelected;\r\n}(EditorAction));\r\nvar InsertCursorAtTopOfLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtTopOfLineSelected, _super);\r\n    function InsertCursorAtTopOfLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addCursorsToTop',\r\n            label: nls.localize('mutlicursor.addCursorsToTop', \"Add Cursors To Top\"),\r\n            alias: 'Add Cursors To Top',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InsertCursorAtTopOfLineSelected.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        var newSelections = [];\r\n        for (var i = selections[0].startLineNumber; i >= 1; i--) {\r\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\r\n        }\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtTopOfLineSelected;\r\n}(EditorAction));\r\nvar MultiCursorSessionResult = /** @class */ (function () {\r\n    function MultiCursorSessionResult(selections, revealRange, revealScrollType) {\r\n        this.selections = selections;\r\n        this.revealRange = revealRange;\r\n        this.revealScrollType = revealScrollType;\r\n    }\r\n    return MultiCursorSessionResult;\r\n}());\r\nexport { MultiCursorSessionResult };\r\nvar MultiCursorSession = /** @class */ (function () {\r\n    function MultiCursorSession(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\r\n        this._editor = _editor;\r\n        this.findController = findController;\r\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\r\n        this.searchText = searchText;\r\n        this.wholeWord = wholeWord;\r\n        this.matchCase = matchCase;\r\n        this.currentMatch = currentMatch;\r\n    }\r\n    MultiCursorSession.create = function (editor, findController) {\r\n        if (!editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var findState = findController.getState();\r\n        // Find widget owns entirely what we search for if:\r\n        //  - focus is not in the editor (i.e. it is in the find widget)\r\n        //  - and the search widget is visible\r\n        //  - and the search string is non-empty\r\n        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) {\r\n            // Find widget owns what is searched for\r\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\r\n        }\r\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\r\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\r\n        var isDisconnectedFromFindController = false;\r\n        var wholeWord;\r\n        var matchCase;\r\n        var selections = editor.getSelections();\r\n        if (selections.length === 1 && selections[0].isEmpty()) {\r\n            isDisconnectedFromFindController = true;\r\n            wholeWord = true;\r\n            matchCase = true;\r\n        }\r\n        else {\r\n            wholeWord = findState.wholeWord;\r\n            matchCase = findState.matchCase;\r\n        }\r\n        // Selection owns what is searched for\r\n        var s = editor.getSelection();\r\n        var searchText;\r\n        var currentMatch = null;\r\n        if (s.isEmpty()) {\r\n            // selection is empty => expand to current word\r\n            var word = editor.getModel().getWordAtPosition(s.getStartPosition());\r\n            if (!word) {\r\n                return null;\r\n            }\r\n            searchText = word.word;\r\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\r\n        }\r\n        else {\r\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\r\n        }\r\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\r\n    };\r\n    MultiCursorSession.prototype.addSelectionToNextFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var nextMatch = this._getNextMatch();\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype.moveSelectionToNextFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var nextMatch = this._getNextMatch();\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype._getNextMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        if (this.currentMatch) {\r\n            var result = this.currentMatch;\r\n            this.currentMatch = null;\r\n            return result;\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        var allSelections = this._editor.getSelections();\r\n        var lastAddedSelection = allSelections[allSelections.length - 1];\r\n        var nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false);\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\r\n    };\r\n    MultiCursorSession.prototype.addSelectionToPreviousFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var previousMatch = this._getPreviousMatch();\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype.moveSelectionToPreviousFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var previousMatch = this._getPreviousMatch();\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype._getPreviousMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        if (this.currentMatch) {\r\n            var result = this.currentMatch;\r\n            this.currentMatch = null;\r\n            return result;\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        var allSelections = this._editor.getSelections();\r\n        var lastAddedSelection = allSelections[allSelections.length - 1];\r\n        var previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false);\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\r\n    };\r\n    MultiCursorSession.prototype.selectAll = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return [];\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        return this._editor.getModel().findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n    };\r\n    return MultiCursorSession;\r\n}());\r\nexport { MultiCursorSession };\r\nvar MultiCursorSelectionController = /** @class */ (function (_super) {\r\n    __extends(MultiCursorSelectionController, _super);\r\n    function MultiCursorSelectionController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._sessionDispose = _this._register(new DisposableStore());\r\n        _this._editor = editor;\r\n        _this._ignoreSelectionChange = false;\r\n        _this._session = null;\r\n        return _this;\r\n    }\r\n    MultiCursorSelectionController.get = function (editor) {\r\n        return editor.getContribution(MultiCursorSelectionController.ID);\r\n    };\r\n    MultiCursorSelectionController.prototype.dispose = function () {\r\n        this._endSession();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    MultiCursorSelectionController.prototype._beginSessionIfNeeded = function (findController) {\r\n        var _this = this;\r\n        if (!this._session) {\r\n            // Create a new session\r\n            var session = MultiCursorSession.create(this._editor, findController);\r\n            if (!session) {\r\n                return;\r\n            }\r\n            this._session = session;\r\n            var newState = { searchString: this._session.searchText };\r\n            if (this._session.isDisconnectedFromFindController) {\r\n                newState.wholeWordOverride = 1 /* True */;\r\n                newState.matchCaseOverride = 1 /* True */;\r\n                newState.isRegexOverride = 2 /* False */;\r\n            }\r\n            findController.getState().change(newState, false);\r\n            this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function (e) {\r\n                if (_this._ignoreSelectionChange) {\r\n                    return;\r\n                }\r\n                _this._endSession();\r\n            }));\r\n            this._sessionDispose.add(this._editor.onDidBlurEditorText(function () {\r\n                _this._endSession();\r\n            }));\r\n            this._sessionDispose.add(findController.getState().onFindReplaceStateChange(function (e) {\r\n                if (e.matchCase || e.wholeWord) {\r\n                    _this._endSession();\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype._endSession = function () {\r\n        this._sessionDispose.clear();\r\n        if (this._session && this._session.isDisconnectedFromFindController) {\r\n            var newState = {\r\n                wholeWordOverride: 0 /* NotSet */,\r\n                matchCaseOverride: 0 /* NotSet */,\r\n                isRegexOverride: 0 /* NotSet */,\r\n            };\r\n            this._session.findController.getState().change(newState, false);\r\n        }\r\n        this._session = null;\r\n    };\r\n    MultiCursorSelectionController.prototype._setSelections = function (selections) {\r\n        this._ignoreSelectionChange = true;\r\n        this._editor.setSelections(selections);\r\n        this._ignoreSelectionChange = false;\r\n    };\r\n    MultiCursorSelectionController.prototype._expandEmptyToWord = function (model, selection) {\r\n        if (!selection.isEmpty()) {\r\n            return selection;\r\n        }\r\n        var word = model.getWordAtPosition(selection.getStartPosition());\r\n        if (!word) {\r\n            return selection;\r\n        }\r\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\r\n    };\r\n    MultiCursorSelectionController.prototype._applySessionResult = function (result) {\r\n        if (!result) {\r\n            return;\r\n        }\r\n        this._setSelections(result.selections);\r\n        if (result.revealRange) {\r\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.getSession = function (findController) {\r\n        return this._session;\r\n    };\r\n    MultiCursorSelectionController.prototype.addSelectionToNextFindMatch = function (findController) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._session) {\r\n            // If there are multiple cursors, handle the case where they do not all select the same text.\r\n            var allSelections = this._editor.getSelections();\r\n            if (allSelections.length > 1) {\r\n                var findState = findController.getState();\r\n                var matchCase = findState.matchCase;\r\n                var selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\r\n                if (!selectionsContainSameText) {\r\n                    var model = this._editor.getModel();\r\n                    var resultingSelections = [];\r\n                    for (var i = 0, len = allSelections.length; i < len; i++) {\r\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\r\n                    }\r\n                    this._editor.setSelections(resultingSelections);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.addSelectionToPreviousFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.moveSelectionToNextFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.moveSelectionToPreviousFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.selectAll = function (findController) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var matches = null;\r\n        var findState = findController.getState();\r\n        // Special case: find widget owns entirely what we search for if:\r\n        // - focus is not in the editor (i.e. it is in the find widget)\r\n        // - and the search widget is visible\r\n        // - and the search string is non-empty\r\n        // - and we're searching for a regex\r\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\r\n            matches = this._editor.getModel().findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(96 /* wordSeparators */) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        }\r\n        else {\r\n            this._beginSessionIfNeeded(findController);\r\n            if (!this._session) {\r\n                return;\r\n            }\r\n            matches = this._session.selectAll();\r\n        }\r\n        if (findState.searchScope) {\r\n            var state = findState.searchScope;\r\n            var inSelection = [];\r\n            for (var i = 0; i < matches.length; i++) {\r\n                if (matches[i].range.endLineNumber <= state.endLineNumber && matches[i].range.startLineNumber >= state.startLineNumber) {\r\n                    inSelection.push(matches[i]);\r\n                }\r\n            }\r\n            matches = inSelection;\r\n        }\r\n        if (matches.length > 0) {\r\n            var editorSelection = this._editor.getSelection();\r\n            // Have the primary cursor remain the one where the action was invoked\r\n            for (var i = 0, len = matches.length; i < len; i++) {\r\n                var match = matches[i];\r\n                var intersection = match.range.intersectRanges(editorSelection);\r\n                if (intersection) {\r\n                    // bingo!\r\n                    matches[i] = matches[0];\r\n                    matches[0] = match;\r\n                    break;\r\n                }\r\n            }\r\n            this._setSelections(matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); }));\r\n        }\r\n    };\r\n    MultiCursorSelectionController.ID = 'editor.contrib.multiCursorController';\r\n    return MultiCursorSelectionController;\r\n}(Disposable));\r\nexport { MultiCursorSelectionController };\r\nvar MultiCursorSelectionControllerAction = /** @class */ (function (_super) {\r\n    __extends(MultiCursorSelectionControllerAction, _super);\r\n    function MultiCursorSelectionControllerAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MultiCursorSelectionControllerAction.prototype.run = function (accessor, editor) {\r\n        var multiCursorController = MultiCursorSelectionController.get(editor);\r\n        if (!multiCursorController) {\r\n            return;\r\n        }\r\n        var findController = CommonFindController.get(editor);\r\n        if (!findController) {\r\n            return;\r\n        }\r\n        this._run(multiCursorController, findController);\r\n    };\r\n    return MultiCursorSelectionControllerAction;\r\n}(EditorAction));\r\nexport { MultiCursorSelectionControllerAction };\r\nvar AddSelectionToNextFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(AddSelectionToNextFindMatchAction, _super);\r\n    function AddSelectionToNextFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addSelectionToNextFindMatch',\r\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\r\n            alias: 'Add Selection To Next Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 34 /* KEY_D */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miAddSelectionToNextFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add &&Next Occurrence\"),\r\n                order: 5\r\n            }\r\n        }) || this;\r\n    }\r\n    AddSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.addSelectionToNextFindMatch(findController);\r\n    };\r\n    return AddSelectionToNextFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { AddSelectionToNextFindMatchAction };\r\nvar AddSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(AddSelectionToPreviousFindMatchAction, _super);\r\n    function AddSelectionToPreviousFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addSelectionToPreviousFindMatch',\r\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\r\n            alias: 'Add Selection To Previous Find Match',\r\n            precondition: undefined,\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miAddSelectionToPreviousFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add P&&revious Occurrence\"),\r\n                order: 6\r\n            }\r\n        }) || this;\r\n    }\r\n    AddSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\r\n    };\r\n    return AddSelectionToPreviousFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { AddSelectionToPreviousFindMatchAction };\r\nvar MoveSelectionToNextFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(MoveSelectionToNextFindMatchAction, _super);\r\n    function MoveSelectionToNextFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.moveSelectionToNextFindMatch',\r\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\r\n            alias: 'Move Last Selection To Next Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 34 /* KEY_D */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    MoveSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.moveSelectionToNextFindMatch(findController);\r\n    };\r\n    return MoveSelectionToNextFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { MoveSelectionToNextFindMatchAction };\r\nvar MoveSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(MoveSelectionToPreviousFindMatchAction, _super);\r\n    function MoveSelectionToPreviousFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\r\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\r\n            alias: 'Move Last Selection To Previous Find Match',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    MoveSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\r\n    };\r\n    return MoveSelectionToPreviousFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { MoveSelectionToPreviousFindMatchAction };\r\nvar SelectHighlightsAction = /** @class */ (function (_super) {\r\n    __extends(SelectHighlightsAction, _super);\r\n    function SelectHighlightsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectHighlights',\r\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\r\n            alias: 'Select All Occurrences of Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 42 /* KEY_L */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miSelectHighlights', comment: ['&& denotes a mnemonic'] }, \"Select All &&Occurrences\"),\r\n                order: 7\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectHighlightsAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.selectAll(findController);\r\n    };\r\n    return SelectHighlightsAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { SelectHighlightsAction };\r\nvar CompatChangeAll = /** @class */ (function (_super) {\r\n    __extends(CompatChangeAll, _super);\r\n    function CompatChangeAll() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.changeAll',\r\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\r\n            alias: 'Change All Occurrences',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.editorTextFocus),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 60 /* F2 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 1.2\r\n            }\r\n        }) || this;\r\n    }\r\n    CompatChangeAll.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.selectAll(findController);\r\n    };\r\n    return CompatChangeAll;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { CompatChangeAll };\r\nvar SelectionHighlighterState = /** @class */ (function () {\r\n    function SelectionHighlighterState(searchText, matchCase, wordSeparators) {\r\n        this.searchText = searchText;\r\n        this.matchCase = matchCase;\r\n        this.wordSeparators = wordSeparators;\r\n    }\r\n    /**\r\n     * Everything equals except for `lastWordUnderCursor`\r\n     */\r\n    SelectionHighlighterState.softEquals = function (a, b) {\r\n        if (!a && !b) {\r\n            return true;\r\n        }\r\n        if (!a || !b) {\r\n            return false;\r\n        }\r\n        return (a.searchText === b.searchText\r\n            && a.matchCase === b.matchCase\r\n            && a.wordSeparators === b.wordSeparators);\r\n    };\r\n    return SelectionHighlighterState;\r\n}());\r\nvar SelectionHighlighter = /** @class */ (function (_super) {\r\n    __extends(SelectionHighlighter, _super);\r\n    function SelectionHighlighter(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this._isEnabled = editor.getOption(82 /* selectionHighlight */);\r\n        _this.decorations = [];\r\n        _this.updateSoon = _this._register(new RunOnceScheduler(function () { return _this._update(); }, 300));\r\n        _this.state = null;\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            _this._isEnabled = editor.getOption(82 /* selectionHighlight */);\r\n        }));\r\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\r\n            if (!_this._isEnabled) {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            if (e.selection.isEmpty()) {\r\n                if (e.reason === 3 /* Explicit */) {\r\n                    if (_this.state) {\r\n                        // no longer valid\r\n                        _this._setState(null);\r\n                    }\r\n                    _this.updateSoon.schedule();\r\n                }\r\n                else {\r\n                    _this._setState(null);\r\n                }\r\n            }\r\n            else {\r\n                _this._update();\r\n            }\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._setState(null);\r\n        }));\r\n        _this._register(CommonFindController.get(editor).getState().onFindReplaceStateChange(function (e) {\r\n            _this._update();\r\n        }));\r\n        return _this;\r\n    }\r\n    SelectionHighlighter.prototype._update = function () {\r\n        this._setState(SelectionHighlighter._createState(this._isEnabled, this.editor));\r\n    };\r\n    SelectionHighlighter._createState = function (isEnabled, editor) {\r\n        if (!isEnabled) {\r\n            return null;\r\n        }\r\n        if (!editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var s = editor.getSelection();\r\n        if (s.startLineNumber !== s.endLineNumber) {\r\n            // multiline forbidden for perf reasons\r\n            return null;\r\n        }\r\n        var multiCursorController = MultiCursorSelectionController.get(editor);\r\n        if (!multiCursorController) {\r\n            return null;\r\n        }\r\n        var findController = CommonFindController.get(editor);\r\n        if (!findController) {\r\n            return null;\r\n        }\r\n        var r = multiCursorController.getSession(findController);\r\n        if (!r) {\r\n            var allSelections = editor.getSelections();\r\n            if (allSelections.length > 1) {\r\n                var findState_1 = findController.getState();\r\n                var matchCase = findState_1.matchCase;\r\n                var selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\r\n                if (!selectionsContainSameText) {\r\n                    return null;\r\n                }\r\n            }\r\n            r = MultiCursorSession.create(editor, findController);\r\n        }\r\n        if (!r) {\r\n            return null;\r\n        }\r\n        if (r.currentMatch) {\r\n            // This is an empty selection\r\n            // Do not interfere with semantic word highlighting in the no selection case\r\n            return null;\r\n        }\r\n        if (/^[ \\t]+$/.test(r.searchText)) {\r\n            // whitespace only selection\r\n            return null;\r\n        }\r\n        if (r.searchText.length > 200) {\r\n            // very long selection\r\n            return null;\r\n        }\r\n        // TODO: better handling of this case\r\n        var findState = findController.getState();\r\n        var caseSensitive = findState.matchCase;\r\n        // Return early if the find widget shows the exact same matches\r\n        if (findState.isRevealed) {\r\n            var findStateSearchString = findState.searchString;\r\n            if (!caseSensitive) {\r\n                findStateSearchString = findStateSearchString.toLowerCase();\r\n            }\r\n            var mySearchString = r.searchText;\r\n            if (!caseSensitive) {\r\n                mySearchString = mySearchString.toLowerCase();\r\n            }\r\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\r\n                return null;\r\n            }\r\n        }\r\n        return new SelectionHighlighterState(r.searchText, r.matchCase, r.wholeWord ? editor.getOption(96 /* wordSeparators */) : null);\r\n    };\r\n    SelectionHighlighter.prototype._setState = function (state) {\r\n        if (SelectionHighlighterState.softEquals(this.state, state)) {\r\n            this.state = state;\r\n            return;\r\n        }\r\n        this.state = state;\r\n        if (!this.state) {\r\n            this.decorations = this.editor.deltaDecorations(this.decorations, []);\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this.editor.getModel();\r\n        if (model.isTooLargeForTokenization()) {\r\n            // the file is too large, so searching word under cursor in the whole document takes is blocking the UI.\r\n            return;\r\n        }\r\n        var hasFindOccurrences = DocumentHighlightProviderRegistry.has(model);\r\n        var allMatches = model.findMatches(this.state.searchText, true, false, this.state.matchCase, this.state.wordSeparators, false).map(function (m) { return m.range; });\r\n        allMatches.sort(Range.compareRangesUsingStarts);\r\n        var selections = this.editor.getSelections();\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        // do not overlap with selection (issue #64 and #512)\r\n        var matches = [];\r\n        for (var i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\r\n            var match = allMatches[i];\r\n            if (j >= lenJ) {\r\n                // finished all editor selections\r\n                matches.push(match);\r\n                i++;\r\n            }\r\n            else {\r\n                var cmp = Range.compareRangesUsingStarts(match, selections[j]);\r\n                if (cmp < 0) {\r\n                    // match is before sel\r\n                    if (selections[j].isEmpty() || !Range.areIntersecting(match, selections[j])) {\r\n                        matches.push(match);\r\n                    }\r\n                    i++;\r\n                }\r\n                else if (cmp > 0) {\r\n                    // sel is before match\r\n                    j++;\r\n                }\r\n                else {\r\n                    // sel is equal to match\r\n                    i++;\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n        var decorations = matches.map(function (r) {\r\n            return {\r\n                range: r,\r\n                // Show in overviewRuler only if model has no semantic highlighting\r\n                options: (hasFindOccurrences ? SelectionHighlighter._SELECTION_HIGHLIGHT : SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW)\r\n            };\r\n        });\r\n        this.decorations = this.editor.deltaDecorations(this.decorations, decorations);\r\n    };\r\n    SelectionHighlighter.prototype.dispose = function () {\r\n        this._setState(null);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    SelectionHighlighter.ID = 'editor.contrib.selectionHighlighter';\r\n    SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    SelectionHighlighter._SELECTION_HIGHLIGHT = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n    });\r\n    return SelectionHighlighter;\r\n}(Disposable));\r\nexport { SelectionHighlighter };\r\nfunction modelRangesContainSameText(model, ranges, matchCase) {\r\n    var selectedText = getValueInRange(model, ranges[0], !matchCase);\r\n    for (var i = 1, len = ranges.length; i < len; i++) {\r\n        var range = ranges[i];\r\n        if (range.isEmpty()) {\r\n            return false;\r\n        }\r\n        var thisSelectedText = getValueInRange(model, range, !matchCase);\r\n        if (selectedText !== thisSelectedText) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction getValueInRange(model, range, toLowerCase) {\r\n    var text = model.getValueInRange(range);\r\n    return (toLowerCase ? text.toLowerCase() : text);\r\n}\r\nregisterEditorContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\r\nregisterEditorContribution(SelectionHighlighter.ID, SelectionHighlighter);\r\nregisterEditorAction(InsertCursorAbove);\r\nregisterEditorAction(InsertCursorBelow);\r\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\r\nregisterEditorAction(AddSelectionToNextFindMatchAction);\r\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\r\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\r\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\r\nregisterEditorAction(SelectHighlightsAction);\r\nregisterEditorAction(CompatChangeAll);\r\nregisterEditorAction(InsertCursorAtEndOfLineSelected);\r\nregisterEditorAction(InsertCursorAtTopOfLineSelected);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { first } from '../../../base/common/async.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nexport var Context = {\r\n    Visible: new RawContextKey('parameterHintsVisible', false),\r\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\r\n};\r\nexport function provideSignatureHelp(model, position, context, token) {\r\n    var supports = modes.SignatureHelpProviderRegistry.ordered(model);\r\n    return first(supports.map(function (support) { return function () {\r\n        return Promise.resolve(support.provideSignatureHelp(model, position, token, context))\r\n            .catch(function (e) { return onUnexpectedExternalError(e); });\r\n    }; }));\r\n}\r\nregisterDefaultLanguageCommand('_executeSignatureHelpProvider', function (model, position, args) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, provideSignatureHelp(model, position, {\r\n                    triggerKind: modes.SignatureHelpTriggerKind.Invoke,\r\n                    isRetrigger: false,\r\n                    triggerCharacter: args['triggerCharacter']\r\n                }, CancellationToken.None)];\r\n            case 1:\r\n                result = _a.sent();\r\n                if (!result) {\r\n                    return [2 /*return*/, undefined];\r\n                }\r\n                setTimeout(function () { return result.dispose(); }, 0);\r\n                return [2 /*return*/, result.value];\r\n        }\r\n    });\r\n}); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { createCancelablePromise, Delayer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { provideSignatureHelp } from './provideSignatureHelp.js';\r\nvar ParameterHintState;\r\n(function (ParameterHintState) {\r\n    ParameterHintState.Default = { type: 0 /* Default */ };\r\n    var Pending = /** @class */ (function () {\r\n        function Pending(request) {\r\n            this.request = request;\r\n            this.type = 2 /* Pending */;\r\n        }\r\n        return Pending;\r\n    }());\r\n    ParameterHintState.Pending = Pending;\r\n    var Active = /** @class */ (function () {\r\n        function Active(hints) {\r\n            this.hints = hints;\r\n            this.type = 1 /* Active */;\r\n        }\r\n        return Active;\r\n    }());\r\n    ParameterHintState.Active = Active;\r\n})(ParameterHintState || (ParameterHintState = {}));\r\nvar ParameterHintsModel = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsModel, _super);\r\n    function ParameterHintsModel(editor, delay) {\r\n        if (delay === void 0) { delay = ParameterHintsModel.DEFAULT_DELAY; }\r\n        var _this = _super.call(this) || this;\r\n        _this._onChangedHints = _this._register(new Emitter());\r\n        _this.onChangedHints = _this._onChangedHints.event;\r\n        _this.triggerOnType = false;\r\n        _this._state = ParameterHintState.Default;\r\n        _this._pendingTriggers = [];\r\n        _this._lastSignatureHelpResult = _this._register(new MutableDisposable());\r\n        _this.triggerChars = new CharacterSet();\r\n        _this.retriggerChars = new CharacterSet();\r\n        _this.triggerId = 0;\r\n        _this.editor = editor;\r\n        _this.throttledDelayer = new Delayer(delay);\r\n        _this._register(_this.editor.onDidChangeConfiguration(function () { return _this.onEditorConfigurationChange(); }));\r\n        _this._register(_this.editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeModelLanguage(function (_) { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeCursorSelection(function (e) { return _this.onCursorChange(e); }));\r\n        _this._register(_this.editor.onDidChangeModelContent(function (e) { return _this.onModelContentChange(); }));\r\n        _this._register(modes.SignatureHelpProviderRegistry.onDidChange(_this.onModelChanged, _this));\r\n        _this._register(_this.editor.onDidType(function (text) { return _this.onDidType(text); }));\r\n        _this.onEditorConfigurationChange();\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ParameterHintsModel.prototype, \"state\", {\r\n        get: function () { return this._state; },\r\n        set: function (value) {\r\n            if (this._state.type === 2 /* Pending */) {\r\n                this._state.request.cancel();\r\n            }\r\n            this._state = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ParameterHintsModel.prototype.cancel = function (silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.state = ParameterHintState.Default;\r\n        this.throttledDelayer.cancel();\r\n        if (!silent) {\r\n            this._onChangedHints.fire(undefined);\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.trigger = function (context, delay) {\r\n        var _this = this;\r\n        var model = this.editor.getModel();\r\n        if (!model || !modes.SignatureHelpProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        var triggerId = ++this.triggerId;\r\n        this._pendingTriggers.push(context);\r\n        this.throttledDelayer.trigger(function () {\r\n            return _this.doTrigger(triggerId);\r\n        }, delay)\r\n            .catch(onUnexpectedError);\r\n    };\r\n    ParameterHintsModel.prototype.next = function () {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        var length = this.state.hints.signatures.length;\r\n        var activeSignature = this.state.hints.activeSignature;\r\n        var last = (activeSignature % length) === (length - 1);\r\n        var cycle = this.editor.getOption(64 /* parameterHints */).cycle;\r\n        // If there is only one signature, or we're on last signature of list\r\n        if ((length < 2 || last) && !cycle) {\r\n            this.cancel();\r\n            return;\r\n        }\r\n        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);\r\n    };\r\n    ParameterHintsModel.prototype.previous = function () {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        var length = this.state.hints.signatures.length;\r\n        var activeSignature = this.state.hints.activeSignature;\r\n        var first = activeSignature === 0;\r\n        var cycle = this.editor.getOption(64 /* parameterHints */).cycle;\r\n        // If there is only one signature, or we're on first signature of list\r\n        if ((length < 2 || first) && !cycle) {\r\n            this.cancel();\r\n            return;\r\n        }\r\n        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);\r\n    };\r\n    ParameterHintsModel.prototype.updateActiveSignature = function (activeSignature) {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        this.state = new ParameterHintState.Active(__assign(__assign({}, this.state.hints), { activeSignature: activeSignature }));\r\n        this._onChangedHints.fire(this.state.hints);\r\n    };\r\n    ParameterHintsModel.prototype.doTrigger = function (triggerId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isRetrigger, activeSignatureHelp, context, triggerContext, model, position, result, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        isRetrigger = this.state.type === 1 /* Active */ || this.state.type === 2 /* Pending */;\r\n                        activeSignatureHelp = this.state.type === 1 /* Active */ ? this.state.hints : undefined;\r\n                        this.cancel(true);\r\n                        if (this._pendingTriggers.length === 0) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        context = this._pendingTriggers.reduce(mergeTriggerContexts);\r\n                        this._pendingTriggers = [];\r\n                        triggerContext = {\r\n                            triggerKind: context.triggerKind,\r\n                            triggerCharacter: context.triggerCharacter,\r\n                            isRetrigger: isRetrigger,\r\n                            activeSignatureHelp: activeSignatureHelp\r\n                        };\r\n                        if (!this.editor.hasModel()) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        model = this.editor.getModel();\r\n                        position = this.editor.getPosition();\r\n                        this.state = new ParameterHintState.Pending(createCancelablePromise(function (token) {\r\n                            return provideSignatureHelp(model, position, triggerContext, token);\r\n                        }));\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.state.request];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        // Check that we are still resolving the correct signature help\r\n                        if (triggerId !== this.triggerId) {\r\n                            result === null || result === void 0 ? void 0 : result.dispose();\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        if (!result || !result.value.signatures || result.value.signatures.length === 0) {\r\n                            result === null || result === void 0 ? void 0 : result.dispose();\r\n                            this._lastSignatureHelpResult.clear();\r\n                            this.cancel();\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        else {\r\n                            this.state = new ParameterHintState.Active(result.value);\r\n                            this._lastSignatureHelpResult.value = result;\r\n                            this._onChangedHints.fire(this.state.hints);\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        if (triggerId === this.triggerId) {\r\n                            this.state = ParameterHintState.Default;\r\n                        }\r\n                        onUnexpectedError(error_1);\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(ParameterHintsModel.prototype, \"isTriggered\", {\r\n        get: function () {\r\n            return this.state.type === 1 /* Active */\r\n                || this.state.type === 2 /* Pending */\r\n                || this.throttledDelayer.isTriggered();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ParameterHintsModel.prototype.onModelChanged = function () {\r\n        this.cancel();\r\n        // Update trigger characters\r\n        this.triggerChars = new CharacterSet();\r\n        this.retriggerChars = new CharacterSet();\r\n        var model = this.editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = modes.SignatureHelpProviderRegistry.ordered(model); _i < _a.length; _i++) {\r\n            var support = _a[_i];\r\n            for (var _b = 0, _c = support.signatureHelpTriggerCharacters || []; _b < _c.length; _b++) {\r\n                var ch = _c[_b];\r\n                this.triggerChars.add(ch.charCodeAt(0));\r\n                // All trigger characters are also considered retrigger characters\r\n                this.retriggerChars.add(ch.charCodeAt(0));\r\n            }\r\n            for (var _d = 0, _e = support.signatureHelpRetriggerCharacters || []; _d < _e.length; _d++) {\r\n                var ch = _e[_d];\r\n                this.retriggerChars.add(ch.charCodeAt(0));\r\n            }\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onDidType = function (text) {\r\n        if (!this.triggerOnType) {\r\n            return;\r\n        }\r\n        var lastCharIndex = text.length - 1;\r\n        var triggerCharCode = text.charCodeAt(lastCharIndex);\r\n        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) {\r\n            this.trigger({\r\n                triggerKind: modes.SignatureHelpTriggerKind.TriggerCharacter,\r\n                triggerCharacter: text.charAt(lastCharIndex),\r\n            });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onCursorChange = function (e) {\r\n        if (e.source === 'mouse') {\r\n            this.cancel();\r\n        }\r\n        else if (this.isTriggered) {\r\n            this.trigger({ triggerKind: modes.SignatureHelpTriggerKind.ContentChange });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onModelContentChange = function () {\r\n        if (this.isTriggered) {\r\n            this.trigger({ triggerKind: modes.SignatureHelpTriggerKind.ContentChange });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onEditorConfigurationChange = function () {\r\n        this.triggerOnType = this.editor.getOption(64 /* parameterHints */).enabled;\r\n        if (!this.triggerOnType) {\r\n            this.cancel();\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.dispose = function () {\r\n        this.cancel(true);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ParameterHintsModel.DEFAULT_DELAY = 120; // ms\r\n    return ParameterHintsModel;\r\n}(Disposable));\r\nexport { ParameterHintsModel };\r\nfunction mergeTriggerContexts(previous, current) {\r\n    switch (current.triggerKind) {\r\n        case modes.SignatureHelpTriggerKind.Invoke:\r\n            // Invoke overrides previous triggers.\r\n            return current;\r\n        case modes.SignatureHelpTriggerKind.ContentChange:\r\n            // Ignore content changes triggers\r\n            return previous;\r\n        case modes.SignatureHelpTriggerKind.TriggerCharacter:\r\n        default:\r\n            return current;\r\n    }\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { domEvent, stop } from '../../../base/browser/event.js';\r\nimport * as aria from '../../../base/browser/ui/aria/aria.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { Event } from '../../../base/common/event.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport './parameterHints.css';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { Context } from './provideSignatureHelp.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorHoverBackground, editorHoverBorder, textCodeBlockBackground, textLinkForeground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { HIGH_CONTRAST, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { ParameterHintsModel } from './parameterHintsModel.js';\r\nimport { pad } from '../../../base/common/strings.js';\r\nvar $ = dom.$;\r\nvar ParameterHintsWidget = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsWidget, _super);\r\n    function ParameterHintsWidget(editor, contextKeyService, openerService, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.renderDisposeables = _this._register(new DisposableStore());\r\n        _this.visible = false;\r\n        _this.announcedLabel = null;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this.markdownRenderer = _this._register(new MarkdownRenderer(editor, modeService, openerService));\r\n        _this.model = _this._register(new ParameterHintsModel(editor));\r\n        _this.keyVisible = Context.Visible.bindTo(contextKeyService);\r\n        _this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\r\n        _this._register(_this.model.onChangedHints(function (newParameterHints) {\r\n            if (newParameterHints) {\r\n                _this.show();\r\n                _this.render(newParameterHints);\r\n            }\r\n            else {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ParameterHintsWidget.prototype.createParamaterHintDOMNodes = function () {\r\n        var _this = this;\r\n        var element = $('.editor-widget.parameter-hints-widget');\r\n        var wrapper = dom.append(element, $('.wrapper'));\r\n        wrapper.tabIndex = -1;\r\n        var controls = dom.append(wrapper, $('.controls'));\r\n        var previous = dom.append(controls, $('.button.codicon.codicon-chevron-up'));\r\n        var overloads = dom.append(controls, $('.overloads'));\r\n        var next = dom.append(controls, $('.button.codicon.codicon-chevron-down'));\r\n        var onPreviousClick = stop(domEvent(previous, 'click'));\r\n        this._register(onPreviousClick(this.previous, this));\r\n        var onNextClick = stop(domEvent(next, 'click'));\r\n        this._register(onNextClick(this.next, this));\r\n        var body = $('.body');\r\n        var scrollbar = new DomScrollableElement(body, {});\r\n        this._register(scrollbar);\r\n        wrapper.appendChild(scrollbar.getDomNode());\r\n        var signature = dom.append(body, $('.signature'));\r\n        var docs = dom.append(body, $('.docs'));\r\n        element.style.userSelect = 'text';\r\n        this.domNodes = {\r\n            element: element,\r\n            signature: signature,\r\n            overloads: overloads,\r\n            docs: docs,\r\n            scrollbar: scrollbar,\r\n        };\r\n        this.editor.addContentWidget(this);\r\n        this.hide();\r\n        this._register(this.editor.onDidChangeCursorSelection(function (e) {\r\n            if (_this.visible) {\r\n                _this.editor.layoutContentWidget(_this);\r\n            }\r\n        }));\r\n        var updateFont = function () {\r\n            if (!_this.domNodes) {\r\n                return;\r\n            }\r\n            var fontInfo = _this.editor.getOption(34 /* fontInfo */);\r\n            _this.domNodes.element.style.fontSize = fontInfo.fontSize + \"px\";\r\n        };\r\n        updateFont();\r\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(34 /* fontInfo */); })\r\n            .on(updateFont, null));\r\n        this._register(this.editor.onDidLayoutChange(function (e) { return _this.updateMaxHeight(); }));\r\n        this.updateMaxHeight();\r\n    };\r\n    ParameterHintsWidget.prototype.show = function () {\r\n        var _this = this;\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (!this.domNodes) {\r\n            this.createParamaterHintDOMNodes();\r\n        }\r\n        this.keyVisible.set(true);\r\n        this.visible = true;\r\n        setTimeout(function () {\r\n            if (_this.domNodes) {\r\n                dom.addClass(_this.domNodes.element, 'visible');\r\n            }\r\n        }, 100);\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    ParameterHintsWidget.prototype.hide = function () {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.keyVisible.reset();\r\n        this.visible = false;\r\n        this.announcedLabel = null;\r\n        if (this.domNodes) {\r\n            dom.removeClass(this.domNodes.element, 'visible');\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    ParameterHintsWidget.prototype.getPosition = function () {\r\n        if (this.visible) {\r\n            return {\r\n                position: this.editor.getPosition(),\r\n                preference: [1 /* ABOVE */, 2 /* BELOW */]\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ParameterHintsWidget.prototype.render = function (hints) {\r\n        if (!this.domNodes) {\r\n            return;\r\n        }\r\n        var multiple = hints.signatures.length > 1;\r\n        dom.toggleClass(this.domNodes.element, 'multiple', multiple);\r\n        this.keyMultipleSignatures.set(multiple);\r\n        this.domNodes.signature.innerHTML = '';\r\n        this.domNodes.docs.innerHTML = '';\r\n        var signature = hints.signatures[hints.activeSignature];\r\n        if (!signature) {\r\n            return;\r\n        }\r\n        var code = dom.append(this.domNodes.signature, $('.code'));\r\n        var hasParameters = signature.parameters.length > 0;\r\n        var fontInfo = this.editor.getOption(34 /* fontInfo */);\r\n        code.style.fontSize = fontInfo.fontSize + \"px\";\r\n        code.style.fontFamily = fontInfo.fontFamily;\r\n        if (!hasParameters) {\r\n            var label = dom.append(code, $('span'));\r\n            label.textContent = signature.label;\r\n        }\r\n        else {\r\n            this.renderParameters(code, signature, hints.activeParameter);\r\n        }\r\n        this.renderDisposeables.clear();\r\n        var activeParameter = signature.parameters[hints.activeParameter];\r\n        if (activeParameter && activeParameter.documentation) {\r\n            var documentation = $('span.documentation');\r\n            if (typeof activeParameter.documentation === 'string') {\r\n                documentation.textContent = activeParameter.documentation;\r\n            }\r\n            else {\r\n                var renderedContents = this.markdownRenderer.render(activeParameter.documentation);\r\n                dom.addClass(renderedContents.element, 'markdown-docs');\r\n                this.renderDisposeables.add(renderedContents);\r\n                documentation.appendChild(renderedContents.element);\r\n            }\r\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\r\n        }\r\n        if (signature.documentation === undefined) { /** no op */ }\r\n        else if (typeof signature.documentation === 'string') {\r\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\r\n        }\r\n        else {\r\n            var renderedContents = this.markdownRenderer.render(signature.documentation);\r\n            dom.addClass(renderedContents.element, 'markdown-docs');\r\n            this.renderDisposeables.add(renderedContents);\r\n            dom.append(this.domNodes.docs, renderedContents.element);\r\n        }\r\n        var hasDocs = this.hasDocs(signature, activeParameter);\r\n        dom.toggleClass(this.domNodes.signature, 'has-docs', hasDocs);\r\n        dom.toggleClass(this.domNodes.docs, 'empty', !hasDocs);\r\n        this.domNodes.overloads.textContent =\r\n            pad(hints.activeSignature + 1, hints.signatures.length.toString().length) + '/' + hints.signatures.length;\r\n        if (activeParameter) {\r\n            var labelToAnnounce = this.getParameterLabel(signature, hints.activeParameter);\r\n            // Select method gets called on every user type while parameter hints are visible.\r\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\r\n            if (this.announcedLabel !== labelToAnnounce) {\r\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\r\n                this.announcedLabel = labelToAnnounce;\r\n            }\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n        this.domNodes.scrollbar.scanDomNode();\r\n    };\r\n    ParameterHintsWidget.prototype.hasDocs = function (signature, activeParameter) {\r\n        if (activeParameter && typeof (activeParameter.documentation) === 'string' && activeParameter.documentation.length > 0) {\r\n            return true;\r\n        }\r\n        if (activeParameter && typeof (activeParameter.documentation) === 'object' && activeParameter.documentation.value.length > 0) {\r\n            return true;\r\n        }\r\n        if (typeof (signature.documentation) === 'string' && signature.documentation.length > 0) {\r\n            return true;\r\n        }\r\n        if (typeof (signature.documentation) === 'object' && signature.documentation.value.length > 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ParameterHintsWidget.prototype.renderParameters = function (parent, signature, currentParameter) {\r\n        var _a = this.getParameterLabelOffsets(signature, currentParameter), start = _a[0], end = _a[1];\r\n        var beforeSpan = document.createElement('span');\r\n        beforeSpan.textContent = signature.label.substring(0, start);\r\n        var paramSpan = document.createElement('span');\r\n        paramSpan.textContent = signature.label.substring(start, end);\r\n        paramSpan.className = 'parameter active';\r\n        var afterSpan = document.createElement('span');\r\n        afterSpan.textContent = signature.label.substring(end);\r\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\r\n    };\r\n    ParameterHintsWidget.prototype.getParameterLabel = function (signature, paramIdx) {\r\n        var param = signature.parameters[paramIdx];\r\n        if (typeof param.label === 'string') {\r\n            return param.label;\r\n        }\r\n        else {\r\n            return signature.label.substring(param.label[0], param.label[1]);\r\n        }\r\n    };\r\n    ParameterHintsWidget.prototype.getParameterLabelOffsets = function (signature, paramIdx) {\r\n        var param = signature.parameters[paramIdx];\r\n        if (!param) {\r\n            return [0, 0];\r\n        }\r\n        else if (Array.isArray(param.label)) {\r\n            return param.label;\r\n        }\r\n        else {\r\n            var idx = signature.label.lastIndexOf(param.label);\r\n            return idx >= 0\r\n                ? [idx, idx + param.label.length]\r\n                : [0, 0];\r\n        }\r\n    };\r\n    ParameterHintsWidget.prototype.next = function () {\r\n        this.editor.focus();\r\n        this.model.next();\r\n    };\r\n    ParameterHintsWidget.prototype.previous = function () {\r\n        this.editor.focus();\r\n        this.model.previous();\r\n    };\r\n    ParameterHintsWidget.prototype.cancel = function () {\r\n        this.model.cancel();\r\n    };\r\n    ParameterHintsWidget.prototype.getDomNode = function () {\r\n        if (!this.domNodes) {\r\n            this.createParamaterHintDOMNodes();\r\n        }\r\n        return this.domNodes.element;\r\n    };\r\n    ParameterHintsWidget.prototype.getId = function () {\r\n        return ParameterHintsWidget.ID;\r\n    };\r\n    ParameterHintsWidget.prototype.trigger = function (context) {\r\n        this.model.trigger(context, 0);\r\n    };\r\n    ParameterHintsWidget.prototype.updateMaxHeight = function () {\r\n        if (!this.domNodes) {\r\n            return;\r\n        }\r\n        var height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\r\n        var maxHeight = height + \"px\";\r\n        this.domNodes.element.style.maxHeight = maxHeight;\r\n        var wrapper = this.domNodes.element.getElementsByClassName('wrapper');\r\n        if (wrapper.length) {\r\n            wrapper[0].style.maxHeight = maxHeight;\r\n        }\r\n    };\r\n    ParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\r\n    ParameterHintsWidget = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IOpenerService),\r\n        __param(3, IModeService)\r\n    ], ParameterHintsWidget);\r\n    return ParameterHintsWidget;\r\n}(Disposable));\r\nexport { ParameterHintsWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorHoverBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid \" + border.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid \" + border.transparent(0.5) + \"; }\");\r\n    }\r\n    var background = theme.getColor(editorHoverBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { background-color: \" + background + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget a { color: \" + link + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorHoverForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\r\nimport { Context } from './provideSignatureHelp.js';\r\nimport * as modes from '../../common/modes.js';\r\nvar ParameterHintsController = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsController, _super);\r\n    function ParameterHintsController(editor, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.widget = _this._register(instantiationService.createInstance(ParameterHintsWidget, _this.editor));\r\n        return _this;\r\n    }\r\n    ParameterHintsController.get = function (editor) {\r\n        return editor.getContribution(ParameterHintsController.ID);\r\n    };\r\n    ParameterHintsController.prototype.cancel = function () {\r\n        this.widget.cancel();\r\n    };\r\n    ParameterHintsController.prototype.previous = function () {\r\n        this.widget.previous();\r\n    };\r\n    ParameterHintsController.prototype.next = function () {\r\n        this.widget.next();\r\n    };\r\n    ParameterHintsController.prototype.trigger = function (context) {\r\n        this.widget.trigger(context);\r\n    };\r\n    ParameterHintsController.ID = 'editor.controller.parameterHints';\r\n    ParameterHintsController = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], ParameterHintsController);\r\n    return ParameterHintsController;\r\n}(Disposable));\r\nvar TriggerParameterHintsAction = /** @class */ (function (_super) {\r\n    __extends(TriggerParameterHintsAction, _super);\r\n    function TriggerParameterHintsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.triggerParameterHints',\r\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\r\n            alias: 'Trigger Parameter Hints',\r\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 10 /* Space */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerParameterHintsAction.prototype.run = function (accessor, editor) {\r\n        var controller = ParameterHintsController.get(editor);\r\n        if (controller) {\r\n            controller.trigger({\r\n                triggerKind: modes.SignatureHelpTriggerKind.Invoke\r\n            });\r\n        }\r\n    };\r\n    return TriggerParameterHintsAction;\r\n}(EditorAction));\r\nexport { TriggerParameterHintsAction };\r\nregisterEditorContribution(ParameterHintsController.ID, ParameterHintsController);\r\nregisterEditorAction(TriggerParameterHintsAction);\r\nvar weight = 100 /* EditorContrib */ + 75;\r\nvar ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'closeParameterHints',\r\n    precondition: Context.Visible,\r\n    handler: function (x) { return x.cancel(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'showPrevParameterHint',\r\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\r\n    handler: function (x) { return x.previous(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 16 /* UpArrow */,\r\n        secondary: [512 /* Alt */ | 16 /* UpArrow */],\r\n        mac: { primary: 16 /* UpArrow */, secondary: [512 /* Alt */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'showNextParameterHint',\r\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\r\n    handler: function (x) { return x.next(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 18 /* DownArrow */,\r\n        secondary: [512 /* Alt */ | 18 /* DownArrow */],\r\n        mac: { primary: 18 /* DownArrow */, secondary: [512 /* Alt */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './renameInputField.css';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { localize } from '../../../nls.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { inputBackground, inputBorder, inputForeground, widgetShadow, editorWidgetBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { toggleClass } from '../../../base/browser/dom.js';\r\nexport var CONTEXT_RENAME_INPUT_VISIBLE = new RawContextKey('renameInputVisible', false);\r\nvar RenameInputField = /** @class */ (function () {\r\n    function RenameInputField(_editor, _acceptKeybindings, _themeService, _keybindingService, contextKeyService) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._acceptKeybindings = _acceptKeybindings;\r\n        this._themeService = _themeService;\r\n        this._keybindingService = _keybindingService;\r\n        this._disposables = new DisposableStore();\r\n        this.allowEditorOverflow = true;\r\n        this._visibleContextKey = CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\r\n        this._editor.addContentWidget(this);\r\n        this._disposables.add(this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(34 /* fontInfo */)) {\r\n                _this._updateFont();\r\n            }\r\n        }));\r\n        this._disposables.add(_themeService.onThemeChange(this._updateStyles, this));\r\n    }\r\n    RenameInputField.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    RenameInputField.prototype.getId = function () {\r\n        return '__renameInputWidget';\r\n    };\r\n    RenameInputField.prototype.getDomNode = function () {\r\n        var _this = this;\r\n        if (!this._domNode) {\r\n            this._domNode = document.createElement('div');\r\n            this._domNode.className = 'monaco-editor rename-box';\r\n            this._input = document.createElement('input');\r\n            this._input.className = 'rename-input';\r\n            this._input.type = 'text';\r\n            this._input.setAttribute('aria-label', localize('renameAriaLabel', \"Rename input. Type new name and press Enter to commit.\"));\r\n            this._domNode.appendChild(this._input);\r\n            this._label = document.createElement('div');\r\n            this._label.className = 'rename-label';\r\n            this._domNode.appendChild(this._label);\r\n            var updateLabel = function () {\r\n                var _a, _b;\r\n                var _c = _this._acceptKeybindings, accept = _c[0], preview = _c[1];\r\n                _this._keybindingService.lookupKeybinding(accept);\r\n                _this._label.innerText = localize('label', \"{0} to Rename, {1} to Preview\", (_a = _this._keybindingService.lookupKeybinding(accept)) === null || _a === void 0 ? void 0 : _a.getLabel(), (_b = _this._keybindingService.lookupKeybinding(preview)) === null || _b === void 0 ? void 0 : _b.getLabel());\r\n            };\r\n            updateLabel();\r\n            this._disposables.add(this._keybindingService.onDidUpdateKeybindings(updateLabel));\r\n            this._updateFont();\r\n            this._updateStyles(this._themeService.getTheme());\r\n        }\r\n        return this._domNode;\r\n    };\r\n    RenameInputField.prototype._updateStyles = function (theme) {\r\n        var _a, _b, _c, _d;\r\n        if (!this._input || !this._domNode) {\r\n            return;\r\n        }\r\n        var widgetShadowColor = theme.getColor(widgetShadow);\r\n        this._domNode.style.backgroundColor = String((_a = theme.getColor(editorWidgetBackground)) !== null && _a !== void 0 ? _a : '');\r\n        this._domNode.style.boxShadow = widgetShadowColor ? \" 0 2px 8px \" + widgetShadowColor : '';\r\n        this._domNode.style.color = String((_b = theme.getColor(inputForeground)) !== null && _b !== void 0 ? _b : '');\r\n        this._input.style.backgroundColor = String((_c = theme.getColor(inputBackground)) !== null && _c !== void 0 ? _c : '');\r\n        // this._input.style.color = String(theme.getColor(inputForeground) ?? '');\r\n        var border = theme.getColor(inputBorder);\r\n        this._input.style.borderWidth = border ? '1px' : '0px';\r\n        this._input.style.borderStyle = border ? 'solid' : 'none';\r\n        this._input.style.borderColor = (_d = border === null || border === void 0 ? void 0 : border.toString()) !== null && _d !== void 0 ? _d : 'none';\r\n    };\r\n    RenameInputField.prototype._updateFont = function () {\r\n        if (!this._input || !this._label) {\r\n            return;\r\n        }\r\n        var fontInfo = this._editor.getOption(34 /* fontInfo */);\r\n        this._input.style.fontFamily = fontInfo.fontFamily;\r\n        this._input.style.fontWeight = fontInfo.fontWeight;\r\n        this._input.style.fontSize = fontInfo.fontSize + \"px\";\r\n        this._label.style.fontSize = fontInfo.fontSize * 0.8 + \"px\";\r\n    };\r\n    RenameInputField.prototype.getPosition = function () {\r\n        if (!this._visible) {\r\n            return null;\r\n        }\r\n        return {\r\n            position: this._position,\r\n            preference: [2 /* BELOW */, 1 /* ABOVE */]\r\n        };\r\n    };\r\n    RenameInputField.prototype.acceptInput = function (wantsPreview) {\r\n        if (this._currentAcceptInput) {\r\n            this._currentAcceptInput(wantsPreview);\r\n        }\r\n    };\r\n    RenameInputField.prototype.cancelInput = function (focusEditor) {\r\n        if (this._currentCancelInput) {\r\n            this._currentCancelInput(focusEditor);\r\n        }\r\n    };\r\n    RenameInputField.prototype.getInput = function (where, value, selectionStart, selectionEnd, supportPreview) {\r\n        var _this = this;\r\n        toggleClass(this._domNode, 'preview', supportPreview);\r\n        this._position = new Position(where.startLineNumber, where.startColumn);\r\n        this._input.value = value;\r\n        this._input.setAttribute('selectionStart', selectionStart.toString());\r\n        this._input.setAttribute('selectionEnd', selectionEnd.toString());\r\n        this._input.size = Math.max((where.endColumn - where.startColumn) * 1.1, 20);\r\n        var disposeOnDone = new DisposableStore();\r\n        return new Promise(function (resolve) {\r\n            _this._currentCancelInput = function (focusEditor) {\r\n                _this._currentAcceptInput = undefined;\r\n                _this._currentCancelInput = undefined;\r\n                resolve(focusEditor);\r\n                return true;\r\n            };\r\n            _this._currentAcceptInput = function (wantsPreview) {\r\n                if (_this._input.value.trim().length === 0 || _this._input.value === value) {\r\n                    // empty or whitespace only or not changed\r\n                    _this.cancelInput(true);\r\n                    return;\r\n                }\r\n                _this._currentAcceptInput = undefined;\r\n                _this._currentCancelInput = undefined;\r\n                resolve({\r\n                    newName: _this._input.value,\r\n                    wantsPreview: supportPreview && wantsPreview\r\n                });\r\n            };\r\n            var onCursorChanged = function () {\r\n                var editorPosition = _this._editor.getPosition();\r\n                if (!editorPosition || !Range.containsPosition(where, editorPosition)) {\r\n                    _this.cancelInput(true);\r\n                }\r\n            };\r\n            disposeOnDone.add(_this._editor.onDidChangeCursorSelection(onCursorChanged));\r\n            disposeOnDone.add(_this._editor.onDidBlurEditorWidget(function () { return _this.cancelInput(false); }));\r\n            _this._show();\r\n        }).finally(function () {\r\n            disposeOnDone.dispose();\r\n            _this._hide();\r\n        });\r\n    };\r\n    RenameInputField.prototype._show = function () {\r\n        var _this = this;\r\n        this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber, 0 /* Smooth */);\r\n        this._visible = true;\r\n        this._visibleContextKey.set(true);\r\n        this._editor.layoutContentWidget(this);\r\n        setTimeout(function () {\r\n            _this._input.focus();\r\n            _this._input.setSelectionRange(parseInt(_this._input.getAttribute('selectionStart')), parseInt(_this._input.getAttribute('selectionEnd')));\r\n        }, 100);\r\n    };\r\n    RenameInputField.prototype._hide = function () {\r\n        this._visible = false;\r\n        this._visibleContextKey.reset();\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    RenameInputField = __decorate([\r\n        __param(2, IThemeService),\r\n        __param(3, IKeybindingService),\r\n        __param(4, IContextKeyService)\r\n    ], RenameInputField);\r\n    return RenameInputField;\r\n}());\r\nexport { RenameInputField };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { illegalArgument, onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { RenameInputField, CONTEXT_RENAME_INPUT_VISIBLE } from './renameInputField.js';\r\nimport { RenameProviderRegistry } from '../../common/modes.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { CancellationToken, CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { IdleValue, raceCancellation } from '../../../base/common/async.js';\r\nimport { withNullAsUndefined } from '../../../base/common/types.js';\r\nimport { ILogService } from '../../../platform/log/common/log.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { Registry } from '../../../platform/registry/common/platform.js';\r\nimport { Extensions } from '../../../platform/configuration/common/configurationRegistry.js';\r\nimport { ITextResourceConfigurationService } from '../../common/services/textResourceConfigurationService.js';\r\nvar RenameSkeleton = /** @class */ (function () {\r\n    function RenameSkeleton(model, position) {\r\n        this.model = model;\r\n        this.position = position;\r\n        this._providers = RenameProviderRegistry.ordered(model);\r\n    }\r\n    RenameSkeleton.prototype.hasProvider = function () {\r\n        return this._providers.length > 0;\r\n    };\r\n    RenameSkeleton.prototype.resolveRenameLocation = function (token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var firstProvider, res, _a, word;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        firstProvider = this._providers[0];\r\n                        if (!firstProvider) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (!firstProvider.resolveRenameLocation) return [3 /*break*/, 2];\r\n                        _a = withNullAsUndefined;\r\n                        return [4 /*yield*/, firstProvider.resolveRenameLocation(this.model, this.position, token)];\r\n                    case 1:\r\n                        res = _a.apply(void 0, [_b.sent()]);\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        if (!res) {\r\n                            word = this.model.getWordAtPosition(this.position);\r\n                            if (word) {\r\n                                return [2 /*return*/, {\r\n                                        range: new Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),\r\n                                        text: word.word\r\n                                    }];\r\n                            }\r\n                        }\r\n                        return [2 /*return*/, res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RenameSkeleton.prototype.provideRenameEdits = function (newName, i, rejects, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var provider, result;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        provider = this._providers[i];\r\n                        if (!provider) {\r\n                            return [2 /*return*/, {\r\n                                    edits: [],\r\n                                    rejectReason: rejects.join('\\n')\r\n                                }];\r\n                        }\r\n                        return [4 /*yield*/, provider.provideRenameEdits(this.model, this.position, newName, token)];\r\n                    case 1:\r\n                        result = _a.sent();\r\n                        if (!result) {\r\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(nls.localize('no result', \"No result.\")), token)];\r\n                        }\r\n                        else if (result.rejectReason) {\r\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason), token)];\r\n                        }\r\n                        return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return RenameSkeleton;\r\n}());\r\nexport function rename(model, position, newName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, new RenameSkeleton(model, position).provideRenameEdits(newName, 0, [], CancellationToken.None)];\r\n        });\r\n    });\r\n}\r\n// ---  register actions and commands\r\nvar RenameController = /** @class */ (function () {\r\n    function RenameController(editor, _instaService, _notificationService, _bulkEditService, _progressService, _logService, _configService) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this._instaService = _instaService;\r\n        this._notificationService = _notificationService;\r\n        this._bulkEditService = _bulkEditService;\r\n        this._progressService = _progressService;\r\n        this._logService = _logService;\r\n        this._configService = _configService;\r\n        this._dispoableStore = new DisposableStore();\r\n        this._cts = new CancellationTokenSource();\r\n        this._renameInputField = this._dispoableStore.add(new IdleValue(function () { return _this._dispoableStore.add(_this._instaService.createInstance(RenameInputField, _this.editor, ['acceptRenameInput', 'acceptRenameInputWithPreview'])); }));\r\n    }\r\n    RenameController.get = function (editor) {\r\n        return editor.getContribution(RenameController.ID);\r\n    };\r\n    RenameController.prototype.dispose = function () {\r\n        this._dispoableStore.dispose();\r\n        this._cts.dispose(true);\r\n    };\r\n    RenameController.prototype.run = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var position, skeleton, loc, resolveLocationOperation, e_1, selection, selectionStart, selectionEnd, supportPreview, inputFieldResult, renameOperation;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this._cts.dispose(true);\r\n                        if (!this.editor.hasModel()) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        position = this.editor.getPosition();\r\n                        skeleton = new RenameSkeleton(this.editor.getModel(), position);\r\n                        if (!skeleton.hasProvider()) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        this._cts = new EditorStateCancellationTokenSource(this.editor, 4 /* Position */ | 1 /* Value */);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        resolveLocationOperation = skeleton.resolveRenameLocation(this._cts.token);\r\n                        this._progressService.showWhile(resolveLocationOperation, 250);\r\n                        return [4 /*yield*/, resolveLocationOperation];\r\n                    case 2:\r\n                        loc = _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        MessageController.get(this.editor).showMessage(e_1 || nls.localize('resolveRenameLocationFailed', \"An unknown error occurred while resolving rename location\"), position);\r\n                        return [2 /*return*/, undefined];\r\n                    case 4:\r\n                        if (!loc) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (loc.rejectReason) {\r\n                            MessageController.get(this.editor).showMessage(loc.rejectReason, position);\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (this._cts.token.isCancellationRequested) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        selection = this.editor.getSelection();\r\n                        selectionStart = 0;\r\n                        selectionEnd = loc.text.length;\r\n                        if (!Range.isEmpty(selection) && !Range.spansMultipleLines(selection) && Range.containsRange(loc.range, selection)) {\r\n                            selectionStart = Math.max(0, selection.startColumn - loc.range.startColumn);\r\n                            selectionEnd = Math.min(loc.range.endColumn, selection.endColumn) - loc.range.startColumn;\r\n                        }\r\n                        supportPreview = this._bulkEditService.hasPreviewHandler() && this._configService.getValue(this.editor.getModel().uri, 'editor.rename.enablePreview');\r\n                        return [4 /*yield*/, this._renameInputField.getValue().getInput(loc.range, loc.text, selectionStart, selectionEnd, supportPreview)];\r\n                    case 5:\r\n                        inputFieldResult = _a.sent();\r\n                        // no result, only hint to focus the editor or not\r\n                        if (typeof inputFieldResult === 'boolean') {\r\n                            if (inputFieldResult) {\r\n                                this.editor.focus();\r\n                            }\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        this.editor.focus();\r\n                        renameOperation = raceCancellation(skeleton.provideRenameEdits(inputFieldResult.newName, 0, [], this._cts.token), this._cts.token).then(function (renameResult) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var _this = this;\r\n                            return __generator(this, function (_a) {\r\n                                if (!renameResult || !this.editor.hasModel()) {\r\n                                    return [2 /*return*/];\r\n                                }\r\n                                if (renameResult.rejectReason) {\r\n                                    this._notificationService.info(renameResult.rejectReason);\r\n                                    return [2 /*return*/];\r\n                                }\r\n                                this._bulkEditService.apply(renameResult, {\r\n                                    editor: this.editor,\r\n                                    showPreview: inputFieldResult.wantsPreview,\r\n                                    label: nls.localize('label', \"Renaming '{0}'\", loc === null || loc === void 0 ? void 0 : loc.text)\r\n                                }).then(function (result) {\r\n                                    if (result.ariaSummary) {\r\n                                        alert(nls.localize('aria', \"Successfully renamed '{0}' to '{1}'. Summary: {2}\", loc.text, inputFieldResult.newName, result.ariaSummary));\r\n                                    }\r\n                                }).catch(function (err) {\r\n                                    _this._notificationService.error(nls.localize('rename.failedApply', \"Rename failed to apply edits\"));\r\n                                    _this._logService.error(err);\r\n                                });\r\n                                return [2 /*return*/];\r\n                            });\r\n                        }); }, function (err) {\r\n                            _this._notificationService.error(nls.localize('rename.failed', \"Rename failed to compute edits\"));\r\n                            _this._logService.error(err);\r\n                        });\r\n                        this._progressService.showWhile(renameOperation, 250);\r\n                        return [2 /*return*/, renameOperation];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RenameController.prototype.acceptRenameInput = function (wantsPreview) {\r\n        this._renameInputField.getValue().acceptInput(wantsPreview);\r\n    };\r\n    RenameController.prototype.cancelRenameInput = function () {\r\n        this._renameInputField.getValue().cancelInput(true);\r\n    };\r\n    RenameController.ID = 'editor.contrib.renameController';\r\n    RenameController = __decorate([\r\n        __param(1, IInstantiationService),\r\n        __param(2, INotificationService),\r\n        __param(3, IBulkEditService),\r\n        __param(4, IEditorProgressService),\r\n        __param(5, ILogService),\r\n        __param(6, ITextResourceConfigurationService)\r\n    ], RenameController);\r\n    return RenameController;\r\n}());\r\n// ---- action implementation\r\nvar RenameAction = /** @class */ (function (_super) {\r\n    __extends(RenameAction, _super);\r\n    function RenameAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.rename',\r\n            label: nls.localize('rename.label', \"Rename Symbol\"),\r\n            alias: 'Rename Symbol',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 60 /* F2 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 1.1\r\n            }\r\n        }) || this;\r\n    }\r\n    RenameAction.prototype.runCommand = function (accessor, args) {\r\n        var _this = this;\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var _a = Array.isArray(args) && args || [undefined, undefined], uri = _a[0], pos = _a[1];\r\n        if (URI.isUri(uri) && Position.isIPosition(pos)) {\r\n            return editorService.openCodeEditor({ resource: uri }, editorService.getActiveCodeEditor()).then(function (editor) {\r\n                if (!editor) {\r\n                    return;\r\n                }\r\n                editor.setPosition(pos);\r\n                editor.invokeWithinContext(function (accessor) {\r\n                    _this.reportTelemetry(accessor, editor);\r\n                    return _this.run(accessor, editor);\r\n                });\r\n            }, onUnexpectedError);\r\n        }\r\n        return _super.prototype.runCommand.call(this, accessor, args);\r\n    };\r\n    RenameAction.prototype.run = function (accessor, editor) {\r\n        var controller = RenameController.get(editor);\r\n        if (controller) {\r\n            return controller.run();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    return RenameAction;\r\n}(EditorAction));\r\nexport { RenameAction };\r\nregisterEditorContribution(RenameController.ID, RenameController);\r\nregisterEditorAction(RenameAction);\r\nvar RenameCommand = EditorCommand.bindToContribution(RenameController.get);\r\nregisterEditorCommand(new RenameCommand({\r\n    id: 'acceptRenameInput',\r\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\r\n    handler: function (x) { return x.acceptRenameInput(false); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 99,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new RenameCommand({\r\n    id: 'acceptRenameInputWithPreview',\r\n    precondition: ContextKeyExpr.and(CONTEXT_RENAME_INPUT_VISIBLE, ContextKeyExpr.has('config.editor.rename.enablePreview')),\r\n    handler: function (x) { return x.acceptRenameInput(true); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 99,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 1024 /* Shift */ + 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new RenameCommand({\r\n    id: 'cancelRenameInput',\r\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\r\n    handler: function (x) { return x.cancelRenameInput(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 99,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\n// ---- api bridge command\r\nregisterDefaultLanguageCommand('_executeDocumentRenameProvider', function (model, position, args) {\r\n    var newName = args.newName;\r\n    if (typeof newName !== 'string') {\r\n        throw illegalArgument('newName');\r\n    }\r\n    return rename(model, position, newName);\r\n});\r\n//todo@joh use editor options world\r\nRegistry.as(Extensions.Configuration).registerConfiguration({\r\n    id: 'editor',\r\n    properties: {\r\n        'editor.rename.enablePreview': {\r\n            scope: 5 /* LANGUAGE_OVERRIDABLE */,\r\n            description: nls.localize('enablePreview', \"Enable/disable the ability to preview changes before renaming\"),\r\n            default: true,\r\n            type: 'boolean'\r\n        }\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { isUpperAsciiLetter, isLowerAsciiLetter } from '../../../base/common/strings.js';\r\nvar WordSelectionRangeProvider = /** @class */ (function () {\r\n    function WordSelectionRangeProvider() {\r\n    }\r\n    WordSelectionRangeProvider.prototype.provideSelectionRanges = function (model, positions) {\r\n        var result = [];\r\n        for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n            var position = positions_1[_i];\r\n            var bucket = [];\r\n            result.push(bucket);\r\n            this._addInWordRanges(bucket, model, position);\r\n            this._addWordRanges(bucket, model, position);\r\n            this._addWhitespaceLine(bucket, model, position);\r\n            bucket.push({ range: model.getFullModelRange() });\r\n        }\r\n        return result;\r\n    };\r\n    WordSelectionRangeProvider.prototype._addInWordRanges = function (bucket, model, pos) {\r\n        var obj = model.getWordAtPosition(pos);\r\n        if (!obj) {\r\n            return;\r\n        }\r\n        var word = obj.word, startColumn = obj.startColumn;\r\n        var offset = pos.column - startColumn;\r\n        var start = offset;\r\n        var end = offset;\r\n        var lastCh = 0;\r\n        // LEFT anchor (start)\r\n        for (; start >= 0; start--) {\r\n            var ch = word.charCodeAt(start);\r\n            if (ch === 95 /* Underline */ || ch === 45 /* Dash */) {\r\n                // foo-bar OR foo_bar\r\n                break;\r\n            }\r\n            else if (isLowerAsciiLetter(ch) && isUpperAsciiLetter(lastCh)) {\r\n                // fooBar\r\n                break;\r\n            }\r\n            lastCh = ch;\r\n        }\r\n        start += 1;\r\n        // RIGHT anchor (end)\r\n        for (; end < word.length; end++) {\r\n            var ch = word.charCodeAt(end);\r\n            if (isUpperAsciiLetter(ch) && isLowerAsciiLetter(lastCh)) {\r\n                // fooBar\r\n                break;\r\n            }\r\n            else if (ch === 95 /* Underline */ || ch === 45 /* Dash */) {\r\n                // foo-bar OR foo_bar\r\n                break;\r\n            }\r\n            lastCh = ch;\r\n        }\r\n        if (start < end) {\r\n            bucket.push({ range: new Range(pos.lineNumber, startColumn + start, pos.lineNumber, startColumn + end) });\r\n        }\r\n    };\r\n    WordSelectionRangeProvider.prototype._addWordRanges = function (bucket, model, pos) {\r\n        var word = model.getWordAtPosition(pos);\r\n        if (word) {\r\n            bucket.push({ range: new Range(pos.lineNumber, word.startColumn, pos.lineNumber, word.endColumn) });\r\n        }\r\n    };\r\n    WordSelectionRangeProvider.prototype._addWhitespaceLine = function (bucket, model, pos) {\r\n        if (model.getLineLength(pos.lineNumber) > 0\r\n            && model.getLineFirstNonWhitespaceColumn(pos.lineNumber) === 0\r\n            && model.getLineLastNonWhitespaceColumn(pos.lineNumber) === 0) {\r\n            bucket.push({ range: new Range(pos.lineNumber, 1, pos.lineNumber, model.getLineMaxColumn(pos.lineNumber)) });\r\n        }\r\n    };\r\n    return WordSelectionRangeProvider;\r\n}());\r\nexport { WordSelectionRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { LinkedList } from '../../../base/common/linkedList.js';\r\nvar BracketSelectionRangeProvider = /** @class */ (function () {\r\n    function BracketSelectionRangeProvider() {\r\n    }\r\n    BracketSelectionRangeProvider.prototype.provideSelectionRanges = function (model, positions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var result, _loop_1, _i, positions_1, position;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        result = [];\r\n                        _loop_1 = function (position) {\r\n                            var bucket, ranges;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        bucket = [];\r\n                                        result.push(bucket);\r\n                                        ranges = new Map();\r\n                                        return [4 /*yield*/, new Promise(function (resolve) { return BracketSelectionRangeProvider._bracketsRightYield(resolve, 0, model, position, ranges); })];\r\n                                    case 1:\r\n                                        _a.sent();\r\n                                        return [4 /*yield*/, new Promise(function (resolve) { return BracketSelectionRangeProvider._bracketsLeftYield(resolve, 0, model, position, ranges, bucket); })];\r\n                                    case 2:\r\n                                        _a.sent();\r\n                                        return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        };\r\n                        _i = 0, positions_1 = positions;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(_i < positions_1.length)) return [3 /*break*/, 4];\r\n                        position = positions_1[_i];\r\n                        return [5 /*yield**/, _loop_1(position)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    BracketSelectionRangeProvider._bracketsRightYield = function (resolve, round, model, pos, ranges) {\r\n        var counts = new Map();\r\n        var t1 = Date.now();\r\n        while (true) {\r\n            if (round >= BracketSelectionRangeProvider._maxRounds) {\r\n                resolve();\r\n                break;\r\n            }\r\n            if (!pos) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var bracket = model.findNextBracket(pos);\r\n            if (!bracket) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var d = Date.now() - t1;\r\n            if (d > BracketSelectionRangeProvider._maxDuration) {\r\n                setTimeout(function () { return BracketSelectionRangeProvider._bracketsRightYield(resolve, round + 1, model, pos, ranges); });\r\n                break;\r\n            }\r\n            var key = bracket.close[0];\r\n            if (bracket.isOpen) {\r\n                // wait for closing\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                counts.set(key, val + 1);\r\n            }\r\n            else {\r\n                // process closing\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                val -= 1;\r\n                counts.set(key, Math.max(0, val));\r\n                if (val < 0) {\r\n                    var list = ranges.get(key);\r\n                    if (!list) {\r\n                        list = new LinkedList();\r\n                        ranges.set(key, list);\r\n                    }\r\n                    list.push(bracket.range);\r\n                }\r\n            }\r\n            pos = bracket.range.getEndPosition();\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._bracketsLeftYield = function (resolve, round, model, pos, ranges, bucket) {\r\n        var counts = new Map();\r\n        var t1 = Date.now();\r\n        while (true) {\r\n            if (round >= BracketSelectionRangeProvider._maxRounds && ranges.size === 0) {\r\n                resolve();\r\n                break;\r\n            }\r\n            if (!pos) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var bracket = model.findPrevBracket(pos);\r\n            if (!bracket) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var d = Date.now() - t1;\r\n            if (d > BracketSelectionRangeProvider._maxDuration) {\r\n                setTimeout(function () { return BracketSelectionRangeProvider._bracketsLeftYield(resolve, round + 1, model, pos, ranges, bucket); });\r\n                break;\r\n            }\r\n            var key = bracket.close[0];\r\n            if (!bracket.isOpen) {\r\n                // wait for opening\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                counts.set(key, val + 1);\r\n            }\r\n            else {\r\n                // opening\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                val -= 1;\r\n                counts.set(key, Math.max(0, val));\r\n                if (val < 0) {\r\n                    var list = ranges.get(key);\r\n                    if (list) {\r\n                        var closing = list.shift();\r\n                        if (list.size === 0) {\r\n                            ranges.delete(key);\r\n                        }\r\n                        var innerBracket = Range.fromPositions(bracket.range.getEndPosition(), closing.getStartPosition());\r\n                        var outerBracket = Range.fromPositions(bracket.range.getStartPosition(), closing.getEndPosition());\r\n                        bucket.push({ range: innerBracket });\r\n                        bucket.push({ range: outerBracket });\r\n                        BracketSelectionRangeProvider._addBracketLeading(model, outerBracket, bucket);\r\n                    }\r\n                }\r\n            }\r\n            pos = bracket.range.getStartPosition();\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._addBracketLeading = function (model, bracket, bucket) {\r\n        if (bracket.startLineNumber === bracket.endLineNumber) {\r\n            return;\r\n        }\r\n        // xxxxxxxx {\r\n        //\r\n        // }\r\n        var startLine = bracket.startLineNumber;\r\n        var column = model.getLineFirstNonWhitespaceColumn(startLine);\r\n        if (column !== 0 && column !== bracket.startColumn) {\r\n            bucket.push({ range: Range.fromPositions(new Position(startLine, column), bracket.getEndPosition()) });\r\n            bucket.push({ range: Range.fromPositions(new Position(startLine, 1), bracket.getEndPosition()) });\r\n        }\r\n        // xxxxxxxx\r\n        // {\r\n        //\r\n        // }\r\n        var aboveLine = startLine - 1;\r\n        if (aboveLine > 0) {\r\n            var column_1 = model.getLineFirstNonWhitespaceColumn(aboveLine);\r\n            if (column_1 === bracket.startColumn && column_1 !== model.getLineLastNonWhitespaceColumn(aboveLine)) {\r\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, column_1), bracket.getEndPosition()) });\r\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, 1), bracket.getEndPosition()) });\r\n            }\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._maxDuration = 30;\r\n    BracketSelectionRangeProvider._maxRounds = 2;\r\n    return BracketSelectionRangeProvider;\r\n}());\r\nexport { BracketSelectionRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelCommand } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { WordSelectionRangeProvider } from './wordSelections.js';\r\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nvar SelectionRanges = /** @class */ (function () {\r\n    function SelectionRanges(index, ranges) {\r\n        this.index = index;\r\n        this.ranges = ranges;\r\n    }\r\n    SelectionRanges.prototype.mov = function (fwd) {\r\n        var index = this.index + (fwd ? 1 : -1);\r\n        if (index < 0 || index >= this.ranges.length) {\r\n            return this;\r\n        }\r\n        var res = new SelectionRanges(index, this.ranges);\r\n        if (res.ranges[index].equalsRange(this.ranges[this.index])) {\r\n            // next range equals this range, retry with next-next\r\n            return res.mov(fwd);\r\n        }\r\n        return res;\r\n    };\r\n    return SelectionRanges;\r\n}());\r\nvar SmartSelectController = /** @class */ (function () {\r\n    function SmartSelectController(editor) {\r\n        this._ignoreSelection = false;\r\n        this._editor = editor;\r\n    }\r\n    SmartSelectController.get = function (editor) {\r\n        return editor.getContribution(SmartSelectController.ID);\r\n    };\r\n    SmartSelectController.prototype.dispose = function () {\r\n        dispose(this._selectionListener);\r\n    };\r\n    SmartSelectController.prototype.run = function (forward) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        var model = this._editor.getModel();\r\n        if (!modes.SelectionRangeRegistry.has(model)) {\r\n            return;\r\n        }\r\n        var promise = Promise.resolve(undefined);\r\n        if (!this._state) {\r\n            promise = provideSelectionRanges(model, selections.map(function (s) { return s.getPosition(); }), CancellationToken.None).then(function (ranges) {\r\n                if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\r\n                    // invalid result\r\n                    return;\r\n                }\r\n                if (!_this._editor.hasModel() || !arrays.equals(_this._editor.getSelections(), selections, function (a, b) { return a.equalsSelection(b); })) {\r\n                    // invalid editor state\r\n                    return;\r\n                }\r\n                var _loop_1 = function (i) {\r\n                    ranges[i] = ranges[i].filter(function (range) {\r\n                        // filter ranges inside the selection\r\n                        return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\r\n                    });\r\n                    // prepend current selection\r\n                    ranges[i].unshift(selections[i]);\r\n                };\r\n                for (var i = 0; i < ranges.length; i++) {\r\n                    _loop_1(i);\r\n                }\r\n                _this._state = ranges.map(function (ranges) { return new SelectionRanges(0, ranges); });\r\n                // listen to caret move and forget about state\r\n                dispose(_this._selectionListener);\r\n                _this._selectionListener = _this._editor.onDidChangeCursorPosition(function () {\r\n                    if (!_this._ignoreSelection) {\r\n                        dispose(_this._selectionListener);\r\n                        _this._state = undefined;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return promise.then(function () {\r\n            if (!_this._state) {\r\n                // no state\r\n                return;\r\n            }\r\n            _this._state = _this._state.map(function (state) { return state.mov(forward); });\r\n            var selections = _this._state.map(function (state) { return Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()); });\r\n            _this._ignoreSelection = true;\r\n            try {\r\n                _this._editor.setSelections(selections);\r\n            }\r\n            finally {\r\n                _this._ignoreSelection = false;\r\n            }\r\n        });\r\n    };\r\n    SmartSelectController.ID = 'editor.contrib.smartSelectController';\r\n    return SmartSelectController;\r\n}());\r\nvar AbstractSmartSelect = /** @class */ (function (_super) {\r\n    __extends(AbstractSmartSelect, _super);\r\n    function AbstractSmartSelect(forward, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._forward = forward;\r\n        return _this;\r\n    }\r\n    AbstractSmartSelect.prototype.run = function (_accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var controller;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        controller = SmartSelectController.get(editor);\r\n                        if (!controller) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, controller.run(this._forward)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AbstractSmartSelect;\r\n}(EditorAction));\r\nvar GrowSelectionAction = /** @class */ (function (_super) {\r\n    __extends(GrowSelectionAction, _super);\r\n    function GrowSelectionAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.smartSelect.expand',\r\n            label: nls.localize('smartSelect.expand', \"Expand Selection\"),\r\n            alias: 'Expand Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 17 /* RightArrow */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                    secondary: [256 /* WinCtrl */ | 1024 /* Shift */ | 17 /* RightArrow */],\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '1_basic',\r\n                title: nls.localize({ key: 'miSmartSelectGrow', comment: ['&& denotes a mnemonic'] }, \"&&Expand Selection\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    return GrowSelectionAction;\r\n}(AbstractSmartSelect));\r\n// renamed command id\r\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\r\nvar ShrinkSelectionAction = /** @class */ (function (_super) {\r\n    __extends(ShrinkSelectionAction, _super);\r\n    function ShrinkSelectionAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.smartSelect.shrink',\r\n            label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\r\n            alias: 'Shrink Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 15 /* LeftArrow */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                    secondary: [256 /* WinCtrl */ | 1024 /* Shift */ | 15 /* LeftArrow */],\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 25 /* MenubarSelectionMenu */,\r\n                group: '1_basic',\r\n                title: nls.localize({ key: 'miSmartSelectShrink', comment: ['&& denotes a mnemonic'] }, \"&&Shrink Selection\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return ShrinkSelectionAction;\r\n}(AbstractSmartSelect));\r\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController);\r\nregisterEditorAction(GrowSelectionAction);\r\nregisterEditorAction(ShrinkSelectionAction);\r\n// word selection\r\nmodes.SelectionRangeRegistry.register('*', new WordSelectionRangeProvider());\r\nexport function provideSelectionRanges(model, positions, token) {\r\n    var providers = modes.SelectionRangeRegistry.all(model);\r\n    if (providers.length === 1) {\r\n        // add word selection and bracket selection when no provider exists\r\n        providers.unshift(new BracketSelectionRangeProvider());\r\n    }\r\n    var work = [];\r\n    var allRawRanges = [];\r\n    for (var _i = 0, providers_1 = providers; _i < providers_1.length; _i++) {\r\n        var provider = providers_1[_i];\r\n        work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(function (allProviderRanges) {\r\n            if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\r\n                for (var i = 0; i < positions.length; i++) {\r\n                    if (!allRawRanges[i]) {\r\n                        allRawRanges[i] = [];\r\n                    }\r\n                    for (var _i = 0, _a = allProviderRanges[i]; _i < _a.length; _i++) {\r\n                        var oneProviderRanges = _a[_i];\r\n                        if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\r\n                            allRawRanges[i].push(Range.lift(oneProviderRanges.range));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, onUnexpectedExternalError));\r\n    }\r\n    return Promise.all(work).then(function () {\r\n        return allRawRanges.map(function (oneRawRanges) {\r\n            if (oneRawRanges.length === 0) {\r\n                return [];\r\n            }\r\n            // sort all by start/end position\r\n            oneRawRanges.sort(function (a, b) {\r\n                if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\r\n                    return 1;\r\n                }\r\n                else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\r\n                    return -1;\r\n                }\r\n                else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\r\n                    return -1;\r\n                }\r\n                else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            // remove ranges that don't contain the former range or that are equal to the\r\n            // former range\r\n            var oneRanges = [];\r\n            var last;\r\n            for (var _i = 0, oneRawRanges_1 = oneRawRanges; _i < oneRawRanges_1.length; _i++) {\r\n                var range = oneRawRanges_1[_i];\r\n                if (!last || (Range.containsRange(range, last) && !Range.equalsRange(range, last))) {\r\n                    oneRanges.push(range);\r\n                    last = range;\r\n                }\r\n            }\r\n            // add ranges that expand trivia at line starts and ends whenever a range\r\n            // wraps onto the a new line\r\n            var oneRangesWithTrivia = [oneRanges[0]];\r\n            for (var i = 1; i < oneRanges.length; i++) {\r\n                var prev = oneRanges[i - 1];\r\n                var cur = oneRanges[i];\r\n                if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\r\n                    // add line/block range without leading/failing whitespace\r\n                    var rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\r\n                    if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\r\n                        oneRangesWithTrivia.push(rangeNoWhitespace);\r\n                    }\r\n                    // add line/block range\r\n                    var rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\r\n                    if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\r\n                        oneRangesWithTrivia.push(rangeFull);\r\n                    }\r\n                }\r\n                oneRangesWithTrivia.push(cur);\r\n            }\r\n            return oneRangesWithTrivia;\r\n        });\r\n    });\r\n}\r\nregisterModelCommand('_executeSelectionRangeProvider', function (model) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    var positions = args[0];\r\n    return provideSelectionRanges(model, positions, CancellationToken.None);\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { first } from '../../../base/common/async.js';\r\nimport { assign } from '../../../base/common/objects.js';\r\nimport { onUnexpectedExternalError, canceled, isPromiseCanceledError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { FuzzyScore } from '../../../base/common/filters.js';\r\nimport { isDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nexport var Context = {\r\n    Visible: new RawContextKey('suggestWidgetVisible', false),\r\n    MultipleSuggestions: new RawContextKey('suggestWidgetMultipleSuggestions', false),\r\n    MakesTextEdit: new RawContextKey('suggestionMakesTextEdit', true),\r\n    AcceptSuggestionsOnEnter: new RawContextKey('acceptSuggestionOnEnter', true)\r\n};\r\nvar CompletionItem = /** @class */ (function () {\r\n    function CompletionItem(position, completion, container, provider, model) {\r\n        var _this = this;\r\n        this.position = position;\r\n        this.completion = completion;\r\n        this.container = container;\r\n        this.provider = provider;\r\n        this.isResolved = false;\r\n        // sorting, filtering\r\n        this.score = FuzzyScore.Default;\r\n        this.distance = 0;\r\n        this.textLabel = typeof completion.label === 'string'\r\n            ? completion.label\r\n            : completion.label.name;\r\n        // ensure lower-variants (perf)\r\n        this.labelLow = this.textLabel.toLowerCase();\r\n        this.sortTextLow = completion.sortText && completion.sortText.toLowerCase();\r\n        this.filterTextLow = completion.filterText && completion.filterText.toLowerCase();\r\n        // normalize ranges\r\n        if (Range.isIRange(completion.range)) {\r\n            this.editStart = new Position(completion.range.startLineNumber, completion.range.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n        }\r\n        else {\r\n            this.editStart = new Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);\r\n        }\r\n        // create the suggestion resolver\r\n        var resolveCompletionItem = provider.resolveCompletionItem;\r\n        if (typeof resolveCompletionItem !== 'function') {\r\n            this.resolve = function () { return Promise.resolve(); };\r\n            this.isResolved = true;\r\n        }\r\n        else {\r\n            var cached_1;\r\n            this.resolve = function (token) {\r\n                if (!cached_1) {\r\n                    cached_1 = Promise.resolve(resolveCompletionItem.call(provider, model, position, completion, token)).then(function (value) {\r\n                        assign(completion, value);\r\n                        _this.isResolved = true;\r\n                    }, function (err) {\r\n                        if (isPromiseCanceledError(err)) {\r\n                            // the IPC queue will reject the request with the\r\n                            // cancellation error -> reset cached\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                    token.onCancellationRequested(function () {\r\n                        if (!_this.isResolved) {\r\n                            // cancellation after the request has been\r\n                            // dispatched -> reset cache\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                }\r\n                return cached_1;\r\n            };\r\n        }\r\n    }\r\n    return CompletionItem;\r\n}());\r\nexport { CompletionItem };\r\nvar CompletionOptions = /** @class */ (function () {\r\n    function CompletionOptions(snippetSortOrder, kindFilter, providerFilter) {\r\n        if (snippetSortOrder === void 0) { snippetSortOrder = 2 /* Bottom */; }\r\n        if (kindFilter === void 0) { kindFilter = new Set(); }\r\n        if (providerFilter === void 0) { providerFilter = new Set(); }\r\n        this.snippetSortOrder = snippetSortOrder;\r\n        this.kindFilter = kindFilter;\r\n        this.providerFilter = providerFilter;\r\n    }\r\n    CompletionOptions.default = new CompletionOptions();\r\n    return CompletionOptions;\r\n}());\r\nexport { CompletionOptions };\r\nvar _snippetSuggestSupport;\r\nexport function getSnippetSuggestSupport() {\r\n    return _snippetSuggestSupport;\r\n}\r\nexport function provideSuggestionItems(model, position, options, context, token) {\r\n    if (options === void 0) { options = CompletionOptions.default; }\r\n    if (context === void 0) { context = { triggerKind: 0 /* Invoke */ }; }\r\n    if (token === void 0) { token = CancellationToken.None; }\r\n    var word = model.getWordAtPosition(position);\r\n    var defaultReplaceRange = word ? new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : Range.fromPositions(position);\r\n    var defaultInsertRange = defaultReplaceRange.setEndPosition(position.lineNumber, position.column);\r\n    // const wordUntil = model.getWordUntilPosition(position);\r\n    // const defaultRange = new Range(position.lineNumber, wordUntil.startColumn, position.lineNumber, wordUntil.endColumn);\r\n    position = position.clone();\r\n    // get provider groups, always add snippet suggestion provider\r\n    var supports = modes.CompletionProviderRegistry.orderedGroups(model);\r\n    // add snippets provider unless turned off\r\n    if (!options.kindFilter.has(25 /* Snippet */) && _snippetSuggestSupport) {\r\n        supports.unshift([_snippetSuggestSupport]);\r\n    }\r\n    var allSuggestions = [];\r\n    var disposables = new DisposableStore();\r\n    var hasResult = false;\r\n    // add suggestions from contributed providers - providers are ordered in groups of\r\n    // equal score and once a group produces a result the process stops\r\n    var factory = supports.map(function (supports) { return function () {\r\n        // for each support in the group ask for suggestions\r\n        return Promise.all(supports.map(function (provider) {\r\n            if (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) {\r\n                return undefined;\r\n            }\r\n            return Promise.resolve(provider.provideCompletionItems(model, position, context, token)).then(function (container) {\r\n                var len = allSuggestions.length;\r\n                if (container) {\r\n                    for (var _i = 0, _a = container.suggestions || []; _i < _a.length; _i++) {\r\n                        var suggestion = _a[_i];\r\n                        if (!options.kindFilter.has(suggestion.kind)) {\r\n                            // fill in default range when missing\r\n                            if (!suggestion.range) {\r\n                                suggestion.range = { insert: defaultInsertRange, replace: defaultReplaceRange };\r\n                            }\r\n                            // fill in default sortText when missing\r\n                            if (!suggestion.sortText) {\r\n                                suggestion.sortText = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\r\n                            }\r\n                            allSuggestions.push(new CompletionItem(position, suggestion, container, provider, model));\r\n                        }\r\n                    }\r\n                    if (isDisposable(container)) {\r\n                        disposables.add(container);\r\n                    }\r\n                }\r\n                if (len !== allSuggestions.length && provider !== _snippetSuggestSupport) {\r\n                    hasResult = true;\r\n                }\r\n            }, onUnexpectedExternalError);\r\n        }));\r\n    }; });\r\n    var result = first(factory, function () {\r\n        // stop on result or cancellation\r\n        return hasResult || token.isCancellationRequested;\r\n    }).then(function () {\r\n        if (token.isCancellationRequested) {\r\n            disposables.dispose();\r\n            return Promise.reject(canceled());\r\n        }\r\n        return allSuggestions.sort(getSuggestionComparator(options.snippetSortOrder));\r\n    });\r\n    // result.then(items => {\r\n    // \tconsole.log(model.getWordUntilPosition(position), items.map(item => `${item.suggestion.label}, type=${item.suggestion.type}, incomplete?${item.container.incomplete}, overwriteBefore=${item.suggestion.overwriteBefore}`));\r\n    // \treturn items;\r\n    // }, err => {\r\n    // \tconsole.warn(model.getWordUntilPosition(position), err);\r\n    // });\r\n    return result;\r\n}\r\nfunction defaultComparator(a, b) {\r\n    // check with 'sortText'\r\n    if (a.sortTextLow && b.sortTextLow) {\r\n        if (a.sortTextLow < b.sortTextLow) {\r\n            return -1;\r\n        }\r\n        else if (a.sortTextLow > b.sortTextLow) {\r\n            return 1;\r\n        }\r\n    }\r\n    // check with 'label'\r\n    if (a.completion.label < b.completion.label) {\r\n        return -1;\r\n    }\r\n    else if (a.completion.label > b.completion.label) {\r\n        return 1;\r\n    }\r\n    // check with 'type'\r\n    return a.completion.kind - b.completion.kind;\r\n}\r\nfunction snippetUpComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nfunction snippetDownComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nvar _snippetComparators = new Map();\r\n_snippetComparators.set(0 /* Top */, snippetUpComparator);\r\n_snippetComparators.set(2 /* Bottom */, snippetDownComparator);\r\n_snippetComparators.set(1 /* Inline */, defaultComparator);\r\nexport function getSuggestionComparator(snippetConfig) {\r\n    return _snippetComparators.get(snippetConfig);\r\n}\r\nregisterDefaultLanguageCommand('_executeCompletionItemProvider', function (model, position, args) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, disposables, resolving, maxItemsToResolve, items, _i, items_1, item;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                result = {\r\n                    incomplete: false,\r\n                    suggestions: []\r\n                };\r\n                disposables = new DisposableStore();\r\n                resolving = [];\r\n                maxItemsToResolve = args['maxItemsToResolve'] || 0;\r\n                return [4 /*yield*/, provideSuggestionItems(model, position)];\r\n            case 1:\r\n                items = _a.sent();\r\n                for (_i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    item = items_1[_i];\r\n                    if (resolving.length < maxItemsToResolve) {\r\n                        resolving.push(item.resolve(CancellationToken.None));\r\n                    }\r\n                    result.incomplete = result.incomplete || item.container.incomplete;\r\n                    result.suggestions.push(item.completion);\r\n                    if (isDisposable(item.container)) {\r\n                        disposables.add(item.container);\r\n                    }\r\n                }\r\n                _a.label = 2;\r\n            case 2:\r\n                _a.trys.push([2, , 4, 5]);\r\n                return [4 /*yield*/, Promise.all(resolving)];\r\n            case 3:\r\n                _a.sent();\r\n                return [2 /*return*/, result];\r\n            case 4:\r\n                setTimeout(function () { return disposables.dispose(); }, 100);\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\nvar _provider = new /** @class */ (function () {\r\n    function class_1() {\r\n        this.onlyOnceSuggestions = [];\r\n    }\r\n    class_1.prototype.provideCompletionItems = function () {\r\n        var suggestions = this.onlyOnceSuggestions.slice(0);\r\n        var result = { suggestions: suggestions };\r\n        this.onlyOnceSuggestions.length = 0;\r\n        return result;\r\n    };\r\n    return class_1;\r\n}());\r\nmodes.CompletionProviderRegistry.register('*', _provider);\r\nexport function showSimpleSuggestions(editor, suggestions) {\r\n    setTimeout(function () {\r\n        var _a;\r\n        (_a = _provider.onlyOnceSuggestions).push.apply(_a, suggestions);\r\n        editor.getContribution('editor.contrib.suggestController').triggerSuggest(new Set().add(_provider));\r\n    }, 0);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar _a;\r\nvar Scanner = /** @class */ (function () {\r\n    function Scanner() {\r\n        this.value = '';\r\n        this.pos = 0;\r\n    }\r\n    Scanner.isDigitCharacter = function (ch) {\r\n        return ch >= 48 /* Digit0 */ && ch <= 57 /* Digit9 */;\r\n    };\r\n    Scanner.isVariableCharacter = function (ch) {\r\n        return ch === 95 /* Underline */\r\n            || (ch >= 97 /* a */ && ch <= 122 /* z */)\r\n            || (ch >= 65 /* A */ && ch <= 90 /* Z */);\r\n    };\r\n    Scanner.prototype.text = function (value) {\r\n        this.value = value;\r\n        this.pos = 0;\r\n    };\r\n    Scanner.prototype.tokenText = function (token) {\r\n        return this.value.substr(token.pos, token.len);\r\n    };\r\n    Scanner.prototype.next = function () {\r\n        if (this.pos >= this.value.length) {\r\n            return { type: 14 /* EOF */, pos: this.pos, len: 0 };\r\n        }\r\n        var pos = this.pos;\r\n        var len = 0;\r\n        var ch = this.value.charCodeAt(pos);\r\n        var type;\r\n        // static types\r\n        type = Scanner._table[ch];\r\n        if (typeof type === 'number') {\r\n            this.pos += 1;\r\n            return { type: type, pos: pos, len: 1 };\r\n        }\r\n        // number\r\n        if (Scanner.isDigitCharacter(ch)) {\r\n            type = 8 /* Int */;\r\n            do {\r\n                len += 1;\r\n                ch = this.value.charCodeAt(pos + len);\r\n            } while (Scanner.isDigitCharacter(ch));\r\n            this.pos += len;\r\n            return { type: type, pos: pos, len: len };\r\n        }\r\n        // variable name\r\n        if (Scanner.isVariableCharacter(ch)) {\r\n            type = 9 /* VariableName */;\r\n            do {\r\n                ch = this.value.charCodeAt(pos + (++len));\r\n            } while (Scanner.isVariableCharacter(ch) || Scanner.isDigitCharacter(ch));\r\n            this.pos += len;\r\n            return { type: type, pos: pos, len: len };\r\n        }\r\n        // format\r\n        type = 10 /* Format */;\r\n        do {\r\n            len += 1;\r\n            ch = this.value.charCodeAt(pos + len);\r\n        } while (!isNaN(ch)\r\n            && typeof Scanner._table[ch] === 'undefined' // not static token\r\n            && !Scanner.isDigitCharacter(ch) // not number\r\n            && !Scanner.isVariableCharacter(ch) // not variable\r\n        );\r\n        this.pos += len;\r\n        return { type: type, pos: pos, len: len };\r\n    };\r\n    Scanner._table = (_a = {},\r\n        _a[36 /* DollarSign */] = 0 /* Dollar */,\r\n        _a[58 /* Colon */] = 1 /* Colon */,\r\n        _a[44 /* Comma */] = 2 /* Comma */,\r\n        _a[123 /* OpenCurlyBrace */] = 3 /* CurlyOpen */,\r\n        _a[125 /* CloseCurlyBrace */] = 4 /* CurlyClose */,\r\n        _a[92 /* Backslash */] = 5 /* Backslash */,\r\n        _a[47 /* Slash */] = 6 /* Forwardslash */,\r\n        _a[124 /* Pipe */] = 7 /* Pipe */,\r\n        _a[43 /* Plus */] = 11 /* Plus */,\r\n        _a[45 /* Dash */] = 12 /* Dash */,\r\n        _a[63 /* QuestionMark */] = 13 /* QuestionMark */,\r\n        _a);\r\n    return Scanner;\r\n}());\r\nexport { Scanner };\r\nvar Marker = /** @class */ (function () {\r\n    function Marker() {\r\n        this._children = [];\r\n    }\r\n    Marker.prototype.appendChild = function (child) {\r\n        if (child instanceof Text && this._children[this._children.length - 1] instanceof Text) {\r\n            // this and previous child are text -> merge them\r\n            this._children[this._children.length - 1].value += child.value;\r\n        }\r\n        else {\r\n            // normal adoption of child\r\n            child.parent = this;\r\n            this._children.push(child);\r\n        }\r\n        return this;\r\n    };\r\n    Marker.prototype.replace = function (child, others) {\r\n        var parent = child.parent;\r\n        var idx = parent.children.indexOf(child);\r\n        var newChildren = parent.children.slice(0);\r\n        newChildren.splice.apply(newChildren, __spreadArrays([idx, 1], others));\r\n        parent._children = newChildren;\r\n        (function _fixParent(children, parent) {\r\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n                var child_1 = children_1[_i];\r\n                child_1.parent = parent;\r\n                _fixParent(child_1.children, child_1);\r\n            }\r\n        })(others, parent);\r\n    };\r\n    Object.defineProperty(Marker.prototype, \"children\", {\r\n        get: function () {\r\n            return this._children;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Marker.prototype, \"snippet\", {\r\n        get: function () {\r\n            var candidate = this;\r\n            while (true) {\r\n                if (!candidate) {\r\n                    return undefined;\r\n                }\r\n                if (candidate instanceof TextmateSnippet) {\r\n                    return candidate;\r\n                }\r\n                candidate = candidate.parent;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Marker.prototype.toString = function () {\r\n        return this.children.reduce(function (prev, cur) { return prev + cur.toString(); }, '');\r\n    };\r\n    Marker.prototype.len = function () {\r\n        return 0;\r\n    };\r\n    return Marker;\r\n}());\r\nexport { Marker };\r\nvar Text = /** @class */ (function (_super) {\r\n    __extends(Text, _super);\r\n    function Text(value) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.value = value;\r\n        return _this_1;\r\n    }\r\n    Text.prototype.toString = function () {\r\n        return this.value;\r\n    };\r\n    Text.prototype.len = function () {\r\n        return this.value.length;\r\n    };\r\n    Text.prototype.clone = function () {\r\n        return new Text(this.value);\r\n    };\r\n    return Text;\r\n}(Marker));\r\nexport { Text };\r\nvar TransformableMarker = /** @class */ (function (_super) {\r\n    __extends(TransformableMarker, _super);\r\n    function TransformableMarker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return TransformableMarker;\r\n}(Marker));\r\nexport { TransformableMarker };\r\nvar Placeholder = /** @class */ (function (_super) {\r\n    __extends(Placeholder, _super);\r\n    function Placeholder(index) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.index = index;\r\n        return _this_1;\r\n    }\r\n    Placeholder.compareByIndex = function (a, b) {\r\n        if (a.index === b.index) {\r\n            return 0;\r\n        }\r\n        else if (a.isFinalTabstop) {\r\n            return 1;\r\n        }\r\n        else if (b.isFinalTabstop) {\r\n            return -1;\r\n        }\r\n        else if (a.index < b.index) {\r\n            return -1;\r\n        }\r\n        else if (a.index > b.index) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    Object.defineProperty(Placeholder.prototype, \"isFinalTabstop\", {\r\n        get: function () {\r\n            return this.index === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Placeholder.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._children.length === 1 && this._children[0] instanceof Choice\r\n                ? this._children[0]\r\n                : undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Placeholder.prototype.clone = function () {\r\n        var ret = new Placeholder(this.index);\r\n        if (this.transform) {\r\n            ret.transform = this.transform.clone();\r\n        }\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Placeholder;\r\n}(TransformableMarker));\r\nexport { Placeholder };\r\nvar Choice = /** @class */ (function (_super) {\r\n    __extends(Choice, _super);\r\n    function Choice() {\r\n        var _this_1 = _super !== null && _super.apply(this, arguments) || this;\r\n        _this_1.options = [];\r\n        return _this_1;\r\n    }\r\n    Choice.prototype.appendChild = function (marker) {\r\n        if (marker instanceof Text) {\r\n            marker.parent = this;\r\n            this.options.push(marker);\r\n        }\r\n        return this;\r\n    };\r\n    Choice.prototype.toString = function () {\r\n        return this.options[0].value;\r\n    };\r\n    Choice.prototype.len = function () {\r\n        return this.options[0].len();\r\n    };\r\n    Choice.prototype.clone = function () {\r\n        var ret = new Choice();\r\n        this.options.forEach(ret.appendChild, ret);\r\n        return ret;\r\n    };\r\n    return Choice;\r\n}(Marker));\r\nexport { Choice };\r\nvar Transform = /** @class */ (function (_super) {\r\n    __extends(Transform, _super);\r\n    function Transform() {\r\n        var _this_1 = _super !== null && _super.apply(this, arguments) || this;\r\n        _this_1.regexp = new RegExp('');\r\n        return _this_1;\r\n    }\r\n    Transform.prototype.resolve = function (value) {\r\n        var _this = this;\r\n        var didMatch = false;\r\n        var ret = value.replace(this.regexp, function () {\r\n            didMatch = true;\r\n            return _this._replace(Array.prototype.slice.call(arguments, 0, -2));\r\n        });\r\n        // when the regex didn't match and when the transform has\r\n        // else branches, then run those\r\n        if (!didMatch && this._children.some(function (child) { return child instanceof FormatString && Boolean(child.elseValue); })) {\r\n            ret = this._replace([]);\r\n        }\r\n        return ret;\r\n    };\r\n    Transform.prototype._replace = function (groups) {\r\n        var ret = '';\r\n        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\r\n            var marker = _a[_i];\r\n            if (marker instanceof FormatString) {\r\n                var value = groups[marker.index] || '';\r\n                value = marker.resolve(value);\r\n                ret += value;\r\n            }\r\n            else {\r\n                ret += marker.toString();\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n    Transform.prototype.toString = function () {\r\n        return '';\r\n    };\r\n    Transform.prototype.clone = function () {\r\n        var ret = new Transform();\r\n        ret.regexp = new RegExp(this.regexp.source, '' + (this.regexp.ignoreCase ? 'i' : '') + (this.regexp.global ? 'g' : ''));\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Transform;\r\n}(Marker));\r\nexport { Transform };\r\nvar FormatString = /** @class */ (function (_super) {\r\n    __extends(FormatString, _super);\r\n    function FormatString(index, shorthandName, ifValue, elseValue) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.index = index;\r\n        _this_1.shorthandName = shorthandName;\r\n        _this_1.ifValue = ifValue;\r\n        _this_1.elseValue = elseValue;\r\n        return _this_1;\r\n    }\r\n    FormatString.prototype.resolve = function (value) {\r\n        if (this.shorthandName === 'upcase') {\r\n            return !value ? '' : value.toLocaleUpperCase();\r\n        }\r\n        else if (this.shorthandName === 'downcase') {\r\n            return !value ? '' : value.toLocaleLowerCase();\r\n        }\r\n        else if (this.shorthandName === 'capitalize') {\r\n            return !value ? '' : (value[0].toLocaleUpperCase() + value.substr(1));\r\n        }\r\n        else if (this.shorthandName === 'pascalcase') {\r\n            return !value ? '' : this._toPascalCase(value);\r\n        }\r\n        else if (Boolean(value) && typeof this.ifValue === 'string') {\r\n            return this.ifValue;\r\n        }\r\n        else if (!Boolean(value) && typeof this.elseValue === 'string') {\r\n            return this.elseValue;\r\n        }\r\n        else {\r\n            return value || '';\r\n        }\r\n    };\r\n    FormatString.prototype._toPascalCase = function (value) {\r\n        var match = value.match(/[a-z]+/gi);\r\n        if (!match) {\r\n            return value;\r\n        }\r\n        return match.map(function (word) {\r\n            return word.charAt(0).toUpperCase()\r\n                + word.substr(1).toLowerCase();\r\n        })\r\n            .join('');\r\n    };\r\n    FormatString.prototype.clone = function () {\r\n        var ret = new FormatString(this.index, this.shorthandName, this.ifValue, this.elseValue);\r\n        return ret;\r\n    };\r\n    return FormatString;\r\n}(Marker));\r\nexport { FormatString };\r\nvar Variable = /** @class */ (function (_super) {\r\n    __extends(Variable, _super);\r\n    function Variable(name) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.name = name;\r\n        return _this_1;\r\n    }\r\n    Variable.prototype.resolve = function (resolver) {\r\n        var value = resolver.resolve(this);\r\n        if (this.transform) {\r\n            value = this.transform.resolve(value || '');\r\n        }\r\n        if (value !== undefined) {\r\n            this._children = [new Text(value)];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Variable.prototype.clone = function () {\r\n        var ret = new Variable(this.name);\r\n        if (this.transform) {\r\n            ret.transform = this.transform.clone();\r\n        }\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Variable;\r\n}(TransformableMarker));\r\nexport { Variable };\r\nfunction walk(marker, visitor) {\r\n    var stack = __spreadArrays(marker);\r\n    while (stack.length > 0) {\r\n        var marker_1 = stack.shift();\r\n        var recurse = visitor(marker_1);\r\n        if (!recurse) {\r\n            break;\r\n        }\r\n        stack.unshift.apply(stack, marker_1.children);\r\n    }\r\n}\r\nvar TextmateSnippet = /** @class */ (function (_super) {\r\n    __extends(TextmateSnippet, _super);\r\n    function TextmateSnippet() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholderInfo\", {\r\n        get: function () {\r\n            if (!this._placeholders) {\r\n                // fill in placeholders\r\n                var all_1 = [];\r\n                var last_1;\r\n                this.walk(function (candidate) {\r\n                    if (candidate instanceof Placeholder) {\r\n                        all_1.push(candidate);\r\n                        last_1 = !last_1 || last_1.index < candidate.index ? candidate : last_1;\r\n                    }\r\n                    return true;\r\n                });\r\n                this._placeholders = { all: all_1, last: last_1 };\r\n            }\r\n            return this._placeholders;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholders\", {\r\n        get: function () {\r\n            var all = this.placeholderInfo.all;\r\n            return all;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextmateSnippet.prototype.offset = function (marker) {\r\n        var pos = 0;\r\n        var found = false;\r\n        this.walk(function (candidate) {\r\n            if (candidate === marker) {\r\n                found = true;\r\n                return false;\r\n            }\r\n            pos += candidate.len();\r\n            return true;\r\n        });\r\n        if (!found) {\r\n            return -1;\r\n        }\r\n        return pos;\r\n    };\r\n    TextmateSnippet.prototype.fullLen = function (marker) {\r\n        var ret = 0;\r\n        walk([marker], function (marker) {\r\n            ret += marker.len();\r\n            return true;\r\n        });\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.enclosingPlaceholders = function (placeholder) {\r\n        var ret = [];\r\n        var parent = placeholder.parent;\r\n        while (parent) {\r\n            if (parent instanceof Placeholder) {\r\n                ret.push(parent);\r\n            }\r\n            parent = parent.parent;\r\n        }\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.resolveVariables = function (resolver) {\r\n        var _this_1 = this;\r\n        this.walk(function (candidate) {\r\n            if (candidate instanceof Variable) {\r\n                if (candidate.resolve(resolver)) {\r\n                    _this_1._placeholders = undefined;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n        return this;\r\n    };\r\n    TextmateSnippet.prototype.appendChild = function (child) {\r\n        this._placeholders = undefined;\r\n        return _super.prototype.appendChild.call(this, child);\r\n    };\r\n    TextmateSnippet.prototype.replace = function (child, others) {\r\n        this._placeholders = undefined;\r\n        return _super.prototype.replace.call(this, child, others);\r\n    };\r\n    TextmateSnippet.prototype.clone = function () {\r\n        var ret = new TextmateSnippet();\r\n        this._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.walk = function (visitor) {\r\n        walk(this.children, visitor);\r\n    };\r\n    return TextmateSnippet;\r\n}(Marker));\r\nexport { TextmateSnippet };\r\nvar SnippetParser = /** @class */ (function () {\r\n    function SnippetParser() {\r\n        this._scanner = new Scanner();\r\n        this._token = { type: 14 /* EOF */, pos: 0, len: 0 };\r\n    }\r\n    SnippetParser.escape = function (value) {\r\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\r\n    };\r\n    SnippetParser.prototype.parse = function (value, insertFinalTabstop, enforceFinalTabstop) {\r\n        this._scanner.text(value);\r\n        this._token = this._scanner.next();\r\n        var snippet = new TextmateSnippet();\r\n        while (this._parse(snippet)) {\r\n            // nothing\r\n        }\r\n        // fill in values for placeholders. the first placeholder of an index\r\n        // that has a value defines the value for all placeholders with that index\r\n        var placeholderDefaultValues = new Map();\r\n        var incompletePlaceholders = [];\r\n        var placeholderCount = 0;\r\n        snippet.walk(function (marker) {\r\n            if (marker instanceof Placeholder) {\r\n                placeholderCount += 1;\r\n                if (marker.isFinalTabstop) {\r\n                    placeholderDefaultValues.set(0, undefined);\r\n                }\r\n                else if (!placeholderDefaultValues.has(marker.index) && marker.children.length > 0) {\r\n                    placeholderDefaultValues.set(marker.index, marker.children);\r\n                }\r\n                else {\r\n                    incompletePlaceholders.push(marker);\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n        for (var _i = 0, incompletePlaceholders_1 = incompletePlaceholders; _i < incompletePlaceholders_1.length; _i++) {\r\n            var placeholder = incompletePlaceholders_1[_i];\r\n            var defaultValues = placeholderDefaultValues.get(placeholder.index);\r\n            if (defaultValues) {\r\n                var clone = new Placeholder(placeholder.index);\r\n                clone.transform = placeholder.transform;\r\n                for (var _a = 0, defaultValues_1 = defaultValues; _a < defaultValues_1.length; _a++) {\r\n                    var child = defaultValues_1[_a];\r\n                    clone.appendChild(child.clone());\r\n                }\r\n                snippet.replace(placeholder, [clone]);\r\n            }\r\n        }\r\n        if (!enforceFinalTabstop) {\r\n            enforceFinalTabstop = placeholderCount > 0 && insertFinalTabstop;\r\n        }\r\n        if (!placeholderDefaultValues.has(0) && enforceFinalTabstop) {\r\n            // the snippet uses placeholders but has no\r\n            // final tabstop defined -> insert at the end\r\n            snippet.appendChild(new Placeholder(0));\r\n        }\r\n        return snippet;\r\n    };\r\n    SnippetParser.prototype._accept = function (type, value) {\r\n        if (type === undefined || this._token.type === type) {\r\n            var ret = !value ? true : this._scanner.tokenText(this._token);\r\n            this._token = this._scanner.next();\r\n            return ret;\r\n        }\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._backTo = function (token) {\r\n        this._scanner.pos = token.pos + token.len;\r\n        this._token = token;\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._until = function (type) {\r\n        var start = this._token;\r\n        while (this._token.type !== type) {\r\n            if (this._token.type === 14 /* EOF */) {\r\n                return false;\r\n            }\r\n            else if (this._token.type === 5 /* Backslash */) {\r\n                var nextToken = this._scanner.next();\r\n                if (nextToken.type !== 0 /* Dollar */\r\n                    && nextToken.type !== 4 /* CurlyClose */\r\n                    && nextToken.type !== 5 /* Backslash */) {\r\n                    return false;\r\n                }\r\n            }\r\n            this._token = this._scanner.next();\r\n        }\r\n        var value = this._scanner.value.substring(start.pos, this._token.pos).replace(/\\\\(\\$|}|\\\\)/g, '$1');\r\n        this._token = this._scanner.next();\r\n        return value;\r\n    };\r\n    SnippetParser.prototype._parse = function (marker) {\r\n        return this._parseEscaped(marker)\r\n            || this._parseTabstopOrVariableName(marker)\r\n            || this._parseComplexPlaceholder(marker)\r\n            || this._parseComplexVariable(marker)\r\n            || this._parseAnything(marker);\r\n    };\r\n    // \\$, \\\\, \\} -> just text\r\n    SnippetParser.prototype._parseEscaped = function (marker) {\r\n        var value;\r\n        if (value = this._accept(5 /* Backslash */, true)) {\r\n            // saw a backslash, append escaped token or that backslash\r\n            value = this._accept(0 /* Dollar */, true)\r\n                || this._accept(4 /* CurlyClose */, true)\r\n                || this._accept(5 /* Backslash */, true)\r\n                || value;\r\n            marker.appendChild(new Text(value));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    // $foo -> variable, $1 -> tabstop\r\n    SnippetParser.prototype._parseTabstopOrVariableName = function (parent) {\r\n        var value;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && (value = this._accept(9 /* VariableName */, true) || this._accept(8 /* Int */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        parent.appendChild(/^\\d+$/.test(value)\r\n            ? new Placeholder(Number(value))\r\n            : new Variable(value));\r\n        return true;\r\n    };\r\n    // ${1:<children>}, ${1} -> placeholder\r\n    SnippetParser.prototype._parseComplexPlaceholder = function (parent) {\r\n        var index;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && this._accept(3 /* CurlyOpen */)\r\n            && (index = this._accept(8 /* Int */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        var placeholder = new Placeholder(Number(index));\r\n        if (this._accept(1 /* Colon */)) {\r\n            // ${1:<children>}\r\n            while (true) {\r\n                // ...} -> done\r\n                if (this._accept(4 /* CurlyClose */)) {\r\n                    parent.appendChild(placeholder);\r\n                    return true;\r\n                }\r\n                if (this._parse(placeholder)) {\r\n                    continue;\r\n                }\r\n                // fallback\r\n                parent.appendChild(new Text('${' + index + ':'));\r\n                placeholder.children.forEach(parent.appendChild, parent);\r\n                return true;\r\n            }\r\n        }\r\n        else if (placeholder.index > 0 && this._accept(7 /* Pipe */)) {\r\n            // ${1|one,two,three|}\r\n            var choice = new Choice();\r\n            while (true) {\r\n                if (this._parseChoiceElement(choice)) {\r\n                    if (this._accept(2 /* Comma */)) {\r\n                        // opt, -> more\r\n                        continue;\r\n                    }\r\n                    if (this._accept(7 /* Pipe */)) {\r\n                        placeholder.appendChild(choice);\r\n                        if (this._accept(4 /* CurlyClose */)) {\r\n                            // ..|} -> done\r\n                            parent.appendChild(placeholder);\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n        }\r\n        else if (this._accept(6 /* Forwardslash */)) {\r\n            // ${1/<regex>/<format>/<options>}\r\n            if (this._parseTransform(placeholder)) {\r\n                parent.appendChild(placeholder);\r\n                return true;\r\n            }\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${1}\r\n            parent.appendChild(placeholder);\r\n            return true;\r\n        }\r\n        else {\r\n            // ${1 <- missing curly or colon\r\n            return this._backTo(token);\r\n        }\r\n    };\r\n    SnippetParser.prototype._parseChoiceElement = function (parent) {\r\n        var token = this._token;\r\n        var values = [];\r\n        while (true) {\r\n            if (this._token.type === 2 /* Comma */ || this._token.type === 7 /* Pipe */) {\r\n                break;\r\n            }\r\n            var value = void 0;\r\n            if (value = this._accept(5 /* Backslash */, true)) {\r\n                // \\, \\|, or \\\\\r\n                value = this._accept(2 /* Comma */, true)\r\n                    || this._accept(7 /* Pipe */, true)\r\n                    || this._accept(5 /* Backslash */, true)\r\n                    || value;\r\n            }\r\n            else {\r\n                value = this._accept(undefined, true);\r\n            }\r\n            if (!value) {\r\n                // EOF\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n            values.push(value);\r\n        }\r\n        if (values.length === 0) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        parent.appendChild(new Text(values.join('')));\r\n        return true;\r\n    };\r\n    // ${foo:<children>}, ${foo} -> variable\r\n    SnippetParser.prototype._parseComplexVariable = function (parent) {\r\n        var name;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && this._accept(3 /* CurlyOpen */)\r\n            && (name = this._accept(9 /* VariableName */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        var variable = new Variable(name);\r\n        if (this._accept(1 /* Colon */)) {\r\n            // ${foo:<children>}\r\n            while (true) {\r\n                // ...} -> done\r\n                if (this._accept(4 /* CurlyClose */)) {\r\n                    parent.appendChild(variable);\r\n                    return true;\r\n                }\r\n                if (this._parse(variable)) {\r\n                    continue;\r\n                }\r\n                // fallback\r\n                parent.appendChild(new Text('${' + name + ':'));\r\n                variable.children.forEach(parent.appendChild, parent);\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(6 /* Forwardslash */)) {\r\n            // ${foo/<regex>/<format>/<options>}\r\n            if (this._parseTransform(variable)) {\r\n                parent.appendChild(variable);\r\n                return true;\r\n            }\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${foo}\r\n            parent.appendChild(variable);\r\n            return true;\r\n        }\r\n        else {\r\n            // ${foo <- missing curly or colon\r\n            return this._backTo(token);\r\n        }\r\n    };\r\n    SnippetParser.prototype._parseTransform = function (parent) {\r\n        // ...<regex>/<format>/<options>}\r\n        var transform = new Transform();\r\n        var regexValue = '';\r\n        var regexOptions = '';\r\n        // (1) /regex\r\n        while (true) {\r\n            if (this._accept(6 /* Forwardslash */)) {\r\n                break;\r\n            }\r\n            var escaped = void 0;\r\n            if (escaped = this._accept(5 /* Backslash */, true)) {\r\n                escaped = this._accept(6 /* Forwardslash */, true) || escaped;\r\n                regexValue += escaped;\r\n                continue;\r\n            }\r\n            if (this._token.type !== 14 /* EOF */) {\r\n                regexValue += this._accept(undefined, true);\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        // (2) /format\r\n        while (true) {\r\n            if (this._accept(6 /* Forwardslash */)) {\r\n                break;\r\n            }\r\n            var escaped = void 0;\r\n            if (escaped = this._accept(5 /* Backslash */, true)) {\r\n                escaped = this._accept(5 /* Backslash */, true) || this._accept(6 /* Forwardslash */, true) || escaped;\r\n                transform.appendChild(new Text(escaped));\r\n                continue;\r\n            }\r\n            if (this._parseFormatString(transform) || this._parseAnything(transform)) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        // (3) /option\r\n        while (true) {\r\n            if (this._accept(4 /* CurlyClose */)) {\r\n                break;\r\n            }\r\n            if (this._token.type !== 14 /* EOF */) {\r\n                regexOptions += this._accept(undefined, true);\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        try {\r\n            transform.regexp = new RegExp(regexValue, regexOptions);\r\n        }\r\n        catch (e) {\r\n            // invalid regexp\r\n            return false;\r\n        }\r\n        parent.transform = transform;\r\n        return true;\r\n    };\r\n    SnippetParser.prototype._parseFormatString = function (parent) {\r\n        var token = this._token;\r\n        if (!this._accept(0 /* Dollar */)) {\r\n            return false;\r\n        }\r\n        var complex = false;\r\n        if (this._accept(3 /* CurlyOpen */)) {\r\n            complex = true;\r\n        }\r\n        var index = this._accept(8 /* Int */, true);\r\n        if (!index) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (!complex) {\r\n            // $1\r\n            parent.appendChild(new FormatString(Number(index)));\r\n            return true;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${1}\r\n            parent.appendChild(new FormatString(Number(index)));\r\n            return true;\r\n        }\r\n        else if (!this._accept(1 /* Colon */)) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        if (this._accept(6 /* Forwardslash */)) {\r\n            // ${1:/upcase}\r\n            var shorthand = this._accept(9 /* VariableName */, true);\r\n            if (!shorthand || !this._accept(4 /* CurlyClose */)) {\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n            else {\r\n                parent.appendChild(new FormatString(Number(index), shorthand));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(11 /* Plus */)) {\r\n            // ${1:+<if>}\r\n            var ifValue = this._until(4 /* CurlyClose */);\r\n            if (ifValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, ifValue, undefined));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(12 /* Dash */)) {\r\n            // ${2:-<else>}\r\n            var elseValue = this._until(4 /* CurlyClose */);\r\n            if (elseValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(13 /* QuestionMark */)) {\r\n            // ${2:?<if>:<else>}\r\n            var ifValue = this._until(1 /* Colon */);\r\n            if (ifValue) {\r\n                var elseValue = this._until(4 /* CurlyClose */);\r\n                if (elseValue) {\r\n                    parent.appendChild(new FormatString(Number(index), undefined, ifValue, elseValue));\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // ${1:<else>}\r\n            var elseValue = this._until(4 /* CurlyClose */);\r\n            if (elseValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\r\n                return true;\r\n            }\r\n        }\r\n        this._backTo(token);\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._parseAnything = function (marker) {\r\n        if (this._token.type !== 14 /* EOF */) {\r\n            marker.appendChild(new Text(this._scanner.tokenText(this._token)));\r\n            this._accept(undefined);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return SnippetParser;\r\n}());\r\nexport { SnippetParser };\r\n","import { URI } from '../../../base/common/uri.js';\r\nexport var WORKSPACE_EXTENSION = 'code-workspace';\r\nexport function isSingleFolderWorkspaceIdentifier(obj) {\r\n    return obj instanceof URI;\r\n}\r\nexport function toWorkspaceIdentifier(workspace) {\r\n    if (workspace.configuration) {\r\n        return {\r\n            configPath: workspace.configuration,\r\n            id: workspace.id\r\n        };\r\n    }\r\n    if (workspace.folders.length === 1) {\r\n        return workspace.folders[0].uri;\r\n    }\r\n    // Empty workspace\r\n    return undefined;\r\n}\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as nls from '../../../nls.js';\r\nimport * as path from '../../../base/common/path.js';\r\nimport { dirname } from '../../../base/common/resources.js';\r\nimport { Text } from './snippetParser.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { getLeadingWhitespace, commonPrefixLength, isFalsyOrWhitespace, pad, endsWith } from '../../../base/common/strings.js';\r\nimport { isSingleFolderWorkspaceIdentifier, toWorkspaceIdentifier, WORKSPACE_EXTENSION } from '../../../platform/workspaces/common/workspaces.js';\r\nimport { normalizeDriveLetter } from '../../../base/common/labels.js';\r\nvar CompositeSnippetVariableResolver = /** @class */ (function () {\r\n    function CompositeSnippetVariableResolver(_delegates) {\r\n        this._delegates = _delegates;\r\n        //\r\n    }\r\n    CompositeSnippetVariableResolver.prototype.resolve = function (variable) {\r\n        for (var _i = 0, _a = this._delegates; _i < _a.length; _i++) {\r\n            var delegate = _a[_i];\r\n            var value = delegate.resolve(variable);\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return CompositeSnippetVariableResolver;\r\n}());\r\nexport { CompositeSnippetVariableResolver };\r\nvar SelectionBasedVariableResolver = /** @class */ (function () {\r\n    function SelectionBasedVariableResolver(_model, _selection) {\r\n        this._model = _model;\r\n        this._selection = _selection;\r\n        //\r\n    }\r\n    SelectionBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'SELECTION' || name === 'TM_SELECTED_TEXT') {\r\n            var value = this._model.getValueInRange(this._selection) || undefined;\r\n            if (value && this._selection.startLineNumber !== this._selection.endLineNumber && variable.snippet) {\r\n                // Selection is a multiline string which we indentation we now\r\n                // need to adjust. We compare the indentation of this variable\r\n                // with the indentation at the editor position and add potential\r\n                // extra indentation to the value\r\n                var line = this._model.getLineContent(this._selection.startLineNumber);\r\n                var lineLeadingWhitespace = getLeadingWhitespace(line, 0, this._selection.startColumn - 1);\r\n                var varLeadingWhitespace_1 = lineLeadingWhitespace;\r\n                variable.snippet.walk(function (marker) {\r\n                    if (marker === variable) {\r\n                        return false;\r\n                    }\r\n                    if (marker instanceof Text) {\r\n                        varLeadingWhitespace_1 = getLeadingWhitespace(marker.value.split(/\\r\\n|\\r|\\n/).pop());\r\n                    }\r\n                    return true;\r\n                });\r\n                var whitespaceCommonLength_1 = commonPrefixLength(varLeadingWhitespace_1, lineLeadingWhitespace);\r\n                value = value.replace(/(\\r\\n|\\r|\\n)(.*)/g, function (m, newline, rest) { return \"\" + newline + varLeadingWhitespace_1.substr(whitespaceCommonLength_1) + rest; });\r\n            }\r\n            return value;\r\n        }\r\n        else if (name === 'TM_CURRENT_LINE') {\r\n            return this._model.getLineContent(this._selection.positionLineNumber);\r\n        }\r\n        else if (name === 'TM_CURRENT_WORD') {\r\n            var info = this._model.getWordAtPosition({\r\n                lineNumber: this._selection.positionLineNumber,\r\n                column: this._selection.positionColumn\r\n            });\r\n            return info && info.word || undefined;\r\n        }\r\n        else if (name === 'TM_LINE_INDEX') {\r\n            return String(this._selection.positionLineNumber - 1);\r\n        }\r\n        else if (name === 'TM_LINE_NUMBER') {\r\n            return String(this._selection.positionLineNumber);\r\n        }\r\n        return undefined;\r\n    };\r\n    return SelectionBasedVariableResolver;\r\n}());\r\nexport { SelectionBasedVariableResolver };\r\nvar ModelBasedVariableResolver = /** @class */ (function () {\r\n    function ModelBasedVariableResolver(_labelService, _model) {\r\n        this._labelService = _labelService;\r\n        this._model = _model;\r\n        //\r\n    }\r\n    ModelBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'TM_FILENAME') {\r\n            return path.basename(this._model.uri.fsPath);\r\n        }\r\n        else if (name === 'TM_FILENAME_BASE') {\r\n            var name_1 = path.basename(this._model.uri.fsPath);\r\n            var idx = name_1.lastIndexOf('.');\r\n            if (idx <= 0) {\r\n                return name_1;\r\n            }\r\n            else {\r\n                return name_1.slice(0, idx);\r\n            }\r\n        }\r\n        else if (name === 'TM_DIRECTORY' && this._labelService) {\r\n            if (path.dirname(this._model.uri.fsPath) === '.') {\r\n                return '';\r\n            }\r\n            return this._labelService.getUriLabel(dirname(this._model.uri));\r\n        }\r\n        else if (name === 'TM_FILEPATH' && this._labelService) {\r\n            return this._labelService.getUriLabel(this._model.uri);\r\n        }\r\n        return undefined;\r\n    };\r\n    return ModelBasedVariableResolver;\r\n}());\r\nexport { ModelBasedVariableResolver };\r\nvar ClipboardBasedVariableResolver = /** @class */ (function () {\r\n    function ClipboardBasedVariableResolver(_readClipboardText, _selectionIdx, _selectionCount, _spread) {\r\n        this._readClipboardText = _readClipboardText;\r\n        this._selectionIdx = _selectionIdx;\r\n        this._selectionCount = _selectionCount;\r\n        this._spread = _spread;\r\n        //\r\n    }\r\n    ClipboardBasedVariableResolver.prototype.resolve = function (variable) {\r\n        if (variable.name !== 'CLIPBOARD') {\r\n            return undefined;\r\n        }\r\n        var clipboardText = this._readClipboardText();\r\n        if (!clipboardText) {\r\n            return undefined;\r\n        }\r\n        // `spread` is assigning each cursor a line of the clipboard\r\n        // text whenever there the line count equals the cursor count\r\n        // and when enabled\r\n        if (this._spread) {\r\n            var lines = clipboardText.split(/\\r\\n|\\n|\\r/).filter(function (s) { return !isFalsyOrWhitespace(s); });\r\n            if (lines.length === this._selectionCount) {\r\n                return lines[this._selectionIdx];\r\n            }\r\n        }\r\n        return clipboardText;\r\n    };\r\n    return ClipboardBasedVariableResolver;\r\n}());\r\nexport { ClipboardBasedVariableResolver };\r\nvar CommentBasedVariableResolver = /** @class */ (function () {\r\n    function CommentBasedVariableResolver(_model) {\r\n        this._model = _model;\r\n        //\r\n    }\r\n    CommentBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        var language = this._model.getLanguageIdentifier();\r\n        var config = LanguageConfigurationRegistry.getComments(language.id);\r\n        if (!config) {\r\n            return undefined;\r\n        }\r\n        if (name === 'LINE_COMMENT') {\r\n            return config.lineCommentToken || undefined;\r\n        }\r\n        else if (name === 'BLOCK_COMMENT_START') {\r\n            return config.blockCommentStartToken || undefined;\r\n        }\r\n        else if (name === 'BLOCK_COMMENT_END') {\r\n            return config.blockCommentEndToken || undefined;\r\n        }\r\n        return undefined;\r\n    };\r\n    return CommentBasedVariableResolver;\r\n}());\r\nexport { CommentBasedVariableResolver };\r\nvar TimeBasedVariableResolver = /** @class */ (function () {\r\n    function TimeBasedVariableResolver() {\r\n    }\r\n    TimeBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'CURRENT_YEAR') {\r\n            return String(new Date().getFullYear());\r\n        }\r\n        else if (name === 'CURRENT_YEAR_SHORT') {\r\n            return String(new Date().getFullYear()).slice(-2);\r\n        }\r\n        else if (name === 'CURRENT_MONTH') {\r\n            return pad((new Date().getMonth().valueOf() + 1), 2);\r\n        }\r\n        else if (name === 'CURRENT_DATE') {\r\n            return pad(new Date().getDate().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_HOUR') {\r\n            return pad(new Date().getHours().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_MINUTE') {\r\n            return pad(new Date().getMinutes().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_SECOND') {\r\n            return pad(new Date().getSeconds().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_DAY_NAME') {\r\n            return TimeBasedVariableResolver.dayNames[new Date().getDay()];\r\n        }\r\n        else if (name === 'CURRENT_DAY_NAME_SHORT') {\r\n            return TimeBasedVariableResolver.dayNamesShort[new Date().getDay()];\r\n        }\r\n        else if (name === 'CURRENT_MONTH_NAME') {\r\n            return TimeBasedVariableResolver.monthNames[new Date().getMonth()];\r\n        }\r\n        else if (name === 'CURRENT_MONTH_NAME_SHORT') {\r\n            return TimeBasedVariableResolver.monthNamesShort[new Date().getMonth()];\r\n        }\r\n        else if (name === 'CURRENT_SECONDS_UNIX') {\r\n            return String(Math.floor(Date.now() / 1000));\r\n        }\r\n        return undefined;\r\n    };\r\n    TimeBasedVariableResolver.dayNames = [nls.localize('Sunday', \"Sunday\"), nls.localize('Monday', \"Monday\"), nls.localize('Tuesday', \"Tuesday\"), nls.localize('Wednesday', \"Wednesday\"), nls.localize('Thursday', \"Thursday\"), nls.localize('Friday', \"Friday\"), nls.localize('Saturday', \"Saturday\")];\r\n    TimeBasedVariableResolver.dayNamesShort = [nls.localize('SundayShort', \"Sun\"), nls.localize('MondayShort', \"Mon\"), nls.localize('TuesdayShort', \"Tue\"), nls.localize('WednesdayShort', \"Wed\"), nls.localize('ThursdayShort', \"Thu\"), nls.localize('FridayShort', \"Fri\"), nls.localize('SaturdayShort', \"Sat\")];\r\n    TimeBasedVariableResolver.monthNames = [nls.localize('January', \"January\"), nls.localize('February', \"February\"), nls.localize('March', \"March\"), nls.localize('April', \"April\"), nls.localize('May', \"May\"), nls.localize('June', \"June\"), nls.localize('July', \"July\"), nls.localize('August', \"August\"), nls.localize('September', \"September\"), nls.localize('October', \"October\"), nls.localize('November', \"November\"), nls.localize('December', \"December\")];\r\n    TimeBasedVariableResolver.monthNamesShort = [nls.localize('JanuaryShort', \"Jan\"), nls.localize('FebruaryShort', \"Feb\"), nls.localize('MarchShort', \"Mar\"), nls.localize('AprilShort', \"Apr\"), nls.localize('MayShort', \"May\"), nls.localize('JuneShort', \"Jun\"), nls.localize('JulyShort', \"Jul\"), nls.localize('AugustShort', \"Aug\"), nls.localize('SeptemberShort', \"Sep\"), nls.localize('OctoberShort', \"Oct\"), nls.localize('NovemberShort', \"Nov\"), nls.localize('DecemberShort', \"Dec\")];\r\n    return TimeBasedVariableResolver;\r\n}());\r\nexport { TimeBasedVariableResolver };\r\nvar WorkspaceBasedVariableResolver = /** @class */ (function () {\r\n    function WorkspaceBasedVariableResolver(_workspaceService) {\r\n        this._workspaceService = _workspaceService;\r\n        //\r\n    }\r\n    WorkspaceBasedVariableResolver.prototype.resolve = function (variable) {\r\n        if (!this._workspaceService) {\r\n            return undefined;\r\n        }\r\n        var workspaceIdentifier = toWorkspaceIdentifier(this._workspaceService.getWorkspace());\r\n        if (!workspaceIdentifier) {\r\n            return undefined;\r\n        }\r\n        if (variable.name === 'WORKSPACE_NAME') {\r\n            return this._resolveWorkspaceName(workspaceIdentifier);\r\n        }\r\n        else if (variable.name === 'WORKSPACE_FOLDER') {\r\n            return this._resoveWorkspacePath(workspaceIdentifier);\r\n        }\r\n        return undefined;\r\n    };\r\n    WorkspaceBasedVariableResolver.prototype._resolveWorkspaceName = function (workspaceIdentifier) {\r\n        if (isSingleFolderWorkspaceIdentifier(workspaceIdentifier)) {\r\n            return path.basename(workspaceIdentifier.path);\r\n        }\r\n        var filename = path.basename(workspaceIdentifier.configPath.path);\r\n        if (endsWith(filename, WORKSPACE_EXTENSION)) {\r\n            filename = filename.substr(0, filename.length - WORKSPACE_EXTENSION.length - 1);\r\n        }\r\n        return filename;\r\n    };\r\n    WorkspaceBasedVariableResolver.prototype._resoveWorkspacePath = function (workspaceIdentifier) {\r\n        if (isSingleFolderWorkspaceIdentifier(workspaceIdentifier)) {\r\n            return normalizeDriveLetter(workspaceIdentifier.fsPath);\r\n        }\r\n        var filename = path.basename(workspaceIdentifier.configPath.path);\r\n        var folderpath = workspaceIdentifier.configPath.fsPath;\r\n        if (endsWith(folderpath, filename)) {\r\n            folderpath = folderpath.substr(0, folderpath.length - filename.length - 1);\r\n        }\r\n        return (folderpath ? normalizeDriveLetter(folderpath) : '/');\r\n    };\r\n    return WorkspaceBasedVariableResolver;\r\n}());\r\nexport { WorkspaceBasedVariableResolver };\r\nvar RandomBasedVariableResolver = /** @class */ (function () {\r\n    function RandomBasedVariableResolver() {\r\n    }\r\n    RandomBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'RANDOM') {\r\n            return Math.random().toString().slice(-6);\r\n        }\r\n        else if (name === 'RANDOM_HEX') {\r\n            return Math.random().toString(16).slice(-6);\r\n        }\r\n        return undefined;\r\n    };\r\n    return RandomBasedVariableResolver;\r\n}());\r\nexport { RandomBasedVariableResolver };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { groupBy } from '../../../base/common/arrays.js';\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { getLeadingWhitespace } from '../../../base/common/strings.js';\r\nimport './snippetSession.css';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\r\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { Choice, Placeholder, SnippetParser, Text } from './snippetParser.js';\r\nimport { ClipboardBasedVariableResolver, CompositeSnippetVariableResolver, ModelBasedVariableResolver, SelectionBasedVariableResolver, TimeBasedVariableResolver, CommentBasedVariableResolver, WorkspaceBasedVariableResolver, RandomBasedVariableResolver } from './snippetVariables.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport * as colors from '../../../platform/theme/common/colorRegistry.js';\r\nimport { ILabelService } from '../../../platform/label/common/label.js';\r\nregisterThemingParticipant(function (theme, collector) {\r\n    function getColorGraceful(name) {\r\n        var color = theme.getColor(name);\r\n        return color ? color.toString() : 'transparent';\r\n    }\r\n    collector.addRule(\".monaco-editor .snippet-placeholder { background-color: \" + getColorGraceful(colors.snippetTabstopHighlightBackground) + \"; outline-color: \" + getColorGraceful(colors.snippetTabstopHighlightBorder) + \"; }\");\r\n    collector.addRule(\".monaco-editor .finish-snippet-placeholder { background-color: \" + getColorGraceful(colors.snippetFinalTabstopHighlightBackground) + \"; outline-color: \" + getColorGraceful(colors.snippetFinalTabstopHighlightBorder) + \"; }\");\r\n});\r\nvar OneSnippet = /** @class */ (function () {\r\n    function OneSnippet(editor, snippet, offset) {\r\n        this._nestingLevel = 1;\r\n        this._editor = editor;\r\n        this._snippet = snippet;\r\n        this._offset = offset;\r\n        this._placeholderGroups = groupBy(snippet.placeholders, Placeholder.compareByIndex);\r\n        this._placeholderGroupsIdx = -1;\r\n    }\r\n    OneSnippet.prototype.dispose = function () {\r\n        if (this._placeholderDecorations) {\r\n            var toRemove_1 = [];\r\n            this._placeholderDecorations.forEach(function (handle) { return toRemove_1.push(handle); });\r\n            this._editor.deltaDecorations(toRemove_1, []);\r\n        }\r\n        this._placeholderGroups.length = 0;\r\n    };\r\n    OneSnippet.prototype._initDecorations = function () {\r\n        var _this = this;\r\n        if (this._placeholderDecorations) {\r\n            // already initialized\r\n            return;\r\n        }\r\n        this._placeholderDecorations = new Map();\r\n        var model = this._editor.getModel();\r\n        this._editor.changeDecorations(function (accessor) {\r\n            // create a decoration for each placeholder\r\n            for (var _i = 0, _a = _this._snippet.placeholders; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var placeholderOffset = _this._snippet.offset(placeholder);\r\n                var placeholderLen = _this._snippet.fullLen(placeholder);\r\n                var range = Range.fromPositions(model.getPositionAt(_this._offset + placeholderOffset), model.getPositionAt(_this._offset + placeholderOffset + placeholderLen));\r\n                var options = placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive;\r\n                var handle = accessor.addDecoration(range, options);\r\n                _this._placeholderDecorations.set(placeholder, handle);\r\n            }\r\n        });\r\n    };\r\n    OneSnippet.prototype.move = function (fwd) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return [];\r\n        }\r\n        this._initDecorations();\r\n        // Transform placeholder text if necessary\r\n        if (this._placeholderGroupsIdx >= 0) {\r\n            var operations = [];\r\n            for (var _i = 0, _a = this._placeholderGroups[this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                // Check if the placeholder has a transformation\r\n                if (placeholder.transform) {\r\n                    var id = this._placeholderDecorations.get(placeholder);\r\n                    var range = this._editor.getModel().getDecorationRange(id);\r\n                    var currentValue = this._editor.getModel().getValueInRange(range);\r\n                    operations.push(EditOperation.replaceMove(range, placeholder.transform.resolve(currentValue)));\r\n                }\r\n            }\r\n            if (operations.length > 0) {\r\n                this._editor.executeEdits('snippet.placeholderTransform', operations);\r\n            }\r\n        }\r\n        var couldSkipThisPlaceholder = false;\r\n        if (fwd === true && this._placeholderGroupsIdx < this._placeholderGroups.length - 1) {\r\n            this._placeholderGroupsIdx += 1;\r\n            couldSkipThisPlaceholder = true;\r\n        }\r\n        else if (fwd === false && this._placeholderGroupsIdx > 0) {\r\n            this._placeholderGroupsIdx -= 1;\r\n            couldSkipThisPlaceholder = true;\r\n        }\r\n        else {\r\n            // the selection of the current placeholder might\r\n            // not acurate any more -> simply restore it\r\n        }\r\n        var newSelections = this._editor.getModel().changeDecorations(function (accessor) {\r\n            var activePlaceholders = new Set();\r\n            // change stickiness to always grow when typing at its edges\r\n            // because these decorations represent the currently active\r\n            // tabstop.\r\n            // Special case #1: reaching the final tabstop\r\n            // Special case #2: placeholders enclosing active placeholders\r\n            var selections = [];\r\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var id = _this._placeholderDecorations.get(placeholder);\r\n                var range = _this._editor.getModel().getDecorationRange(id);\r\n                selections.push(new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn));\r\n                // consider to skip this placeholder index when the decoration\r\n                // range is empty but when the placeholder wasn't. that's a strong\r\n                // hint that the placeholder has been deleted. (all placeholder must match this)\r\n                couldSkipThisPlaceholder = couldSkipThisPlaceholder && _this._hasPlaceholderBeenCollapsed(placeholder);\r\n                accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\r\n                activePlaceholders.add(placeholder);\r\n                for (var _b = 0, _c = _this._snippet.enclosingPlaceholders(placeholder); _b < _c.length; _b++) {\r\n                    var enclosingPlaceholder = _c[_b];\r\n                    var id_1 = _this._placeholderDecorations.get(enclosingPlaceholder);\r\n                    accessor.changeDecorationOptions(id_1, enclosingPlaceholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\r\n                    activePlaceholders.add(enclosingPlaceholder);\r\n                }\r\n            }\r\n            // change stickness to never grow when typing at its edges\r\n            // so that in-active tabstops never grow\r\n            _this._placeholderDecorations.forEach(function (id, placeholder) {\r\n                if (!activePlaceholders.has(placeholder)) {\r\n                    accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive);\r\n                }\r\n            });\r\n            return selections;\r\n        });\r\n        return !couldSkipThisPlaceholder ? newSelections : this.move(fwd);\r\n    };\r\n    OneSnippet.prototype._hasPlaceholderBeenCollapsed = function (placeholder) {\r\n        // A placeholder is empty when it wasn't empty when authored but\r\n        // when its tracking decoration is empty. This also applies to all\r\n        // potential parent placeholders\r\n        var marker = placeholder;\r\n        while (marker) {\r\n            if (marker instanceof Placeholder) {\r\n                var id = this._placeholderDecorations.get(marker);\r\n                var range = this._editor.getModel().getDecorationRange(id);\r\n                if (range.isEmpty() && marker.toString().length > 0) {\r\n                    return true;\r\n                }\r\n            }\r\n            marker = marker.parent;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(OneSnippet.prototype, \"isAtFirstPlaceholder\", {\r\n        get: function () {\r\n            return this._placeholderGroupsIdx <= 0 || this._placeholderGroups.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneSnippet.prototype, \"isAtLastPlaceholder\", {\r\n        get: function () {\r\n            return this._placeholderGroupsIdx === this._placeholderGroups.length - 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneSnippet.prototype, \"hasPlaceholder\", {\r\n        get: function () {\r\n            return this._snippet.placeholders.length > 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OneSnippet.prototype.computePossibleSelections = function () {\r\n        var result = new Map();\r\n        for (var _i = 0, _a = this._placeholderGroups; _i < _a.length; _i++) {\r\n            var placeholdersWithEqualIndex = _a[_i];\r\n            var ranges = void 0;\r\n            for (var _b = 0, placeholdersWithEqualIndex_1 = placeholdersWithEqualIndex; _b < placeholdersWithEqualIndex_1.length; _b++) {\r\n                var placeholder = placeholdersWithEqualIndex_1[_b];\r\n                if (placeholder.isFinalTabstop) {\r\n                    // ignore those\r\n                    break;\r\n                }\r\n                if (!ranges) {\r\n                    ranges = [];\r\n                    result.set(placeholder.index, ranges);\r\n                }\r\n                var id = this._placeholderDecorations.get(placeholder);\r\n                var range = this._editor.getModel().getDecorationRange(id);\r\n                if (!range) {\r\n                    // one of the placeholder lost its decoration and\r\n                    // therefore we bail out and pretend the placeholder\r\n                    // (with its mirrors) doesn't exist anymore.\r\n                    result.delete(placeholder.index);\r\n                    break;\r\n                }\r\n                ranges.push(range);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(OneSnippet.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._placeholderGroups[this._placeholderGroupsIdx][0].choice;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OneSnippet.prototype.merge = function (others) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        this._nestingLevel *= 10;\r\n        this._editor.changeDecorations(function (accessor) {\r\n            // For each active placeholder take one snippet and merge it\r\n            // in that the placeholder (can be many for `$1foo$1foo`). Because\r\n            // everything is sorted by editor selection we can simply remove\r\n            // elements from the beginning of the array\r\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var nested = others.shift();\r\n                console.assert(!nested._placeholderDecorations);\r\n                // Massage placeholder-indicies of the nested snippet to be\r\n                // sorted right after the insertion point. This ensures we move\r\n                // through the placeholders in the correct order\r\n                var indexLastPlaceholder = nested._snippet.placeholderInfo.last.index;\r\n                for (var _b = 0, _c = nested._snippet.placeholderInfo.all; _b < _c.length; _b++) {\r\n                    var nestedPlaceholder = _c[_b];\r\n                    if (nestedPlaceholder.isFinalTabstop) {\r\n                        nestedPlaceholder.index = placeholder.index + ((indexLastPlaceholder + 1) / _this._nestingLevel);\r\n                    }\r\n                    else {\r\n                        nestedPlaceholder.index = placeholder.index + (nestedPlaceholder.index / _this._nestingLevel);\r\n                    }\r\n                }\r\n                _this._snippet.replace(placeholder, nested._snippet.children);\r\n                // Remove the placeholder at which position are inserting\r\n                // the snippet and also remove its decoration.\r\n                var id = _this._placeholderDecorations.get(placeholder);\r\n                accessor.removeDecoration(id);\r\n                _this._placeholderDecorations.delete(placeholder);\r\n                // For each *new* placeholder we create decoration to monitor\r\n                // how and if it grows/shrinks.\r\n                for (var _d = 0, _e = nested._snippet.placeholders; _d < _e.length; _d++) {\r\n                    var placeholder_1 = _e[_d];\r\n                    var placeholderOffset = nested._snippet.offset(placeholder_1);\r\n                    var placeholderLen = nested._snippet.fullLen(placeholder_1);\r\n                    var range = Range.fromPositions(model.getPositionAt(nested._offset + placeholderOffset), model.getPositionAt(nested._offset + placeholderOffset + placeholderLen));\r\n                    var handle = accessor.addDecoration(range, OneSnippet._decor.inactive);\r\n                    _this._placeholderDecorations.set(placeholder_1, handle);\r\n                }\r\n            }\r\n            // Last, re-create the placeholder groups by sorting placeholders by their index.\r\n            _this._placeholderGroups = groupBy(_this._snippet.placeholders, Placeholder.compareByIndex);\r\n        });\r\n    };\r\n    OneSnippet._decor = {\r\n        active: ModelDecorationOptions.register({ stickiness: 0 /* AlwaysGrowsWhenTypingAtEdges */, className: 'snippet-placeholder' }),\r\n        inactive: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'snippet-placeholder' }),\r\n        activeFinal: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'finish-snippet-placeholder' }),\r\n        inactiveFinal: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'finish-snippet-placeholder' }),\r\n    };\r\n    return OneSnippet;\r\n}());\r\nexport { OneSnippet };\r\nvar _defaultOptions = {\r\n    overwriteBefore: 0,\r\n    overwriteAfter: 0,\r\n    adjustWhitespace: true,\r\n    clipboardText: undefined\r\n};\r\nvar SnippetSession = /** @class */ (function () {\r\n    function SnippetSession(editor, template, options) {\r\n        if (options === void 0) { options = _defaultOptions; }\r\n        this._templateMerges = [];\r\n        this._snippets = [];\r\n        this._editor = editor;\r\n        this._template = template;\r\n        this._options = options;\r\n    }\r\n    SnippetSession.adjustWhitespace = function (model, position, snippet, adjustIndentation, adjustNewlines) {\r\n        var line = model.getLineContent(position.lineNumber);\r\n        var lineLeadingWhitespace = getLeadingWhitespace(line, 0, position.column - 1);\r\n        snippet.walk(function (marker) {\r\n            if (marker instanceof Text && !(marker.parent instanceof Choice)) {\r\n                // adjust indentation of text markers, except for choise elements\r\n                // which get adjusted when being selected\r\n                var lines = marker.value.split(/\\r\\n|\\r|\\n/);\r\n                if (adjustIndentation) {\r\n                    for (var i = 1; i < lines.length; i++) {\r\n                        var templateLeadingWhitespace = getLeadingWhitespace(lines[i]);\r\n                        lines[i] = model.normalizeIndentation(lineLeadingWhitespace + templateLeadingWhitespace) + lines[i].substr(templateLeadingWhitespace.length);\r\n                    }\r\n                }\r\n                if (adjustNewlines) {\r\n                    var newValue = lines.join(model.getEOL());\r\n                    if (newValue !== marker.value) {\r\n                        marker.parent.replace(marker, [new Text(newValue)]);\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n    SnippetSession.adjustSelection = function (model, selection, overwriteBefore, overwriteAfter) {\r\n        if (overwriteBefore !== 0 || overwriteAfter !== 0) {\r\n            // overwrite[Before|After] is compute using the position, not the whole\r\n            // selection. therefore we adjust the selection around that position\r\n            var positionLineNumber = selection.positionLineNumber, positionColumn = selection.positionColumn;\r\n            var positionColumnBefore = positionColumn - overwriteBefore;\r\n            var positionColumnAfter = positionColumn + overwriteAfter;\r\n            var range = model.validateRange({\r\n                startLineNumber: positionLineNumber,\r\n                startColumn: positionColumnBefore,\r\n                endLineNumber: positionLineNumber,\r\n                endColumn: positionColumnAfter\r\n            });\r\n            selection = Selection.createWithDirection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn, selection.getDirection());\r\n        }\r\n        return selection;\r\n    };\r\n    SnippetSession.createEditsAndSnippets = function (editor, template, overwriteBefore, overwriteAfter, enforceFinalTabstop, adjustWhitespace, clipboardText) {\r\n        var edits = [];\r\n        var snippets = [];\r\n        if (!editor.hasModel()) {\r\n            return { edits: edits, snippets: snippets };\r\n        }\r\n        var model = editor.getModel();\r\n        var workspaceService = editor.invokeWithinContext(function (accessor) { return accessor.get(IWorkspaceContextService, optional); });\r\n        var modelBasedVariableResolver = editor.invokeWithinContext(function (accessor) { return new ModelBasedVariableResolver(accessor.get(ILabelService, optional), model); });\r\n        var clipboardService = editor.invokeWithinContext(function (accessor) { return accessor.get(IClipboardService, optional); });\r\n        var readClipboardText = function () { return clipboardText || clipboardService && clipboardService.readTextSync(); };\r\n        var delta = 0;\r\n        // know what text the overwrite[Before|After] extensions\r\n        // of the primary curser have selected because only when\r\n        // secondary selections extend to the same text we can grow them\r\n        var firstBeforeText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), overwriteBefore, 0));\r\n        var firstAfterText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), 0, overwriteAfter));\r\n        // remember the first non-whitespace column to decide if\r\n        // `keepWhitespace` should be overruled for secondary selections\r\n        var firstLineFirstNonWhitespace = model.getLineFirstNonWhitespaceColumn(editor.getSelection().positionLineNumber);\r\n        // sort selections by their start position but remeber\r\n        // the original index. that allows you to create correct\r\n        // offset-based selection logic without changing the\r\n        // primary selection\r\n        var indexedSelections = editor.getSelections()\r\n            .map(function (selection, idx) { return ({ selection: selection, idx: idx }); })\r\n            .sort(function (a, b) { return Range.compareRangesUsingStarts(a.selection, b.selection); });\r\n        for (var _i = 0, indexedSelections_1 = indexedSelections; _i < indexedSelections_1.length; _i++) {\r\n            var _a = indexedSelections_1[_i], selection = _a.selection, idx = _a.idx;\r\n            // extend selection with the `overwriteBefore` and `overwriteAfter` and then\r\n            // compare if this matches the extensions of the primary selection\r\n            var extensionBefore = SnippetSession.adjustSelection(model, selection, overwriteBefore, 0);\r\n            var extensionAfter = SnippetSession.adjustSelection(model, selection, 0, overwriteAfter);\r\n            if (firstBeforeText !== model.getValueInRange(extensionBefore)) {\r\n                extensionBefore = selection;\r\n            }\r\n            if (firstAfterText !== model.getValueInRange(extensionAfter)) {\r\n                extensionAfter = selection;\r\n            }\r\n            // merge the before and after selection into one\r\n            var snippetSelection = selection\r\n                .setStartPosition(extensionBefore.startLineNumber, extensionBefore.startColumn)\r\n                .setEndPosition(extensionAfter.endLineNumber, extensionAfter.endColumn);\r\n            var snippet = new SnippetParser().parse(template, true, enforceFinalTabstop);\r\n            // adjust the template string to match the indentation and\r\n            // whitespace rules of this insert location (can be different for each cursor)\r\n            // happens when being asked for (default) or when this is a secondary\r\n            // cursor and the leading whitespace is different\r\n            var start = snippetSelection.getStartPosition();\r\n            SnippetSession.adjustWhitespace(model, start, snippet, adjustWhitespace || (idx > 0 && firstLineFirstNonWhitespace !== model.getLineFirstNonWhitespaceColumn(selection.positionLineNumber)), true);\r\n            snippet.resolveVariables(new CompositeSnippetVariableResolver([\r\n                modelBasedVariableResolver,\r\n                new ClipboardBasedVariableResolver(readClipboardText, idx, indexedSelections.length, editor.getOption(60 /* multiCursorPaste */) === 'spread'),\r\n                new SelectionBasedVariableResolver(model, selection),\r\n                new CommentBasedVariableResolver(model),\r\n                new TimeBasedVariableResolver,\r\n                new WorkspaceBasedVariableResolver(workspaceService),\r\n                new RandomBasedVariableResolver,\r\n            ]));\r\n            var offset = model.getOffsetAt(start) + delta;\r\n            delta += snippet.toString().length - model.getValueLengthInRange(snippetSelection);\r\n            // store snippets with the index of their originating selection.\r\n            // that ensures the primiary cursor stays primary despite not being\r\n            // the one with lowest start position\r\n            edits[idx] = EditOperation.replace(snippetSelection, snippet.toString());\r\n            snippets[idx] = new OneSnippet(editor, snippet, offset);\r\n        }\r\n        return { edits: edits, snippets: snippets };\r\n    };\r\n    SnippetSession.prototype.dispose = function () {\r\n        dispose(this._snippets);\r\n    };\r\n    SnippetSession.prototype._logInfo = function () {\r\n        return \"template=\\\"\" + this._template + \"\\\", merged_templates=\\\"\" + this._templateMerges.join(' -> ') + \"\\\"\";\r\n    };\r\n    SnippetSession.prototype.insert = function () {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // make insert edit and start with first selections\r\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, this._template, this._options.overwriteBefore, this._options.overwriteAfter, false, this._options.adjustWhitespace, this._options.clipboardText), edits = _a.edits, snippets = _a.snippets;\r\n        this._snippets = snippets;\r\n        this._editor.executeEdits('snippet', edits, function (undoEdits) {\r\n            if (_this._snippets[0].hasPlaceholder) {\r\n                return _this._move(true);\r\n            }\r\n            else {\r\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\r\n            }\r\n        });\r\n        this._editor.revealRange(this._editor.getSelections()[0]);\r\n    };\r\n    SnippetSession.prototype.merge = function (template, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = _defaultOptions; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._templateMerges.push([this._snippets[0]._nestingLevel, this._snippets[0]._placeholderGroupsIdx, template]);\r\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, template, options.overwriteBefore, options.overwriteAfter, true, options.adjustWhitespace, options.clipboardText), edits = _a.edits, snippets = _a.snippets;\r\n        this._editor.executeEdits('snippet', edits, function (undoEdits) {\r\n            for (var _i = 0, _a = _this._snippets; _i < _a.length; _i++) {\r\n                var snippet = _a[_i];\r\n                snippet.merge(snippets);\r\n            }\r\n            console.assert(snippets.length === 0);\r\n            if (_this._snippets[0].hasPlaceholder) {\r\n                return _this._move(undefined);\r\n            }\r\n            else {\r\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\r\n            }\r\n        });\r\n    };\r\n    SnippetSession.prototype.next = function () {\r\n        var newSelections = this._move(true);\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\r\n    };\r\n    SnippetSession.prototype.prev = function () {\r\n        var newSelections = this._move(false);\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\r\n    };\r\n    SnippetSession.prototype._move = function (fwd) {\r\n        var selections = [];\r\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\r\n            var snippet = _a[_i];\r\n            var oneSelection = snippet.move(fwd);\r\n            selections.push.apply(selections, oneSelection);\r\n        }\r\n        return selections;\r\n    };\r\n    Object.defineProperty(SnippetSession.prototype, \"isAtFirstPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].isAtFirstPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"isAtLastPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].isAtLastPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"hasPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].hasPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._snippets[0].choice;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SnippetSession.prototype.isSelectionWithinPlaceholders = function () {\r\n        if (!this.hasPlaceholder) {\r\n            return false;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length < this._snippets.length) {\r\n            // this means we started snippet mode with N\r\n            // selections and have M (N > M) selections.\r\n            // So one snippet is without selection -> cancel\r\n            return false;\r\n        }\r\n        var allPossibleSelections = new Map();\r\n        var _loop_1 = function (snippet) {\r\n            var possibleSelections = snippet.computePossibleSelections();\r\n            // for the first snippet find the placeholder (and its ranges)\r\n            // that contain at least one selection. for all remaining snippets\r\n            // the same placeholder (and their ranges) must be used.\r\n            if (allPossibleSelections.size === 0) {\r\n                possibleSelections.forEach(function (ranges, index) {\r\n                    ranges.sort(Range.compareRangesUsingStarts);\r\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n                        var selection = selections_1[_i];\r\n                        if (ranges[0].containsRange(selection)) {\r\n                            allPossibleSelections.set(index, []);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (allPossibleSelections.size === 0) {\r\n                return { value: false };\r\n            }\r\n            // add selections from 'this' snippet so that we know all\r\n            // selections for this placeholder\r\n            allPossibleSelections.forEach(function (array, index) {\r\n                array.push.apply(array, possibleSelections.get(index));\r\n            });\r\n        };\r\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\r\n            var snippet = _a[_i];\r\n            var state_1 = _loop_1(snippet);\r\n            if (typeof state_1 === \"object\")\r\n                return state_1.value;\r\n        }\r\n        // sort selections (and later placeholder-ranges). then walk both\r\n        // arrays and make sure the placeholder-ranges contain the corresponding\r\n        // selection\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        allPossibleSelections.forEach(function (ranges, index) {\r\n            if (ranges.length !== selections.length) {\r\n                allPossibleSelections.delete(index);\r\n                return;\r\n            }\r\n            ranges.sort(Range.compareRangesUsingStarts);\r\n            for (var i = 0; i < ranges.length; i++) {\r\n                if (!ranges[i].containsRange(selections[i])) {\r\n                    allPossibleSelections.delete(index);\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n        // from all possible selections we have deleted those\r\n        // that don't match with the current selection. if we don't\r\n        // have any left, we don't have a selection anymore\r\n        return allPossibleSelections.size > 0;\r\n    };\r\n    return SnippetSession;\r\n}());\r\nexport { SnippetSession };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { repeat } from '../../../base/common/strings.js';\r\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { showSimpleSuggestions } from '../suggest/suggest.js';\r\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { ILogService } from '../../../platform/log/common/log.js';\r\nimport { SnippetSession } from './snippetSession.js';\r\nvar _defaultOptions = {\r\n    overwriteBefore: 0,\r\n    overwriteAfter: 0,\r\n    undoStopBefore: true,\r\n    undoStopAfter: true,\r\n    adjustWhitespace: true,\r\n    clipboardText: undefined\r\n};\r\nvar SnippetController2 = /** @class */ (function () {\r\n    function SnippetController2(_editor, _logService, contextKeyService) {\r\n        this._editor = _editor;\r\n        this._logService = _logService;\r\n        this._snippetListener = new DisposableStore();\r\n        this._modelVersionId = -1;\r\n        this._inSnippet = SnippetController2.InSnippetMode.bindTo(contextKeyService);\r\n        this._hasNextTabstop = SnippetController2.HasNextTabstop.bindTo(contextKeyService);\r\n        this._hasPrevTabstop = SnippetController2.HasPrevTabstop.bindTo(contextKeyService);\r\n    }\r\n    SnippetController2.get = function (editor) {\r\n        return editor.getContribution(SnippetController2.ID);\r\n    };\r\n    SnippetController2.prototype.dispose = function () {\r\n        this._inSnippet.reset();\r\n        this._hasPrevTabstop.reset();\r\n        this._hasNextTabstop.reset();\r\n        dispose(this._session);\r\n        this._snippetListener.dispose();\r\n    };\r\n    SnippetController2.prototype.insert = function (template, opts) {\r\n        // this is here to find out more about the yet-not-understood\r\n        // error that sometimes happens when we fail to inserted a nested\r\n        // snippet\r\n        try {\r\n            this._doInsert(template, typeof opts === 'undefined' ? _defaultOptions : __assign(__assign({}, _defaultOptions), opts));\r\n        }\r\n        catch (e) {\r\n            this.cancel();\r\n            this._logService.error(e);\r\n            this._logService.error('snippet_error');\r\n            this._logService.error('insert_template=', template);\r\n            this._logService.error('existing_template=', this._session ? this._session._logInfo() : '<no_session>');\r\n        }\r\n    };\r\n    SnippetController2.prototype._doInsert = function (template, opts) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // don't listen while inserting the snippet\r\n        // as that is the inflight state causing cancelation\r\n        this._snippetListener.clear();\r\n        if (opts.undoStopBefore) {\r\n            this._editor.getModel().pushStackElement();\r\n        }\r\n        if (!this._session) {\r\n            this._modelVersionId = this._editor.getModel().getAlternativeVersionId();\r\n            this._session = new SnippetSession(this._editor, template, opts);\r\n            this._session.insert();\r\n        }\r\n        else {\r\n            this._session.merge(template, opts);\r\n        }\r\n        if (opts.undoStopAfter) {\r\n            this._editor.getModel().pushStackElement();\r\n        }\r\n        this._updateState();\r\n        this._snippetListener.add(this._editor.onDidChangeModelContent(function (e) { return e.isFlush && _this.cancel(); }));\r\n        this._snippetListener.add(this._editor.onDidChangeModel(function () { return _this.cancel(); }));\r\n        this._snippetListener.add(this._editor.onDidChangeCursorSelection(function () { return _this._updateState(); }));\r\n    };\r\n    SnippetController2.prototype._updateState = function () {\r\n        if (!this._session || !this._editor.hasModel()) {\r\n            // canceled in the meanwhile\r\n            return;\r\n        }\r\n        if (this._modelVersionId === this._editor.getModel().getAlternativeVersionId()) {\r\n            // undo until the 'before' state happened\r\n            // and makes use cancel snippet mode\r\n            return this.cancel();\r\n        }\r\n        if (!this._session.hasPlaceholder) {\r\n            // don't listen for selection changes and don't\r\n            // update context keys when the snippet is plain text\r\n            return this.cancel();\r\n        }\r\n        if (this._session.isAtLastPlaceholder || !this._session.isSelectionWithinPlaceholders()) {\r\n            return this.cancel();\r\n        }\r\n        this._inSnippet.set(true);\r\n        this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder);\r\n        this._hasNextTabstop.set(!this._session.isAtLastPlaceholder);\r\n        this._handleChoice();\r\n    };\r\n    SnippetController2.prototype._handleChoice = function () {\r\n        var _this = this;\r\n        if (!this._session || !this._editor.hasModel()) {\r\n            this._currentChoice = undefined;\r\n            return;\r\n        }\r\n        var choice = this._session.choice;\r\n        if (!choice) {\r\n            this._currentChoice = undefined;\r\n            return;\r\n        }\r\n        if (this._currentChoice !== choice) {\r\n            this._currentChoice = choice;\r\n            this._editor.setSelections(this._editor.getSelections()\r\n                .map(function (s) { return Selection.fromPositions(s.getStartPosition()); }));\r\n            var first_1 = choice.options[0];\r\n            showSimpleSuggestions(this._editor, choice.options.map(function (option, i) {\r\n                // let before = choice.options.slice(0, i);\r\n                // let after = choice.options.slice(i);\r\n                return {\r\n                    kind: 13 /* Value */,\r\n                    label: option.value,\r\n                    insertText: option.value,\r\n                    // insertText: `\\${1|${after.concat(before).join(',')}|}$0`,\r\n                    // snippetType: 'textmate',\r\n                    sortText: repeat('a', i + 1),\r\n                    range: Range.fromPositions(_this._editor.getPosition(), _this._editor.getPosition().delta(0, first_1.value.length))\r\n                };\r\n            }));\r\n        }\r\n    };\r\n    SnippetController2.prototype.finish = function () {\r\n        while (this._inSnippet.get()) {\r\n            this.next();\r\n        }\r\n    };\r\n    SnippetController2.prototype.cancel = function (resetSelection) {\r\n        if (resetSelection === void 0) { resetSelection = false; }\r\n        this._inSnippet.reset();\r\n        this._hasPrevTabstop.reset();\r\n        this._hasNextTabstop.reset();\r\n        this._snippetListener.clear();\r\n        dispose(this._session);\r\n        this._session = undefined;\r\n        this._modelVersionId = -1;\r\n        if (resetSelection) {\r\n            // reset selection to the primary cursor when being asked\r\n            // for. this happens when explicitly cancelling snippet mode,\r\n            // e.g. when pressing ESC\r\n            this._editor.setSelections([this._editor.getSelection()]);\r\n        }\r\n    };\r\n    SnippetController2.prototype.prev = function () {\r\n        if (this._session) {\r\n            this._session.prev();\r\n        }\r\n        this._updateState();\r\n    };\r\n    SnippetController2.prototype.next = function () {\r\n        if (this._session) {\r\n            this._session.next();\r\n        }\r\n        this._updateState();\r\n    };\r\n    SnippetController2.prototype.isInSnippet = function () {\r\n        return Boolean(this._inSnippet.get());\r\n    };\r\n    SnippetController2.ID = 'snippetController2';\r\n    SnippetController2.InSnippetMode = new RawContextKey('inSnippetMode', false);\r\n    SnippetController2.HasNextTabstop = new RawContextKey('hasNextTabstop', false);\r\n    SnippetController2.HasPrevTabstop = new RawContextKey('hasPrevTabstop', false);\r\n    SnippetController2 = __decorate([\r\n        __param(1, ILogService),\r\n        __param(2, IContextKeyService)\r\n    ], SnippetController2);\r\n    return SnippetController2;\r\n}());\r\nexport { SnippetController2 };\r\nregisterEditorContribution(SnippetController2.ID, SnippetController2);\r\nvar CommandCtor = EditorCommand.bindToContribution(SnippetController2.get);\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'jumpToNextSnippetPlaceholder',\r\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasNextTabstop),\r\n    handler: function (ctrl) { return ctrl.next(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'jumpToPrevSnippetPlaceholder',\r\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasPrevTabstop),\r\n    handler: function (ctrl) { return ctrl.prev(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 1024 /* Shift */ | 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'leaveSnippet',\r\n    precondition: SnippetController2.InSnippetMode,\r\n    handler: function (ctrl) { return ctrl.cancel(true); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'acceptSnippet',\r\n    precondition: SnippetController2.InSnippetMode,\r\n    handler: function (ctrl) { return ctrl.finish(); },\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { LRUCache, TernarySearchTree } from '../../../base/common/map.js';\r\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\r\nimport { completionKindFromString } from '../../common/modes.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nvar Memory = /** @class */ (function () {\r\n    function Memory() {\r\n    }\r\n    Memory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var topScore = items[0].score[0];\r\n        for (var i = 1; i < items.length; i++) {\r\n            var _a = items[i], score = _a.score, suggestion = _a.completion;\r\n            if (score[0] !== topScore) {\r\n                // stop when leaving the group of top matches\r\n                break;\r\n            }\r\n            if (suggestion.preselect) {\r\n                // stop when seeing an auto-select-item\r\n                return i;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    return Memory;\r\n}());\r\nexport { Memory };\r\nvar NoMemory = /** @class */ (function (_super) {\r\n    __extends(NoMemory, _super);\r\n    function NoMemory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    NoMemory.prototype.memorize = function (model, pos, item) {\r\n        // no-op\r\n    };\r\n    NoMemory.prototype.toJSON = function () {\r\n        return undefined;\r\n    };\r\n    NoMemory.prototype.fromJSON = function () {\r\n        //\r\n    };\r\n    return NoMemory;\r\n}(Memory));\r\nexport { NoMemory };\r\nvar LRUMemory = /** @class */ (function (_super) {\r\n    __extends(LRUMemory, _super);\r\n    function LRUMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._cache = new LRUCache(300, 0.66);\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    LRUMemory.prototype.memorize = function (model, pos, item) {\r\n        var label = item.completion.label;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + label;\r\n        this._cache.set(key, {\r\n            touch: this._seq++,\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText\r\n        });\r\n    };\r\n    LRUMemory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\r\n        if (/\\s$/.test(lineSuffix)) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var topScore = items[0].score[0];\r\n        var indexPreselect = -1;\r\n        var indexRecency = -1;\r\n        var seq = -1;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i].score[0] !== topScore) {\r\n                // consider only top items\r\n                break;\r\n            }\r\n            var key = model.getLanguageIdentifier().language + \"/\" + items[i].completion.label;\r\n            var item = this._cache.peek(key);\r\n            if (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\r\n                seq = item.touch;\r\n                indexRecency = i;\r\n            }\r\n            if (items[i].completion.preselect && indexPreselect === -1) {\r\n                // stop when seeing an auto-select-item\r\n                return indexPreselect = i;\r\n            }\r\n        }\r\n        if (indexRecency !== -1) {\r\n            return indexRecency;\r\n        }\r\n        else if (indexPreselect !== -1) {\r\n            return indexPreselect;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    LRUMemory.prototype.toJSON = function () {\r\n        var data = [];\r\n        this._cache.forEach(function (value, key) {\r\n            data.push([key, value]);\r\n        });\r\n        return data;\r\n    };\r\n    LRUMemory.prototype.fromJSON = function (data) {\r\n        this._cache.clear();\r\n        var seq = 0;\r\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n            var _a = data_1[_i], key = _a[0], value = _a[1];\r\n            value.touch = seq;\r\n            value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n            this._cache.set(key, value);\r\n        }\r\n        this._seq = this._cache.size;\r\n    };\r\n    return LRUMemory;\r\n}(Memory));\r\nexport { LRUMemory };\r\nvar PrefixMemory = /** @class */ (function (_super) {\r\n    __extends(PrefixMemory, _super);\r\n    function PrefixMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._trie = TernarySearchTree.forStrings();\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    PrefixMemory.prototype.memorize = function (model, pos, item) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        this._trie.set(key, {\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText,\r\n            touch: this._seq++\r\n        });\r\n    };\r\n    PrefixMemory.prototype.select = function (model, pos, items) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        if (!word) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        var item = this._trie.get(key);\r\n        if (!item) {\r\n            item = this._trie.findSubstr(key);\r\n        }\r\n        if (item) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var _a = items[i].completion, kind = _a.kind, insertText = _a.insertText;\r\n                if (kind === item.type && insertText === item.insertText) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return _super.prototype.select.call(this, model, pos, items);\r\n    };\r\n    PrefixMemory.prototype.toJSON = function () {\r\n        var entries = [];\r\n        this._trie.forEach(function (value, key) { return entries.push([key, value]); });\r\n        // sort by last recently used (touch), then\r\n        // take the top 200 item and normalize their\r\n        // touch\r\n        entries\r\n            .sort(function (a, b) { return -(a[1].touch - b[1].touch); })\r\n            .forEach(function (value, i) { return value[1].touch = i; });\r\n        return entries.slice(0, 200);\r\n    };\r\n    PrefixMemory.prototype.fromJSON = function (data) {\r\n        this._trie.clear();\r\n        if (data.length > 0) {\r\n            this._seq = data[0][1].touch + 1;\r\n            for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\r\n                var _a = data_2[_i], key = _a[0], value = _a[1];\r\n                value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n                this._trie.set(key, value);\r\n            }\r\n        }\r\n    };\r\n    return PrefixMemory;\r\n}(Memory));\r\nexport { PrefixMemory };\r\nvar SuggestMemoryService = /** @class */ (function (_super) {\r\n    __extends(SuggestMemoryService, _super);\r\n    function SuggestMemoryService(_storageService, _configService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._storageService = _storageService;\r\n        _this._configService = _configService;\r\n        _this._storagePrefix = 'suggest/memories';\r\n        var update = function () {\r\n            var mode = _this._configService.getValue('editor.suggestSelection');\r\n            var share = _this._configService.getValue('editor.suggest.shareSuggestSelections');\r\n            _this._update(mode, share, false);\r\n        };\r\n        _this._persistSoon = _this._register(new RunOnceScheduler(function () { return _this._saveState(); }, 500));\r\n        _this._register(_storageService.onWillSaveState(function (e) {\r\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\r\n                _this._saveState();\r\n            }\r\n        }));\r\n        _this._register(_this._configService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration('editor.suggestSelection') || e.affectsConfiguration('editor.suggest.shareSuggestSelections')) {\r\n                update();\r\n            }\r\n        }));\r\n        _this._register(_this._storageService.onDidChangeStorage(function (e) {\r\n            if (e.scope === 0 /* GLOBAL */ && e.key.indexOf(_this._storagePrefix) === 0) {\r\n                if (!document.hasFocus()) {\r\n                    // windows that aren't focused have to drop their current\r\n                    // storage value and accept what's stored now\r\n                    _this._update(_this._mode, _this._shareMem, true);\r\n                }\r\n            }\r\n        }));\r\n        update();\r\n        return _this;\r\n    }\r\n    SuggestMemoryService.prototype._update = function (mode, shareMem, force) {\r\n        if (!force && this._mode === mode && this._shareMem === shareMem) {\r\n            return;\r\n        }\r\n        this._shareMem = shareMem;\r\n        this._mode = mode;\r\n        this._strategy = mode === 'recentlyUsedByPrefix' ? new PrefixMemory() : mode === 'recentlyUsed' ? new LRUMemory() : new NoMemory();\r\n        try {\r\n            var scope = shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n            var raw = this._storageService.get(this._storagePrefix + \"/\" + this._mode, scope);\r\n            if (raw) {\r\n                this._strategy.fromJSON(JSON.parse(raw));\r\n            }\r\n        }\r\n        catch (e) {\r\n            // things can go wrong with JSON...\r\n        }\r\n    };\r\n    SuggestMemoryService.prototype.memorize = function (model, pos, item) {\r\n        this._strategy.memorize(model, pos, item);\r\n        this._persistSoon.schedule();\r\n    };\r\n    SuggestMemoryService.prototype.select = function (model, pos, items) {\r\n        return this._strategy.select(model, pos, items);\r\n    };\r\n    SuggestMemoryService.prototype._saveState = function () {\r\n        var raw = JSON.stringify(this._strategy);\r\n        var scope = this._shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n        this._storageService.store(this._storagePrefix + \"/\" + this._mode, raw, scope);\r\n    };\r\n    SuggestMemoryService = __decorate([\r\n        __param(0, IStorageService),\r\n        __param(1, IConfigurationService)\r\n    ], SuggestMemoryService);\r\n    return SuggestMemoryService;\r\n}(Disposable));\r\nexport { SuggestMemoryService };\r\nexport var ISuggestMemoryService = createDecorator('ISuggestMemories');\r\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, true);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nvar SuggestAlternatives = /** @class */ (function () {\r\n    function SuggestAlternatives(_editor, contextKeyService) {\r\n        this._editor = _editor;\r\n        this._index = 0;\r\n        this._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\r\n    }\r\n    SuggestAlternatives.prototype.dispose = function () {\r\n        this.reset();\r\n    };\r\n    SuggestAlternatives.prototype.reset = function () {\r\n        this._ckOtherSuggestions.reset();\r\n        dispose(this._listener);\r\n        this._model = undefined;\r\n        this._acceptNext = undefined;\r\n        this._ignore = false;\r\n    };\r\n    SuggestAlternatives.prototype.set = function (_a, acceptNext) {\r\n        var _this = this;\r\n        var model = _a.model, index = _a.index;\r\n        // no suggestions -> nothing to do\r\n        if (model.items.length === 0) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        // no alternative suggestions -> nothing to do\r\n        var nextIndex = SuggestAlternatives._moveIndex(true, model, index);\r\n        if (nextIndex === index) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        this._acceptNext = acceptNext;\r\n        this._model = model;\r\n        this._index = index;\r\n        this._listener = this._editor.onDidChangeCursorPosition(function () {\r\n            if (!_this._ignore) {\r\n                _this.reset();\r\n            }\r\n        });\r\n        this._ckOtherSuggestions.set(true);\r\n    };\r\n    SuggestAlternatives._moveIndex = function (fwd, model, index) {\r\n        var newIndex = index;\r\n        while (true) {\r\n            newIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\r\n            if (newIndex === index) {\r\n                break;\r\n            }\r\n            if (!model.items[newIndex].completion.additionalTextEdits) {\r\n                break;\r\n            }\r\n        }\r\n        return newIndex;\r\n    };\r\n    SuggestAlternatives.prototype.next = function () {\r\n        this._move(true);\r\n    };\r\n    SuggestAlternatives.prototype.prev = function () {\r\n        this._move(false);\r\n    };\r\n    SuggestAlternatives.prototype._move = function (fwd) {\r\n        if (!this._model) {\r\n            // nothing to reason about\r\n            return;\r\n        }\r\n        try {\r\n            this._ignore = true;\r\n            this._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\r\n            this._acceptNext({ index: this._index, item: this._model.items[this._index], model: this._model });\r\n        }\r\n        finally {\r\n            this._ignore = false;\r\n        }\r\n    };\r\n    SuggestAlternatives.OtherSuggestions = new RawContextKey('hasOtherSuggestions', false);\r\n    SuggestAlternatives = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], SuggestAlternatives);\r\n    return SuggestAlternatives;\r\n}());\r\nexport { SuggestAlternatives };\r\n","export var FileKind;\r\n(function (FileKind) {\r\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\r\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\r\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\r\n})(FileKind || (FileKind = {}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { fuzzyScore, fuzzyScoreGracefulAggressive, FuzzyScore, anyScore } from '../../../base/common/filters.js';\r\nimport { compareIgnoreCase } from '../../../base/common/strings.js';\r\nvar LineContext = /** @class */ (function () {\r\n    function LineContext(leadingLineContent, characterCountDelta) {\r\n        this.leadingLineContent = leadingLineContent;\r\n        this.characterCountDelta = characterCountDelta;\r\n    }\r\n    return LineContext;\r\n}());\r\nexport { LineContext };\r\nvar CompletionModel = /** @class */ (function () {\r\n    function CompletionModel(items, column, lineContext, wordDistance, options, snippetSuggestions) {\r\n        this._snippetCompareFn = CompletionModel._compareCompletionItems;\r\n        this._items = items;\r\n        this._column = column;\r\n        this._wordDistance = wordDistance;\r\n        this._options = options;\r\n        this._refilterKind = 1 /* All */;\r\n        this._lineContext = lineContext;\r\n        if (snippetSuggestions === 'top') {\r\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsUp;\r\n        }\r\n        else if (snippetSuggestions === 'bottom') {\r\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsDown;\r\n        }\r\n    }\r\n    Object.defineProperty(CompletionModel.prototype, \"lineContext\", {\r\n        get: function () {\r\n            return this._lineContext;\r\n        },\r\n        set: function (value) {\r\n            if (this._lineContext.leadingLineContent !== value.leadingLineContent\r\n                || this._lineContext.characterCountDelta !== value.characterCountDelta) {\r\n                this._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? 2 /* Incr */ : 1 /* All */;\r\n                this._lineContext = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompletionModel.prototype, \"items\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._filteredItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompletionModel.prototype, \"incomplete\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._isIncomplete;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionModel.prototype.adopt = function (except) {\r\n        var res = new Array();\r\n        for (var i = 0; i < this._items.length;) {\r\n            if (!except.has(this._items[i].provider)) {\r\n                res.push(this._items[i]);\r\n                // unordered removed\r\n                this._items[i] = this._items[this._items.length - 1];\r\n                this._items.pop();\r\n            }\r\n            else {\r\n                // continue with next item\r\n                i++;\r\n            }\r\n        }\r\n        this._refilterKind = 1 /* All */;\r\n        return res;\r\n    };\r\n    Object.defineProperty(CompletionModel.prototype, \"stats\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._stats;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionModel.prototype._ensureCachedState = function () {\r\n        if (this._refilterKind !== 0 /* Nothing */) {\r\n            this._createCachedState();\r\n        }\r\n    };\r\n    CompletionModel.prototype._createCachedState = function () {\r\n        this._isIncomplete = new Set();\r\n        this._stats = { suggestionCount: 0, snippetCount: 0, textCount: 0 };\r\n        var _a = this._lineContext, leadingLineContent = _a.leadingLineContent, characterCountDelta = _a.characterCountDelta;\r\n        var word = '';\r\n        var wordLow = '';\r\n        // incrementally filter less\r\n        var source = this._refilterKind === 1 /* All */ ? this._items : this._filteredItems;\r\n        var target = [];\r\n        // picks a score function based on the number of\r\n        // items that we have to score/filter and based on the\r\n        // user-configuration\r\n        var scoreFn = (!this._options.filterGraceful || source.length > 2000) ? fuzzyScore : fuzzyScoreGracefulAggressive;\r\n        for (var i = 0; i < source.length; i++) {\r\n            var item = source[i];\r\n            // collect those supports that signaled having\r\n            // an incomplete result\r\n            if (item.container.incomplete) {\r\n                this._isIncomplete.add(item.provider);\r\n            }\r\n            // 'word' is that remainder of the current line that we\r\n            // filter and score against. In theory each suggestion uses a\r\n            // different word, but in practice not - that's why we cache\r\n            var overwriteBefore = item.position.column - item.editStart.column;\r\n            var wordLen = overwriteBefore + characterCountDelta - (item.position.column - this._column);\r\n            if (word.length !== wordLen) {\r\n                word = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);\r\n                wordLow = word.toLowerCase();\r\n            }\r\n            // remember the word against which this item was\r\n            // scored\r\n            item.word = word;\r\n            if (wordLen === 0) {\r\n                // when there is nothing to score against, don't\r\n                // event try to do. Use a const rank and rely on\r\n                // the fallback-sort using the initial sort order.\r\n                // use a score of `-100` because that is out of the\r\n                // bound of values `fuzzyScore` will return\r\n                item.score = FuzzyScore.Default;\r\n            }\r\n            else {\r\n                // skip word characters that are whitespace until\r\n                // we have hit the replace range (overwriteBefore)\r\n                var wordPos = 0;\r\n                while (wordPos < overwriteBefore) {\r\n                    var ch = word.charCodeAt(wordPos);\r\n                    if (ch === 32 /* Space */ || ch === 9 /* Tab */) {\r\n                        wordPos += 1;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n                var textLabel = typeof item.completion.label === 'string' ? item.completion.label : item.completion.label.name;\r\n                if (wordPos >= wordLen) {\r\n                    // the wordPos at which scoring starts is the whole word\r\n                    // and therefore the same rules as not having a word apply\r\n                    item.score = FuzzyScore.Default;\r\n                }\r\n                else if (typeof item.completion.filterText === 'string') {\r\n                    // when there is a `filterText` it must match the `word`.\r\n                    // if it matches we check with the label to compute highlights\r\n                    // and if that doesn't yield a result we have no highlights,\r\n                    // despite having the match\r\n                    var match = scoreFn(word, wordLow, wordPos, item.completion.filterText, item.filterTextLow, 0, false);\r\n                    if (!match) {\r\n                        continue; // NO match\r\n                    }\r\n                    if (compareIgnoreCase(item.completion.filterText, textLabel) === 0) {\r\n                        // filterText and label are actually the same -> use good highlights\r\n                        item.score = match;\r\n                    }\r\n                    else {\r\n                        // re-run the scorer on the label in the hope of a result BUT use the rank\r\n                        // of the filterText-match\r\n                        item.score = anyScore(word, wordLow, wordPos, textLabel, item.labelLow, 0);\r\n                        item.score[0] = match[0]; // use score from filterText\r\n                    }\r\n                }\r\n                else {\r\n                    // by default match `word` against the `label`\r\n                    var match = scoreFn(word, wordLow, wordPos, textLabel, item.labelLow, 0, false);\r\n                    if (!match) {\r\n                        continue; // NO match\r\n                    }\r\n                    item.score = match;\r\n                }\r\n            }\r\n            item.idx = i;\r\n            item.distance = this._wordDistance.distance(item.position, item.completion);\r\n            target.push(item);\r\n            // update stats\r\n            this._stats.suggestionCount++;\r\n            switch (item.completion.kind) {\r\n                case 25 /* Snippet */:\r\n                    this._stats.snippetCount++;\r\n                    break;\r\n                case 18 /* Text */:\r\n                    this._stats.textCount++;\r\n                    break;\r\n            }\r\n        }\r\n        this._filteredItems = target.sort(this._snippetCompareFn);\r\n        this._refilterKind = 0 /* Nothing */;\r\n    };\r\n    CompletionModel._compareCompletionItems = function (a, b) {\r\n        if (a.score[0] > b.score[0]) {\r\n            return -1;\r\n        }\r\n        else if (a.score[0] < b.score[0]) {\r\n            return 1;\r\n        }\r\n        else if (a.distance < b.distance) {\r\n            return -1;\r\n        }\r\n        else if (a.distance > b.distance) {\r\n            return 1;\r\n        }\r\n        else if (a.idx < b.idx) {\r\n            return -1;\r\n        }\r\n        else if (a.idx > b.idx) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    CompletionModel._compareCompletionItemsSnippetsDown = function (a, b) {\r\n        if (a.completion.kind !== b.completion.kind) {\r\n            if (a.completion.kind === 25 /* Snippet */) {\r\n                return 1;\r\n            }\r\n            else if (b.completion.kind === 25 /* Snippet */) {\r\n                return -1;\r\n            }\r\n        }\r\n        return CompletionModel._compareCompletionItems(a, b);\r\n    };\r\n    CompletionModel._compareCompletionItemsSnippetsUp = function (a, b) {\r\n        if (a.completion.kind !== b.completion.kind) {\r\n            if (a.completion.kind === 25 /* Snippet */) {\r\n                return -1;\r\n            }\r\n            else if (b.completion.kind === 25 /* Snippet */) {\r\n                return 1;\r\n            }\r\n        }\r\n        return CompletionModel._compareCompletionItems(a, b);\r\n    };\r\n    return CompletionModel;\r\n}());\r\nexport { CompletionModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { binarySearch, isFalsyOrEmpty } from '../../../base/common/arrays.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { BracketSelectionRangeProvider } from '../smartSelect/bracketSelections.js';\r\nvar WordDistance = /** @class */ (function () {\r\n    function WordDistance() {\r\n    }\r\n    WordDistance.create = function (service, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, position, ranges, wordRanges;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.getOption(89 /* suggest */).localityBonus) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        if (!editor.hasModel()) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        model = editor.getModel();\r\n                        position = editor.getPosition();\r\n                        if (!service.canComputeWordRanges(model.uri)) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        return [4 /*yield*/, new BracketSelectionRangeProvider().provideSelectionRanges(model, [position])];\r\n                    case 1:\r\n                        ranges = _a.sent();\r\n                        if (!ranges || ranges.length === 0 || ranges[0].length === 0) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        return [4 /*yield*/, service.computeWordRanges(model.uri, ranges[0][0].range)];\r\n                    case 2:\r\n                        wordRanges = _a.sent();\r\n                        return [2 /*return*/, new /** @class */ (function (_super) {\r\n                                __extends(class_1, _super);\r\n                                function class_1() {\r\n                                    return _super !== null && _super.apply(this, arguments) || this;\r\n                                }\r\n                                class_1.prototype.distance = function (anchor, suggestion) {\r\n                                    if (!wordRanges || !position.equals(editor.getPosition())) {\r\n                                        return 0;\r\n                                    }\r\n                                    if (suggestion.kind === 17 /* Keyword */) {\r\n                                        return 2 << 20;\r\n                                    }\r\n                                    var word = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\r\n                                    var wordLines = wordRanges[word];\r\n                                    if (isFalsyOrEmpty(wordLines)) {\r\n                                        return 2 << 20;\r\n                                    }\r\n                                    var idx = binarySearch(wordLines, Range.fromPositions(anchor), Range.compareRangesUsingStarts);\r\n                                    var bestWordRange = idx >= 0 ? wordLines[idx] : wordLines[Math.max(0, ~idx - 1)];\r\n                                    var blockDistance = ranges.length;\r\n                                    for (var _i = 0, _a = ranges[0]; _i < _a.length; _i++) {\r\n                                        var range = _a[_i];\r\n                                        if (!Range.containsRange(range.range, bestWordRange)) {\r\n                                            break;\r\n                                        }\r\n                                        blockDistance -= 1;\r\n                                    }\r\n                                    return blockDistance;\r\n                                };\r\n                                return class_1;\r\n                            }(WordDistance))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WordDistance.None = new /** @class */ (function (_super) {\r\n        __extends(class_2, _super);\r\n        function class_2() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        class_2.prototype.distance = function () { return 0; };\r\n        return class_2;\r\n    }(WordDistance));\r\n    return WordDistance;\r\n}());\r\nexport { WordDistance };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { TimeoutTimer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { dispose, DisposableStore, isDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { CompletionProviderRegistry } from '../../common/modes.js';\r\nimport { CompletionModel } from './completionModel.js';\r\nimport { getSuggestionComparator, provideSuggestionItems, getSnippetSuggestSupport, CompletionOptions } from './suggest.js';\r\nimport { SnippetController2 } from '../snippet/snippetController2.js';\r\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { WordDistance } from './wordDistance.js';\r\nimport { isLowSurrogate, isHighSurrogate } from '../../../base/common/strings.js';\r\nvar LineContext = /** @class */ (function () {\r\n    function LineContext(model, position, auto, shy) {\r\n        this.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\r\n        this.leadingWord = model.getWordUntilPosition(position);\r\n        this.lineNumber = position.lineNumber;\r\n        this.column = position.column;\r\n        this.auto = auto;\r\n        this.shy = shy;\r\n    }\r\n    LineContext.shouldAutoTrigger = function (editor) {\r\n        if (!editor.hasModel()) {\r\n            return false;\r\n        }\r\n        var model = editor.getModel();\r\n        var pos = editor.getPosition();\r\n        model.tokenizeIfCheap(pos.lineNumber);\r\n        var word = model.getWordAtPosition(pos);\r\n        if (!word) {\r\n            return false;\r\n        }\r\n        if (word.endColumn !== pos.column) {\r\n            return false;\r\n        }\r\n        if (!isNaN(Number(word.word))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return LineContext;\r\n}());\r\nexport { LineContext };\r\nvar SuggestModel = /** @class */ (function () {\r\n    function SuggestModel(_editor, _editorWorker) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._editorWorker = _editorWorker;\r\n        this._toDispose = new DisposableStore();\r\n        this._quickSuggestDelay = 10;\r\n        this._triggerCharacterListener = new DisposableStore();\r\n        this._triggerQuickSuggest = new TimeoutTimer();\r\n        this._state = 0 /* Idle */;\r\n        this._completionDisposables = new DisposableStore();\r\n        this._onDidCancel = new Emitter();\r\n        this._onDidTrigger = new Emitter();\r\n        this._onDidSuggest = new Emitter();\r\n        this.onDidCancel = this._onDidCancel.event;\r\n        this.onDidTrigger = this._onDidTrigger.event;\r\n        this.onDidSuggest = this._onDidSuggest.event;\r\n        this._currentSelection = this._editor.getSelection() || new Selection(1, 1, 1, 1);\r\n        // wire up various listeners\r\n        this._toDispose.add(this._editor.onDidChangeModel(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this.cancel();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeModelLanguage(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this.cancel();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeConfiguration(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this._updateQuickSuggest();\r\n        }));\r\n        this._toDispose.add(CompletionProviderRegistry.onDidChange(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this._updateActiveSuggestSession();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeCursorSelection(function (e) {\r\n            _this._onCursorChange(e);\r\n        }));\r\n        var editorIsComposing = false;\r\n        this._toDispose.add(this._editor.onDidCompositionStart(function () {\r\n            editorIsComposing = true;\r\n        }));\r\n        this._toDispose.add(this._editor.onDidCompositionEnd(function () {\r\n            // refilter when composition ends\r\n            editorIsComposing = false;\r\n            _this._refilterCompletionItems();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeModelContent(function () {\r\n            // only filter completions when the editor isn't\r\n            // composing a character, e.g. ¨ + u makes ü but just\r\n            // ¨ cannot be used for filtering\r\n            if (!editorIsComposing) {\r\n                _this._refilterCompletionItems();\r\n            }\r\n        }));\r\n        this._updateTriggerCharacters();\r\n        this._updateQuickSuggest();\r\n    }\r\n    SuggestModel.prototype.dispose = function () {\r\n        dispose(this._triggerCharacterListener);\r\n        dispose([this._onDidCancel, this._onDidSuggest, this._onDidTrigger, this._triggerQuickSuggest]);\r\n        this._toDispose.dispose();\r\n        this._completionDisposables.dispose();\r\n        this.cancel();\r\n    };\r\n    // --- handle configuration & precondition changes\r\n    SuggestModel.prototype._updateQuickSuggest = function () {\r\n        this._quickSuggestDelay = this._editor.getOption(67 /* quickSuggestionsDelay */);\r\n        if (isNaN(this._quickSuggestDelay) || (!this._quickSuggestDelay && this._quickSuggestDelay !== 0) || this._quickSuggestDelay < 0) {\r\n            this._quickSuggestDelay = 10;\r\n        }\r\n    };\r\n    SuggestModel.prototype._updateTriggerCharacters = function () {\r\n        var _this = this;\r\n        this._triggerCharacterListener.clear();\r\n        if (this._editor.getOption(68 /* readOnly */)\r\n            || !this._editor.hasModel()\r\n            || !this._editor.getOption(92 /* suggestOnTriggerCharacters */)) {\r\n            return;\r\n        }\r\n        var supportsByTriggerCharacter = new Map();\r\n        for (var _i = 0, _a = CompletionProviderRegistry.all(this._editor.getModel()); _i < _a.length; _i++) {\r\n            var support = _a[_i];\r\n            for (var _b = 0, _c = support.triggerCharacters || []; _b < _c.length; _b++) {\r\n                var ch = _c[_b];\r\n                var set = supportsByTriggerCharacter.get(ch);\r\n                if (!set) {\r\n                    set = new Set();\r\n                    set.add(getSnippetSuggestSupport());\r\n                    supportsByTriggerCharacter.set(ch, set);\r\n                }\r\n                set.add(support);\r\n            }\r\n        }\r\n        var checkTriggerCharacter = function (text) {\r\n            if (!text) {\r\n                // came here from the compositionEnd-event\r\n                var position = _this._editor.getPosition();\r\n                var model = _this._editor.getModel();\r\n                text = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\r\n            }\r\n            var lastChar = '';\r\n            if (isLowSurrogate(text.charCodeAt(text.length - 1))) {\r\n                if (isHighSurrogate(text.charCodeAt(text.length - 2))) {\r\n                    lastChar = text.substr(text.length - 2);\r\n                }\r\n            }\r\n            else {\r\n                lastChar = text.charAt(text.length - 1);\r\n            }\r\n            var supports = supportsByTriggerCharacter.get(lastChar);\r\n            if (supports) {\r\n                // keep existing items that where not computed by the\r\n                // supports/providers that want to trigger now\r\n                var items = _this._completionModel ? _this._completionModel.adopt(supports) : undefined;\r\n                _this.trigger({ auto: true, shy: false, triggerCharacter: lastChar }, Boolean(_this._completionModel), supports, items);\r\n            }\r\n        };\r\n        this._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter));\r\n        this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(checkTriggerCharacter));\r\n    };\r\n    Object.defineProperty(SuggestModel.prototype, \"state\", {\r\n        // --- trigger/retrigger/cancel suggest\r\n        get: function () {\r\n            return this._state;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SuggestModel.prototype.cancel = function (retrigger) {\r\n        if (retrigger === void 0) { retrigger = false; }\r\n        if (this._state !== 0 /* Idle */) {\r\n            this._triggerQuickSuggest.cancel();\r\n            if (this._requestToken) {\r\n                this._requestToken.cancel();\r\n                this._requestToken = undefined;\r\n            }\r\n            this._state = 0 /* Idle */;\r\n            this._completionModel = undefined;\r\n            this._context = undefined;\r\n            this._onDidCancel.fire({ retrigger: retrigger });\r\n        }\r\n    };\r\n    SuggestModel.prototype.clear = function () {\r\n        this._completionDisposables.clear();\r\n    };\r\n    SuggestModel.prototype._updateActiveSuggestSession = function () {\r\n        if (this._state !== 0 /* Idle */) {\r\n            if (!this._editor.hasModel() || !CompletionProviderRegistry.has(this._editor.getModel())) {\r\n                this.cancel();\r\n            }\r\n            else {\r\n                this.trigger({ auto: this._state === 2 /* Auto */, shy: false }, true);\r\n            }\r\n        }\r\n    };\r\n    SuggestModel.prototype._onCursorChange = function (e) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var prevSelection = this._currentSelection;\r\n        this._currentSelection = this._editor.getSelection();\r\n        if (!e.selection.isEmpty()\r\n            || e.reason !== 0 /* NotSet */\r\n            || (e.source !== 'keyboard' && e.source !== 'deleteLeft')) {\r\n            // Early exit if nothing needs to be done!\r\n            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n            this.cancel();\r\n            return;\r\n        }\r\n        if (!CompletionProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        if (this._state === 0 /* Idle */) {\r\n            if (this._editor.getOption(66 /* quickSuggestions */) === false) {\r\n                // not enabled\r\n                return;\r\n            }\r\n            if (!prevSelection.containsRange(this._currentSelection) && !prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())) {\r\n                // cursor didn't move RIGHT\r\n                return;\r\n            }\r\n            if (this._editor.getOption(89 /* suggest */).snippetsPreventQuickSuggestions && SnippetController2.get(this._editor).isInSnippet()) {\r\n                // no quick suggestion when in snippet mode\r\n                return;\r\n            }\r\n            this.cancel();\r\n            this._triggerQuickSuggest.cancelAndSet(function () {\r\n                if (_this._state !== 0 /* Idle */) {\r\n                    return;\r\n                }\r\n                if (!LineContext.shouldAutoTrigger(_this._editor)) {\r\n                    return;\r\n                }\r\n                if (!_this._editor.hasModel()) {\r\n                    return;\r\n                }\r\n                var model = _this._editor.getModel();\r\n                var pos = _this._editor.getPosition();\r\n                // validate enabled now\r\n                var quickSuggestions = _this._editor.getOption(66 /* quickSuggestions */);\r\n                if (quickSuggestions === false) {\r\n                    return;\r\n                }\r\n                else if (quickSuggestions === true) {\r\n                    // all good\r\n                }\r\n                else {\r\n                    // Check the type of the token that triggered this\r\n                    model.tokenizeIfCheap(pos.lineNumber);\r\n                    var lineTokens = model.getLineTokens(pos.lineNumber);\r\n                    var tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));\r\n                    var inValidScope = quickSuggestions.other && tokenType === 0 /* Other */\r\n                        || quickSuggestions.comments && tokenType === 1 /* Comment */\r\n                        || quickSuggestions.strings && tokenType === 2 /* String */;\r\n                    if (!inValidScope) {\r\n                        return;\r\n                    }\r\n                }\r\n                // we made it till here -> trigger now\r\n                _this.trigger({ auto: true, shy: false });\r\n            }, this._quickSuggestDelay);\r\n        }\r\n    };\r\n    SuggestModel.prototype._refilterCompletionItems = function () {\r\n        var _this = this;\r\n        // Re-filter suggestions. This MUST run async because filtering/scoring\r\n        // uses the model content AND the cursor position. The latter is NOT\r\n        // updated when the document has changed (the event which drives this method)\r\n        // and therefore a little pause (next mirco task) is needed. See:\r\n        // https://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context#25933985\r\n        Promise.resolve().then(function () {\r\n            if (_this._state === 0 /* Idle */) {\r\n                return;\r\n            }\r\n            if (!_this._editor.hasModel()) {\r\n                return;\r\n            }\r\n            var model = _this._editor.getModel();\r\n            var position = _this._editor.getPosition();\r\n            var ctx = new LineContext(model, position, _this._state === 2 /* Auto */, false);\r\n            _this._onNewContext(ctx);\r\n        });\r\n    };\r\n    SuggestModel.prototype.trigger = function (context, retrigger, onlyFrom, existingItems) {\r\n        var _this = this;\r\n        if (retrigger === void 0) { retrigger = false; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var auto = context.auto;\r\n        var ctx = new LineContext(model, this._editor.getPosition(), auto, context.shy);\r\n        // Cancel previous requests, change state & update UI\r\n        this.cancel(retrigger);\r\n        this._state = auto ? 2 /* Auto */ : 1 /* Manual */;\r\n        this._onDidTrigger.fire({ auto: auto, shy: context.shy, position: this._editor.getPosition() });\r\n        // Capture context when request was sent\r\n        this._context = ctx;\r\n        // Build context for request\r\n        var suggestCtx;\r\n        if (context.triggerCharacter) {\r\n            suggestCtx = {\r\n                triggerKind: 1 /* TriggerCharacter */,\r\n                triggerCharacter: context.triggerCharacter\r\n            };\r\n        }\r\n        else if (onlyFrom && onlyFrom.size > 0) {\r\n            suggestCtx = { triggerKind: 2 /* TriggerForIncompleteCompletions */ };\r\n        }\r\n        else {\r\n            suggestCtx = { triggerKind: 0 /* Invoke */ };\r\n        }\r\n        this._requestToken = new CancellationTokenSource();\r\n        // kind filter and snippet sort rules\r\n        var snippetSuggestions = this._editor.getOption(86 /* snippetSuggestions */);\r\n        var snippetSortOrder = 1 /* Inline */;\r\n        switch (snippetSuggestions) {\r\n            case 'top':\r\n                snippetSortOrder = 0 /* Top */;\r\n                break;\r\n            // \t↓ that's the default anyways...\r\n            // case 'inline':\r\n            // \tsnippetSortOrder = SnippetSortOrder.Inline;\r\n            // \tbreak;\r\n            case 'bottom':\r\n                snippetSortOrder = 2 /* Bottom */;\r\n                break;\r\n        }\r\n        var itemKindFilter = SuggestModel._createItemKindFilter(this._editor);\r\n        var wordDistance = WordDistance.create(this._editorWorker, this._editor);\r\n        var items = provideSuggestionItems(model, this._editor.getPosition(), new CompletionOptions(snippetSortOrder, itemKindFilter, onlyFrom), suggestCtx, this._requestToken.token);\r\n        Promise.all([items, wordDistance]).then(function (_a) {\r\n            var items = _a[0], wordDistance = _a[1];\r\n            dispose(_this._requestToken);\r\n            if (_this._state === 0 /* Idle */) {\r\n                return;\r\n            }\r\n            if (!_this._editor.hasModel()) {\r\n                return;\r\n            }\r\n            var model = _this._editor.getModel();\r\n            if (isNonEmptyArray(existingItems)) {\r\n                var cmpFn = getSuggestionComparator(snippetSortOrder);\r\n                items = items.concat(existingItems).sort(cmpFn);\r\n            }\r\n            var ctx = new LineContext(model, _this._editor.getPosition(), auto, context.shy);\r\n            _this._completionModel = new CompletionModel(items, _this._context.column, {\r\n                leadingLineContent: ctx.leadingLineContent,\r\n                characterCountDelta: ctx.column - _this._context.column\r\n            }, wordDistance, _this._editor.getOption(89 /* suggest */), _this._editor.getOption(86 /* snippetSuggestions */));\r\n            // store containers so that they can be disposed later\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var item = items_1[_i];\r\n                if (isDisposable(item.container)) {\r\n                    _this._completionDisposables.add(item.container);\r\n                }\r\n            }\r\n            _this._onNewContext(ctx);\r\n        }).catch(onUnexpectedError);\r\n    };\r\n    SuggestModel._createItemKindFilter = function (editor) {\r\n        // kind filter and snippet sort rules\r\n        var result = new Set();\r\n        // snippet setting\r\n        var snippetSuggestions = editor.getOption(86 /* snippetSuggestions */);\r\n        if (snippetSuggestions === 'none') {\r\n            result.add(25 /* Snippet */);\r\n        }\r\n        // type setting\r\n        var suggestOptions = editor.getOption(89 /* suggest */);\r\n        if (!suggestOptions.showMethods) {\r\n            result.add(0 /* Method */);\r\n        }\r\n        if (!suggestOptions.showFunctions) {\r\n            result.add(1 /* Function */);\r\n        }\r\n        if (!suggestOptions.showConstructors) {\r\n            result.add(2 /* Constructor */);\r\n        }\r\n        if (!suggestOptions.showFields) {\r\n            result.add(3 /* Field */);\r\n        }\r\n        if (!suggestOptions.showVariables) {\r\n            result.add(4 /* Variable */);\r\n        }\r\n        if (!suggestOptions.showClasses) {\r\n            result.add(5 /* Class */);\r\n        }\r\n        if (!suggestOptions.showStructs) {\r\n            result.add(6 /* Struct */);\r\n        }\r\n        if (!suggestOptions.showInterfaces) {\r\n            result.add(7 /* Interface */);\r\n        }\r\n        if (!suggestOptions.showModules) {\r\n            result.add(8 /* Module */);\r\n        }\r\n        if (!suggestOptions.showProperties) {\r\n            result.add(9 /* Property */);\r\n        }\r\n        if (!suggestOptions.showEvents) {\r\n            result.add(10 /* Event */);\r\n        }\r\n        if (!suggestOptions.showOperators) {\r\n            result.add(11 /* Operator */);\r\n        }\r\n        if (!suggestOptions.showUnits) {\r\n            result.add(12 /* Unit */);\r\n        }\r\n        if (!suggestOptions.showValues) {\r\n            result.add(13 /* Value */);\r\n        }\r\n        if (!suggestOptions.showConstants) {\r\n            result.add(14 /* Constant */);\r\n        }\r\n        if (!suggestOptions.showEnums) {\r\n            result.add(15 /* Enum */);\r\n        }\r\n        if (!suggestOptions.showEnumMembers) {\r\n            result.add(16 /* EnumMember */);\r\n        }\r\n        if (!suggestOptions.showKeywords) {\r\n            result.add(17 /* Keyword */);\r\n        }\r\n        if (!suggestOptions.showWords) {\r\n            result.add(18 /* Text */);\r\n        }\r\n        if (!suggestOptions.showColors) {\r\n            result.add(19 /* Color */);\r\n        }\r\n        if (!suggestOptions.showFiles) {\r\n            result.add(20 /* File */);\r\n        }\r\n        if (!suggestOptions.showReferences) {\r\n            result.add(21 /* Reference */);\r\n        }\r\n        if (!suggestOptions.showColors) {\r\n            result.add(22 /* Customcolor */);\r\n        }\r\n        if (!suggestOptions.showFolders) {\r\n            result.add(23 /* Folder */);\r\n        }\r\n        if (!suggestOptions.showTypeParameters) {\r\n            result.add(24 /* TypeParameter */);\r\n        }\r\n        if (!suggestOptions.showSnippets) {\r\n            result.add(25 /* Snippet */);\r\n        }\r\n        return result;\r\n    };\r\n    SuggestModel.prototype._onNewContext = function (ctx) {\r\n        if (!this._context) {\r\n            // happens when 24x7 IntelliSense is enabled and still in its delay\r\n            return;\r\n        }\r\n        if (ctx.lineNumber !== this._context.lineNumber) {\r\n            // e.g. happens when pressing Enter while IntelliSense is computed\r\n            this.cancel();\r\n            return;\r\n        }\r\n        if (ctx.leadingWord.startColumn < this._context.leadingWord.startColumn) {\r\n            // happens when the current word gets outdented\r\n            this.cancel();\r\n            return;\r\n        }\r\n        if (ctx.column < this._context.column) {\r\n            // typed -> moved cursor LEFT -> retrigger if still on a word\r\n            if (ctx.leadingWord.word) {\r\n                this.trigger({ auto: this._context.auto, shy: false }, true);\r\n            }\r\n            else {\r\n                this.cancel();\r\n            }\r\n            return;\r\n        }\r\n        if (!this._completionModel) {\r\n            // happens when IntelliSense is not yet computed\r\n            return;\r\n        }\r\n        if (ctx.column > this._context.column && this._completionModel.incomplete.size > 0 && ctx.leadingWord.word.length !== 0) {\r\n            // typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger\r\n            var incomplete = this._completionModel.incomplete;\r\n            var adopted = this._completionModel.adopt(incomplete);\r\n            this.trigger({ auto: this._state === 2 /* Auto */, shy: false }, true, incomplete, adopted);\r\n        }\r\n        else {\r\n            // typed -> moved cursor RIGHT -> update UI\r\n            var oldLineContext = this._completionModel.lineContext;\r\n            var isFrozen = false;\r\n            this._completionModel.lineContext = {\r\n                leadingLineContent: ctx.leadingLineContent,\r\n                characterCountDelta: ctx.column - this._context.column\r\n            };\r\n            if (this._completionModel.items.length === 0) {\r\n                if (LineContext.shouldAutoTrigger(this._editor) && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {\r\n                    // retrigger when heading into a new word\r\n                    this.trigger({ auto: this._context.auto, shy: false }, true);\r\n                    return;\r\n                }\r\n                if (!this._context.auto) {\r\n                    // freeze when IntelliSense was manually requested\r\n                    this._completionModel.lineContext = oldLineContext;\r\n                    isFrozen = this._completionModel.items.length > 0;\r\n                    if (isFrozen && ctx.leadingWord.word.length === 0) {\r\n                        // there were results before but now there aren't\r\n                        // and also we are not on a word anymore -> cancel\r\n                        this.cancel();\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    // nothing left\r\n                    this.cancel();\r\n                    return;\r\n                }\r\n            }\r\n            this._onDidSuggest.fire({\r\n                completionModel: this._completionModel,\r\n                auto: this._context.auto,\r\n                shy: this._context.shy,\r\n                isFrozen: isFrozen,\r\n            });\r\n        }\r\n    };\r\n    return SuggestModel;\r\n}());\r\nexport { SuggestModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Schemas } from '../../../base/common/network.js';\r\nimport { DataUri, basenameOrAuthority } from '../../../base/common/resources.js';\r\nimport { PLAINTEXT_MODE_ID } from '../modes/modesRegistry.js';\r\nimport { FileKind } from '../../../platform/files/common/files.js';\r\nexport function getIconClasses(modelService, modeService, resource, fileKind) {\r\n    // we always set these base classes even if we do not have a path\r\n    var classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\r\n    if (resource) {\r\n        // Get the path and name of the resource. For data-URIs, we need to parse specially\r\n        var name_1;\r\n        if (resource.scheme === Schemas.data) {\r\n            var metadata = DataUri.parseMetaData(resource);\r\n            name_1 = metadata.get(DataUri.META_DATA_LABEL);\r\n        }\r\n        else {\r\n            name_1 = cssEscape(basenameOrAuthority(resource).toLowerCase());\r\n        }\r\n        // Folders\r\n        if (fileKind === FileKind.FOLDER) {\r\n            classes.push(name_1 + \"-name-folder-icon\");\r\n        }\r\n        // Files\r\n        else {\r\n            // Name & Extension(s)\r\n            if (name_1) {\r\n                classes.push(name_1 + \"-name-file-icon\");\r\n                var dotSegments = name_1.split('.');\r\n                for (var i = 1; i < dotSegments.length; i++) {\r\n                    classes.push(dotSegments.slice(i).join('.') + \"-ext-file-icon\"); // add each combination of all found extensions if more than one\r\n                }\r\n                classes.push(\"ext-file-icon\"); // extra segment to increase file-ext score\r\n            }\r\n            // Detected Mode\r\n            var detectedModeId = detectModeId(modelService, modeService, resource);\r\n            if (detectedModeId) {\r\n                classes.push(cssEscape(detectedModeId) + \"-lang-file-icon\");\r\n            }\r\n        }\r\n    }\r\n    return classes;\r\n}\r\nexport function detectModeId(modelService, modeService, resource) {\r\n    if (!resource) {\r\n        return null; // we need a resource at least\r\n    }\r\n    var modeId = null;\r\n    // Data URI: check for encoded metadata\r\n    if (resource.scheme === Schemas.data) {\r\n        var metadata = DataUri.parseMetaData(resource);\r\n        var mime = metadata.get(DataUri.META_DATA_MIME);\r\n        if (mime) {\r\n            modeId = modeService.getModeId(mime);\r\n        }\r\n    }\r\n    // Any other URI: check for model if existing\r\n    else {\r\n        var model = modelService.getModel(resource);\r\n        if (model) {\r\n            modeId = model.getModeId();\r\n        }\r\n    }\r\n    // only take if the mode is specific (aka no just plain text)\r\n    if (modeId && modeId !== PLAINTEXT_MODE_ID) {\r\n        return modeId;\r\n    }\r\n    // otherwise fallback to path based detection\r\n    return modeService.getModeIdByFilepathOrFirstLine(resource);\r\n}\r\nexport function cssEscape(val) {\r\n    return val.replace(/\\s/g, '\\\\$&'); // make sure to not introduce CSS classes from files that contain whitespace\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './media/suggest.css';\r\nimport './media/suggestStatusBar.css';\r\nimport '../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\r\nimport '../documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\r\nimport * as nls from '../../../nls.js';\r\nimport { createMatches } from '../../../base/common/filters.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { Event, Emitter } from '../../../base/common/event.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { dispose, toDisposable, DisposableStore, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { addClass, append, $, hide, removeClass, show, toggleClass, getDomNodePagePosition, hasClass, addDisposableListener, addStandardDisposableListener, addClasses } from '../../../base/browser/dom.js';\r\nimport { List } from '../../../base/browser/ui/list/listWidget.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { Context as SuggestContext } from './suggest.js';\r\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\r\nimport { attachListStyler } from '../../../platform/theme/common/styler.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { registerColor, editorWidgetBackground, listFocusBackground, activeContrastBorder, listHighlightForeground, editorForeground, editorWidgetBorder, focusBorder, textLinkForeground, textCodeBlockBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { TimeoutTimer, createCancelablePromise, disposableTimeout } from '../../../base/common/async.js';\r\nimport { completionKindToCssClass } from '../../common/modes.js';\r\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\r\nimport { getIconClasses } from '../../common/services/getIconClasses.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { FileKind } from '../../../platform/files/common/files.js';\r\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { flatten } from '../../../base/common/arrays.js';\r\nimport { Position } from '../../common/core/position.js';\r\nvar expandSuggestionDocsByDefault = false;\r\n/**\r\n * Suggest widget colors\r\n */\r\nexport var editorSuggestWidgetBackground = registerColor('editorSuggestWidget.background', { dark: editorWidgetBackground, light: editorWidgetBackground, hc: editorWidgetBackground }, nls.localize('editorSuggestWidgetBackground', 'Background color of the suggest widget.'));\r\nexport var editorSuggestWidgetBorder = registerColor('editorSuggestWidget.border', { dark: editorWidgetBorder, light: editorWidgetBorder, hc: editorWidgetBorder }, nls.localize('editorSuggestWidgetBorder', 'Border color of the suggest widget.'));\r\nexport var editorSuggestWidgetForeground = registerColor('editorSuggestWidget.foreground', { dark: editorForeground, light: editorForeground, hc: editorForeground }, nls.localize('editorSuggestWidgetForeground', 'Foreground color of the suggest widget.'));\r\nexport var editorSuggestWidgetSelectedBackground = registerColor('editorSuggestWidget.selectedBackground', { dark: listFocusBackground, light: listFocusBackground, hc: listFocusBackground }, nls.localize('editorSuggestWidgetSelectedBackground', 'Background color of the selected entry in the suggest widget.'));\r\nexport var editorSuggestWidgetHighlightForeground = registerColor('editorSuggestWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hc: listHighlightForeground }, nls.localize('editorSuggestWidgetHighlightForeground', 'Color of the match highlights in the suggest widget.'));\r\nvar colorRegExp = /^(#([\\da-f]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))$/i;\r\nfunction extractColor(item, out) {\r\n    var label = typeof item.completion.label === 'string'\r\n        ? item.completion.label\r\n        : item.completion.label.name;\r\n    if (label.match(colorRegExp)) {\r\n        out[0] = label;\r\n        return true;\r\n    }\r\n    if (typeof item.completion.documentation === 'string' && item.completion.documentation.match(colorRegExp)) {\r\n        out[0] = item.completion.documentation;\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction canExpandCompletionItem(item) {\r\n    if (!item) {\r\n        return false;\r\n    }\r\n    var suggestion = item.completion;\r\n    if (suggestion.documentation) {\r\n        return true;\r\n    }\r\n    return (suggestion.detail && suggestion.detail !== suggestion.label);\r\n}\r\nfunction getAriaId(index) {\r\n    return \"suggest-aria-id:\" + index;\r\n}\r\nvar ItemRenderer = /** @class */ (function () {\r\n    function ItemRenderer(widget, editor, triggerKeybindingLabel, _modelService, _modeService, _themeService) {\r\n        this.widget = widget;\r\n        this.editor = editor;\r\n        this.triggerKeybindingLabel = triggerKeybindingLabel;\r\n        this._modelService = _modelService;\r\n        this._modeService = _modeService;\r\n        this._themeService = _themeService;\r\n    }\r\n    Object.defineProperty(ItemRenderer.prototype, \"templateId\", {\r\n        get: function () {\r\n            return 'suggestion';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ItemRenderer.prototype.renderTemplate = function (container) {\r\n        var _this = this;\r\n        var data = Object.create(null);\r\n        data.disposables = new DisposableStore();\r\n        data.root = container;\r\n        addClass(data.root, 'show-file-icons');\r\n        data.icon = append(container, $('.icon'));\r\n        data.colorspan = append(data.icon, $('span.colorspan'));\r\n        var text = append(container, $('.contents'));\r\n        var main = append(text, $('.main'));\r\n        data.left = append(main, $('span.left'));\r\n        data.right = append(main, $('span.right'));\r\n        data.iconContainer = append(data.left, $('.icon-label.codicon'));\r\n        data.iconLabel = new IconLabel(data.left, { supportHighlights: true, supportCodicons: true });\r\n        data.disposables.add(data.iconLabel);\r\n        data.signatureLabel = append(data.left, $('span.signature-label'));\r\n        data.qualifierLabel = append(data.left, $('span.qualifier-label'));\r\n        data.detailsLabel = append(data.right, $('span.details-label'));\r\n        data.readMore = append(data.right, $('span.readMore.codicon.codicon-info'));\r\n        data.readMore.title = nls.localize('readMore', \"Read More...{0}\", this.triggerKeybindingLabel);\r\n        var configureFont = function () {\r\n            var options = _this.editor.getOptions();\r\n            var fontInfo = options.get(34 /* fontInfo */);\r\n            var fontFamily = fontInfo.fontFamily;\r\n            var fontFeatureSettings = fontInfo.fontFeatureSettings;\r\n            var fontSize = options.get(90 /* suggestFontSize */) || fontInfo.fontSize;\r\n            var lineHeight = options.get(91 /* suggestLineHeight */) || fontInfo.lineHeight;\r\n            var fontWeight = fontInfo.fontWeight;\r\n            var fontSizePx = fontSize + \"px\";\r\n            var lineHeightPx = lineHeight + \"px\";\r\n            data.root.style.fontSize = fontSizePx;\r\n            data.root.style.fontWeight = fontWeight;\r\n            main.style.fontFamily = fontFamily;\r\n            main.style.fontFeatureSettings = fontFeatureSettings;\r\n            main.style.lineHeight = lineHeightPx;\r\n            data.icon.style.height = lineHeightPx;\r\n            data.icon.style.width = lineHeightPx;\r\n            data.readMore.style.height = lineHeightPx;\r\n            data.readMore.style.width = lineHeightPx;\r\n        };\r\n        configureFont();\r\n        data.disposables.add(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(34 /* fontInfo */) || e.hasChanged(90 /* suggestFontSize */) || e.hasChanged(91 /* suggestLineHeight */); })\r\n            .on(configureFont, null));\r\n        return data;\r\n    };\r\n    ItemRenderer.prototype.renderElement = function (element, index, templateData) {\r\n        var _this = this;\r\n        var data = templateData;\r\n        var suggestion = element.completion;\r\n        var textLabel = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\r\n        data.root.id = getAriaId(index);\r\n        data.icon.className = 'icon ' + completionKindToCssClass(suggestion.kind);\r\n        data.colorspan.style.backgroundColor = '';\r\n        var labelOptions = {\r\n            labelEscapeNewLines: true,\r\n            matches: createMatches(element.score)\r\n        };\r\n        var color = [];\r\n        if (suggestion.kind === 19 /* Color */ && extractColor(element, color)) {\r\n            // special logic for 'color' completion items\r\n            data.icon.className = 'icon customcolor';\r\n            data.iconContainer.className = 'icon hide';\r\n            data.colorspan.style.backgroundColor = color[0];\r\n        }\r\n        else if (suggestion.kind === 20 /* File */ && this._themeService.getIconTheme().hasFileIcons) {\r\n            // special logic for 'file' completion items\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = 'icon hide';\r\n            var labelClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: textLabel }), FileKind.FILE);\r\n            var detailClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.detail }), FileKind.FILE);\r\n            labelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\r\n        }\r\n        else if (suggestion.kind === 23 /* Folder */ && this._themeService.getIconTheme().hasFolderIcons) {\r\n            // special logic for 'folder' completion items\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = 'icon hide';\r\n            labelOptions.extraClasses = flatten([\r\n                getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: textLabel }), FileKind.FOLDER),\r\n                getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.detail }), FileKind.FOLDER)\r\n            ]);\r\n        }\r\n        else {\r\n            // normal icon\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = '';\r\n            addClasses(data.iconContainer, \"suggest-icon codicon codicon-symbol-\" + completionKindToCssClass(suggestion.kind));\r\n        }\r\n        if (suggestion.tags && suggestion.tags.indexOf(1 /* Deprecated */) >= 0) {\r\n            labelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\r\n            labelOptions.matches = [];\r\n        }\r\n        data.iconLabel.setLabel(textLabel, undefined, labelOptions);\r\n        if (typeof suggestion.label === 'string') {\r\n            data.signatureLabel.textContent = '';\r\n            data.qualifierLabel.textContent = '';\r\n            data.detailsLabel.textContent = (suggestion.detail || '').replace(/\\n.*$/m, '');\r\n            removeClass(data.right, 'always-show-details');\r\n        }\r\n        else {\r\n            data.signatureLabel.textContent = (suggestion.label.signature || '').replace(/\\n.*$/m, '');\r\n            data.qualifierLabel.textContent = (suggestion.label.qualifier || '').replace(/\\n.*$/m, '');\r\n            data.detailsLabel.textContent = (suggestion.label.type || '').replace(/\\n.*$/m, '');\r\n            addClass(data.right, 'always-show-details');\r\n        }\r\n        if (canExpandCompletionItem(element)) {\r\n            addClass(data.right, 'can-expand-details');\r\n            show(data.readMore);\r\n            data.readMore.onmousedown = function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            };\r\n            data.readMore.onclick = function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                _this.widget.toggleDetails();\r\n            };\r\n        }\r\n        else {\r\n            removeClass(data.right, 'can-expand-details');\r\n            hide(data.readMore);\r\n            data.readMore.onmousedown = null;\r\n            data.readMore.onclick = null;\r\n        }\r\n    };\r\n    ItemRenderer.prototype.disposeTemplate = function (templateData) {\r\n        templateData.disposables.dispose();\r\n    };\r\n    ItemRenderer = __decorate([\r\n        __param(3, IModelService),\r\n        __param(4, IModeService),\r\n        __param(5, IThemeService)\r\n    ], ItemRenderer);\r\n    return ItemRenderer;\r\n}());\r\nvar SuggestionDetails = /** @class */ (function () {\r\n    function SuggestionDetails(container, widget, editor, markdownRenderer, kbToggleDetails) {\r\n        var _this = this;\r\n        this.widget = widget;\r\n        this.editor = editor;\r\n        this.markdownRenderer = markdownRenderer;\r\n        this.kbToggleDetails = kbToggleDetails;\r\n        this.borderWidth = 1;\r\n        this.disposables = new DisposableStore();\r\n        this.el = append(container, $('.details'));\r\n        this.disposables.add(toDisposable(function () { return container.removeChild(_this.el); }));\r\n        this.body = $('.body');\r\n        this.scrollbar = new DomScrollableElement(this.body, {});\r\n        append(this.el, this.scrollbar.getDomNode());\r\n        this.disposables.add(this.scrollbar);\r\n        this.header = append(this.body, $('.header'));\r\n        this.close = append(this.header, $('span.codicon.codicon-close'));\r\n        this.close.title = nls.localize('readLess', \"Read less...{0}\", this.kbToggleDetails);\r\n        this.type = append(this.header, $('p.type'));\r\n        this.docs = append(this.body, $('p.docs'));\r\n        this.configureFont();\r\n        Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(34 /* fontInfo */); })\r\n            .on(this.configureFont, this, this.disposables);\r\n        markdownRenderer.onDidRenderCodeBlock(function () { return _this.scrollbar.scanDomNode(); }, this, this.disposables);\r\n    }\r\n    Object.defineProperty(SuggestionDetails.prototype, \"element\", {\r\n        get: function () {\r\n            return this.el;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SuggestionDetails.prototype.renderLoading = function () {\r\n        this.type.textContent = nls.localize('loading', \"Loading...\");\r\n        this.docs.textContent = '';\r\n    };\r\n    SuggestionDetails.prototype.renderItem = function (item, explainMode) {\r\n        var _this = this;\r\n        this.renderDisposeable = dispose(this.renderDisposeable);\r\n        var _a = item.completion, documentation = _a.documentation, detail = _a.detail;\r\n        // --- documentation\r\n        if (explainMode) {\r\n            var md = '';\r\n            md += \"score: \" + item.score[0] + (item.word ? \", compared '\" + (item.completion.filterText && (item.completion.filterText + ' (filterText)') || item.completion.label) + \"' with '\" + item.word + \"'\" : ' (no prefix)') + \"\\n\";\r\n            md += \"distance: \" + item.distance + \", see localityBonus-setting\\n\";\r\n            md += \"index: \" + item.idx + \", based on \" + (item.completion.sortText && \"sortText: \\\"\" + item.completion.sortText + \"\\\"\" || 'label') + \"\\n\";\r\n            documentation = new MarkdownString().appendCodeblock('empty', md);\r\n            detail = \"Provider: \" + item.provider._debugDisplayName;\r\n        }\r\n        if (!explainMode && !canExpandCompletionItem(item)) {\r\n            this.type.textContent = '';\r\n            this.docs.textContent = '';\r\n            addClass(this.el, 'no-docs');\r\n            return;\r\n        }\r\n        removeClass(this.el, 'no-docs');\r\n        if (typeof documentation === 'string') {\r\n            removeClass(this.docs, 'markdown-docs');\r\n            this.docs.textContent = documentation;\r\n        }\r\n        else {\r\n            addClass(this.docs, 'markdown-docs');\r\n            this.docs.innerHTML = '';\r\n            var renderedContents = this.markdownRenderer.render(documentation);\r\n            this.renderDisposeable = renderedContents;\r\n            this.docs.appendChild(renderedContents.element);\r\n        }\r\n        // --- details\r\n        if (detail) {\r\n            this.type.innerText = detail;\r\n            show(this.type);\r\n        }\r\n        else {\r\n            this.type.innerText = '';\r\n            hide(this.type);\r\n        }\r\n        this.el.style.height = this.header.offsetHeight + this.docs.offsetHeight + (this.borderWidth * 2) + 'px';\r\n        this.el.style.userSelect = 'text';\r\n        this.el.tabIndex = -1;\r\n        this.close.onmousedown = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        this.close.onclick = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            _this.widget.toggleDetails();\r\n        };\r\n        this.body.scrollTop = 0;\r\n        this.scrollbar.scanDomNode();\r\n    };\r\n    SuggestionDetails.prototype.scrollDown = function (much) {\r\n        if (much === void 0) { much = 8; }\r\n        this.body.scrollTop += much;\r\n    };\r\n    SuggestionDetails.prototype.scrollUp = function (much) {\r\n        if (much === void 0) { much = 8; }\r\n        this.body.scrollTop -= much;\r\n    };\r\n    SuggestionDetails.prototype.scrollTop = function () {\r\n        this.body.scrollTop = 0;\r\n    };\r\n    SuggestionDetails.prototype.scrollBottom = function () {\r\n        this.body.scrollTop = this.body.scrollHeight;\r\n    };\r\n    SuggestionDetails.prototype.pageDown = function () {\r\n        this.scrollDown(80);\r\n    };\r\n    SuggestionDetails.prototype.pageUp = function () {\r\n        this.scrollUp(80);\r\n    };\r\n    SuggestionDetails.prototype.setBorderWidth = function (width) {\r\n        this.borderWidth = width;\r\n    };\r\n    SuggestionDetails.prototype.configureFont = function () {\r\n        var options = this.editor.getOptions();\r\n        var fontInfo = options.get(34 /* fontInfo */);\r\n        var fontFamily = fontInfo.fontFamily;\r\n        var fontSize = options.get(90 /* suggestFontSize */) || fontInfo.fontSize;\r\n        var lineHeight = options.get(91 /* suggestLineHeight */) || fontInfo.lineHeight;\r\n        var fontWeight = fontInfo.fontWeight;\r\n        var fontSizePx = fontSize + \"px\";\r\n        var lineHeightPx = lineHeight + \"px\";\r\n        this.el.style.fontSize = fontSizePx;\r\n        this.el.style.fontWeight = fontWeight;\r\n        this.el.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\r\n        this.type.style.fontFamily = fontFamily;\r\n        this.close.style.height = lineHeightPx;\r\n        this.close.style.width = lineHeightPx;\r\n    };\r\n    SuggestionDetails.prototype.dispose = function () {\r\n        this.disposables.dispose();\r\n        this.renderDisposeable = dispose(this.renderDisposeable);\r\n    };\r\n    return SuggestionDetails;\r\n}());\r\nvar SuggestWidget = /** @class */ (function () {\r\n    function SuggestWidget(editor, telemetryService, keybindingService, contextKeyService, themeService, storageService, modeService, openerService, instantiationService) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        this.editor = editor;\r\n        this.telemetryService = telemetryService;\r\n        this.keybindingService = keybindingService;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = true;\r\n        this.suppressMouseDown = false;\r\n        this.state = null;\r\n        this.isAuto = false;\r\n        this.loadingTimeout = Disposable.None;\r\n        this.currentSuggestionDetails = null;\r\n        this.ignoreFocusEvents = false;\r\n        this.completionModel = null;\r\n        this.showTimeout = new TimeoutTimer();\r\n        this.toDispose = new DisposableStore();\r\n        this.onDidSelectEmitter = new Emitter();\r\n        this.onDidFocusEmitter = new Emitter();\r\n        this.onDidHideEmitter = new Emitter();\r\n        this.onDidShowEmitter = new Emitter();\r\n        this.onDidSelect = this.onDidSelectEmitter.event;\r\n        this.onDidFocus = this.onDidFocusEmitter.event;\r\n        this.onDidHide = this.onDidHideEmitter.event;\r\n        this.onDidShow = this.onDidShowEmitter.event;\r\n        this.maxWidgetWidth = 660;\r\n        this.listWidth = 330;\r\n        this.firstFocusInCurrentList = false;\r\n        this.preferDocPositionTop = false;\r\n        this.docsPositionPreviousWidgetY = null;\r\n        this.explainMode = false;\r\n        this._onDetailsKeydown = new Emitter();\r\n        this.onDetailsKeyDown = this._onDetailsKeydown.event;\r\n        var markdownRenderer = this.toDispose.add(new MarkdownRenderer(editor, modeService, openerService));\r\n        var kbToggleDetails = (_b = (_a = keybindingService.lookupKeybinding('toggleSuggestionDetails')) === null || _a === void 0 ? void 0 : _a.getLabel()) !== null && _b !== void 0 ? _b : '';\r\n        this.msgDetailsLess = nls.localize('detail.less', \"{0} for less...\", kbToggleDetails);\r\n        this.msgDetailMore = nls.localize('detail.more', \"{0} for more...\", kbToggleDetails);\r\n        this.isAuto = false;\r\n        this.focusedItem = null;\r\n        this.storageService = storageService;\r\n        this.element = $('.editor-widget.suggest-widget');\r\n        this.toDispose.add(addDisposableListener(this.element, 'click', function (e) {\r\n            if (e.target === _this.element) {\r\n                _this.hideWidget();\r\n            }\r\n        }));\r\n        this.messageElement = append(this.element, $('.message'));\r\n        this.listElement = append(this.element, $('.tree'));\r\n        var applyStatusBarStyle = function () { return toggleClass(_this.element, 'with-status-bar', !_this.editor.getOption(89 /* suggest */).hideStatusBar); };\r\n        applyStatusBarStyle();\r\n        this.statusBarElement = append(this.element, $('.suggest-status-bar'));\r\n        this.statusBarLeftSpan = append(this.statusBarElement, $('span'));\r\n        this.statusBarRightSpan = append(this.statusBarElement, $('span'));\r\n        this.setStatusBarLeftText('');\r\n        this.setStatusBarRightText('');\r\n        this.details = instantiationService.createInstance(SuggestionDetails, this.element, this, this.editor, markdownRenderer, kbToggleDetails);\r\n        var applyIconStyle = function () { return toggleClass(_this.element, 'no-icons', !_this.editor.getOption(89 /* suggest */).showIcons); };\r\n        applyIconStyle();\r\n        var renderer = instantiationService.createInstance(ItemRenderer, this, this.editor, kbToggleDetails);\r\n        this.list = new List('SuggestWidget', this.listElement, this, [renderer], {\r\n            useShadows: false,\r\n            openController: { shouldOpen: function () { return false; } },\r\n            mouseSupport: false,\r\n            accessibilityProvider: {\r\n                getAriaLabel: function (item) {\r\n                    var textLabel = typeof item.completion.label === 'string' ? item.completion.label : item.completion.label.name;\r\n                    if (item.isResolved && _this.expandDocsSettingFromStorage()) {\r\n                        var _a = item.completion, documentation = _a.documentation, detail = _a.detail;\r\n                        var docs = strings.format('{0}{1}', detail || '', documentation ? (typeof documentation === 'string' ? documentation : documentation.value) : '');\r\n                        return nls.localize('ariaCurrenttSuggestionReadDetails', \"Item {0}, docs: {1}\", textLabel, docs);\r\n                    }\r\n                    else {\r\n                        return textLabel;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.toDispose.add(attachListStyler(this.list, themeService, {\r\n            listInactiveFocusBackground: editorSuggestWidgetSelectedBackground,\r\n            listInactiveFocusOutline: activeContrastBorder\r\n        }));\r\n        this.toDispose.add(themeService.onThemeChange(function (t) { return _this.onThemeChange(t); }));\r\n        this.toDispose.add(editor.onDidLayoutChange(function () { return _this.onEditorLayoutChange(); }));\r\n        this.toDispose.add(this.list.onMouseDown(function (e) { return _this.onListMouseDownOrTap(e); }));\r\n        this.toDispose.add(this.list.onTap(function (e) { return _this.onListMouseDownOrTap(e); }));\r\n        this.toDispose.add(this.list.onSelectionChange(function (e) { return _this.onListSelection(e); }));\r\n        this.toDispose.add(this.list.onFocusChange(function (e) { return _this.onListFocus(e); }));\r\n        this.toDispose.add(this.editor.onDidChangeCursorSelection(function () { return _this.onCursorSelectionChanged(); }));\r\n        this.toDispose.add(this.editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(89 /* suggest */)) {\r\n                applyStatusBarStyle();\r\n                applyIconStyle();\r\n            }\r\n        }));\r\n        this.suggestWidgetVisible = SuggestContext.Visible.bindTo(contextKeyService);\r\n        this.suggestWidgetMultipleSuggestions = SuggestContext.MultipleSuggestions.bindTo(contextKeyService);\r\n        this.editor.addContentWidget(this);\r\n        this.setState(0 /* Hidden */);\r\n        this.onThemeChange(themeService.getTheme());\r\n        this.toDispose.add(addStandardDisposableListener(this.details.element, 'keydown', function (e) {\r\n            _this._onDetailsKeydown.fire(e);\r\n        }));\r\n        this.toDispose.add(this.editor.onMouseDown(function (e) { return _this.onEditorMouseDown(e); }));\r\n    }\r\n    SuggestWidget.prototype.onEditorMouseDown = function (mouseEvent) {\r\n        // Clicking inside details\r\n        if (this.details.element.contains(mouseEvent.target.element)) {\r\n            this.details.element.focus();\r\n        }\r\n        // Clicking outside details and inside suggest\r\n        else {\r\n            if (this.element.contains(mouseEvent.target.element)) {\r\n                this.editor.focus();\r\n            }\r\n        }\r\n    };\r\n    SuggestWidget.prototype.onCursorSelectionChanged = function () {\r\n        if (this.state === 0 /* Hidden */) {\r\n            return;\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    SuggestWidget.prototype.onEditorLayoutChange = function () {\r\n        if ((this.state === 3 /* Open */ || this.state === 5 /* Details */) && this.expandDocsSettingFromStorage()) {\r\n            this.expandSideOrBelow();\r\n        }\r\n    };\r\n    SuggestWidget.prototype.onListMouseDownOrTap = function (e) {\r\n        if (typeof e.element === 'undefined' || typeof e.index === 'undefined') {\r\n            return;\r\n        }\r\n        // prevent stealing browser focus from the editor\r\n        e.browserEvent.preventDefault();\r\n        e.browserEvent.stopPropagation();\r\n        this.select(e.element, e.index);\r\n    };\r\n    SuggestWidget.prototype.onListSelection = function (e) {\r\n        if (!e.elements.length) {\r\n            return;\r\n        }\r\n        this.select(e.elements[0], e.indexes[0]);\r\n    };\r\n    SuggestWidget.prototype.select = function (item, index) {\r\n        var completionModel = this.completionModel;\r\n        if (!completionModel) {\r\n            return;\r\n        }\r\n        this.onDidSelectEmitter.fire({ item: item, index: index, model: completionModel });\r\n        this.editor.focus();\r\n    };\r\n    SuggestWidget.prototype.onThemeChange = function (theme) {\r\n        var backgroundColor = theme.getColor(editorSuggestWidgetBackground);\r\n        if (backgroundColor) {\r\n            this.listElement.style.backgroundColor = backgroundColor.toString();\r\n            this.statusBarElement.style.backgroundColor = backgroundColor.toString();\r\n            this.details.element.style.backgroundColor = backgroundColor.toString();\r\n            this.messageElement.style.backgroundColor = backgroundColor.toString();\r\n        }\r\n        var borderColor = theme.getColor(editorSuggestWidgetBorder);\r\n        if (borderColor) {\r\n            this.listElement.style.borderColor = borderColor.toString();\r\n            this.statusBarElement.style.borderColor = borderColor.toString();\r\n            this.details.element.style.borderColor = borderColor.toString();\r\n            this.messageElement.style.borderColor = borderColor.toString();\r\n            this.detailsBorderColor = borderColor.toString();\r\n        }\r\n        var focusBorderColor = theme.getColor(focusBorder);\r\n        if (focusBorderColor) {\r\n            this.detailsFocusBorderColor = focusBorderColor.toString();\r\n        }\r\n        this.details.setBorderWidth(theme.type === 'hc' ? 2 : 1);\r\n    };\r\n    SuggestWidget.prototype.onListFocus = function (e) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        if (this.ignoreFocusEvents) {\r\n            return;\r\n        }\r\n        if (!e.elements.length) {\r\n            if (this.currentSuggestionDetails) {\r\n                this.currentSuggestionDetails.cancel();\r\n                this.currentSuggestionDetails = null;\r\n                this.focusedItem = null;\r\n            }\r\n            this.editor.setAriaOptions({ activeDescendant: undefined });\r\n            return;\r\n        }\r\n        if (!this.completionModel) {\r\n            return;\r\n        }\r\n        var item = e.elements[0];\r\n        var index = e.indexes[0];\r\n        this.firstFocusInCurrentList = !this.focusedItem;\r\n        if (item !== this.focusedItem) {\r\n            // update statusbar\r\n            // todo@joh,pine -> this should a toolbar with actions so that these things become\r\n            // mouse clickable and fit for accessibility...\r\n            var wantsInsert = this.editor.getOption(89 /* suggest */).insertMode === 'insert';\r\n            var kbAccept = (_a = this.keybindingService.lookupKeybinding('acceptSelectedSuggestion')) === null || _a === void 0 ? void 0 : _a.getLabel();\r\n            var kbAcceptAlt = (_b = this.keybindingService.lookupKeybinding('acceptAlternativeSelectedSuggestion')) === null || _b === void 0 ? void 0 : _b.getLabel();\r\n            if (!Position.equals(item.editInsertEnd, item.editReplaceEnd)) {\r\n                // insert AND replace\r\n                if (wantsInsert) {\r\n                    this.setStatusBarLeftText(nls.localize('insert', \"{0} to insert, {1} to replace\", kbAccept, kbAcceptAlt));\r\n                }\r\n                else {\r\n                    this.setStatusBarLeftText(nls.localize('replace', \"{0} to replace, {1} to insert\", kbAccept, kbAcceptAlt));\r\n                }\r\n            }\r\n            else {\r\n                this.setStatusBarLeftText(nls.localize('accept', \"{0} to accept\", kbAccept));\r\n            }\r\n            if (this.currentSuggestionDetails) {\r\n                this.currentSuggestionDetails.cancel();\r\n                this.currentSuggestionDetails = null;\r\n            }\r\n            this.focusedItem = item;\r\n            this.list.reveal(index);\r\n            this.currentSuggestionDetails = createCancelablePromise(function (token) { return __awaiter(_this, void 0, void 0, function () {\r\n                var loading, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            loading = disposableTimeout(function () { return _this.showDetails(true); }, 250);\r\n                            token.onCancellationRequested(function () { return loading.dispose(); });\r\n                            return [4 /*yield*/, item.resolve(token)];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            loading.dispose();\r\n                            return [2 /*return*/, result];\r\n                    }\r\n                });\r\n            }); });\r\n            this.currentSuggestionDetails.then(function () {\r\n                if (index >= _this.list.length || item !== _this.list.element(index)) {\r\n                    return;\r\n                }\r\n                // item can have extra information, so re-render\r\n                _this.ignoreFocusEvents = true;\r\n                _this.list.splice(index, 1, [item]);\r\n                _this.list.setFocus([index]);\r\n                _this.ignoreFocusEvents = false;\r\n                if (_this.expandDocsSettingFromStorage()) {\r\n                    _this.showDetails(false);\r\n                }\r\n                else {\r\n                    removeClass(_this.element, 'docs-side');\r\n                }\r\n                if (canExpandCompletionItem(_this.focusedItem)) {\r\n                    if (_this.expandDocsSettingFromStorage()) {\r\n                        _this.setStatusBarRightText(_this.msgDetailsLess);\r\n                    }\r\n                    else {\r\n                        _this.setStatusBarRightText(_this.msgDetailMore);\r\n                    }\r\n                }\r\n                else {\r\n                    _this.statusBarRightSpan.innerText = '';\r\n                }\r\n                _this.editor.setAriaOptions({ activeDescendant: getAriaId(index) });\r\n            }).catch(onUnexpectedError);\r\n        }\r\n        // emit an event\r\n        this.onDidFocusEmitter.fire({ item: item, index: index, model: this.completionModel });\r\n    };\r\n    SuggestWidget.prototype.setState = function (state) {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n        var stateChanged = this.state !== state;\r\n        this.state = state;\r\n        toggleClass(this.element, 'frozen', state === 4 /* Frozen */);\r\n        switch (state) {\r\n            case 0 /* Hidden */:\r\n                hide(this.messageElement, this.details.element, this.listElement, this.statusBarElement);\r\n                this.hide();\r\n                this.listHeight = 0;\r\n                if (stateChanged) {\r\n                    this.list.splice(0, this.list.length);\r\n                }\r\n                this.focusedItem = null;\r\n                break;\r\n            case 1 /* Loading */:\r\n                this.messageElement.textContent = SuggestWidget.LOADING_MESSAGE;\r\n                hide(this.listElement, this.details.element, this.statusBarElement);\r\n                show(this.messageElement);\r\n                removeClass(this.element, 'docs-side');\r\n                this.show();\r\n                this.focusedItem = null;\r\n                break;\r\n            case 2 /* Empty */:\r\n                this.messageElement.textContent = SuggestWidget.NO_SUGGESTIONS_MESSAGE;\r\n                hide(this.listElement, this.details.element, this.statusBarElement);\r\n                show(this.messageElement);\r\n                removeClass(this.element, 'docs-side');\r\n                this.show();\r\n                this.focusedItem = null;\r\n                break;\r\n            case 3 /* Open */:\r\n                hide(this.messageElement);\r\n                show(this.listElement, this.statusBarElement);\r\n                this.show();\r\n                break;\r\n            case 4 /* Frozen */:\r\n                hide(this.messageElement);\r\n                show(this.listElement);\r\n                this.show();\r\n                break;\r\n            case 5 /* Details */:\r\n                hide(this.messageElement);\r\n                show(this.details.element, this.listElement, this.statusBarElement);\r\n                this.show();\r\n                break;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showTriggered = function (auto, delay) {\r\n        var _this = this;\r\n        if (this.state !== 0 /* Hidden */) {\r\n            return;\r\n        }\r\n        this.isAuto = !!auto;\r\n        if (!this.isAuto) {\r\n            this.loadingTimeout = disposableTimeout(function () { return _this.setState(1 /* Loading */); }, delay);\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showSuggestions = function (completionModel, selectionIndex, isFrozen, isAuto) {\r\n        this.preferDocPositionTop = false;\r\n        this.docsPositionPreviousWidgetY = null;\r\n        this.loadingTimeout.dispose();\r\n        if (this.currentSuggestionDetails) {\r\n            this.currentSuggestionDetails.cancel();\r\n            this.currentSuggestionDetails = null;\r\n        }\r\n        if (this.completionModel !== completionModel) {\r\n            this.completionModel = completionModel;\r\n        }\r\n        if (isFrozen && this.state !== 2 /* Empty */ && this.state !== 0 /* Hidden */) {\r\n            this.setState(4 /* Frozen */);\r\n            return;\r\n        }\r\n        var visibleCount = this.completionModel.items.length;\r\n        var isEmpty = visibleCount === 0;\r\n        this.suggestWidgetMultipleSuggestions.set(visibleCount > 1);\r\n        if (isEmpty) {\r\n            if (isAuto) {\r\n                this.setState(0 /* Hidden */);\r\n            }\r\n            else {\r\n                this.setState(2 /* Empty */);\r\n            }\r\n            this.completionModel = null;\r\n        }\r\n        else {\r\n            if (this.state !== 3 /* Open */) {\r\n                var stats = this.completionModel.stats;\r\n                stats['wasAutomaticallyTriggered'] = !!isAuto;\r\n                /* __GDPR__\r\n                    \"suggestWidget\" : {\r\n                        \"wasAutomaticallyTriggered\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\r\n                        \"${include}\": [\r\n                            \"${ICompletionStats}\"\r\n                        ]\r\n                    }\r\n                */\r\n                this.telemetryService.publicLog('suggestWidget', __assign({}, stats));\r\n            }\r\n            this.focusedItem = null;\r\n            this.list.splice(0, this.list.length, this.completionModel.items);\r\n            if (isFrozen) {\r\n                this.setState(4 /* Frozen */);\r\n            }\r\n            else {\r\n                this.setState(3 /* Open */);\r\n            }\r\n            this.list.reveal(selectionIndex, 0);\r\n            this.list.setFocus([selectionIndex]);\r\n            // Reset focus border\r\n            if (this.detailsBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsBorderColor;\r\n            }\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectNextPage = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.pageDown();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusNextPage();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectNext = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusNext(1, true);\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectLast = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.scrollBottom();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusLast();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectPreviousPage = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.pageUp();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusPreviousPage();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectPrevious = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusPrevious(1, true);\r\n                return false;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectFirst = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.scrollTop();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusFirst();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.getFocusedItem = function () {\r\n        if (this.state !== 0 /* Hidden */\r\n            && this.state !== 2 /* Empty */\r\n            && this.state !== 1 /* Loading */\r\n            && this.completionModel) {\r\n            return {\r\n                item: this.list.getFocusedElements()[0],\r\n                index: this.list.getFocus()[0],\r\n                model: this.completionModel\r\n            };\r\n        }\r\n        return undefined;\r\n    };\r\n    SuggestWidget.prototype.toggleDetailsFocus = function () {\r\n        if (this.state === 5 /* Details */) {\r\n            this.setState(3 /* Open */);\r\n            if (this.detailsBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsBorderColor;\r\n            }\r\n        }\r\n        else if (this.state === 3 /* Open */ && this.expandDocsSettingFromStorage()) {\r\n            this.setState(5 /* Details */);\r\n            if (this.detailsFocusBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsFocusBorderColor;\r\n            }\r\n        }\r\n        this.telemetryService.publicLog2('suggestWidget:toggleDetailsFocus');\r\n    };\r\n    SuggestWidget.prototype.toggleDetails = function () {\r\n        if (!canExpandCompletionItem(this.list.getFocusedElements()[0])) {\r\n            return;\r\n        }\r\n        if (this.expandDocsSettingFromStorage()) {\r\n            this.updateExpandDocsSetting(false);\r\n            hide(this.details.element);\r\n            removeClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n            this.editor.layoutContentWidget(this);\r\n            this.setStatusBarRightText(this.msgDetailMore);\r\n            this.telemetryService.publicLog2('suggestWidget:collapseDetails');\r\n        }\r\n        else {\r\n            if (this.state !== 3 /* Open */ && this.state !== 5 /* Details */ && this.state !== 4 /* Frozen */) {\r\n                return;\r\n            }\r\n            this.updateExpandDocsSetting(true);\r\n            this.showDetails(false);\r\n            this.setStatusBarRightText(this.msgDetailsLess);\r\n            this.telemetryService.publicLog2('suggestWidget:expandDetails');\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showDetails = function (loading) {\r\n        if (!loading) {\r\n            // When loading, don't re-layout docs, as item is not resolved yet #88731\r\n            this.expandSideOrBelow();\r\n        }\r\n        show(this.details.element);\r\n        this.details.element.style.maxHeight = this.maxWidgetHeight + 'px';\r\n        if (loading) {\r\n            this.details.renderLoading();\r\n        }\r\n        else {\r\n            this.details.renderItem(this.list.getFocusedElements()[0], this.explainMode);\r\n        }\r\n        // Reset margin-top that was set as Fix for #26416\r\n        this.listElement.style.marginTop = '0px';\r\n        // with docs showing up widget width/height may change, so reposition the widget\r\n        this.editor.layoutContentWidget(this);\r\n        this.adjustDocsPosition();\r\n        this.editor.focus();\r\n    };\r\n    SuggestWidget.prototype.toggleExplainMode = function () {\r\n        if (this.list.getFocusedElements()[0] && this.expandDocsSettingFromStorage()) {\r\n            this.explainMode = !this.explainMode;\r\n            this.showDetails(false);\r\n        }\r\n    };\r\n    SuggestWidget.prototype.show = function () {\r\n        var _this = this;\r\n        var newHeight = this.updateListHeight();\r\n        if (newHeight !== this.listHeight) {\r\n            this.editor.layoutContentWidget(this);\r\n            this.listHeight = newHeight;\r\n        }\r\n        this.suggestWidgetVisible.set(true);\r\n        this.showTimeout.cancelAndSet(function () {\r\n            addClass(_this.element, 'visible');\r\n            _this.onDidShowEmitter.fire(_this);\r\n        }, 100);\r\n    };\r\n    SuggestWidget.prototype.hide = function () {\r\n        this.suggestWidgetVisible.reset();\r\n        this.suggestWidgetMultipleSuggestions.reset();\r\n        removeClass(this.element, 'visible');\r\n    };\r\n    SuggestWidget.prototype.hideWidget = function () {\r\n        this.loadingTimeout.dispose();\r\n        this.setState(0 /* Hidden */);\r\n        this.onDidHideEmitter.fire(this);\r\n    };\r\n    SuggestWidget.prototype.getPosition = function () {\r\n        if (this.state === 0 /* Hidden */) {\r\n            return null;\r\n        }\r\n        var preference = [2 /* BELOW */, 1 /* ABOVE */];\r\n        if (this.preferDocPositionTop) {\r\n            preference = [1 /* ABOVE */];\r\n        }\r\n        return {\r\n            position: this.editor.getPosition(),\r\n            preference: preference\r\n        };\r\n    };\r\n    SuggestWidget.prototype.getDomNode = function () {\r\n        return this.element;\r\n    };\r\n    SuggestWidget.prototype.getId = function () {\r\n        return SuggestWidget.ID;\r\n    };\r\n    SuggestWidget.prototype.isFrozen = function () {\r\n        return this.state === 4 /* Frozen */;\r\n    };\r\n    SuggestWidget.prototype.updateListHeight = function () {\r\n        var height = 0;\r\n        if (this.state === 2 /* Empty */ || this.state === 1 /* Loading */) {\r\n            height = this.unfocusedHeight;\r\n        }\r\n        else {\r\n            var suggestionCount = this.list.contentHeight / this.unfocusedHeight;\r\n            var maxVisibleSuggestions = this.editor.getOption(89 /* suggest */).maxVisibleSuggestions;\r\n            height = Math.min(suggestionCount, maxVisibleSuggestions) * this.unfocusedHeight;\r\n        }\r\n        this.element.style.lineHeight = this.unfocusedHeight + \"px\";\r\n        this.listElement.style.height = height + \"px\";\r\n        this.statusBarElement.style.top = height + \"px\";\r\n        this.list.layout(height);\r\n        return height;\r\n    };\r\n    /**\r\n     * Adds the propert classes, margins when positioning the docs to the side\r\n     */\r\n    SuggestWidget.prototype.adjustDocsPosition = function () {\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var lineHeight = this.editor.getOption(49 /* lineHeight */);\r\n        var cursorCoords = this.editor.getScrolledVisiblePosition(this.editor.getPosition());\r\n        var editorCoords = getDomNodePagePosition(this.editor.getDomNode());\r\n        var cursorX = editorCoords.left + cursorCoords.left;\r\n        var cursorY = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n        var widgetCoords = getDomNodePagePosition(this.element);\r\n        var widgetX = widgetCoords.left;\r\n        var widgetY = widgetCoords.top;\r\n        // Fixes #27649\r\n        // Check if the Y changed to the top of the cursor and keep the widget flagged to prefer top\r\n        if (this.docsPositionPreviousWidgetY &&\r\n            this.docsPositionPreviousWidgetY < widgetY &&\r\n            !this.preferDocPositionTop) {\r\n            this.preferDocPositionTop = true;\r\n            this.adjustDocsPosition();\r\n            return;\r\n        }\r\n        this.docsPositionPreviousWidgetY = widgetY;\r\n        if (widgetX < cursorX - this.listWidth) {\r\n            // Widget is too far to the left of cursor, swap list and docs\r\n            addClass(this.element, 'list-right');\r\n        }\r\n        else {\r\n            removeClass(this.element, 'list-right');\r\n        }\r\n        // Compare top of the cursor (cursorY - lineheight) with widgetTop to determine if\r\n        // margin-top needs to be applied on list to make it appear right above the cursor\r\n        // Cannot compare cursorY directly as it may be a few decimals off due to zoooming\r\n        if (hasClass(this.element, 'docs-side')\r\n            && cursorY - lineHeight > widgetY\r\n            && this.details.element.offsetHeight > this.listElement.offsetHeight) {\r\n            // Fix for #26416\r\n            // Docs is bigger than list and widget is above cursor, apply margin-top so that list appears right above cursor\r\n            this.listElement.style.marginTop = this.details.element.offsetHeight - this.listElement.offsetHeight + \"px\";\r\n        }\r\n    };\r\n    /**\r\n     * Adds the proper classes for positioning the docs to the side or below depending on item\r\n     */\r\n    SuggestWidget.prototype.expandSideOrBelow = function () {\r\n        if (!canExpandCompletionItem(this.focusedItem) && this.firstFocusInCurrentList) {\r\n            removeClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n            return;\r\n        }\r\n        var matches = this.element.style.maxWidth.match(/(\\d+)px/);\r\n        if (!matches || Number(matches[1]) < this.maxWidgetWidth) {\r\n            addClass(this.element, 'docs-below');\r\n            removeClass(this.element, 'docs-side');\r\n        }\r\n        else if (canExpandCompletionItem(this.focusedItem)) {\r\n            addClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n        }\r\n    };\r\n    Object.defineProperty(SuggestWidget.prototype, \"maxWidgetHeight\", {\r\n        // Heights\r\n        get: function () {\r\n            return this.unfocusedHeight * this.editor.getOption(89 /* suggest */).maxVisibleSuggestions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SuggestWidget.prototype, \"unfocusedHeight\", {\r\n        get: function () {\r\n            var options = this.editor.getOptions();\r\n            return options.get(91 /* suggestLineHeight */) || options.get(34 /* fontInfo */).lineHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // IDelegate\r\n    SuggestWidget.prototype.getHeight = function (element) {\r\n        return this.unfocusedHeight;\r\n    };\r\n    SuggestWidget.prototype.getTemplateId = function (element) {\r\n        return 'suggestion';\r\n    };\r\n    SuggestWidget.prototype.expandDocsSettingFromStorage = function () {\r\n        return this.storageService.getBoolean('expandSuggestionDocs', 0 /* GLOBAL */, expandSuggestionDocsByDefault);\r\n    };\r\n    SuggestWidget.prototype.updateExpandDocsSetting = function (value) {\r\n        this.storageService.store('expandSuggestionDocs', value, 0 /* GLOBAL */);\r\n    };\r\n    SuggestWidget.prototype.setStatusBarLeftText = function (s) {\r\n        this.statusBarLeftSpan.innerText = s;\r\n    };\r\n    SuggestWidget.prototype.setStatusBarRightText = function (s) {\r\n        this.statusBarRightSpan.innerText = s;\r\n    };\r\n    SuggestWidget.prototype.dispose = function () {\r\n        this.details.dispose();\r\n        this.list.dispose();\r\n        this.toDispose.dispose();\r\n        this.loadingTimeout.dispose();\r\n        this.showTimeout.dispose();\r\n    };\r\n    SuggestWidget.ID = 'editor.widget.suggestWidget';\r\n    SuggestWidget.LOADING_MESSAGE = nls.localize('suggestWidget.loading', \"Loading...\");\r\n    SuggestWidget.NO_SUGGESTIONS_MESSAGE = nls.localize('suggestWidget.noSuggestions', \"No suggestions.\");\r\n    SuggestWidget = __decorate([\r\n        __param(1, ITelemetryService),\r\n        __param(2, IKeybindingService),\r\n        __param(3, IContextKeyService),\r\n        __param(4, IThemeService),\r\n        __param(5, IStorageService),\r\n        __param(6, IModeService),\r\n        __param(7, IOpenerService),\r\n        __param(8, IInstantiationService)\r\n    ], SuggestWidget);\r\n    return SuggestWidget;\r\n}());\r\nexport { SuggestWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var matchHighlight = theme.getColor(editorSuggestWidgetHighlightForeground);\r\n    if (matchHighlight) {\r\n        collector.addRule(\".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: \" + matchHighlight + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorSuggestWidgetForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .suggest-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .suggest-widget a { color: \" + link + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .suggest-widget code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { dispose, Disposable } from '../../../base/common/lifecycle.js';\r\nvar WordContextKey = /** @class */ (function (_super) {\r\n    __extends(WordContextKey, _super);\r\n    function WordContextKey(_editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._enabled = false;\r\n        _this._ckAtEnd = WordContextKey.AtEnd.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) { return e.hasChanged(94 /* tabCompletion */) && _this._update(); }));\r\n        _this._update();\r\n        return _this;\r\n    }\r\n    WordContextKey.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        dispose(this._selectionListener);\r\n        this._ckAtEnd.reset();\r\n    };\r\n    WordContextKey.prototype._update = function () {\r\n        var _this = this;\r\n        // only update this when tab completions are enabled\r\n        var enabled = this._editor.getOption(94 /* tabCompletion */) === 'on';\r\n        if (this._enabled === enabled) {\r\n            return;\r\n        }\r\n        this._enabled = enabled;\r\n        if (this._enabled) {\r\n            var checkForWordEnd = function () {\r\n                if (!_this._editor.hasModel()) {\r\n                    _this._ckAtEnd.set(false);\r\n                    return;\r\n                }\r\n                var model = _this._editor.getModel();\r\n                var selection = _this._editor.getSelection();\r\n                var word = model.getWordAtPosition(selection.getStartPosition());\r\n                if (!word) {\r\n                    _this._ckAtEnd.set(false);\r\n                    return;\r\n                }\r\n                _this._ckAtEnd.set(word.endColumn === selection.getStartPosition().column);\r\n            };\r\n            this._selectionListener = this._editor.onDidChangeCursorSelection(checkForWordEnd);\r\n            checkForWordEnd();\r\n        }\r\n        else if (this._selectionListener) {\r\n            this._ckAtEnd.reset();\r\n            this._selectionListener.dispose();\r\n            this._selectionListener = undefined;\r\n        }\r\n    };\r\n    WordContextKey.AtEnd = new RawContextKey('atEndOfWord', false);\r\n    WordContextKey = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], WordContextKey);\r\n    return WordContextKey;\r\n}(Disposable));\r\nexport { WordContextKey };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nvar CommitCharacterController = /** @class */ (function () {\r\n    function CommitCharacterController(editor, widget, accept) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this._disposables.add(widget.onDidShow(function () { return _this._onItem(widget.getFocusedItem()); }));\r\n        this._disposables.add(widget.onDidFocus(this._onItem, this));\r\n        this._disposables.add(widget.onDidHide(this.reset, this));\r\n        this._disposables.add(editor.onWillType(function (text) {\r\n            if (_this._active && !widget.isFrozen()) {\r\n                var ch = text.charCodeAt(text.length - 1);\r\n                if (_this._active.acceptCharacters.has(ch) && editor.getOption(0 /* acceptSuggestionOnCommitCharacter */)) {\r\n                    accept(_this._active.item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    CommitCharacterController.prototype._onItem = function (selected) {\r\n        if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\r\n            // no item or no commit characters\r\n            this.reset();\r\n            return;\r\n        }\r\n        if (this._active && this._active.item.item === selected.item) {\r\n            // still the same item\r\n            return;\r\n        }\r\n        // keep item and its commit characters\r\n        var acceptCharacters = new CharacterSet();\r\n        for (var _i = 0, _a = selected.item.completion.commitCharacters; _i < _a.length; _i++) {\r\n            var ch = _a[_i];\r\n            if (ch.length > 0) {\r\n                acceptCharacters.add(ch.charCodeAt(0));\r\n            }\r\n        }\r\n        this._active = { acceptCharacters: acceptCharacters, item: selected };\r\n    };\r\n    CommitCharacterController.prototype.reset = function () {\r\n        this._active = undefined;\r\n    };\r\n    CommitCharacterController.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    return CommitCharacterController;\r\n}());\r\nexport { CommitCharacterController };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { domEvent } from '../../../base/browser/event.js';\r\nvar SuggestRangeHighlighter = /** @class */ (function () {\r\n    function SuggestRangeHighlighter(_controller) {\r\n        var _this = this;\r\n        this._controller = _controller;\r\n        this._disposables = new DisposableStore();\r\n        this._decorations = [];\r\n        this._disposables.add(_controller.model.onDidSuggest(function (e) {\r\n            if (!e.shy) {\r\n                var widget = _this._controller.widget.getValue();\r\n                var focused = widget.getFocusedItem();\r\n                if (focused) {\r\n                    _this._highlight(focused.item);\r\n                }\r\n                if (!_this._widgetListener) {\r\n                    _this._widgetListener = widget.onDidFocus(function (e) { return _this._highlight(e.item); });\r\n                }\r\n            }\r\n        }));\r\n        this._disposables.add(_controller.model.onDidCancel(function () {\r\n            _this._reset();\r\n        }));\r\n    }\r\n    SuggestRangeHighlighter.prototype.dispose = function () {\r\n        this._reset();\r\n        this._disposables.dispose();\r\n        dispose(this._widgetListener);\r\n        dispose(this._shiftKeyListener);\r\n    };\r\n    SuggestRangeHighlighter.prototype._reset = function () {\r\n        this._decorations = this._controller.editor.deltaDecorations(this._decorations, []);\r\n        if (this._shiftKeyListener) {\r\n            this._shiftKeyListener.dispose();\r\n            this._shiftKeyListener = undefined;\r\n        }\r\n    };\r\n    SuggestRangeHighlighter.prototype._highlight = function (item) {\r\n        var _this = this;\r\n        var _a;\r\n        this._currentItem = item;\r\n        var opts = this._controller.editor.getOption(89 /* suggest */);\r\n        var newDeco = [];\r\n        if (opts.insertHighlight) {\r\n            if (!this._shiftKeyListener) {\r\n                this._shiftKeyListener = shiftKey.event(function () { return _this._highlight(_this._currentItem); });\r\n            }\r\n            var info = this._controller.getOverwriteInfo(item, shiftKey.isPressed);\r\n            var position = this._controller.editor.getPosition();\r\n            if (opts.insertMode === 'insert' && info.overwriteAfter > 0) {\r\n                // wants inserts but got replace-mode -> highlight AFTER range\r\n                newDeco = [{\r\n                        range: new Range(position.lineNumber, position.column, position.lineNumber, position.column + info.overwriteAfter),\r\n                        options: { inlineClassName: 'suggest-insert-unexpected' }\r\n                    }];\r\n            }\r\n            else if (opts.insertMode === 'replace' && info.overwriteAfter === 0) {\r\n                // want replace but likely got insert -> highlight AFTER range\r\n                var wordInfo = (_a = this._controller.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position);\r\n                if (wordInfo && wordInfo.endColumn > position.column) {\r\n                    newDeco = [{\r\n                            range: new Range(position.lineNumber, position.column, position.lineNumber, wordInfo.endColumn),\r\n                            options: { inlineClassName: 'suggest-insert-unexpected' }\r\n                        }];\r\n                }\r\n            }\r\n        }\r\n        // update editor decorations\r\n        this._decorations = this._controller.editor.deltaDecorations(this._decorations, newDeco);\r\n    };\r\n    return SuggestRangeHighlighter;\r\n}());\r\nexport { SuggestRangeHighlighter };\r\nvar shiftKey = new /** @class */ (function (_super) {\r\n    __extends(ShiftKey, _super);\r\n    function ShiftKey() {\r\n        var _this = _super.call(this) || this;\r\n        _this._subscriptions = new DisposableStore();\r\n        _this._isPressed = false;\r\n        _this._subscriptions.add(domEvent(document.body, 'keydown')(function (e) { return _this.isPressed = e.shiftKey; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'keyup')(function () { return _this.isPressed = false; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'mouseleave')(function () { return _this.isPressed = false; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'blur')(function () { return _this.isPressed = false; }));\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ShiftKey.prototype, \"isPressed\", {\r\n        get: function () {\r\n            return this._isPressed;\r\n        },\r\n        set: function (value) {\r\n            if (this._isPressed !== value) {\r\n                this._isPressed = value;\r\n                this.fire(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ShiftKey.prototype.dispose = function () {\r\n        this._subscriptions.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ShiftKey;\r\n}(Emitter));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { SimpleKeybinding } from '../../../base/common/keyCodes.js';\r\nimport { dispose, DisposableStore, toDisposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { SnippetController2 } from '../snippet/snippetController2.js';\r\nimport { SnippetParser } from '../snippet/snippetParser.js';\r\nimport { ISuggestMemoryService } from './suggestMemory.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ICommandService, CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\r\nimport { Context as SuggestContext } from './suggest.js';\r\nimport { SuggestAlternatives } from './suggestAlternatives.js';\r\nimport { SuggestModel } from './suggestModel.js';\r\nimport { SuggestWidget } from './suggestWidget.js';\r\nimport { WordContextKey } from './wordContextKey.js';\r\nimport { Event } from '../../../base/common/event.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { IdleValue } from '../../../base/common/async.js';\r\nimport { isObject, assertType } from '../../../base/common/types.js';\r\nimport { CommitCharacterController } from './suggestCommitCharacters.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { SuggestRangeHighlighter } from './suggestRangeHighlighter.js';\r\n/**\r\n * Stop suggest widget from disappearing when clicking into other areas\r\n * For development purpose only\r\n */\r\nvar _sticky = false;\r\nvar LineSuffix = /** @class */ (function () {\r\n    function LineSuffix(_model, _position) {\r\n        this._model = _model;\r\n        this._position = _position;\r\n        // spy on what's happening right of the cursor. two cases:\r\n        // 1. end of line -> check that it's still end of line\r\n        // 2. mid of line -> add a marker and compute the delta\r\n        var maxColumn = _model.getLineMaxColumn(_position.lineNumber);\r\n        if (maxColumn !== _position.column) {\r\n            var offset = _model.getOffsetAt(_position);\r\n            var end = _model.getPositionAt(offset + 1);\r\n            this._marker = _model.deltaDecorations([], [{\r\n                    range: Range.fromPositions(_position, end),\r\n                    options: { stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ }\r\n                }]);\r\n        }\r\n    }\r\n    LineSuffix.prototype.dispose = function () {\r\n        if (this._marker && !this._model.isDisposed()) {\r\n            this._model.deltaDecorations(this._marker, []);\r\n        }\r\n    };\r\n    LineSuffix.prototype.delta = function (position) {\r\n        if (this._model.isDisposed() || this._position.lineNumber !== position.lineNumber) {\r\n            // bail out early if things seems fishy\r\n            return 0;\r\n        }\r\n        // read the marker (in case suggest was triggered at line end) or compare\r\n        // the cursor to the line end.\r\n        if (this._marker) {\r\n            var range = this._model.getDecorationRange(this._marker[0]);\r\n            var end = this._model.getOffsetAt(range.getStartPosition());\r\n            return end - this._model.getOffsetAt(position);\r\n        }\r\n        else {\r\n            return this._model.getLineMaxColumn(position.lineNumber) - position.column;\r\n        }\r\n    };\r\n    return LineSuffix;\r\n}());\r\nvar SuggestController = /** @class */ (function () {\r\n    function SuggestController(editor, editorWorker, _memoryService, _commandService, _contextKeyService, _instantiationService) {\r\n        var _this = this;\r\n        this._memoryService = _memoryService;\r\n        this._commandService = _commandService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._instantiationService = _instantiationService;\r\n        this._lineSuffix = new MutableDisposable();\r\n        this._toDispose = new DisposableStore();\r\n        this.editor = editor;\r\n        this.model = new SuggestModel(this.editor, editorWorker);\r\n        this.widget = this._toDispose.add(new IdleValue(function () {\r\n            var widget = _this._instantiationService.createInstance(SuggestWidget, _this.editor);\r\n            _this._toDispose.add(widget);\r\n            _this._toDispose.add(widget.onDidSelect(function (item) { return _this._insertSuggestion(item, 0); }, _this));\r\n            // Wire up logic to accept a suggestion on certain characters\r\n            var commitCharacterController = new CommitCharacterController(_this.editor, widget, function (item) { return _this._insertSuggestion(item, 2 /* NoAfterUndoStop */); });\r\n            _this._toDispose.add(commitCharacterController);\r\n            _this._toDispose.add(_this.model.onDidSuggest(function (e) {\r\n                if (e.completionModel.items.length === 0) {\r\n                    commitCharacterController.reset();\r\n                }\r\n            }));\r\n            // Wire up makes text edit context key\r\n            var makesTextEdit = SuggestContext.MakesTextEdit.bindTo(_this._contextKeyService);\r\n            _this._toDispose.add(widget.onDidFocus(function (_a) {\r\n                var item = _a.item;\r\n                var position = _this.editor.getPosition();\r\n                var startColumn = item.editStart.column;\r\n                var endColumn = position.column;\r\n                var value = true;\r\n                if (_this.editor.getOption(1 /* acceptSuggestionOnEnter */) === 'smart'\r\n                    && _this.model.state === 2 /* Auto */\r\n                    && !item.completion.command\r\n                    && !item.completion.additionalTextEdits\r\n                    && !(item.completion.insertTextRules & 4 /* InsertAsSnippet */)\r\n                    && endColumn - startColumn === item.completion.insertText.length) {\r\n                    var oldText = _this.editor.getModel().getValueInRange({\r\n                        startLineNumber: position.lineNumber,\r\n                        startColumn: startColumn,\r\n                        endLineNumber: position.lineNumber,\r\n                        endColumn: endColumn\r\n                    });\r\n                    value = oldText !== item.completion.insertText;\r\n                }\r\n                makesTextEdit.set(value);\r\n            }));\r\n            _this._toDispose.add(toDisposable(function () { return makesTextEdit.reset(); }));\r\n            _this._toDispose.add(widget.onDetailsKeyDown(function (e) {\r\n                // cmd + c on macOS, ctrl + c on Win / Linux\r\n                if (e.toKeybinding().equals(new SimpleKeybinding(true, false, false, false, 33 /* KEY_C */)) ||\r\n                    (platform.isMacintosh && e.toKeybinding().equals(new SimpleKeybinding(false, false, false, true, 33 /* KEY_C */)))) {\r\n                    e.stopPropagation();\r\n                    return;\r\n                }\r\n                if (!e.toKeybinding().isModifierKey()) {\r\n                    _this.editor.focus();\r\n                }\r\n            }));\r\n            return widget;\r\n        }));\r\n        this._alternatives = this._toDispose.add(new IdleValue(function () {\r\n            return _this._toDispose.add(new SuggestAlternatives(_this.editor, _this._contextKeyService));\r\n        }));\r\n        this._toDispose.add(_instantiationService.createInstance(WordContextKey, editor));\r\n        this._toDispose.add(this.model.onDidTrigger(function (e) {\r\n            _this.widget.getValue().showTriggered(e.auto, e.shy ? 250 : 50);\r\n            _this._lineSuffix.value = new LineSuffix(_this.editor.getModel(), e.position);\r\n        }));\r\n        this._toDispose.add(this.model.onDidSuggest(function (e) {\r\n            if (!e.shy) {\r\n                var index = _this._memoryService.select(_this.editor.getModel(), _this.editor.getPosition(), e.completionModel.items);\r\n                _this.widget.getValue().showSuggestions(e.completionModel, index, e.isFrozen, e.auto);\r\n            }\r\n        }));\r\n        this._toDispose.add(this.model.onDidCancel(function (e) {\r\n            if (!e.retrigger) {\r\n                _this.widget.getValue().hideWidget();\r\n            }\r\n        }));\r\n        this._toDispose.add(this.editor.onDidBlurEditorWidget(function () {\r\n            if (!_sticky) {\r\n                _this.model.cancel();\r\n                _this.model.clear();\r\n            }\r\n        }));\r\n        // Manage the acceptSuggestionsOnEnter context key\r\n        var acceptSuggestionsOnEnter = SuggestContext.AcceptSuggestionsOnEnter.bindTo(_contextKeyService);\r\n        var updateFromConfig = function () {\r\n            var acceptSuggestionOnEnter = _this.editor.getOption(1 /* acceptSuggestionOnEnter */);\r\n            acceptSuggestionsOnEnter.set(acceptSuggestionOnEnter === 'on' || acceptSuggestionOnEnter === 'smart');\r\n        };\r\n        this._toDispose.add(this.editor.onDidChangeConfiguration(function () { return updateFromConfig(); }));\r\n        updateFromConfig();\r\n        // create range highlighter\r\n        this._toDispose.add(new SuggestRangeHighlighter(this));\r\n    }\r\n    SuggestController.get = function (editor) {\r\n        return editor.getContribution(SuggestController.ID);\r\n    };\r\n    SuggestController.prototype.dispose = function () {\r\n        this._alternatives.dispose();\r\n        this._toDispose.dispose();\r\n        this.widget.dispose();\r\n        this.model.dispose();\r\n        this._lineSuffix.dispose();\r\n    };\r\n    SuggestController.prototype._insertSuggestion = function (event, flags) {\r\n        var _a;\r\n        var _this = this;\r\n        if (!event || !event.item) {\r\n            this._alternatives.getValue().reset();\r\n            this.model.cancel();\r\n            this.model.clear();\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this.editor.getModel();\r\n        var modelVersionNow = model.getAlternativeVersionId();\r\n        var item = event.item;\r\n        var suggestion = item.completion;\r\n        // pushing undo stops *before* additional text edits and\r\n        // *after* the main edit\r\n        if (!(flags & 1 /* NoBeforeUndoStop */)) {\r\n            this.editor.pushUndoStop();\r\n        }\r\n        // compute overwrite[Before|After] deltas BEFORE applying extra edits\r\n        var info = this.getOverwriteInfo(item, Boolean(flags & 8 /* AlternativeOverwriteConfig */));\r\n        // keep item in memory\r\n        this._memoryService.memorize(model, this.editor.getPosition(), item);\r\n        if (Array.isArray(suggestion.additionalTextEdits)) {\r\n            this.editor.executeEdits('suggestController.additionalTextEdits', suggestion.additionalTextEdits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        var insertText = suggestion.insertText;\r\n        if (!(suggestion.insertTextRules & 4 /* InsertAsSnippet */)) {\r\n            insertText = SnippetParser.escape(insertText);\r\n        }\r\n        SnippetController2.get(this.editor).insert(insertText, {\r\n            overwriteBefore: info.overwriteBefore,\r\n            overwriteAfter: info.overwriteAfter,\r\n            undoStopBefore: false,\r\n            undoStopAfter: false,\r\n            adjustWhitespace: !(suggestion.insertTextRules & 1 /* KeepWhitespace */)\r\n        });\r\n        if (!(flags & 2 /* NoAfterUndoStop */)) {\r\n            this.editor.pushUndoStop();\r\n        }\r\n        if (!suggestion.command) {\r\n            // done\r\n            this.model.cancel();\r\n            this.model.clear();\r\n        }\r\n        else if (suggestion.command.id === TriggerSuggestAction.id) {\r\n            // retigger\r\n            this.model.trigger({ auto: true, shy: false }, true);\r\n        }\r\n        else {\r\n            // exec command, done\r\n            (_a = this._commandService).executeCommand.apply(_a, __spreadArrays([suggestion.command.id], (suggestion.command.arguments ? __spreadArrays(suggestion.command.arguments) : []))).catch(onUnexpectedError)\r\n                .finally(function () { return _this.model.clear(); }); // <- clear only now, keep commands alive\r\n            this.model.cancel();\r\n        }\r\n        if (flags & 4 /* KeepAlternativeSuggestions */) {\r\n            this._alternatives.getValue().set(event, function (next) {\r\n                // this is not so pretty. when inserting the 'next'\r\n                // suggestion we undo until we are at the state at\r\n                // which we were before inserting the previous suggestion...\r\n                while (model.canUndo()) {\r\n                    if (modelVersionNow !== model.getAlternativeVersionId()) {\r\n                        model.undo();\r\n                    }\r\n                    _this._insertSuggestion(next, 1 /* NoBeforeUndoStop */ | 2 /* NoAfterUndoStop */ | (flags & 8 /* AlternativeOverwriteConfig */ ? 8 /* AlternativeOverwriteConfig */ : 0));\r\n                    break;\r\n                }\r\n            });\r\n        }\r\n        this._alertCompletionItem(event.item);\r\n    };\r\n    SuggestController.prototype.getOverwriteInfo = function (item, toggleMode) {\r\n        assertType(this.editor.hasModel());\r\n        var replace = this.editor.getOption(89 /* suggest */).insertMode === 'replace';\r\n        if (toggleMode) {\r\n            replace = !replace;\r\n        }\r\n        var overwriteBefore = item.position.column - item.editStart.column;\r\n        var overwriteAfter = (replace ? item.editReplaceEnd.column : item.editInsertEnd.column) - item.position.column;\r\n        var columnDelta = this.editor.getPosition().column - item.position.column;\r\n        var suffixDelta = this._lineSuffix.value ? this._lineSuffix.value.delta(this.editor.getPosition()) : 0;\r\n        return {\r\n            overwriteBefore: overwriteBefore + columnDelta,\r\n            overwriteAfter: overwriteAfter + suffixDelta\r\n        };\r\n    };\r\n    SuggestController.prototype._alertCompletionItem = function (_a) {\r\n        var suggestion = _a.completion;\r\n        var textLabel = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\r\n        if (isNonEmptyArray(suggestion.additionalTextEdits)) {\r\n            var msg = nls.localize('arai.alert.snippet', \"Accepting '{0}' made {1} additional edits\", textLabel, suggestion.additionalTextEdits.length);\r\n            alert(msg);\r\n        }\r\n    };\r\n    SuggestController.prototype.triggerSuggest = function (onlyFrom) {\r\n        if (this.editor.hasModel()) {\r\n            this.model.trigger({ auto: false, shy: false }, false, onlyFrom);\r\n            this.editor.revealLine(this.editor.getPosition().lineNumber, 0 /* Smooth */);\r\n            this.editor.focus();\r\n        }\r\n    };\r\n    SuggestController.prototype.triggerSuggestAndAcceptBest = function (arg) {\r\n        var _this = this;\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var positionNow = this.editor.getPosition();\r\n        var fallback = function () {\r\n            if (positionNow.equals(_this.editor.getPosition())) {\r\n                _this._commandService.executeCommand(arg.fallback);\r\n            }\r\n        };\r\n        var makesTextEdit = function (item) {\r\n            if (item.completion.insertTextRules & 4 /* InsertAsSnippet */ || item.completion.additionalTextEdits) {\r\n                // snippet, other editor -> makes edit\r\n                return true;\r\n            }\r\n            var position = _this.editor.getPosition();\r\n            var startColumn = item.editStart.column;\r\n            var endColumn = position.column;\r\n            if (endColumn - startColumn !== item.completion.insertText.length) {\r\n                // unequal lengths -> makes edit\r\n                return true;\r\n            }\r\n            var textNow = _this.editor.getModel().getValueInRange({\r\n                startLineNumber: position.lineNumber,\r\n                startColumn: startColumn,\r\n                endLineNumber: position.lineNumber,\r\n                endColumn: endColumn\r\n            });\r\n            // unequal text -> makes edit\r\n            return textNow !== item.completion.insertText;\r\n        };\r\n        Event.once(this.model.onDidTrigger)(function (_) {\r\n            // wait for trigger because only then the cancel-event is trustworthy\r\n            var listener = [];\r\n            Event.any(_this.model.onDidTrigger, _this.model.onDidCancel)(function () {\r\n                // retrigger or cancel -> try to type default text\r\n                dispose(listener);\r\n                fallback();\r\n            }, undefined, listener);\r\n            _this.model.onDidSuggest(function (_a) {\r\n                var completionModel = _a.completionModel;\r\n                dispose(listener);\r\n                if (completionModel.items.length === 0) {\r\n                    fallback();\r\n                    return;\r\n                }\r\n                var index = _this._memoryService.select(_this.editor.getModel(), _this.editor.getPosition(), completionModel.items);\r\n                var item = completionModel.items[index];\r\n                if (!makesTextEdit(item)) {\r\n                    fallback();\r\n                    return;\r\n                }\r\n                _this.editor.pushUndoStop();\r\n                _this._insertSuggestion({ index: index, item: item, model: completionModel }, 4 /* KeepAlternativeSuggestions */ | 1 /* NoBeforeUndoStop */ | 2 /* NoAfterUndoStop */);\r\n            }, undefined, listener);\r\n        });\r\n        this.model.trigger({ auto: false, shy: true });\r\n        this.editor.revealLine(positionNow.lineNumber, 0 /* Smooth */);\r\n        this.editor.focus();\r\n    };\r\n    SuggestController.prototype.acceptSelectedSuggestion = function (keepAlternativeSuggestions, alternativeOverwriteConfig) {\r\n        var item = this.widget.getValue().getFocusedItem();\r\n        var flags = 0;\r\n        if (keepAlternativeSuggestions) {\r\n            flags |= 4 /* KeepAlternativeSuggestions */;\r\n        }\r\n        if (alternativeOverwriteConfig) {\r\n            flags |= 8 /* AlternativeOverwriteConfig */;\r\n        }\r\n        this._insertSuggestion(item, flags);\r\n    };\r\n    SuggestController.prototype.acceptNextSuggestion = function () {\r\n        this._alternatives.getValue().next();\r\n    };\r\n    SuggestController.prototype.acceptPrevSuggestion = function () {\r\n        this._alternatives.getValue().prev();\r\n    };\r\n    SuggestController.prototype.cancelSuggestWidget = function () {\r\n        this.model.cancel();\r\n        this.model.clear();\r\n        this.widget.getValue().hideWidget();\r\n    };\r\n    SuggestController.prototype.selectNextSuggestion = function () {\r\n        this.widget.getValue().selectNext();\r\n    };\r\n    SuggestController.prototype.selectNextPageSuggestion = function () {\r\n        this.widget.getValue().selectNextPage();\r\n    };\r\n    SuggestController.prototype.selectLastSuggestion = function () {\r\n        this.widget.getValue().selectLast();\r\n    };\r\n    SuggestController.prototype.selectPrevSuggestion = function () {\r\n        this.widget.getValue().selectPrevious();\r\n    };\r\n    SuggestController.prototype.selectPrevPageSuggestion = function () {\r\n        this.widget.getValue().selectPreviousPage();\r\n    };\r\n    SuggestController.prototype.selectFirstSuggestion = function () {\r\n        this.widget.getValue().selectFirst();\r\n    };\r\n    SuggestController.prototype.toggleSuggestionDetails = function () {\r\n        this.widget.getValue().toggleDetails();\r\n    };\r\n    SuggestController.prototype.toggleExplainMode = function () {\r\n        this.widget.getValue().toggleExplainMode();\r\n    };\r\n    SuggestController.prototype.toggleSuggestionFocus = function () {\r\n        this.widget.getValue().toggleDetailsFocus();\r\n    };\r\n    SuggestController.ID = 'editor.contrib.suggestController';\r\n    SuggestController = __decorate([\r\n        __param(1, IEditorWorkerService),\r\n        __param(2, ISuggestMemoryService),\r\n        __param(3, ICommandService),\r\n        __param(4, IContextKeyService),\r\n        __param(5, IInstantiationService)\r\n    ], SuggestController);\r\n    return SuggestController;\r\n}());\r\nexport { SuggestController };\r\nvar TriggerSuggestAction = /** @class */ (function (_super) {\r\n    __extends(TriggerSuggestAction, _super);\r\n    function TriggerSuggestAction() {\r\n        return _super.call(this, {\r\n            id: TriggerSuggestAction.id,\r\n            label: nls.localize('suggest.trigger.label', \"Trigger Suggest\"),\r\n            alias: 'Trigger Suggest',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCompletionItemProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 10 /* Space */,\r\n                mac: { primary: 256 /* WinCtrl */ | 10 /* Space */, secondary: [512 /* Alt */ | 9 /* Escape */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerSuggestAction.prototype.run = function (accessor, editor) {\r\n        var controller = SuggestController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.triggerSuggest();\r\n    };\r\n    TriggerSuggestAction.id = 'editor.action.triggerSuggest';\r\n    return TriggerSuggestAction;\r\n}(EditorAction));\r\nexport { TriggerSuggestAction };\r\nregisterEditorContribution(SuggestController.ID, SuggestController);\r\nregisterEditorAction(TriggerSuggestAction);\r\nvar weight = 100 /* EditorContrib */ + 90;\r\nvar SuggestCommand = EditorCommand.bindToContribution(SuggestController.get);\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'acceptSelectedSuggestion',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) {\r\n        x.acceptSelectedSuggestion(true, false);\r\n    }\r\n}));\r\n// normal tab\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'acceptSelectedSuggestion',\r\n    when: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus),\r\n    primary: 2 /* Tab */,\r\n    weight: weight\r\n});\r\n// accept on enter has special rules\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'acceptSelectedSuggestion',\r\n    when: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus, SuggestContext.AcceptSuggestionsOnEnter, SuggestContext.MakesTextEdit),\r\n    primary: 3 /* Enter */,\r\n    weight: weight\r\n});\r\n// todo@joh control enablement via context key\r\n// shift+enter and shift+tab use the alternative-flag so that the suggest controller\r\n// is doing the opposite of the editor.suggest.overwriteOnAccept-configuration\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'acceptAlternativeSelectedSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus),\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 1024 /* Shift */ | 3 /* Enter */,\r\n        secondary: [1024 /* Shift */ | 2 /* Tab */],\r\n    },\r\n    handler: function (x) {\r\n        x.acceptSelectedSuggestion(false, true);\r\n    },\r\n}));\r\n// continue to support the old command\r\nCommandsRegistry.registerCommandAlias('acceptSelectedSuggestionOnEnter', 'acceptSelectedSuggestion');\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'hideSuggestWidget',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.cancelSuggestWidget(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectNextSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectNextSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 18 /* DownArrow */,\r\n        secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */],\r\n        mac: { primary: 18 /* DownArrow */, secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectNextPageSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectNextPageSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 12 /* PageDown */,\r\n        secondary: [2048 /* CtrlCmd */ | 12 /* PageDown */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectLastSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectLastSuggestion(); }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectPrevSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectPrevSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 16 /* UpArrow */,\r\n        secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */],\r\n        mac: { primary: 16 /* UpArrow */, secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectPrevPageSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectPrevPageSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 11 /* PageUp */,\r\n        secondary: [2048 /* CtrlCmd */ | 11 /* PageUp */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectFirstSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectFirstSuggestion(); }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleSuggestionDetails',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleSuggestionDetails(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 10 /* Space */,\r\n        mac: { primary: 256 /* WinCtrl */ | 10 /* Space */ }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleExplainMode',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleExplainMode(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */,\r\n        primary: 2048 /* CtrlCmd */ | 85 /* US_SLASH */,\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleSuggestionFocus',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleSuggestionFocus(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 10 /* Space */,\r\n        mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 10 /* Space */ }\r\n    }\r\n}));\r\n//#region tab completions\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertBestCompletion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), WordContextKey.AtEnd, SuggestContext.Visible.toNegated(), SuggestAlternatives.OtherSuggestions.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x, arg) {\r\n        x.triggerSuggestAndAcceptBest(isObject(arg) ? __assign({ fallback: 'tab' }, arg) : { fallback: 'tab' });\r\n    },\r\n    kbOpts: {\r\n        weight: weight,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertNextSuggestion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), SuggestAlternatives.OtherSuggestions, SuggestContext.Visible.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x) { return x.acceptNextSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertPrevSuggestion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), SuggestAlternatives.OtherSuggestions, SuggestContext.Visible.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x) { return x.acceptPrevSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 1024 /* Shift */ | 2 /* Tab */\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { StopWatch } from '../../../base/common/stopwatch.js';\r\nvar ForceRetokenizeAction = /** @class */ (function (_super) {\r\n    __extends(ForceRetokenizeAction, _super);\r\n    function ForceRetokenizeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.forceRetokenize',\r\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\r\n            alias: 'Developer: Force Retokenize',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    ForceRetokenizeAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        model.resetTokenization();\r\n        var sw = new StopWatch(true);\r\n        model.forceTokenization(model.getLineCount());\r\n        sw.stop();\r\n        console.log(\"tokenization took \" + sw.elapsed());\r\n    };\r\n    return ForceRetokenizeAction;\r\n}(EditorAction));\r\nregisterEditorAction(ForceRetokenizeAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport { createCancelablePromise, first, timeout } from '../../../base/common/async.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { DocumentHighlightKind, DocumentHighlightProviderRegistry } from '../../common/modes.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { activeContrastBorder, editorSelectionHighlight, editorSelectionHighlightBorder, overviewRulerSelectionHighlightForeground, registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nvar editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\r\nvar editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\r\nvar overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\r\nexport function getOccurrencesAtPosition(model, position, token) {\r\n    var orderedByScore = DocumentHighlightProviderRegistry.ordered(model);\r\n    // in order of score ask the occurrences provider\r\n    // until someone response with a good result\r\n    // (good = none empty array)\r\n    return first(orderedByScore.map(function (provider) { return function () {\r\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\r\n            .then(undefined, onUnexpectedExternalError);\r\n    }; }), arrays.isNonEmptyArray);\r\n}\r\nvar OccurenceAtPositionRequest = /** @class */ (function () {\r\n    function OccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = this;\r\n        this._wordRange = this._getCurrentWordRange(model, selection);\r\n        this.result = createCancelablePromise(function (token) { return _this._compute(model, selection, wordSeparators, token); });\r\n    }\r\n    OccurenceAtPositionRequest.prototype._getCurrentWordRange = function (model, selection) {\r\n        var word = model.getWordAtPosition(selection.getPosition());\r\n        if (word) {\r\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\r\n        }\r\n        return null;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var lineNumber = selection.startLineNumber;\r\n        var startColumn = selection.startColumn;\r\n        var endColumn = selection.endColumn;\r\n        var currentWordRange = this._getCurrentWordRange(model, selection);\r\n        var requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\r\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\r\n        // (Same symbol)\r\n        for (var i = 0, len = decorationIds.length; !requestIsValid && i < len; i++) {\r\n            var range = model.getDecorationRange(decorationIds[i]);\r\n            if (range && range.startLineNumber === lineNumber) {\r\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\r\n                    requestIsValid = true;\r\n                }\r\n            }\r\n        }\r\n        return requestIsValid;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.cancel = function () {\r\n        this.result.cancel();\r\n    };\r\n    return OccurenceAtPositionRequest;\r\n}());\r\nvar SemanticOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(SemanticOccurenceAtPositionRequest, _super);\r\n    function SemanticOccurenceAtPositionRequest() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SemanticOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return getOccurrencesAtPosition(model, selection.getPosition(), token).then(function (value) { return value || []; });\r\n    };\r\n    return SemanticOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nvar TextualOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(TextualOccurenceAtPositionRequest, _super);\r\n    function TextualOccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = _super.call(this, model, selection, wordSeparators) || this;\r\n        _this._selectionIsEmpty = selection.isEmpty();\r\n        return _this;\r\n    }\r\n    TextualOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return timeout(250, token).then(function () {\r\n            if (!selection.isEmpty()) {\r\n                return [];\r\n            }\r\n            var word = model.getWordAtPosition(selection.getPosition());\r\n            if (!word) {\r\n                return [];\r\n            }\r\n            var matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\r\n            return matches.map(function (m) {\r\n                return {\r\n                    range: m.range,\r\n                    kind: DocumentHighlightKind.Text\r\n                };\r\n            });\r\n        });\r\n    };\r\n    TextualOccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var currentSelectionIsEmpty = selection.isEmpty();\r\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\r\n            return false;\r\n        }\r\n        return _super.prototype.isValid.call(this, model, selection, decorationIds);\r\n    };\r\n    return TextualOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nfunction computeOccurencesAtPosition(model, selection, wordSeparators) {\r\n    if (DocumentHighlightProviderRegistry.has(model)) {\r\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n    }\r\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n}\r\nregisterModelAndPositionCommand('_executeDocumentHighlights', function (model, position) { return getOccurrencesAtPosition(model, position, CancellationToken.None); });\r\nvar WordHighlighter = /** @class */ (function () {\r\n    function WordHighlighter(editor, contextKeyService) {\r\n        var _this = this;\r\n        this.toUnhook = new DisposableStore();\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequestCompleted = false;\r\n        this.workerRequestValue = [];\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n        this.editor = editor;\r\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\r\n        this._ignorePositionChangeEvent = false;\r\n        this.occurrencesHighlight = this.editor.getOption(61 /* occurrencesHighlight */);\r\n        this.model = this.editor.getModel();\r\n        this.toUnhook.add(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._ignorePositionChangeEvent) {\r\n                // We are changing the position => ignore this event\r\n                return;\r\n            }\r\n            if (!_this.occurrencesHighlight) {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._onPositionChanged(e);\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeModelContent(function (e) {\r\n            _this._stopAll();\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeConfiguration(function (e) {\r\n            var newValue = _this.editor.getOption(61 /* occurrencesHighlight */);\r\n            if (_this.occurrencesHighlight !== newValue) {\r\n                _this.occurrencesHighlight = newValue;\r\n                _this._stopAll();\r\n            }\r\n        }));\r\n        this._decorationIds = [];\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequest = null;\r\n        this.workerRequestCompleted = false;\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n    }\r\n    WordHighlighter.prototype.hasDecorations = function () {\r\n        return (this._decorationIds.length > 0);\r\n    };\r\n    WordHighlighter.prototype.restore = function () {\r\n        if (!this.occurrencesHighlight) {\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._getSortedHighlights = function () {\r\n        var _this = this;\r\n        return arrays.coalesce(this._decorationIds\r\n            .map(function (id) { return _this.model.getDecorationRange(id); })\r\n            .sort(Range.compareRangesUsingStarts));\r\n    };\r\n    WordHighlighter.prototype.moveNext = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index + 1) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.moveBack = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index - 1 + highlights.length) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._removeDecorations = function () {\r\n        if (this._decorationIds.length > 0) {\r\n            // remove decorations\r\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\r\n            this._hasWordHighlights.set(false);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._stopAll = function () {\r\n        // Remove any existing decorations\r\n        this._removeDecorations();\r\n        // Cancel any renderDecorationsTimer\r\n        if (this.renderDecorationsTimer !== -1) {\r\n            clearTimeout(this.renderDecorationsTimer);\r\n            this.renderDecorationsTimer = -1;\r\n        }\r\n        // Cancel any worker request\r\n        if (this.workerRequest !== null) {\r\n            this.workerRequest.cancel();\r\n            this.workerRequest = null;\r\n        }\r\n        // Invalidate any worker request callback\r\n        if (!this.workerRequestCompleted) {\r\n            this.workerRequestTokenId++;\r\n            this.workerRequestCompleted = true;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._onPositionChanged = function (e) {\r\n        // disabled\r\n        if (!this.occurrencesHighlight) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // ignore typing & other\r\n        if (e.reason !== 3 /* Explicit */) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._run = function () {\r\n        var _this = this;\r\n        var editorSelection = this.editor.getSelection();\r\n        // ignore multiline selection\r\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        var lineNumber = editorSelection.startLineNumber;\r\n        var startColumn = editorSelection.startColumn;\r\n        var endColumn = editorSelection.endColumn;\r\n        var word = this.model.getWordAtPosition({\r\n            lineNumber: lineNumber,\r\n            column: startColumn\r\n        });\r\n        // The selection must be inside a word or surround one word at most\r\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // All the effort below is trying to achieve this:\r\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\r\n        // - 250ms later after the last cursor move event, render the occurrences\r\n        // - no flickering!\r\n        var workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds));\r\n        // There are 4 cases:\r\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\r\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\r\n        // c) old workerRequest is valid, but not completed\r\n        // d) old workerRequest is not valid\r\n        // For a) no action is needed\r\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\r\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\r\n        if (workerRequestIsValid) {\r\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\r\n                // case b)\r\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\r\n                clearTimeout(this.renderDecorationsTimer);\r\n                this.renderDecorationsTimer = -1;\r\n                this._beginRenderDecorations();\r\n            }\r\n        }\r\n        else {\r\n            // case d)\r\n            // Stop all previous actions and start fresh\r\n            this._stopAll();\r\n            var myRequestId_1 = ++this.workerRequestTokenId;\r\n            this.workerRequestCompleted = false;\r\n            this.workerRequest = computeOccurencesAtPosition(this.model, this.editor.getSelection(), this.editor.getOption(96 /* wordSeparators */));\r\n            this.workerRequest.result.then(function (data) {\r\n                if (myRequestId_1 === _this.workerRequestTokenId) {\r\n                    _this.workerRequestCompleted = true;\r\n                    _this.workerRequestValue = data || [];\r\n                    _this._beginRenderDecorations();\r\n                }\r\n            }, onUnexpectedError);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._beginRenderDecorations = function () {\r\n        var _this = this;\r\n        var currentTime = (new Date()).getTime();\r\n        var minimumRenderTime = this.lastCursorPositionChangeTime + 250;\r\n        if (currentTime >= minimumRenderTime) {\r\n            // Synchronous\r\n            this.renderDecorationsTimer = -1;\r\n            this.renderDecorations();\r\n        }\r\n        else {\r\n            // Asynchronous\r\n            this.renderDecorationsTimer = setTimeout(function () {\r\n                _this.renderDecorations();\r\n            }, (minimumRenderTime - currentTime));\r\n        }\r\n    };\r\n    WordHighlighter.prototype.renderDecorations = function () {\r\n        this.renderDecorationsTimer = -1;\r\n        var decorations = [];\r\n        for (var i = 0, len = this.workerRequestValue.length; i < len; i++) {\r\n            var info = this.workerRequestValue[i];\r\n            decorations.push({\r\n                range: info.range,\r\n                options: WordHighlighter._getDecorationOptions(info.kind)\r\n            });\r\n        }\r\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\r\n        this._hasWordHighlights.set(this.hasDecorations());\r\n    };\r\n    WordHighlighter._getDecorationOptions = function (kind) {\r\n        if (kind === DocumentHighlightKind.Write) {\r\n            return this._WRITE_OPTIONS;\r\n        }\r\n        else if (kind === DocumentHighlightKind.Text) {\r\n            return this._TEXT_OPTIONS;\r\n        }\r\n        else {\r\n            return this._REGULAR_OPTIONS;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.dispose = function () {\r\n        this._stopAll();\r\n        this.toUnhook.dispose();\r\n    };\r\n    WordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlightStrong',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    return WordHighlighter;\r\n}());\r\nvar WordHighlighterContribution = /** @class */ (function (_super) {\r\n    __extends(WordHighlighterContribution, _super);\r\n    function WordHighlighterContribution(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.wordHighligher = null;\r\n        var createWordHighlighterIfPossible = function () {\r\n            if (editor.hasModel()) {\r\n                _this.wordHighligher = new WordHighlighter(editor, contextKeyService);\r\n            }\r\n        };\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            if (_this.wordHighligher) {\r\n                _this.wordHighligher.dispose();\r\n                _this.wordHighligher = null;\r\n            }\r\n            createWordHighlighterIfPossible();\r\n        }));\r\n        createWordHighlighterIfPossible();\r\n        return _this;\r\n    }\r\n    WordHighlighterContribution.get = function (editor) {\r\n        return editor.getContribution(WordHighlighterContribution.ID);\r\n    };\r\n    WordHighlighterContribution.prototype.saveViewState = function () {\r\n        if (this.wordHighligher && this.wordHighligher.hasDecorations()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    WordHighlighterContribution.prototype.moveNext = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveNext();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.moveBack = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveBack();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.restoreViewState = function (state) {\r\n        if (this.wordHighligher && state) {\r\n            this.wordHighligher.restore();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.dispose = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.dispose();\r\n            this.wordHighligher = null;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    WordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\r\n    WordHighlighterContribution = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], WordHighlighterContribution);\r\n    return WordHighlighterContribution;\r\n}(Disposable));\r\nvar WordHighlightNavigationAction = /** @class */ (function (_super) {\r\n    __extends(WordHighlightNavigationAction, _super);\r\n    function WordHighlightNavigationAction(next, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        return _this;\r\n    }\r\n    WordHighlightNavigationAction.prototype.run = function (accessor, editor) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        if (this._isNext) {\r\n            controller.moveNext();\r\n        }\r\n        else {\r\n            controller.moveBack();\r\n        }\r\n    };\r\n    return WordHighlightNavigationAction;\r\n}(EditorAction));\r\nvar NextWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(NextWordHighlightAction, _super);\r\n    function NextWordHighlightAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.wordHighlight.next',\r\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\r\n            alias: 'Go to Next Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar PrevWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(PrevWordHighlightAction, _super);\r\n    function PrevWordHighlightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.wordHighlight.prev',\r\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\r\n            alias: 'Go to Previous Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar TriggerWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(TriggerWordHighlightAction, _super);\r\n    function TriggerWordHighlightAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.wordHighlight.trigger',\r\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\r\n            alias: 'Trigger Symbol Highlight',\r\n            precondition: ctxHasWordHighlights.toNegated(),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 0,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerWordHighlightAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.restoreViewState(true);\r\n    };\r\n    return TriggerWordHighlightAction;\r\n}(EditorAction));\r\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution);\r\nregisterEditorAction(NextWordHighlightAction);\r\nregisterEditorAction(PrevWordHighlightAction);\r\nregisterEditorAction(TriggerWordHighlightAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var selectionHighlight = theme.getColor(editorSelectionHighlight);\r\n    if (selectionHighlight) {\r\n        collector.addRule(\".monaco-editor .focused .selectionHighlight { background-color: \" + selectionHighlight + \"; }\");\r\n        collector.addRule(\".monaco-editor .selectionHighlight { background-color: \" + selectionHighlight.transparent(0.5) + \"; }\");\r\n    }\r\n    var wordHighlight = theme.getColor(editorWordHighlight);\r\n    if (wordHighlight) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { background-color: \" + wordHighlight + \"; }\");\r\n    }\r\n    var wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\r\n    if (wordHighlightStrong) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { background-color: \" + wordHighlightStrong + \"; }\");\r\n    }\r\n    var selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\r\n    if (selectionHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .selectionHighlight { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + selectionHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\r\n    if (wordHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\r\n    if (wordHighlightStrongBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightStrongBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { CursorState } from '../../common/controller/cursorCommon.js';\r\nimport { WordOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { getMapForWordSeparators } from '../../common/controller/wordCharacterClassifier.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../platform/accessibility/common/accessibility.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { EditorOptions } from '../../common/config/editorOptions.js';\r\nvar MoveWordCommand = /** @class */ (function (_super) {\r\n    __extends(MoveWordCommand, _super);\r\n    function MoveWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._inSelectionMode = opts.inSelectionMode;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    MoveWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(96 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var result = selections.map(function (sel) {\r\n            var inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\r\n            var outPosition = _this._move(wordSeparators, model, inPosition, _this._wordNavigationType);\r\n            return _this._moveTo(sel, outPosition, _this._inSelectionMode);\r\n        });\r\n        editor._getCursors().setStates('moveWordCommand', 0 /* NotSet */, result.map(function (r) { return CursorState.fromModelSelection(r); }));\r\n        if (result.length === 1) {\r\n            var pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\r\n            editor.revealPosition(pos, 0 /* Smooth */);\r\n        }\r\n    };\r\n    MoveWordCommand.prototype._moveTo = function (from, to, inSelectionMode) {\r\n        if (inSelectionMode) {\r\n            // move just position\r\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\r\n        }\r\n        else {\r\n            // move everything\r\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\r\n        }\r\n    };\r\n    return MoveWordCommand;\r\n}(EditorCommand));\r\nexport { MoveWordCommand };\r\nvar WordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordLeftCommand, _super);\r\n    function WordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordLeftCommand };\r\nvar WordRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordRightCommand, _super);\r\n    function WordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordRightCommand };\r\nvar CursorWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeft, _super);\r\n    function CursorWordStartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeft };\r\nvar CursorWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeft, _super);\r\n    function CursorWordEndLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeft };\r\nvar CursorWordLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeft, _super);\r\n    function CursorWordLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeft };\r\nvar CursorWordStartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeftSelect, _super);\r\n    function CursorWordStartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeftSelect };\r\nvar CursorWordEndLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeftSelect, _super);\r\n    function CursorWordEndLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeftSelect };\r\nvar CursorWordLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeftSelect, _super);\r\n    function CursorWordLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeftSelect };\r\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\r\nvar CursorWordAccessibilityLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeft, _super);\r\n    function CursorWordAccessibilityLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeft.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeft };\r\nvar CursorWordAccessibilityLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeftSelect, _super);\r\n    function CursorWordAccessibilityLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeftSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeftSelect };\r\nvar CursorWordStartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRight, _super);\r\n    function CursorWordStartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRight;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRight };\r\nvar CursorWordEndRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRight, _super);\r\n    function CursorWordEndRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRight;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRight };\r\nvar CursorWordRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordRight, _super);\r\n    function CursorWordRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRight;\r\n}(WordRightCommand));\r\nexport { CursorWordRight };\r\nvar CursorWordStartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRightSelect, _super);\r\n    function CursorWordStartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRightSelect };\r\nvar CursorWordEndRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRightSelect, _super);\r\n    function CursorWordEndRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRightSelect };\r\nvar CursorWordRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordRightSelect, _super);\r\n    function CursorWordRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordRightSelect };\r\nvar CursorWordAccessibilityRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRight, _super);\r\n    function CursorWordAccessibilityRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRight.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRight;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRight };\r\nvar CursorWordAccessibilityRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRightSelect, _super);\r\n    function CursorWordAccessibilityRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRightSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRightSelect };\r\nvar DeleteWordCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordCommand, _super);\r\n    function DeleteWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._whitespaceHeuristics = opts.whitespaceHeuristics;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    DeleteWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(96 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var commands = selections.map(function (sel) {\r\n            var deleteRange = _this._delete(wordSeparators, model, sel, _this._whitespaceHeuristics, _this._wordNavigationType);\r\n            return new ReplaceCommand(deleteRange, '');\r\n        });\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return DeleteWordCommand;\r\n}(EditorCommand));\r\nexport { DeleteWordCommand };\r\nvar DeleteWordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeftCommand, _super);\r\n    function DeleteWordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordLeftCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordLeft(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordLeftCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordLeftCommand };\r\nvar DeleteWordRightCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRightCommand, _super);\r\n    function DeleteWordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordRightCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordRight(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordRightCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordRightCommand };\r\nvar DeleteWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartLeft, _super);\r\n    function DeleteWordStartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordStartLeft };\r\nvar DeleteWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndLeft, _super);\r\n    function DeleteWordEndLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordEndLeft };\r\nvar DeleteWordLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeft, _super);\r\n    function DeleteWordLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\r\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordLeft };\r\nvar DeleteWordStartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartRight, _super);\r\n    function DeleteWordStartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordStartRight };\r\nvar DeleteWordEndRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndRight, _super);\r\n    function DeleteWordEndRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordEndRight };\r\nvar DeleteWordRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRight, _super);\r\n    function DeleteWordRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\r\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordRight };\r\nregisterEditorCommand(new CursorWordStartLeft());\r\nregisterEditorCommand(new CursorWordEndLeft());\r\nregisterEditorCommand(new CursorWordLeft());\r\nregisterEditorCommand(new CursorWordStartLeftSelect());\r\nregisterEditorCommand(new CursorWordEndLeftSelect());\r\nregisterEditorCommand(new CursorWordLeftSelect());\r\nregisterEditorCommand(new CursorWordStartRight());\r\nregisterEditorCommand(new CursorWordEndRight());\r\nregisterEditorCommand(new CursorWordRight());\r\nregisterEditorCommand(new CursorWordStartRightSelect());\r\nregisterEditorCommand(new CursorWordEndRightSelect());\r\nregisterEditorCommand(new CursorWordRightSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityLeft());\r\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityRight());\r\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\r\nregisterEditorCommand(new DeleteWordStartLeft());\r\nregisterEditorCommand(new DeleteWordEndLeft());\r\nregisterEditorCommand(new DeleteWordLeft());\r\nregisterEditorCommand(new DeleteWordStartRight());\r\nregisterEditorCommand(new DeleteWordEndRight());\r\nregisterEditorCommand(new DeleteWordRight());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { WordPartOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { DeleteWordCommand, MoveWordCommand } from '../wordOperations/wordOperations.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nvar DeleteWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartLeft, _super);\r\n    function DeleteWordPartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordPartLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartLeft.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartLeft(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordPartLeft;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartLeft };\r\nvar DeleteWordPartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartRight, _super);\r\n    function DeleteWordPartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordPartRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartRight.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartRight(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordPartRight;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartRight };\r\nvar WordPartLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartLeftCommand, _super);\r\n    function WordPartLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\r\n    };\r\n    return WordPartLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartLeftCommand };\r\nvar CursorWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeft, _super);\r\n    function CursorWordPartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeft;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeft };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\r\nvar CursorWordPartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeftSelect, _super);\r\n    function CursorWordPartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeftSelect;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeftSelect };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\r\nvar WordPartRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartRightCommand, _super);\r\n    function WordPartRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\r\n    };\r\n    return WordPartRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartRightCommand };\r\nvar CursorWordPartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRight, _super);\r\n    function CursorWordPartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRight;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRight };\r\nvar CursorWordPartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRightSelect, _super);\r\n    function CursorWordPartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRightSelect;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRightSelect };\r\nregisterEditorCommand(new DeleteWordPartLeft());\r\nregisterEditorCommand(new DeleteWordPartRight());\r\nregisterEditorCommand(new CursorWordPartLeft());\r\nregisterEditorCommand(new CursorWordPartLeftSelect());\r\nregisterEditorCommand(new CursorWordPartRight());\r\nregisterEditorCommand(new CursorWordPartRightSelect());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n// Allow for running under nodejs/requirejs in tests\r\nvar _monaco = (typeof monaco === 'undefined' ? self.monaco : monaco);\r\nvar languageDefinitions = {};\r\nvar lazyLanguageLoaders = {};\r\nvar LazyLanguageLoader = /** @class */ (function () {\r\n    function LazyLanguageLoader(languageId) {\r\n        var _this = this;\r\n        this._languageId = languageId;\r\n        this._loadingTriggered = false;\r\n        this._lazyLoadPromise = new Promise(function (resolve, reject) {\r\n            _this._lazyLoadPromiseResolve = resolve;\r\n            _this._lazyLoadPromiseReject = reject;\r\n        });\r\n    }\r\n    LazyLanguageLoader.getOrCreate = function (languageId) {\r\n        if (!lazyLanguageLoaders[languageId]) {\r\n            lazyLanguageLoaders[languageId] = new LazyLanguageLoader(languageId);\r\n        }\r\n        return lazyLanguageLoaders[languageId];\r\n    };\r\n    LazyLanguageLoader.prototype.whenLoaded = function () {\r\n        return this._lazyLoadPromise;\r\n    };\r\n    LazyLanguageLoader.prototype.load = function () {\r\n        var _this = this;\r\n        if (!this._loadingTriggered) {\r\n            this._loadingTriggered = true;\r\n            languageDefinitions[this._languageId].loader().then(function (mod) { return _this._lazyLoadPromiseResolve(mod); }, function (err) { return _this._lazyLoadPromiseReject(err); });\r\n        }\r\n        return this._lazyLoadPromise;\r\n    };\r\n    return LazyLanguageLoader;\r\n}());\r\nexport function loadLanguage(languageId) {\r\n    return LazyLanguageLoader.getOrCreate(languageId).load();\r\n}\r\nexport function registerLanguage(def) {\r\n    var languageId = def.id;\r\n    languageDefinitions[languageId] = def;\r\n    _monaco.languages.register(def);\r\n    var lazyLanguageLoader = LazyLanguageLoader.getOrCreate(languageId);\r\n    _monaco.languages.setMonarchTokensProvider(languageId, lazyLanguageLoader.whenLoaded().then(function (mod) { return mod.language; }));\r\n    _monaco.languages.onLanguage(languageId, function () {\r\n        lazyLanguageLoader.load().then(function (mod) {\r\n            _monaco.languages.setLanguageConfiguration(languageId, mod.conf);\r\n        });\r\n    });\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'abap',\r\n    extensions: ['.abap'],\r\n    aliases: ['abap', 'ABAP'],\r\n    loader: function () { return import('./abap.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'apex',\r\n    extensions: ['.cls'],\r\n    aliases: ['Apex', 'apex'],\r\n    mimetypes: ['text/x-apex-source', 'text/x-apex'],\r\n    loader: function () { return import('./apex.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'azcli',\r\n    extensions: ['.azcli'],\r\n    aliases: ['Azure CLI', 'azcli'],\r\n    loader: function () { return import('./azcli.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'bat',\r\n    extensions: ['.bat', '.cmd'],\r\n    aliases: ['Batch', 'bat'],\r\n    loader: function () { return import('./bat.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'cameligo',\r\n    extensions: ['.mligo'],\r\n    aliases: ['Cameligo'],\r\n    loader: function () { return import('./cameligo.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'clojure',\r\n    extensions: ['.clj', '.cljs', '.cljc', '.edn'],\r\n    aliases: ['clojure', 'Clojure'],\r\n    loader: function () { return import('./clojure.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'coffeescript',\r\n    extensions: ['.coffee'],\r\n    aliases: ['CoffeeScript', 'coffeescript', 'coffee'],\r\n    mimetypes: ['text/x-coffeescript', 'text/coffeescript'],\r\n    loader: function () { return import('./coffee.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'c',\r\n    extensions: ['.c', '.h'],\r\n    aliases: ['C', 'c'],\r\n    loader: function () { return import('./cpp.js'); }\r\n});\r\nregisterLanguage({\r\n    id: 'cpp',\r\n    extensions: ['.cpp', '.cc', '.cxx', '.hpp', '.hh', '.hxx'],\r\n    aliases: ['C++', 'Cpp', 'cpp'],\r\n    loader: function () { return import('./cpp.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'csharp',\r\n    extensions: ['.cs', '.csx', '.cake'],\r\n    aliases: ['C#', 'csharp'],\r\n    loader: function () { return import('./csharp.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'csp',\r\n    extensions: [],\r\n    aliases: ['CSP', 'csp'],\r\n    loader: function () { return import('./csp.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'css',\r\n    extensions: ['.css'],\r\n    aliases: ['CSS', 'css'],\r\n    mimetypes: ['text/css'],\r\n    loader: function () { return import('./css.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'dockerfile',\r\n    extensions: ['.dockerfile'],\r\n    filenames: ['Dockerfile'],\r\n    aliases: ['Dockerfile'],\r\n    loader: function () { return import('./dockerfile.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'fsharp',\r\n    extensions: ['.fs', '.fsi', '.ml', '.mli', '.fsx', '.fsscript'],\r\n    aliases: ['F#', 'FSharp', 'fsharp'],\r\n    loader: function () { return import('./fsharp.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'go',\r\n    extensions: ['.go'],\r\n    aliases: ['Go'],\r\n    loader: function () { return import('./go.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'graphql',\r\n    extensions: ['.graphql', '.gql'],\r\n    aliases: ['GraphQL', 'graphql', 'gql'],\r\n    mimetypes: ['application/graphql'],\r\n    loader: function () { return import('./graphql.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'handlebars',\r\n    extensions: ['.handlebars', '.hbs'],\r\n    aliases: ['Handlebars', 'handlebars'],\r\n    mimetypes: ['text/x-handlebars-template'],\r\n    loader: function () { return import('./handlebars.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'html',\r\n    extensions: ['.html', '.htm', '.shtml', '.xhtml', '.mdoc', '.jsp', '.asp', '.aspx', '.jshtm'],\r\n    aliases: ['HTML', 'htm', 'html', 'xhtml'],\r\n    mimetypes: ['text/html', 'text/x-jshtm', 'text/template', 'text/ng-template'],\r\n    loader: function () { return import('./html.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'ini',\r\n    extensions: ['.ini', '.properties', '.gitconfig'],\r\n    filenames: ['config', '.gitattributes', '.gitconfig', '.editorconfig'],\r\n    aliases: ['Ini', 'ini'],\r\n    loader: function () { return import('./ini.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'java',\r\n    extensions: ['.java', '.jav'],\r\n    aliases: ['Java', 'java'],\r\n    mimetypes: ['text/x-java-source', 'text/x-java'],\r\n    loader: function () { return import('./java.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'javascript',\r\n    extensions: ['.js', '.es6', '.jsx'],\r\n    firstLine: '^#!.*\\\\bnode',\r\n    filenames: ['jakefile'],\r\n    aliases: ['JavaScript', 'javascript', 'js'],\r\n    mimetypes: ['text/javascript'],\r\n    loader: function () { return import('./javascript.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'kotlin',\r\n    extensions: ['.kt'],\r\n    aliases: ['Kotlin', 'kotlin'],\r\n    mimetypes: ['text/x-kotlin-source', 'text/x-kotlin'],\r\n    loader: function () { return import('./kotlin.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'less',\r\n    extensions: ['.less'],\r\n    aliases: ['Less', 'less'],\r\n    mimetypes: ['text/x-less', 'text/less'],\r\n    loader: function () { return import('./less.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'lua',\r\n    extensions: ['.lua'],\r\n    aliases: ['Lua', 'lua'],\r\n    loader: function () { return import('./lua.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'markdown',\r\n    extensions: ['.md', '.markdown', '.mdown', '.mkdn', '.mkd', '.mdwn', '.mdtxt', '.mdtext'],\r\n    aliases: ['Markdown', 'markdown'],\r\n    loader: function () { return import('./markdown.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'mips',\r\n    extensions: ['.s'],\r\n    aliases: ['MIPS', 'MIPS-V'],\r\n    mimetypes: ['text/x-mips', 'text/mips', 'text/plaintext'],\r\n    loader: function () { return import('./mips.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'msdax',\r\n    extensions: ['.dax', '.msdax'],\r\n    aliases: ['DAX', 'MSDAX'],\r\n    loader: function () { return import('./msdax.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'mysql',\r\n    extensions: [],\r\n    aliases: ['MySQL', 'mysql'],\r\n    loader: function () { return import('./mysql.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'objective-c',\r\n    extensions: ['.m'],\r\n    aliases: ['Objective-C'],\r\n    loader: function () { return import('./objective-c.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'pascal',\r\n    extensions: ['.pas', '.p', '.pp'],\r\n    aliases: ['Pascal', 'pas'],\r\n    mimetypes: ['text/x-pascal-source', 'text/x-pascal'],\r\n    loader: function () { return import('./pascal.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'pascaligo',\r\n    extensions: ['.ligo'],\r\n    aliases: ['Pascaligo', 'ligo'],\r\n    loader: function () { return import('./pascaligo.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n*  Copyright (c) Microsoft Corporation. All rights reserved.\r\n*  Licensed under the MIT License. See License.txt in the project root for license information.\r\n*--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'perl',\r\n    extensions: ['.pl'],\r\n    aliases: ['Perl', 'pl'],\r\n    loader: function () { return import('./perl.js'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'pgsql',\r\n    extensions: [],\r\n    aliases: ['PostgreSQL', 'postgres', 'pg', 'postgre'],\r\n    loader: function () { return import('./pgsql.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'php',\r\n    extensions: ['.php', '.php4', '.php5', '.phtml', '.ctp'],\r\n    aliases: ['PHP', 'php'],\r\n    mimetypes: ['application/x-php'],\r\n    loader: function () { return import('./php.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'postiats',\r\n    extensions: ['.dats', '.sats', '.hats'],\r\n    aliases: ['ATS', 'ATS/Postiats'],\r\n    loader: function () { return import('./postiats.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'powerquery',\r\n    extensions: ['.pq', '.pqm'],\r\n    aliases: ['PQ', 'M', 'Power Query', 'Power Query M'],\r\n    loader: function () { return import('./powerquery.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'powershell',\r\n    extensions: ['.ps1', '.psm1', '.psd1'],\r\n    aliases: ['PowerShell', 'powershell', 'ps', 'ps1'],\r\n    loader: function () { return import('./powershell.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'pug',\r\n    extensions: ['.jade', '.pug'],\r\n    aliases: ['Pug', 'Jade', 'jade'],\r\n    loader: function () { return import('./pug.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'python',\r\n    extensions: ['.py', '.rpy', '.pyw', '.cpy', '.gyp', '.gypi'],\r\n    aliases: ['Python', 'py'],\r\n    firstLine: '^#!/.*\\\\bpython[0-9.-]*\\\\b',\r\n    loader: function () { return import('./python.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'r',\r\n    extensions: ['.r', '.rhistory', '.rprofile', '.rt'],\r\n    aliases: ['R', 'r'],\r\n    loader: function () { return import('./r.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'razor',\r\n    extensions: ['.cshtml'],\r\n    aliases: ['Razor', 'razor'],\r\n    mimetypes: ['text/x-cshtml'],\r\n    loader: function () { return import('./razor.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'redis',\r\n    extensions: ['.redis'],\r\n    aliases: ['redis'],\r\n    loader: function () { return import('./redis.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'redshift',\r\n    extensions: [],\r\n    aliases: ['Redshift', 'redshift'],\r\n    loader: function () { return import('./redshift.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'restructuredtext',\r\n    extensions: ['.rst'],\r\n    aliases: ['reStructuredText', 'restructuredtext'],\r\n    loader: function () { return import('./restructuredtext.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'ruby',\r\n    extensions: ['.rb', '.rbx', '.rjs', '.gemspec', '.pp'],\r\n    filenames: ['rakefile'],\r\n    aliases: ['Ruby', 'rb'],\r\n    loader: function () { return import('./ruby.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'rust',\r\n    extensions: ['.rs', '.rlib'],\r\n    aliases: ['Rust', 'rust'],\r\n    loader: function () { return import('./rust.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'sb',\r\n    extensions: ['.sb'],\r\n    aliases: ['Small Basic', 'sb'],\r\n    loader: function () { return import('./sb.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'scheme',\r\n    extensions: ['.scm', '.ss', '.sch', '.rkt'],\r\n    aliases: ['scheme', 'Scheme'],\r\n    loader: function () { return import('./scheme.js'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'scss',\r\n    extensions: ['.scss'],\r\n    aliases: ['Sass', 'sass', 'scss'],\r\n    mimetypes: ['text/x-scss', 'text/scss'],\r\n    loader: function () { return import('./scss.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n*  Copyright (c) Microsoft Corporation. All rights reserved.\r\n*  Licensed under the MIT License. See License.txt in the project root for license information.\r\n*--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'shell',\r\n    extensions: ['.sh', '.bash'],\r\n    aliases: ['Shell', 'sh'],\r\n    loader: function () { return import('./shell.js'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'sol',\r\n    extensions: ['.sol'],\r\n    aliases: ['sol', 'solidity', 'Solidity'],\r\n    loader: function () { return import('./solidity.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'aes',\r\n    extensions: ['.aes'],\r\n    aliases: ['aes', 'sophia', 'Sophia'],\r\n    loader: function () { return import('./sophia.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'sql',\r\n    extensions: ['.sql'],\r\n    aliases: ['SQL'],\r\n    loader: function () { return import('./sql.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'st',\r\n    extensions: ['.st', '.iecst', '.iecplc', '.lc3lib'],\r\n    aliases: ['StructuredText', 'scl', 'stl'],\r\n    loader: function () { return import('./st.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'swift',\r\n    aliases: ['Swift', 'swift'],\r\n    extensions: ['.swift'],\r\n    mimetypes: ['text/swift'],\r\n    loader: function () { return import('./swift.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'tcl',\r\n    extensions: ['.tcl'],\r\n    aliases: ['tcl', 'Tcl', 'tcltk', 'TclTk', 'tcl/tk', 'Tcl/Tk'],\r\n    loader: function () { return import('./tcl.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'twig',\r\n    extensions: ['.twig'],\r\n    aliases: ['Twig', 'twig'],\r\n    mimetypes: ['text/x-twig'],\r\n    loader: function () { return import('./twig.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'typescript',\r\n    extensions: ['.ts', '.tsx'],\r\n    aliases: ['TypeScript', 'ts', 'typescript'],\r\n    mimetypes: ['text/typescript'],\r\n    loader: function () { return import('./typescript.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'vb',\r\n    extensions: ['.vb'],\r\n    aliases: ['Visual Basic', 'vb'],\r\n    loader: function () { return import('./vb.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'xml',\r\n    extensions: ['.xml', '.dtd', '.ascx', '.csproj', '.config', '.wxi', '.wxl', '.wxs', '.xaml', '.svg', '.svgz', '.opf', '.xsl'],\r\n    firstLine: '(\\\\<\\\\?xml.*)|(\\\\<svg)|(\\\\<\\\\!doctype\\\\s+svg)',\r\n    aliases: ['XML', 'xml'],\r\n    mimetypes: ['text/xml', 'application/xml', 'application/xaml+xml', 'application/xml-dtd'],\r\n    loader: function () { return import('./xml.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution.js';\r\nregisterLanguage({\r\n    id: 'yaml',\r\n    extensions: ['.yaml', '.yml'],\r\n    aliases: ['YAML', 'yaml', 'YML', 'yml'],\r\n    mimetypes: ['application/x-yaml'],\r\n    loader: function () { return import('./yaml.js'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { equals } from '../../../base/common/arrays.js';\r\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { first } from '../../../base/common/collections.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { LRUCache } from '../../../base/common/map.js';\r\nimport { DocumentSymbolProviderRegistry } from '../../common/modes.js';\r\nvar TreeElement = /** @class */ (function () {\r\n    function TreeElement() {\r\n    }\r\n    TreeElement.prototype.remove = function () {\r\n        if (this.parent) {\r\n            delete this.parent.children[this.id];\r\n        }\r\n    };\r\n    TreeElement.findId = function (candidate, container) {\r\n        // complex id-computation which contains the origin/extension,\r\n        // the parent path, and some dedupe logic when names collide\r\n        var candidateId;\r\n        if (typeof candidate === 'string') {\r\n            candidateId = container.id + \"/\" + candidate;\r\n        }\r\n        else {\r\n            candidateId = container.id + \"/\" + candidate.name;\r\n            if (container.children[candidateId] !== undefined) {\r\n                candidateId = container.id + \"/\" + candidate.name + \"_\" + candidate.range.startLineNumber + \"_\" + candidate.range.startColumn;\r\n            }\r\n        }\r\n        var id = candidateId;\r\n        for (var i = 0; container.children[id] !== undefined; i++) {\r\n            id = candidateId + \"_\" + i;\r\n        }\r\n        return id;\r\n    };\r\n    TreeElement.empty = function (element) {\r\n        for (var _key in element.children) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return TreeElement;\r\n}());\r\nexport { TreeElement };\r\nvar OutlineElement = /** @class */ (function (_super) {\r\n    __extends(OutlineElement, _super);\r\n    function OutlineElement(id, parent, symbol) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.parent = parent;\r\n        _this.symbol = symbol;\r\n        _this.children = Object.create(null);\r\n        return _this;\r\n    }\r\n    return OutlineElement;\r\n}(TreeElement));\r\nexport { OutlineElement };\r\nvar OutlineGroup = /** @class */ (function (_super) {\r\n    __extends(OutlineGroup, _super);\r\n    function OutlineGroup(id, parent, provider, providerIndex) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.parent = parent;\r\n        _this.provider = provider;\r\n        _this.providerIndex = providerIndex;\r\n        _this.children = Object.create(null);\r\n        return _this;\r\n    }\r\n    return OutlineGroup;\r\n}(TreeElement));\r\nexport { OutlineGroup };\r\nvar MovingAverage = /** @class */ (function () {\r\n    function MovingAverage() {\r\n        this._n = 1;\r\n        this._val = 0;\r\n    }\r\n    MovingAverage.prototype.update = function (value) {\r\n        this._val = this._val + (value - this._val) / this._n;\r\n        this._n += 1;\r\n        return this;\r\n    };\r\n    return MovingAverage;\r\n}());\r\nvar OutlineModel = /** @class */ (function (_super) {\r\n    __extends(OutlineModel, _super);\r\n    function OutlineModel(textModel) {\r\n        var _this = _super.call(this) || this;\r\n        _this.textModel = textModel;\r\n        _this.id = 'root';\r\n        _this.parent = undefined;\r\n        _this._groups = Object.create(null);\r\n        _this.children = Object.create(null);\r\n        _this.id = 'root';\r\n        _this.parent = undefined;\r\n        return _this;\r\n    }\r\n    OutlineModel.create = function (textModel, token) {\r\n        var _this = this;\r\n        var key = this._keys.for(textModel, true);\r\n        var data = OutlineModel._requests.get(key);\r\n        if (!data) {\r\n            var source = new CancellationTokenSource();\r\n            data = {\r\n                promiseCnt: 0,\r\n                source: source,\r\n                promise: OutlineModel._create(textModel, source.token),\r\n                model: undefined,\r\n            };\r\n            OutlineModel._requests.set(key, data);\r\n            // keep moving average of request durations\r\n            var now_1 = Date.now();\r\n            data.promise.then(function () {\r\n                var key = _this._keys.for(textModel, false);\r\n                var avg = _this._requestDurations.get(key);\r\n                if (!avg) {\r\n                    avg = new MovingAverage();\r\n                    _this._requestDurations.set(key, avg);\r\n                }\r\n                avg.update(Date.now() - now_1);\r\n            });\r\n        }\r\n        if (data.model) {\r\n            // resolved -> return data\r\n            return Promise.resolve(data.model);\r\n        }\r\n        // increase usage counter\r\n        data.promiseCnt += 1;\r\n        token.onCancellationRequested(function () {\r\n            // last -> cancel provider request, remove cached promise\r\n            if (--data.promiseCnt === 0) {\r\n                data.source.cancel();\r\n                OutlineModel._requests.delete(key);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            data.promise.then(function (model) {\r\n                data.model = model;\r\n                resolve(model);\r\n            }, function (err) {\r\n                OutlineModel._requests.delete(key);\r\n                reject(err);\r\n            });\r\n        });\r\n    };\r\n    OutlineModel._create = function (textModel, token) {\r\n        var cts = new CancellationTokenSource(token);\r\n        var result = new OutlineModel(textModel);\r\n        var provider = DocumentSymbolProviderRegistry.ordered(textModel);\r\n        var promises = provider.map(function (provider, index) {\r\n            var id = TreeElement.findId(\"provider_\" + index, result);\r\n            var group = new OutlineGroup(id, result, provider, index);\r\n            return Promise.resolve(provider.provideDocumentSymbols(result.textModel, cts.token)).then(function (result) {\r\n                for (var _i = 0, _a = result || []; _i < _a.length; _i++) {\r\n                    var info = _a[_i];\r\n                    OutlineModel._makeOutlineElement(info, group);\r\n                }\r\n                return group;\r\n            }, function (err) {\r\n                onUnexpectedExternalError(err);\r\n                return group;\r\n            }).then(function (group) {\r\n                if (!TreeElement.empty(group)) {\r\n                    result._groups[id] = group;\r\n                }\r\n                else {\r\n                    group.remove();\r\n                }\r\n            });\r\n        });\r\n        var listener = DocumentSymbolProviderRegistry.onDidChange(function () {\r\n            var newProvider = DocumentSymbolProviderRegistry.ordered(textModel);\r\n            if (!equals(newProvider, provider)) {\r\n                cts.cancel();\r\n            }\r\n        });\r\n        return Promise.all(promises).then(function () {\r\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\r\n                return OutlineModel._create(textModel, token);\r\n            }\r\n            else {\r\n                return result._compact();\r\n            }\r\n        }).finally(function () {\r\n            listener.dispose();\r\n        });\r\n    };\r\n    OutlineModel._makeOutlineElement = function (info, container) {\r\n        var id = TreeElement.findId(info, container);\r\n        var res = new OutlineElement(id, container, info);\r\n        if (info.children) {\r\n            for (var _i = 0, _a = info.children; _i < _a.length; _i++) {\r\n                var childInfo = _a[_i];\r\n                OutlineModel._makeOutlineElement(childInfo, res);\r\n            }\r\n        }\r\n        container.children[res.id] = res;\r\n    };\r\n    OutlineModel.prototype._compact = function () {\r\n        var count = 0;\r\n        for (var key in this._groups) {\r\n            var group = this._groups[key];\r\n            if (first(group.children) === undefined) { // empty\r\n                delete this._groups[key];\r\n            }\r\n            else {\r\n                count += 1;\r\n            }\r\n        }\r\n        if (count !== 1) {\r\n            //\r\n            this.children = this._groups;\r\n        }\r\n        else {\r\n            // adopt all elements of the first group\r\n            var group = first(this._groups);\r\n            for (var key in group.children) {\r\n                var child = group.children[key];\r\n                child.parent = this;\r\n                this.children[child.id] = child;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    OutlineModel._requestDurations = new LRUCache(50, 0.7);\r\n    OutlineModel._requests = new LRUCache(9, 0.75);\r\n    OutlineModel._keys = new /** @class */ (function () {\r\n        function class_1() {\r\n            this._counter = 1;\r\n            this._data = new WeakMap();\r\n        }\r\n        class_1.prototype.for = function (textModel, version) {\r\n            return textModel.id + \"/\" + (version ? textModel.getVersionId() : '') + \"/\" + this._hash(DocumentSymbolProviderRegistry.all(textModel));\r\n        };\r\n        class_1.prototype._hash = function (providers) {\r\n            var result = '';\r\n            for (var _i = 0, providers_1 = providers; _i < providers_1.length; _i++) {\r\n                var provider = providers_1[_i];\r\n                var n = this._data.get(provider);\r\n                if (typeof n === 'undefined') {\r\n                    n = this._counter++;\r\n                    this._data.set(provider, n);\r\n                }\r\n                result += n;\r\n            }\r\n            return result;\r\n        };\r\n        return class_1;\r\n    }());\r\n    return OutlineModel;\r\n}(TreeElement));\r\nexport { OutlineModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { ITextModelService } from '../../common/services/resolverService.js';\r\nimport { OutlineModel, OutlineElement } from '../documentSymbols/outlineModel.js';\r\nimport { values } from '../../../base/common/collections.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { assertType } from '../../../base/common/types.js';\r\nexport function getDocumentSymbols(document, flat, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var model, roots, _i, _a, child, flatEntries;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0: return [4 /*yield*/, OutlineModel.create(document, token)];\r\n                case 1:\r\n                    model = _b.sent();\r\n                    roots = [];\r\n                    for (_i = 0, _a = values(model.children); _i < _a.length; _i++) {\r\n                        child = _a[_i];\r\n                        if (child instanceof OutlineElement) {\r\n                            roots.push(child.symbol);\r\n                        }\r\n                        else {\r\n                            roots.push.apply(roots, values(child.children).map(function (child) { return child.symbol; }));\r\n                        }\r\n                    }\r\n                    flatEntries = [];\r\n                    if (token.isCancellationRequested) {\r\n                        return [2 /*return*/, flatEntries];\r\n                    }\r\n                    if (flat) {\r\n                        flatten(flatEntries, roots, '');\r\n                    }\r\n                    else {\r\n                        flatEntries = roots;\r\n                    }\r\n                    return [2 /*return*/, flatEntries.sort(compareEntriesUsingStart)];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction compareEntriesUsingStart(a, b) {\r\n    return Range.compareRangesUsingStarts(a.range, b.range);\r\n}\r\nfunction flatten(bucket, entries, overrideContainerLabel) {\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var entry = entries_1[_i];\r\n        bucket.push({\r\n            kind: entry.kind,\r\n            tags: entry.tags,\r\n            name: entry.name,\r\n            detail: entry.detail,\r\n            containerName: entry.containerName || overrideContainerLabel,\r\n            range: entry.range,\r\n            selectionRange: entry.selectionRange,\r\n            children: undefined,\r\n        });\r\n        if (entry.children) {\r\n            flatten(bucket, entry.children, entry.name);\r\n        }\r\n    }\r\n}\r\nCommandsRegistry.registerCommand('_executeDocumentSymbolProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var resource, model, reference;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    resource = args[0];\r\n                    assertType(URI.isUri(resource));\r\n                    model = accessor.get(IModelService).getModel(resource);\r\n                    if (model) {\r\n                        return [2 /*return*/, getDocumentSymbols(model, false, CancellationToken.None)];\r\n                    }\r\n                    return [4 /*yield*/, accessor.get(ITextModelService).createModelReference(resource)];\r\n                case 1:\r\n                    reference = _a.sent();\r\n                    _a.label = 2;\r\n                case 2:\r\n                    _a.trys.push([2, , 4, 5]);\r\n                    return [4 /*yield*/, getDocumentSymbols(reference.object.textEditorModel, false, CancellationToken.None)];\r\n                case 3: return [2 /*return*/, _a.sent()];\r\n                case 4:\r\n                    reference.dispose();\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickOutline.css';\r\nimport '../../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\r\nimport '../../../contrib/documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\r\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\r\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { DocumentSymbolProviderRegistry, SymbolKinds } from '../../../common/modes.js';\r\nimport { getDocumentSymbols } from '../../../contrib/quickOpen/quickOpen.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { QuickOutlineNLS } from '../../../common/standaloneStrings.js';\r\nvar SCOPE_PREFIX = ':';\r\nvar SymbolEntry = /** @class */ (function (_super) {\r\n    __extends(SymbolEntry, _super);\r\n    function SymbolEntry(name, type, description, range, highlights, editor, decorator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.name = name;\r\n        _this.type = type;\r\n        _this.description = description;\r\n        _this.range = range;\r\n        _this.setHighlights(highlights);\r\n        _this.editor = editor;\r\n        _this.decorator = decorator;\r\n        return _this;\r\n    }\r\n    SymbolEntry.prototype.getLabel = function () {\r\n        return this.name;\r\n    };\r\n    SymbolEntry.prototype.getAriaLabel = function () {\r\n        return strings.format(QuickOutlineNLS.entryAriaLabel, this.name);\r\n    };\r\n    SymbolEntry.prototype.getIcon = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    SymbolEntry.prototype.getType = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getRange = function () {\r\n        return this.range;\r\n    };\r\n    SymbolEntry.prototype.run = function (mode, context) {\r\n        if (mode === 1 /* OPEN */) {\r\n            return this.runOpen(context);\r\n        }\r\n        return this.runPreview();\r\n    };\r\n    SymbolEntry.prototype.runOpen = function (_context) {\r\n        // Apply selection and focus\r\n        var range = this.toSelection();\r\n        this.editor.setSelection(range);\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        this.editor.focus();\r\n        return true;\r\n    };\r\n    SymbolEntry.prototype.runPreview = function () {\r\n        // Select Outline Position\r\n        var range = this.toSelection();\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        // Decorate if possible\r\n        this.decorator.decorateLine(this.range, this.editor);\r\n        return false;\r\n    };\r\n    SymbolEntry.prototype.toSelection = function () {\r\n        return new Range(this.range.startLineNumber, this.range.startColumn || 1, this.range.startLineNumber, this.range.startColumn || 1);\r\n    };\r\n    return SymbolEntry;\r\n}(QuickOpenEntryGroup));\r\nexport { SymbolEntry };\r\nvar QuickOutlineAction = /** @class */ (function (_super) {\r\n    __extends(QuickOutlineAction, _super);\r\n    function QuickOutlineAction() {\r\n        return _super.call(this, QuickOutlineNLS.quickOutlineActionInput, {\r\n            id: 'editor.action.quickOutline',\r\n            label: QuickOutlineNLS.quickOutlineActionLabel,\r\n            alias: 'Go to Symbol...',\r\n            precondition: EditorContextKeys.hasDocumentSymbolProvider,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickOutlineAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        var model = editor.getModel();\r\n        if (!DocumentSymbolProviderRegistry.has(model)) {\r\n            return undefined;\r\n        }\r\n        // Resolve outline\r\n        return getDocumentSymbols(model, true, CancellationToken.None).then(function (result) {\r\n            if (result.length === 0) {\r\n                return;\r\n            }\r\n            _this._run(editor, result);\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype._run = function (editor, result) {\r\n        var _this = this;\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel(_this.toQuickOpenEntries(editor, result, value));\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                // Remove any type pattern (:) from search value as needed\r\n                if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                    searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n                }\r\n                return {\r\n                    autoFocusPrefixMatch: searchValue,\r\n                    autoFocusFirstEntry: !!searchValue\r\n                };\r\n            }\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype.symbolEntry = function (name, type, description, range, highlights, editor, decorator) {\r\n        return new SymbolEntry(name, type, description, Range.lift(range), highlights, editor, decorator);\r\n    };\r\n    QuickOutlineAction.prototype.toQuickOpenEntries = function (editor, flattened, searchValue) {\r\n        var controller = this.getController(editor);\r\n        var results = [];\r\n        // Convert to Entries\r\n        var normalizedSearchValue = searchValue;\r\n        if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            normalizedSearchValue = normalizedSearchValue.substr(SCOPE_PREFIX.length);\r\n        }\r\n        for (var _i = 0, flattened_1 = flattened; _i < flattened_1.length; _i++) {\r\n            var element = flattened_1[_i];\r\n            var label = strings.trim(element.name);\r\n            // Check for meatch\r\n            var highlights = matchesFuzzy(normalizedSearchValue, label);\r\n            if (highlights) {\r\n                // Show parent scope as description\r\n                var description = undefined;\r\n                if (element.containerName) {\r\n                    description = element.containerName;\r\n                }\r\n                // Add\r\n                results.push(this.symbolEntry(label, SymbolKinds.toCssClassName(element.kind), description, element.range, highlights, editor, controller));\r\n            }\r\n        }\r\n        // Sort properly if actually searching\r\n        if (searchValue) {\r\n            if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                results = results.sort(this.sortScoped.bind(this, searchValue.toLowerCase()));\r\n            }\r\n            else {\r\n                results = results.sort(this.sortNormal.bind(this, searchValue.toLowerCase()));\r\n            }\r\n        }\r\n        // Mark all type groups\r\n        if (results.length > 0 && searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            var currentType = null;\r\n            var currentResult = null;\r\n            var typeCounter = 0;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var result = results[i];\r\n                // Found new type\r\n                if (currentType !== result.getType()) {\r\n                    // Update previous result with count\r\n                    if (currentResult) {\r\n                        currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n                    }\r\n                    currentType = result.getType();\r\n                    currentResult = result;\r\n                    typeCounter = 1;\r\n                    result.setShowBorder(i > 0);\r\n                }\r\n                // Existing type, keep counting\r\n                else {\r\n                    typeCounter++;\r\n                }\r\n            }\r\n            // Update previous result with count\r\n            if (currentResult) {\r\n                currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n            }\r\n        }\r\n        // Mark first entry as outline\r\n        else if (results.length > 0) {\r\n            results[0].setGroupLabel(strings.format(QuickOutlineNLS._symbols_, results.length));\r\n        }\r\n        return results;\r\n    };\r\n    QuickOutlineAction.prototype.typeToLabel = function (type, count) {\r\n        switch (type) {\r\n            case 'module': return strings.format(QuickOutlineNLS._modules_, count);\r\n            case 'class': return strings.format(QuickOutlineNLS._class_, count);\r\n            case 'interface': return strings.format(QuickOutlineNLS._interface_, count);\r\n            case 'method': return strings.format(QuickOutlineNLS._method_, count);\r\n            case 'function': return strings.format(QuickOutlineNLS._function_, count);\r\n            case 'property': return strings.format(QuickOutlineNLS._property_, count);\r\n            case 'variable': return strings.format(QuickOutlineNLS._variable_, count);\r\n            case 'var': return strings.format(QuickOutlineNLS._variable2_, count);\r\n            case 'constructor': return strings.format(QuickOutlineNLS._constructor_, count);\r\n            case 'call': return strings.format(QuickOutlineNLS._call_, count);\r\n        }\r\n        return type;\r\n    };\r\n    QuickOutlineAction.prototype.sortNormal = function (searchValue, elementA, elementB) {\r\n        var elementAName = elementA.getLabel().toLowerCase();\r\n        var elementBName = elementB.getLabel().toLowerCase();\r\n        // Compare by name\r\n        var r = elementAName.localeCompare(elementBName);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // If name identical sort by range instead\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    QuickOutlineAction.prototype.sortScoped = function (searchValue, elementA, elementB) {\r\n        // Remove scope char\r\n        searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n        // Sort by type first if scoped search\r\n        var elementAType = elementA.getType();\r\n        var elementBType = elementB.getType();\r\n        var r = elementAType.localeCompare(elementBType);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // Special sort when searching in scoped mode\r\n        if (searchValue) {\r\n            var elementAName = elementA.getLabel().toLowerCase();\r\n            var elementBName = elementB.getLabel().toLowerCase();\r\n            // Compare by name\r\n            var r_1 = elementAName.localeCompare(elementBName);\r\n            if (r_1 !== 0) {\r\n                return r_1;\r\n            }\r\n        }\r\n        // Default to sort by range\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    return QuickOutlineAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { QuickOutlineAction };\r\nregisterEditorAction(QuickOutlineAction);\r\n","import '../../editor/editor.api.js';\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { typescriptVersion } from './lib/typescriptServicesMetadata.js'; // do not import the whole typescriptServices here\r\nvar Emitter = monaco.Emitter;\r\nvar LanguageServiceDefaultsImpl = /** @class */ (function () {\r\n    function LanguageServiceDefaultsImpl(compilerOptions, diagnosticsOptions) {\r\n        this._onDidChange = new Emitter();\r\n        this._onDidExtraLibsChange = new Emitter();\r\n        this._extraLibs = Object.create(null);\r\n        this._eagerModelSync = false;\r\n        this.setCompilerOptions(compilerOptions);\r\n        this.setDiagnosticsOptions(diagnosticsOptions);\r\n        this._onDidExtraLibsChangeTimeout = -1;\r\n    }\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"onDidChange\", {\r\n        get: function () {\r\n            return this._onDidChange.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LanguageServiceDefaultsImpl.prototype, \"onDidExtraLibsChange\", {\r\n        get: function () {\r\n            return this._onDidExtraLibsChange.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LanguageServiceDefaultsImpl.prototype.getExtraLibs = function () {\r\n        return this._extraLibs;\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.addExtraLib = function (content, _filePath) {\r\n        var _this = this;\r\n        var filePath;\r\n        if (typeof _filePath === 'undefined') {\r\n            filePath = \"ts:extralib-\" + Math.random().toString(36).substring(2, 15);\r\n        }\r\n        else {\r\n            filePath = _filePath;\r\n        }\r\n        if (this._extraLibs[filePath] && this._extraLibs[filePath].content === content) {\r\n            // no-op, there already exists an extra lib with this content\r\n            return {\r\n                dispose: function () { }\r\n            };\r\n        }\r\n        var myVersion = 1;\r\n        if (this._extraLibs[filePath]) {\r\n            myVersion = this._extraLibs[filePath].version + 1;\r\n        }\r\n        this._extraLibs[filePath] = {\r\n            content: content,\r\n            version: myVersion,\r\n        };\r\n        this._fireOnDidExtraLibsChangeSoon();\r\n        return {\r\n            dispose: function () {\r\n                var extraLib = _this._extraLibs[filePath];\r\n                if (!extraLib) {\r\n                    return;\r\n                }\r\n                if (extraLib.version !== myVersion) {\r\n                    return;\r\n                }\r\n                delete _this._extraLibs[filePath];\r\n                _this._fireOnDidExtraLibsChangeSoon();\r\n            }\r\n        };\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setExtraLibs = function (libs) {\r\n        // clear out everything\r\n        this._extraLibs = Object.create(null);\r\n        if (libs && libs.length > 0) {\r\n            for (var _i = 0, libs_1 = libs; _i < libs_1.length; _i++) {\r\n                var lib = libs_1[_i];\r\n                var filePath = lib.filePath || \"ts:extralib-\" + Math.random().toString(36).substring(2, 15);\r\n                var content = lib.content;\r\n                this._extraLibs[filePath] = {\r\n                    content: content,\r\n                    version: 1\r\n                };\r\n            }\r\n        }\r\n        this._fireOnDidExtraLibsChangeSoon();\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype._fireOnDidExtraLibsChangeSoon = function () {\r\n        var _this = this;\r\n        if (this._onDidExtraLibsChangeTimeout !== -1) {\r\n            // already scheduled\r\n            return;\r\n        }\r\n        this._onDidExtraLibsChangeTimeout = setTimeout(function () {\r\n            _this._onDidExtraLibsChangeTimeout = -1;\r\n            _this._onDidExtraLibsChange.fire(undefined);\r\n        }, 0);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.getCompilerOptions = function () {\r\n        return this._compilerOptions;\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setCompilerOptions = function (options) {\r\n        this._compilerOptions = options || Object.create(null);\r\n        this._onDidChange.fire(undefined);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.getDiagnosticsOptions = function () {\r\n        return this._diagnosticsOptions;\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setDiagnosticsOptions = function (options) {\r\n        this._diagnosticsOptions = options || Object.create(null);\r\n        this._onDidChange.fire(undefined);\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setMaximumWorkerIdleTime = function (value) {\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.setEagerModelSync = function (value) {\r\n        // doesn't fire an event since no\r\n        // worker restart is required here\r\n        this._eagerModelSync = value;\r\n    };\r\n    LanguageServiceDefaultsImpl.prototype.getEagerModelSync = function () {\r\n        return this._eagerModelSync;\r\n    };\r\n    return LanguageServiceDefaultsImpl;\r\n}());\r\nexport { LanguageServiceDefaultsImpl };\r\n//#region enums copied from typescript to prevent loading the entire typescriptServices ---\r\nvar ModuleKind;\r\n(function (ModuleKind) {\r\n    ModuleKind[ModuleKind[\"None\"] = 0] = \"None\";\r\n    ModuleKind[ModuleKind[\"CommonJS\"] = 1] = \"CommonJS\";\r\n    ModuleKind[ModuleKind[\"AMD\"] = 2] = \"AMD\";\r\n    ModuleKind[ModuleKind[\"UMD\"] = 3] = \"UMD\";\r\n    ModuleKind[ModuleKind[\"System\"] = 4] = \"System\";\r\n    ModuleKind[ModuleKind[\"ES2015\"] = 5] = \"ES2015\";\r\n    ModuleKind[ModuleKind[\"ESNext\"] = 99] = \"ESNext\";\r\n})(ModuleKind || (ModuleKind = {}));\r\nvar JsxEmit;\r\n(function (JsxEmit) {\r\n    JsxEmit[JsxEmit[\"None\"] = 0] = \"None\";\r\n    JsxEmit[JsxEmit[\"Preserve\"] = 1] = \"Preserve\";\r\n    JsxEmit[JsxEmit[\"React\"] = 2] = \"React\";\r\n    JsxEmit[JsxEmit[\"ReactNative\"] = 3] = \"ReactNative\";\r\n})(JsxEmit || (JsxEmit = {}));\r\nvar NewLineKind;\r\n(function (NewLineKind) {\r\n    NewLineKind[NewLineKind[\"CarriageReturnLineFeed\"] = 0] = \"CarriageReturnLineFeed\";\r\n    NewLineKind[NewLineKind[\"LineFeed\"] = 1] = \"LineFeed\";\r\n})(NewLineKind || (NewLineKind = {}));\r\nvar ScriptTarget;\r\n(function (ScriptTarget) {\r\n    ScriptTarget[ScriptTarget[\"ES3\"] = 0] = \"ES3\";\r\n    ScriptTarget[ScriptTarget[\"ES5\"] = 1] = \"ES5\";\r\n    ScriptTarget[ScriptTarget[\"ES2015\"] = 2] = \"ES2015\";\r\n    ScriptTarget[ScriptTarget[\"ES2016\"] = 3] = \"ES2016\";\r\n    ScriptTarget[ScriptTarget[\"ES2017\"] = 4] = \"ES2017\";\r\n    ScriptTarget[ScriptTarget[\"ES2018\"] = 5] = \"ES2018\";\r\n    ScriptTarget[ScriptTarget[\"ES2019\"] = 6] = \"ES2019\";\r\n    ScriptTarget[ScriptTarget[\"ES2020\"] = 7] = \"ES2020\";\r\n    ScriptTarget[ScriptTarget[\"ESNext\"] = 99] = \"ESNext\";\r\n    ScriptTarget[ScriptTarget[\"JSON\"] = 100] = \"JSON\";\r\n    ScriptTarget[ScriptTarget[\"Latest\"] = 99] = \"Latest\";\r\n})(ScriptTarget || (ScriptTarget = {}));\r\nvar ModuleResolutionKind;\r\n(function (ModuleResolutionKind) {\r\n    ModuleResolutionKind[ModuleResolutionKind[\"Classic\"] = 1] = \"Classic\";\r\n    ModuleResolutionKind[ModuleResolutionKind[\"NodeJs\"] = 2] = \"NodeJs\";\r\n})(ModuleResolutionKind || (ModuleResolutionKind = {}));\r\n//#endregion\r\nvar typescriptDefaults = new LanguageServiceDefaultsImpl({ allowNonTsExtensions: true, target: ScriptTarget.Latest }, { noSemanticValidation: false, noSyntaxValidation: false });\r\nvar javascriptDefaults = new LanguageServiceDefaultsImpl({ allowNonTsExtensions: true, allowJs: true, target: ScriptTarget.Latest }, { noSemanticValidation: true, noSyntaxValidation: false });\r\nfunction getTypeScriptWorker() {\r\n    return getMode().then(function (mode) { return mode.getTypeScriptWorker(); });\r\n}\r\nfunction getJavaScriptWorker() {\r\n    return getMode().then(function (mode) { return mode.getJavaScriptWorker(); });\r\n}\r\n// Export API\r\nfunction createAPI() {\r\n    return {\r\n        ModuleKind: ModuleKind,\r\n        JsxEmit: JsxEmit,\r\n        NewLineKind: NewLineKind,\r\n        ScriptTarget: ScriptTarget,\r\n        ModuleResolutionKind: ModuleResolutionKind,\r\n        typescriptVersion: typescriptVersion,\r\n        typescriptDefaults: typescriptDefaults,\r\n        javascriptDefaults: javascriptDefaults,\r\n        getTypeScriptWorker: getTypeScriptWorker,\r\n        getJavaScriptWorker: getJavaScriptWorker\r\n    };\r\n}\r\nmonaco.languages.typescript = createAPI();\r\n// --- Registration to monaco editor ---\r\nfunction getMode() {\r\n    return import('./tsMode.js');\r\n}\r\nmonaco.languages.onLanguage('typescript', function () {\r\n    return getMode().then(function (mode) { return mode.setupTypeScript(typescriptDefaults); });\r\n});\r\nmonaco.languages.onLanguage('javascript', function () {\r\n    return getMode().then(function (mode) { return mode.setupJavaScript(javascriptDefaults); });\r\n});\r\n","export var typescriptVersion = \"3.7.5\";\r\n"],"sourceRoot":""}